{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_form-adapter.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformValuesDictionary = exports.updateFormItemsCore = exports.twoWayUpdateInterval = void 0;\n\nvar form_1 = require(\"devextreme/ui/form\");\n\nvar ko = require(\"knockout\");\n\nvar _default_1 = require(\"../../data/localization/_default\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar _form_adapter_editors_1 = require(\"./_form-adapter-editors\");\n\nexports.twoWayUpdateInterval = 1;\n\nfunction extractFormAdapterItem(serializableInfo) {\n  if (serializableInfo.formAdapterItem) {\n    return serializableInfo.formAdapterItem;\n  } else {\n    return mapEditor(serializableInfo);\n  }\n}\n\nfunction mapEditor(serializableInfo) {\n  if (!serializableInfo.simpleFormAdapterItem) {\n    return null;\n  }\n\n  switch (serializableInfo.simpleFormAdapterItem) {\n    case 'dateBoxEditor':\n      return _form_adapter_editors_1.dateBoxEditor();\n\n    case 'numberBoxEditor':\n      return _form_adapter_editors_1.numberBoxEditor();\n\n    case 'checkBoxEditor':\n      return _form_adapter_editors_1.checkBoxEditor({\n        text: _default_1.getLocalizationById(serializableInfo.displayName)\n      });\n\n    case 'textBoxEditor':\n      return _form_adapter_editors_1.textBoxEditor();\n\n    case 'guidEditor':\n      return _form_adapter_editors_1.guidEditor();\n\n    case 'selectBoxEditor':\n      return _form_adapter_editors_1.selectBoxEditor(getEditorValues(serializableInfo));\n\n    case 'onOffButtonGroupEditor':\n      return _form_adapter_editors_1.buttonGroupEditor([{\n        value: true,\n        displayValueId: 'DashboardWebStringId.ButtonOn'\n      }, {\n        value: false,\n        displayValueId: 'DashboardWebStringId.ButtonOff'\n      }]);\n\n    case 'yesNoButtonGroupEditor':\n      return _form_adapter_editors_1.buttonGroupEditor([{\n        value: true,\n        displayValueId: 'DashboardWebStringId.ButtonYes'\n      }, {\n        value: false,\n        displayValueId: 'DashboardWebStringId.ButtonNo'\n      }]);\n\n    case 'buttonGroupEditor':\n      return _form_adapter_editors_1.buttonGroupEditor(getEditorValues(serializableInfo));\n\n    case 'discreteContinuousButtonGroupEditor':\n      return _form_adapter_editors_1.buttonGroupEditor([{\n        value: true,\n        displayValueId: 'DashboardWebStringId.ButtonDiscrete'\n      }, {\n        value: false,\n        displayValueId: 'DashboardWebStringId.ButtonContinuous'\n      }]);\n\n    case 'listEditor':\n      return _form_adapter_editors_1.listEditor(getEditorValues(serializableInfo));\n\n    default:\n      throw new Error('Unsupported simple formAdapterItem type');\n  }\n}\n\nfunction getFormAdapterItemOptions(serializationInfo, propertiesWrapper, bindingContext) {\n  var dynamicEditor = propertiesWrapper.getDynamicEditor ? propertiesWrapper.getDynamicEditor(serializationInfo.propertyName) : null;\n  var formAdapterItemProvider = dynamicEditor || serializationInfo;\n  var formAdapterItem = extractFormAdapterItem(formAdapterItemProvider);\n  var formAdapterContext = {\n    bindingContext: bindingContext,\n    widgetContainer: bindingContext.$root.getWidgetContainer()\n  };\n  return typeof formAdapterItem === 'function' ? formAdapterItem(formAdapterContext) : formAdapterItem;\n}\n\nfunction getFormItems(target, context) {\n  return target.getInfo().map(function (serializationInfo) {\n    if (serializationInfo.dxFormItem) {\n      return serializationInfo.dxFormItem;\n    }\n\n    var formAdapterItemOptions = getFormAdapterItemOptions(serializationInfo, target, context);\n\n    if (!formAdapterItemOptions) {\n      return null;\n    }\n\n    return {\n      dataField: serializationInfo.propertyName,\n      name: serializationInfo.propertyName,\n      label: __assign({\n        text: _default_1.getLocalizationById(serializationInfo.displayName),\n        visible: !!serializationInfo.displayName\n      }, formAdapterItemOptions.label),\n      visible: target.isPropertyVisible ? target.isPropertyVisible(serializationInfo.propertyName) : true,\n      validationRules: __spreadArray(__spreadArray([], serializationInfo.validationRules || []), formAdapterItemOptions.validationRules || []),\n      editorType: formAdapterItemOptions.editorType,\n      template: formAdapterItemOptions.template,\n      customEditorType: formAdapterItemOptions.customEditorType,\n      editorOptions: __assign(__assign({\n        disabled: target.isPropertyDisabled ? target.isPropertyDisabled(serializationInfo.propertyName) : false\n      }, formAdapterItemOptions.editorOptions), serializationInfo.editorOptions)\n    };\n  }).filter(function (i) {\n    return !!i;\n  });\n}\n\nfunction getItemComparableOptions(propertyName, target, context) {\n  var info = target.getInfo().filter(function (info) {\n    return info.propertyName === propertyName;\n  })[0];\n  var itemOptions = info && getFormAdapterItemOptions(info, target, context);\n  return itemOptions && itemOptions.comparableEditorOptions || [];\n}\n\nfunction updateFormItemsCore(form, target, bindingContext, propertiesToForceUpdate) {\n  if (propertiesToForceUpdate === void 0) {\n    propertiesToForceUpdate = [];\n  }\n\n  form.beginUpdate();\n  getFormItems(target, bindingContext).forEach(function (newItem) {\n    var itemOptions = form.itemOption(newItem.dataField);\n\n    if (itemOptions.visible !== newItem.visible) {\n      form.itemOption(newItem.dataField, 'visible', newItem.visible);\n    }\n\n    if (itemOptions.editorOptions && newItem.editorOptions) {\n      var isOptionsChanged = __spreadArray(['disabled'], getItemComparableOptions(newItem.dataField, target, bindingContext)).reduce(function (acc, prop) {\n        return acc || newItem.editorOptions[prop] !== itemOptions.editorOptions[prop];\n      }, false);\n\n      isOptionsChanged && form.itemOption(newItem.dataField, 'editorOptions', newItem.editorOptions);\n    }\n\n    if (itemOptions['customEditorType'] !== newItem['customEditorType'] || itemOptions.editorType !== newItem.editorType || _utils_1.type.isDefined(propertiesToForceUpdate) && propertiesToForceUpdate.filter(function (f) {\n      return f === newItem.dataField;\n    }).length > 0) {\n      form.itemOption(newItem.dataField, newItem);\n    }\n  });\n  form.endUpdate();\n}\n\nexports.updateFormItemsCore = updateFormItemsCore;\n\nfunction transformValuesDictionary(values) {\n  return Object.keys(values).map(function (k) {\n    return {\n      value: k,\n      displayValueId: values[k]\n    };\n  });\n}\n\nexports.transformValuesDictionary = transformValuesDictionary;\n\nfunction getEditorValues(propertyEditorInfo) {\n  if (propertyEditorInfo.values) {\n    var values = ko.unwrap(propertyEditorInfo.values);\n    return transformValuesDictionary(values);\n  } else if (propertyEditorInfo.valuesArray) return propertyEditorInfo.valuesArray.map(function (val) {\n    return {\n      value: val.value,\n      displayValueId: val.displayValue\n    };\n  });\n\n  return undefined;\n}\n\nko.bindingHandlers['dx-dashboard-form-adapter'] = {\n  init: function (element, valueAccessor, _, __, bindingContext) {\n    var subscriptions = [];\n    var params = ko.unwrap(valueAccessor());\n    var target = ko.unwrap(params.target);\n    var onFormInitialized = ko.unwrap(params.onFormInitialized);\n\n    var updateFormItems = function (form, propertiesToForceUpdate) {\n      updateFormItemsCore(form, target, bindingContext, propertiesToForceUpdate);\n    };\n\n    var twoWayTimeout;\n    var twoWayPropsUpdated = [];\n\n    var clearTwoWayTimeout = function (propsToClear) {\n      twoWayPropsUpdated = twoWayPropsUpdated.filter(function (tw) {\n        return propsToClear.filter(function (tc) {\n          return tc === tw;\n        }).length === 0;\n      });\n\n      if (twoWayPropsUpdated.length === 0) {\n        clearTimeout(twoWayTimeout);\n        twoWayTimeout = null;\n      }\n    };\n\n    var updateTwoWay = function (prop) {\n      clearTimeout(twoWayTimeout);\n      twoWayPropsUpdated.push(prop);\n      twoWayTimeout = setTimeout(function () {\n        var force = twoWayPropsUpdated;\n        clearTwoWayTimeout(twoWayPropsUpdated);\n        updateFormItems(form, force);\n      }, exports.twoWayUpdateInterval);\n    };\n\n    var form = new form_1.default(element, {\n      formData: target,\n      colCount: 1,\n      labelLocation: 'top',\n      showColonAfterLabel: false,\n      items: getFormItems(target, bindingContext),\n      onContentReady: function (e) {\n        target.onContentReady && target.onContentReady(e);\n      },\n      onInitialized: function (e) {\n        onFormInitialized && onFormInitialized(e);\n        target.onInitialized && target.onInitialized(e);\n      },\n      onFieldDataChanged: function (e) {\n        if (twoWayTimeout) clearTwoWayTimeout([e.dataField]);\n        updateFormItems(e.component);\n        target.onFieldDataChanged && target.onFieldDataChanged(e);\n      }\n    });\n    target.assignValidationPovider(form);\n    target.getInfo().filter(function (propInfo) {\n      return propInfo.externalUpdateCallback;\n    }).forEach(function (propInfo) {\n      return subscriptions.push(propInfo.externalUpdateCallback(function (_a) {\n        var forceValidate = _a.forceValidate;\n        updateFormItems(form);\n        if (forceValidate) form.validate();\n      }));\n    });\n    target.getInfo().filter(function (propInfo) {\n      return propInfo.isTwoWay;\n    }).forEach(function (propInfo) {\n      var property = target[propInfo.propertyName];\n\n      if (property && ko.isObservable(property)) {\n        subscriptions.push(property.subscribe(function (newValue) {\n          updateTwoWay(propInfo.propertyName);\n        }));\n      }\n    });\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n      target.assignValidationPovider(null);\n      subscriptions.forEach(function (d) {\n        return d.dispose();\n      });\n      subscriptions = [];\n    });\n    return {\n      controlsDescendantBindings: true\n    };\n  }\n};","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/form-adapter/_form-adapter.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","il","j","defineProperty","exports","value","transformValuesDictionary","updateFormItemsCore","twoWayUpdateInterval","form_1","require","ko","_default_1","_utils_1","_form_adapter_editors_1","extractFormAdapterItem","serializableInfo","formAdapterItem","mapEditor","simpleFormAdapterItem","dateBoxEditor","numberBoxEditor","checkBoxEditor","text","getLocalizationById","displayName","textBoxEditor","guidEditor","selectBoxEditor","getEditorValues","buttonGroupEditor","displayValueId","listEditor","Error","getFormAdapterItemOptions","serializationInfo","propertiesWrapper","bindingContext","dynamicEditor","getDynamicEditor","propertyName","formAdapterItemProvider","formAdapterContext","widgetContainer","$root","getWidgetContainer","getFormItems","target","context","getInfo","map","dxFormItem","formAdapterItemOptions","dataField","name","label","visible","isPropertyVisible","validationRules","editorType","template","customEditorType","editorOptions","disabled","isPropertyDisabled","filter","getItemComparableOptions","info","itemOptions","comparableEditorOptions","form","propertiesToForceUpdate","beginUpdate","forEach","newItem","itemOption","isOptionsChanged","reduce","acc","prop","type","isDefined","f","endUpdate","values","keys","k","propertyEditorInfo","unwrap","valuesArray","val","displayValue","undefined","bindingHandlers","init","element","valueAccessor","_","__","subscriptions","params","onFormInitialized","updateFormItems","twoWayTimeout","twoWayPropsUpdated","clearTwoWayTimeout","propsToClear","tw","tc","clearTimeout","updateTwoWay","push","setTimeout","force","default","formData","colCount","labelLocation","showColonAfterLabel","items","onContentReady","e","onInitialized","onFieldDataChanged","component","assignValidationPovider","propInfo","externalUpdateCallback","_a","forceValidate","validate","isTwoWay","property","isObservable","subscribe","newValue","utils","domNodeDisposal","addDisposeCallback","d","dispose","controlsDescendantBindings"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_form-adapter.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transformValuesDictionary = exports.updateFormItemsCore = exports.twoWayUpdateInterval = void 0;\nvar form_1 = require(\"devextreme/ui/form\");\nvar ko = require(\"knockout\");\nvar _default_1 = require(\"../../data/localization/_default\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar _form_adapter_editors_1 = require(\"./_form-adapter-editors\");\nexports.twoWayUpdateInterval = 1;\nfunction extractFormAdapterItem(serializableInfo) {\n    if (serializableInfo.formAdapterItem) {\n        return serializableInfo.formAdapterItem;\n    }\n    else {\n        return mapEditor(serializableInfo);\n    }\n}\nfunction mapEditor(serializableInfo) {\n    if (!serializableInfo.simpleFormAdapterItem) {\n        return null;\n    }\n    switch (serializableInfo.simpleFormAdapterItem) {\n        case 'dateBoxEditor':\n            return _form_adapter_editors_1.dateBoxEditor();\n        case 'numberBoxEditor':\n            return _form_adapter_editors_1.numberBoxEditor();\n        case 'checkBoxEditor':\n            return _form_adapter_editors_1.checkBoxEditor({ text: _default_1.getLocalizationById(serializableInfo.displayName) });\n        case 'textBoxEditor':\n            return _form_adapter_editors_1.textBoxEditor();\n        case 'guidEditor':\n            return _form_adapter_editors_1.guidEditor();\n        case 'selectBoxEditor':\n            return _form_adapter_editors_1.selectBoxEditor(getEditorValues(serializableInfo));\n        case 'onOffButtonGroupEditor':\n            return _form_adapter_editors_1.buttonGroupEditor([{ value: true, displayValueId: 'DashboardWebStringId.ButtonOn' }, { value: false, displayValueId: 'DashboardWebStringId.ButtonOff' }]);\n        case 'yesNoButtonGroupEditor':\n            return _form_adapter_editors_1.buttonGroupEditor([{ value: true, displayValueId: 'DashboardWebStringId.ButtonYes' }, { value: false, displayValueId: 'DashboardWebStringId.ButtonNo' }]);\n        case 'buttonGroupEditor':\n            return _form_adapter_editors_1.buttonGroupEditor(getEditorValues(serializableInfo));\n        case 'discreteContinuousButtonGroupEditor':\n            return _form_adapter_editors_1.buttonGroupEditor([{ value: true, displayValueId: 'DashboardWebStringId.ButtonDiscrete' }, { value: false, displayValueId: 'DashboardWebStringId.ButtonContinuous' }]);\n        case 'listEditor':\n            return _form_adapter_editors_1.listEditor(getEditorValues(serializableInfo));\n        default:\n            throw new Error('Unsupported simple formAdapterItem type');\n    }\n}\nfunction getFormAdapterItemOptions(serializationInfo, propertiesWrapper, bindingContext) {\n    var dynamicEditor = propertiesWrapper.getDynamicEditor ? propertiesWrapper.getDynamicEditor(serializationInfo.propertyName) : null;\n    var formAdapterItemProvider = dynamicEditor || serializationInfo;\n    var formAdapterItem = extractFormAdapterItem(formAdapterItemProvider);\n    var formAdapterContext = {\n        bindingContext: bindingContext,\n        widgetContainer: bindingContext.$root.getWidgetContainer()\n    };\n    return (typeof formAdapterItem === 'function') ? formAdapterItem(formAdapterContext) : formAdapterItem;\n}\nfunction getFormItems(target, context) {\n    return target\n        .getInfo()\n        .map(function (serializationInfo) {\n        if (serializationInfo.dxFormItem) {\n            return serializationInfo.dxFormItem;\n        }\n        var formAdapterItemOptions = getFormAdapterItemOptions(serializationInfo, target, context);\n        if (!formAdapterItemOptions) {\n            return null;\n        }\n        return {\n            dataField: serializationInfo.propertyName,\n            name: serializationInfo.propertyName,\n            label: __assign({ text: _default_1.getLocalizationById(serializationInfo.displayName), visible: !!serializationInfo.displayName }, formAdapterItemOptions.label),\n            visible: target.isPropertyVisible ? target.isPropertyVisible(serializationInfo.propertyName) : true,\n            validationRules: __spreadArray(__spreadArray([], (serializationInfo.validationRules || [])), (formAdapterItemOptions.validationRules || [])),\n            editorType: formAdapterItemOptions.editorType,\n            template: formAdapterItemOptions.template,\n            customEditorType: formAdapterItemOptions.customEditorType,\n            editorOptions: __assign(__assign({ disabled: target.isPropertyDisabled ? target.isPropertyDisabled(serializationInfo.propertyName) : false }, formAdapterItemOptions.editorOptions), serializationInfo.editorOptions)\n        };\n    }).filter(function (i) { return !!i; });\n}\nfunction getItemComparableOptions(propertyName, target, context) {\n    var info = target.getInfo().filter(function (info) { return info.propertyName === propertyName; })[0];\n    var itemOptions = info && getFormAdapterItemOptions(info, target, context);\n    return itemOptions && itemOptions.comparableEditorOptions || [];\n}\nfunction updateFormItemsCore(form, target, bindingContext, propertiesToForceUpdate) {\n    if (propertiesToForceUpdate === void 0) { propertiesToForceUpdate = []; }\n    form.beginUpdate();\n    getFormItems(target, bindingContext).forEach(function (newItem) {\n        var itemOptions = form.itemOption(newItem.dataField);\n        if (itemOptions.visible !== newItem.visible) {\n            form.itemOption(newItem.dataField, 'visible', newItem.visible);\n        }\n        if (itemOptions.editorOptions && newItem.editorOptions) {\n            var isOptionsChanged = __spreadArray(['disabled'], getItemComparableOptions(newItem.dataField, target, bindingContext)).reduce(function (acc, prop) { return acc || (newItem.editorOptions[prop] !== itemOptions.editorOptions[prop]); }, false);\n            isOptionsChanged && form.itemOption(newItem.dataField, 'editorOptions', newItem.editorOptions);\n        }\n        if (itemOptions['customEditorType'] !== newItem['customEditorType'] || itemOptions.editorType !== newItem.editorType ||\n            _utils_1.type.isDefined(propertiesToForceUpdate) && propertiesToForceUpdate.filter(function (f) { return f === newItem.dataField; }).length > 0) {\n            form.itemOption(newItem.dataField, newItem);\n        }\n    });\n    form.endUpdate();\n}\nexports.updateFormItemsCore = updateFormItemsCore;\nfunction transformValuesDictionary(values) {\n    return Object.keys(values).map(function (k) { return ({ value: k, displayValueId: values[k] }); });\n}\nexports.transformValuesDictionary = transformValuesDictionary;\nfunction getEditorValues(propertyEditorInfo) {\n    if (propertyEditorInfo.values) {\n        var values = ko.unwrap(propertyEditorInfo.values);\n        return transformValuesDictionary(values);\n    }\n    else if (propertyEditorInfo.valuesArray)\n        return propertyEditorInfo.valuesArray.map(function (val) { return ({ value: val.value, displayValueId: val.displayValue }); });\n    return undefined;\n}\nko.bindingHandlers['dx-dashboard-form-adapter'] = {\n    init: function (element, valueAccessor, _, __, bindingContext) {\n        var subscriptions = [];\n        var params = ko.unwrap(valueAccessor());\n        var target = ko.unwrap(params.target);\n        var onFormInitialized = ko.unwrap(params.onFormInitialized);\n        var updateFormItems = function (form, propertiesToForceUpdate) {\n            updateFormItemsCore(form, target, bindingContext, propertiesToForceUpdate);\n        };\n        var twoWayTimeout;\n        var twoWayPropsUpdated = [];\n        var clearTwoWayTimeout = function (propsToClear) {\n            twoWayPropsUpdated = twoWayPropsUpdated.filter(function (tw) { return propsToClear.filter(function (tc) { return tc === tw; }).length === 0; });\n            if (twoWayPropsUpdated.length === 0) {\n                clearTimeout(twoWayTimeout);\n                twoWayTimeout = null;\n            }\n        };\n        var updateTwoWay = function (prop) {\n            clearTimeout(twoWayTimeout);\n            twoWayPropsUpdated.push(prop);\n            twoWayTimeout = setTimeout(function () {\n                var force = twoWayPropsUpdated;\n                clearTwoWayTimeout(twoWayPropsUpdated);\n                updateFormItems(form, force);\n            }, exports.twoWayUpdateInterval);\n        };\n        var form = new form_1.default(element, {\n            formData: target,\n            colCount: 1,\n            labelLocation: 'top',\n            showColonAfterLabel: false,\n            items: getFormItems(target, bindingContext),\n            onContentReady: function (e) {\n                target.onContentReady && target.onContentReady(e);\n            },\n            onInitialized: function (e) {\n                onFormInitialized && onFormInitialized(e);\n                target.onInitialized && target.onInitialized(e);\n            },\n            onFieldDataChanged: function (e) {\n                if (twoWayTimeout)\n                    clearTwoWayTimeout([e.dataField]);\n                updateFormItems(e.component);\n                target.onFieldDataChanged && target.onFieldDataChanged(e);\n            }\n        });\n        target.assignValidationPovider(form);\n        target.getInfo()\n            .filter(function (propInfo) { return propInfo.externalUpdateCallback; })\n            .forEach(function (propInfo) { return subscriptions.push(propInfo.externalUpdateCallback(function (_a) {\n            var forceValidate = _a.forceValidate;\n            updateFormItems(form);\n            if (forceValidate)\n                form.validate();\n        })); });\n        target.getInfo()\n            .filter(function (propInfo) { return propInfo.isTwoWay; })\n            .forEach(function (propInfo) {\n            var property = target[propInfo.propertyName];\n            if (property && ko.isObservable(property)) {\n                subscriptions.push(property.subscribe(function (newValue) {\n                    updateTwoWay(propInfo.propertyName);\n                }));\n            }\n        });\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n            target.assignValidationPovider(null);\n            subscriptions.forEach(function (d) { return d.dispose(); });\n            subscriptions = [];\n        });\n        return { controlsDescendantBindings: true };\n    }\n};\n"]},"metadata":{},"sourceType":"script"}