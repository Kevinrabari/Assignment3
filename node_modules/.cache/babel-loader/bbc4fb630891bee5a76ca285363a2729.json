{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_image-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.imageItem = void 0;\n\nvar $ = require(\"jquery\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar _base_item_1 = require(\"./_base-item\");\n\nvar BASE64_STRING_PREFIX = 'data:image/png;base64,';\n\nvar imageItem = function (_super) {\n  __extends(imageItem, _super);\n\n  function imageItem(container, options) {\n    return _super.call(this, container, options) || this;\n  }\n\n  Object.defineProperty(imageItem.prototype, \"dataController\", {\n    get: function () {\n      return this._dataController;\n    },\n    set: function (dataController) {\n      this._dataController = dataController;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  imageItem.prototype._initializeData = function (newOptions) {\n    _super.prototype._initializeData.call(this, newOptions);\n\n    this.imgSrc = this._getImageSource(this.options.ViewModel ? this.options.ViewModel.ImageViewModel : undefined);\n  };\n\n  imageItem.prototype.renderContentUnsafe = function (element, changeExisting, afterRenderCallback) {\n    var that = this;\n\n    if (!changeExisting || !that.img) {\n      that.img = $('<img>').bind('load', function () {\n        that._loadImage();\n      });\n      $(element).append(that.img);\n    }\n\n    that.img.attr('src', that.imgSrc);\n    return false;\n  };\n\n  imageItem.prototype._loadImage = function () {\n    this._clearImgTag();\n\n    this._initialWidth = this.img.width();\n    this._initialHeight = this.img.height();\n\n    this._loadedImgProcessing();\n  };\n\n  imageItem.prototype._clearImgTag = function () {\n    var that = this,\n        $contentRoot = $(that.contentRoot),\n        $img = $contentRoot.find('img');\n    $contentRoot.css({\n      overflow: ''\n    });\n    $img.removeAttr('style');\n    $img.removeAttr('align');\n  };\n\n  imageItem.prototype._loadedImgProcessing = function () {\n    var that = this,\n        $contentRoot = $(that.contentRoot),\n        containerWidth = $contentRoot.width(),\n        containerHeight = $contentRoot.height(),\n        img = $contentRoot.find('img'),\n        viewModel = that.options.ViewModel,\n        sizeMode = viewModel.SizeMode,\n        horizontalAlignment = viewModel.HorizontalAlignment || 'Right',\n        verticalAlignment = viewModel.VerticalAlignment || 'Top',\n        centeringDirect,\n        curImgHeight,\n        curImgWidth;\n\n    switch (sizeMode) {\n      case 'Clip':\n        $contentRoot.css({\n          overflow: 'hidden'\n        });\n\n        that._setHorizontalAlignment(img, horizontalAlignment);\n\n        that._setVerticalAlignment(img, verticalAlignment);\n\n        break;\n\n      case 'Stretch':\n        img.css({\n          width: '100%',\n          height: '100%'\n        });\n        break;\n\n      case 'Squeeze':\n        {\n          curImgHeight = img.height();\n          curImgWidth = img.width();\n\n          if (curImgHeight >= containerHeight && curImgHeight <= that._initialHeight || curImgWidth >= containerWidth && curImgWidth <= that._initialWidth) {\n            centeringDirect = that._setImgSizeWithProportions(img, containerHeight / containerWidth);\n            img.css({\n              marginTop: 0,\n              marginLeft: 0\n            });\n          } else {\n            img.css({\n              width: '',\n              height: ''\n            });\n\n            that._setHorizontalAlignment(img, horizontalAlignment);\n\n            that._setVerticalAlignment(img, verticalAlignment);\n          }\n\n          break;\n        }\n\n      case 'Zoom':\n        {\n          centeringDirect = that._setImgSizeWithProportions(img, containerHeight / containerWidth);\n          break;\n        }\n\n      default:\n        break;\n    }\n\n    if (centeringDirect === 'horizontalCentering') {\n      that._setHorizontalAlignment(img, horizontalAlignment);\n    }\n\n    if (centeringDirect === 'verticalCentering') {\n      that._setVerticalAlignment(img, verticalAlignment);\n    }\n  };\n\n  imageItem.prototype._setHorizontalAlignment = function ($img, horizontalAlignment) {\n    if (horizontalAlignment === 'Center') {\n      $img.css({\n        marginLeft: ($(this.contentRoot).width() - $img.width()) / 2\n      });\n      return;\n    }\n\n    $img.attr('align', horizontalAlignment.toLowerCase());\n  };\n\n  imageItem.prototype._setVerticalAlignment = function ($img, verticalAlignment) {\n    var verticalOffsetCoeff,\n        differenceTop = $(this.contentRoot).height() - $img.height();\n\n    switch (verticalAlignment) {\n      case 'Bottom':\n        verticalOffsetCoeff = 1;\n        break;\n\n      case 'Center':\n        verticalOffsetCoeff = 0.5;\n        break;\n\n      case 'Top':\n        verticalOffsetCoeff = 0;\n        break;\n    }\n\n    $img.css({\n      marginTop: Math.floor(differenceTop * verticalOffsetCoeff) + 'px'\n    });\n  };\n\n  imageItem.prototype._setImgSizeWithProportions = function ($img, containerProportion) {\n    var imgProportion = this._initialHeight / this._initialWidth;\n\n    if (imgProportion > containerProportion) {\n      $img.height('100%');\n      $img.width(Math.floor($img.height() / imgProportion));\n      return 'horizontalCentering';\n    } else {\n      $img.width('100%');\n      $img.height(Math.floor($img.width() * imgProportion));\n      return 'verticalCentering';\n    }\n  };\n\n  imageItem.prototype._getImageSource = function (imageViewModel) {\n    if (imageViewModel) {\n      var url = imageViewModel.Url,\n          sourceBase64String = imageViewModel.SourceBase64String,\n          mimeType = imageViewModel.MimeType || '';\n\n      if (sourceBase64String) {\n        return 'data:' + mimeType + ';base64,' + sourceBase64String;\n      }\n\n      if (url) {\n        return url;\n      }\n    }\n\n    return '';\n  };\n\n  imageItem.prototype._resizeUnsafe = function () {\n    _super.prototype._resizeUnsafe.call(this);\n\n    this._loadImage();\n  };\n\n  imageItem.prototype._getWidget = function () {\n    return this.img && _jquery_helpers_1.wrapPublicElement(this.img[0]) || null;\n  };\n\n  return imageItem;\n}(_base_item_1.baseItem);\n\nexports.imageItem = imageItem;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/viewer-items/_image-item.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","imageItem","$","require","_jquery_helpers_1","_base_item_1","BASE64_STRING_PREFIX","_super","container","options","get","_dataController","set","dataController","enumerable","configurable","_initializeData","newOptions","imgSrc","_getImageSource","ViewModel","ImageViewModel","undefined","renderContentUnsafe","element","changeExisting","afterRenderCallback","that","img","bind","_loadImage","append","attr","_clearImgTag","_initialWidth","width","_initialHeight","height","_loadedImgProcessing","$contentRoot","contentRoot","$img","find","css","overflow","removeAttr","containerWidth","containerHeight","viewModel","sizeMode","SizeMode","horizontalAlignment","HorizontalAlignment","verticalAlignment","VerticalAlignment","centeringDirect","curImgHeight","curImgWidth","_setHorizontalAlignment","_setVerticalAlignment","_setImgSizeWithProportions","marginTop","marginLeft","toLowerCase","verticalOffsetCoeff","differenceTop","Math","floor","containerProportion","imgProportion","imageViewModel","url","Url","sourceBase64String","SourceBase64String","mimeType","MimeType","_resizeUnsafe","_getWidget","wrapPublicElement","baseItem"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_image-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.imageItem = void 0;\nvar $ = require(\"jquery\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar _base_item_1 = require(\"./_base-item\");\nvar BASE64_STRING_PREFIX = 'data:image/png;base64,';\nvar imageItem = (function (_super) {\n    __extends(imageItem, _super);\n    function imageItem(container, options) {\n        return _super.call(this, container, options) || this;\n    }\n    Object.defineProperty(imageItem.prototype, \"dataController\", {\n        get: function () { return this._dataController; },\n        set: function (dataController) { this._dataController = dataController; },\n        enumerable: false,\n        configurable: true\n    });\n    imageItem.prototype._initializeData = function (newOptions) {\n        _super.prototype._initializeData.call(this, newOptions);\n        this.imgSrc = this._getImageSource(this.options.ViewModel ? this.options.ViewModel.ImageViewModel : undefined);\n    };\n    imageItem.prototype.renderContentUnsafe = function (element, changeExisting, afterRenderCallback) {\n        var that = this;\n        if (!changeExisting || !that.img) {\n            that.img = $('<img>').bind('load', function () {\n                that._loadImage();\n            });\n            $(element).append(that.img);\n        }\n        that.img.attr('src', that.imgSrc);\n        return false;\n    };\n    imageItem.prototype._loadImage = function () {\n        this._clearImgTag();\n        this._initialWidth = this.img.width();\n        this._initialHeight = this.img.height();\n        this._loadedImgProcessing();\n    };\n    imageItem.prototype._clearImgTag = function () {\n        var that = this, $contentRoot = $(that.contentRoot), $img = $contentRoot.find('img');\n        $contentRoot.css({ overflow: '' });\n        $img.removeAttr('style');\n        $img.removeAttr('align');\n    };\n    imageItem.prototype._loadedImgProcessing = function () {\n        var that = this, $contentRoot = $(that.contentRoot), containerWidth = $contentRoot.width(), containerHeight = $contentRoot.height(), img = $contentRoot.find('img'), viewModel = that.options.ViewModel, sizeMode = viewModel.SizeMode, horizontalAlignment = viewModel.HorizontalAlignment || 'Right', verticalAlignment = viewModel.VerticalAlignment || 'Top', centeringDirect, curImgHeight, curImgWidth;\n        switch (sizeMode) {\n            case 'Clip':\n                $contentRoot.css({ overflow: 'hidden' });\n                that._setHorizontalAlignment(img, horizontalAlignment);\n                that._setVerticalAlignment(img, verticalAlignment);\n                break;\n            case 'Stretch':\n                img.css({ width: '100%', height: '100%' });\n                break;\n            case 'Squeeze': {\n                curImgHeight = img.height();\n                curImgWidth = img.width();\n                if ((curImgHeight >= containerHeight && curImgHeight <= that._initialHeight) || (curImgWidth >= containerWidth && curImgWidth <= that._initialWidth)) {\n                    centeringDirect = that._setImgSizeWithProportions(img, containerHeight / containerWidth);\n                    img.css({ marginTop: 0, marginLeft: 0 });\n                }\n                else {\n                    img.css({\n                        width: '',\n                        height: ''\n                    });\n                    that._setHorizontalAlignment(img, horizontalAlignment);\n                    that._setVerticalAlignment(img, verticalAlignment);\n                }\n                break;\n            }\n            case 'Zoom': {\n                centeringDirect = that._setImgSizeWithProportions(img, containerHeight / containerWidth);\n                break;\n            }\n            default: break;\n        }\n        if (centeringDirect === 'horizontalCentering') {\n            that._setHorizontalAlignment(img, horizontalAlignment);\n        }\n        if (centeringDirect === 'verticalCentering') {\n            that._setVerticalAlignment(img, verticalAlignment);\n        }\n    };\n    imageItem.prototype._setHorizontalAlignment = function ($img, horizontalAlignment) {\n        if (horizontalAlignment === 'Center') {\n            $img.css({ marginLeft: ($(this.contentRoot).width() - $img.width()) / 2 });\n            return;\n        }\n        $img.attr('align', horizontalAlignment.toLowerCase());\n    };\n    imageItem.prototype._setVerticalAlignment = function ($img, verticalAlignment) {\n        var verticalOffsetCoeff, differenceTop = $(this.contentRoot).height() - $img.height();\n        switch (verticalAlignment) {\n            case 'Bottom':\n                verticalOffsetCoeff = 1;\n                break;\n            case 'Center':\n                verticalOffsetCoeff = 0.5;\n                break;\n            case 'Top':\n                verticalOffsetCoeff = 0;\n                break;\n        }\n        $img.css({ marginTop: Math.floor(differenceTop * verticalOffsetCoeff) + 'px' });\n    };\n    imageItem.prototype._setImgSizeWithProportions = function ($img, containerProportion) {\n        var imgProportion = this._initialHeight / this._initialWidth;\n        if (imgProportion > containerProportion) {\n            $img.height('100%');\n            $img.width(Math.floor($img.height() / imgProportion));\n            return 'horizontalCentering';\n        }\n        else {\n            $img.width('100%');\n            $img.height(Math.floor($img.width() * imgProportion));\n            return 'verticalCentering';\n        }\n    };\n    imageItem.prototype._getImageSource = function (imageViewModel) {\n        if (imageViewModel) {\n            var url = imageViewModel.Url, sourceBase64String = imageViewModel.SourceBase64String, mimeType = imageViewModel.MimeType || '';\n            if (sourceBase64String) {\n                return 'data:' + mimeType + ';base64,' + sourceBase64String;\n            }\n            if (url) {\n                return url;\n            }\n        }\n        return '';\n    };\n    imageItem.prototype._resizeUnsafe = function () {\n        _super.prototype._resizeUnsafe.call(this);\n        this._loadImage();\n    };\n    imageItem.prototype._getWidget = function () {\n        return this.img && _jquery_helpers_1.wrapPublicElement(this.img[0]) || null;\n    };\n    return imageItem;\n}(_base_item_1.baseItem));\nexports.imageItem = imageItem;\n"]},"metadata":{},"sourceType":"script"}