{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_grid-item-surface.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GridItemSurface = void 0;\n\nvar ko = require(\"knockout\");\n\nvar dimension_1 = require(\"../../../model/data-item/dimension\");\n\nvar measure_1 = require(\"../../../model/data-item/measure\");\n\nvar _data_field_1 = require(\"../../../model/data-sources/_data-field\");\n\nvar grid_columns_1 = require(\"../../../model/items/grid/grid-columns\");\n\nvar grid_item_1 = require(\"../../../model/items/grid/grid-item\");\n\nvar _grid_item_1 = require(\"../../../model/items/grid/metadata/_grid-item\");\n\nvar _format_rule_surface_1 = require(\"../../conditional-formatting/items/surfaces/_format-rule-surface\");\n\nvar _accordion_tab_1 = require(\"../../properties-controller/_accordion-tab\");\n\nvar _collection_editor_viewmodel_1 = require(\"../../ui-widgets/collection-editor/_collection-editor-viewmodel\");\n\nvar _data_item_properties_composer_1 = require(\"../properties-composers/_data-item-properties-composer\");\n\nvar _grid_column_properties_composer_1 = require(\"../properties-composers/_grid-column-properties-composer\");\n\nvar _grid_item_properties_composer_1 = require(\"../properties-composers/_grid-item-properties-composer\");\n\nvar _data_item_container_collection_surface_1 = require(\"../sections/_data-item-container-collection-surface\");\n\nvar _single_data_item_surface_1 = require(\"../sections/_single-data-item-surface\");\n\nvar _section_descriptors_1 = require(\"../_section-descriptors\");\n\nvar _base_item_surface_1 = require(\"./_base-item-surface\");\n\nvar _delta_numeric_format_surface_1 = require(\"./_delta-numeric-format-surface\");\n\nvar GridItemSurface = function (_super) {\n  __extends(GridItemSurface, _super);\n\n  function GridItemSurface(dashboardItem, dashboardModel, dataSourceBrowser, notificationController) {\n    return _super.call(this, dashboardItem, dashboardModel, dataSourceBrowser, notificationController) || this;\n  }\n\n  GridItemSurface.prototype.addConditionalFormattingOptions = function (tabs, dataItem) {\n    var _this = this;\n\n    if (dataItem && dataItem.uniqueName()) {\n      var editRuleHandler = function (selection, args, container) {\n        var surface = new _format_rule_surface_1.FormatRuleSurface(container, _this.dashboardItem, _this._dataSourceBrowser, _this.propertiesController);\n        surface.startEditing(args);\n      };\n\n      var dataItemApplyTo = dataItem;\n\n      if (dataItemApplyTo instanceof measure_1.Measure && this.dashboardItem.hiddenMeasures().indexOf(dataItemApplyTo) !== -1) {\n        var valueApplyTo = this.dashboardItem.columns().filter(function (column) {\n          return !(column instanceof grid_columns_1.GridDeltaColumn);\n        })[0];\n        dataItemApplyTo = valueApplyTo && valueApplyTo.actualDataItem;\n      }\n\n      tabs.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.ConditionalFormatting, 'DashboardWebStringId.ConditionalFormatting', _data_item_properties_composer_1.DataItemsPropertiesComposer.getFormatRulesWrapper(this.dashboardItem, _data_item_properties_composer_1.DataItemsPropertiesComposer.getCellFormatRuleCreator(dataItem, dataItemApplyTo, 'GridItemFormatRule'), _data_item_properties_composer_1.DataItemsPropertiesComposer.getCellFormatRuleFilter(dataItem), editRuleHandler)));\n    }\n  };\n\n  GridItemSurface.prototype.extendHiddenMeasuresTabs = function (tabs, model) {\n    this.addConditionalFormattingOptions(tabs, model);\n  };\n\n  GridItemSurface.prototype.fillSections = function () {\n    var _this = this;\n\n    var editRuleHandler = function (selection, args, container) {\n      var surface = new _format_rule_surface_1.FormatRuleSurface(container, _this.dashboardItem, _this._dataSourceBrowser, _this.propertiesController);\n      surface.startEditing(args);\n    };\n\n    this.editRuleHandler = editRuleHandler;\n\n    var editDeltaFormatHandler = function (model) {\n      var surface = new _delta_numeric_format_surface_1.DeltaNumericFormatSurface(model, _this.propertiesController);\n      surface.startEditing(new _collection_editor_viewmodel_1.CollectionEditorEditItemArguments());\n    };\n\n    var sectionInfo = {\n      title: 'DashboardWebStringId.Binding.Columns',\n      bindingProperty: {\n        propertyName: _grid_item_1.gridColumns.propertyName,\n        emptyPlaceholder: 'DashboardWebStringId.Binding.AddColumn',\n        selectedPlaceholder: 'DashboardWebStringId.Binding.ConfigureColumn',\n        groupName: 'Column',\n        creator: function (itemType, dataField, existingDataItem) {\n          if (!itemType) {\n            var dimensionDisplayMode = null;\n\n            if (existingDataItem) {\n              if (existingDataItem instanceof dimension_1.Dimension) {\n                itemType = 'GridDimensionColumn';\n              } else if (existingDataItem instanceof measure_1.Measure) {\n                itemType = 'GridMeasureColumn';\n              }\n            } else if (_data_field_1.DataField.isMeasure(dataField)) {\n              itemType = 'GridMeasureColumn';\n            } else {\n              itemType = 'GridDimensionColumn';\n\n              if (dataField.fieldType() === 'Custom') {\n                dimensionDisplayMode = 'Image';\n              }\n            }\n          }\n\n          var columnJson = {\n            '@ItemType': itemType\n          };\n\n          if (dimensionDisplayMode) {\n            columnJson['@DisplayMode'] = dimensionDisplayMode;\n          }\n\n          return _this.dashboardItem._createGridColumn(columnJson);\n        },\n        containersMap: grid_item_1.GridItem._gridColumnTypesMap,\n        dataItemType: undefined\n      },\n      detailsPropertiesComposer: new _grid_column_properties_composer_1.GridColumnPropertiesComposer(this._dataItemContainerCustomization, editRuleHandler, editDeltaFormatHandler)\n    };\n    this.dataSections.push(new _data_item_container_collection_surface_1.DataItemContainerCollectionSurface(this, this.dashboardItem, sectionInfo, ko.computed(function () {\n      return _this.dashboardItem.columns().length === 0 && !!_this.dashboardItem.sparklineArgument() && !!_this.dashboardItem.sparklineArgument().uniqueName();\n    })));\n    this.dataSections.push(new _single_data_item_surface_1.SingleDataItemSurface({\n      itemSurface: this,\n      sectionInfo: _section_descriptors_1.SectionDescriptors.SparklineArgument,\n      warning: ko.computed(function () {\n        return !(_this.dashboardItem.sparklineArgument() && _this.dashboardItem.sparklineArgument().uniqueName()) && _this.dashboardItem.columns().some(function (column) {\n          return column.itemType() === 'GridSparklineColumn';\n        });\n      }),\n      fieldConstraint: function (dataField) {\n        return _data_field_1.DataField.isContinous(dataField);\n      }\n    }));\n  };\n\n  GridItemSurface.prototype.getPropertiesComposer = function () {\n    return new _grid_item_properties_composer_1.GridItemPropertiesComposer(this._dashboardItemCustomization, this.editRuleHandler, this.dataSourceBrowser);\n  };\n\n  return GridItemSurface;\n}(_base_item_surface_1.DataDashboardItemSurface);\n\nexports.GridItemSurface = GridItemSurface;\n\n_section_descriptors_1.surfaceItemsFactory.register('Grid', GridItemSurface);","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/items/surfaces/_grid-item-surface.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","GridItemSurface","ko","require","dimension_1","measure_1","_data_field_1","grid_columns_1","grid_item_1","_grid_item_1","_format_rule_surface_1","_accordion_tab_1","_collection_editor_viewmodel_1","_data_item_properties_composer_1","_grid_column_properties_composer_1","_grid_item_properties_composer_1","_data_item_container_collection_surface_1","_single_data_item_surface_1","_section_descriptors_1","_base_item_surface_1","_delta_numeric_format_surface_1","_super","dashboardItem","dashboardModel","dataSourceBrowser","notificationController","addConditionalFormattingOptions","tabs","dataItem","_this","uniqueName","editRuleHandler","selection","args","container","surface","FormatRuleSurface","_dataSourceBrowser","propertiesController","startEditing","dataItemApplyTo","Measure","hiddenMeasures","indexOf","valueApplyTo","columns","filter","column","GridDeltaColumn","actualDataItem","push","AccordionTab","KnownTabs","ConditionalFormatting","DataItemsPropertiesComposer","getFormatRulesWrapper","getCellFormatRuleCreator","getCellFormatRuleFilter","extendHiddenMeasuresTabs","model","fillSections","editDeltaFormatHandler","DeltaNumericFormatSurface","CollectionEditorEditItemArguments","sectionInfo","title","bindingProperty","propertyName","gridColumns","emptyPlaceholder","selectedPlaceholder","groupName","creator","itemType","dataField","existingDataItem","dimensionDisplayMode","Dimension","DataField","isMeasure","fieldType","columnJson","_createGridColumn","containersMap","GridItem","_gridColumnTypesMap","dataItemType","undefined","detailsPropertiesComposer","GridColumnPropertiesComposer","_dataItemContainerCustomization","dataSections","DataItemContainerCollectionSurface","computed","length","sparklineArgument","SingleDataItemSurface","itemSurface","SectionDescriptors","SparklineArgument","warning","some","fieldConstraint","isContinous","getPropertiesComposer","GridItemPropertiesComposer","_dashboardItemCustomization","DataDashboardItemSurface","surfaceItemsFactory","register"],"mappings":"AAAA;;;;;;;AAOA;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAFrG;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnB,QAAI,OAAOA,CAAP,KAAa,UAAb,IAA2BA,CAAC,KAAK,IAArC,EACI,MAAM,IAAIS,SAAJ,CAAc,yBAAyBC,MAAM,CAACV,CAAD,CAA/B,GAAqC,+BAAnD,CAAN;AACJF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASW,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBb,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACY,MAAP,CAAcb,CAAd,CAAb,IAAiCW,EAAE,CAACL,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIK,EAAJ,EAA7D,CAAd;AACH,GAND;AAOH,CAd2C,EAA5C;;AAeAV,MAAM,CAACa,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,eAAR,GAA0B,KAAK,CAA/B;;AACA,IAAIC,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAhB;;AACA,IAAIC,WAAW,GAAGD,OAAO,CAAC,oCAAD,CAAzB;;AACA,IAAIE,SAAS,GAAGF,OAAO,CAAC,kCAAD,CAAvB;;AACA,IAAIG,aAAa,GAAGH,OAAO,CAAC,yCAAD,CAA3B;;AACA,IAAII,cAAc,GAAGJ,OAAO,CAAC,wCAAD,CAA5B;;AACA,IAAIK,WAAW,GAAGL,OAAO,CAAC,qCAAD,CAAzB;;AACA,IAAIM,YAAY,GAAGN,OAAO,CAAC,+CAAD,CAA1B;;AACA,IAAIO,sBAAsB,GAAGP,OAAO,CAAC,kEAAD,CAApC;;AACA,IAAIQ,gBAAgB,GAAGR,OAAO,CAAC,4CAAD,CAA9B;;AACA,IAAIS,8BAA8B,GAAGT,OAAO,CAAC,iEAAD,CAA5C;;AACA,IAAIU,gCAAgC,GAAGV,OAAO,CAAC,wDAAD,CAA9C;;AACA,IAAIW,kCAAkC,GAAGX,OAAO,CAAC,0DAAD,CAAhD;;AACA,IAAIY,gCAAgC,GAAGZ,OAAO,CAAC,wDAAD,CAA9C;;AACA,IAAIa,yCAAyC,GAAGb,OAAO,CAAC,qDAAD,CAAvD;;AACA,IAAIc,2BAA2B,GAAGd,OAAO,CAAC,uCAAD,CAAzC;;AACA,IAAIe,sBAAsB,GAAGf,OAAO,CAAC,yBAAD,CAApC;;AACA,IAAIgB,oBAAoB,GAAGhB,OAAO,CAAC,sBAAD,CAAlC;;AACA,IAAIiB,+BAA+B,GAAGjB,OAAO,CAAC,iCAAD,CAA7C;;AACA,IAAIF,eAAe,GAAI,UAAUoB,MAAV,EAAkB;AACrCxC,EAAAA,SAAS,CAACoB,eAAD,EAAkBoB,MAAlB,CAAT;;AACA,WAASpB,eAAT,CAAyBqB,aAAzB,EAAwCC,cAAxC,EAAwDC,iBAAxD,EAA2EC,sBAA3E,EAAmG;AAC/F,WAAOJ,MAAM,CAAC7B,IAAP,CAAY,IAAZ,EAAkB8B,aAAlB,EAAiCC,cAAjC,EAAiDC,iBAAjD,EAAoEC,sBAApE,KAA+F,IAAtG;AACH;;AACDxB,EAAAA,eAAe,CAACX,SAAhB,CAA0BoC,+BAA1B,GAA4D,UAAUC,IAAV,EAAgBC,QAAhB,EAA0B;AAClF,QAAIC,KAAK,GAAG,IAAZ;;AACA,QAAID,QAAQ,IAAIA,QAAQ,CAACE,UAAT,EAAhB,EAAuC;AACnC,UAAIC,eAAe,GAAG,UAAUC,SAAV,EAAqBC,IAArB,EAA2BC,SAA3B,EAAsC;AACxD,YAAIC,OAAO,GAAG,IAAIzB,sBAAsB,CAAC0B,iBAA3B,CAA6CF,SAA7C,EAAwDL,KAAK,CAACP,aAA9D,EAA6EO,KAAK,CAACQ,kBAAnF,EAAuGR,KAAK,CAACS,oBAA7G,CAAd;AACAH,QAAAA,OAAO,CAACI,YAAR,CAAqBN,IAArB;AACH,OAHD;;AAIA,UAAIO,eAAe,GAAGZ,QAAtB;;AACA,UAAIY,eAAe,YAAYnC,SAAS,CAACoC,OAArC,IAAgD,KAAKnB,aAAL,CAAmBoB,cAAnB,GAAoCC,OAApC,CAA4CH,eAA5C,MAAiE,CAAC,CAAtH,EAAyH;AACrH,YAAII,YAAY,GAAG,KAAKtB,aAAL,CAAmBuB,OAAnB,GAA6BC,MAA7B,CAAoC,UAAUC,MAAV,EAAkB;AAAE,iBAAO,EAAEA,MAAM,YAAYxC,cAAc,CAACyC,eAAnC,CAAP;AAA6D,SAArH,EAAuH,CAAvH,CAAnB;AACAR,QAAAA,eAAe,GAAGI,YAAY,IAAIA,YAAY,CAACK,cAA/C;AACH;;AACDtB,MAAAA,IAAI,CAACuB,IAAL,CAAU,IAAIvC,gBAAgB,CAACwC,YAArB,CAAkCxC,gBAAgB,CAACyC,SAAjB,CAA2BC,qBAA7D,EAAoF,4CAApF,EAAkIxC,gCAAgC,CAACyC,2BAAjC,CAA6DC,qBAA7D,CAAmF,KAAKjC,aAAxF,EAAuGT,gCAAgC,CAACyC,2BAAjC,CAA6DE,wBAA7D,CAAsF5B,QAAtF,EAAgGY,eAAhG,EAAiH,oBAAjH,CAAvG,EAA+O3B,gCAAgC,CAACyC,2BAAjC,CAA6DG,uBAA7D,CAAqF7B,QAArF,CAA/O,EAA+UG,eAA/U,CAAlI,CAAV;AACH;AACJ,GAdD;;AAeA9B,EAAAA,eAAe,CAACX,SAAhB,CAA0BoE,wBAA1B,GAAqD,UAAU/B,IAAV,EAAgBgC,KAAhB,EAAuB;AACxE,SAAKjC,+BAAL,CAAqCC,IAArC,EAA2CgC,KAA3C;AACH,GAFD;;AAGA1D,EAAAA,eAAe,CAACX,SAAhB,CAA0BsE,YAA1B,GAAyC,YAAY;AACjD,QAAI/B,KAAK,GAAG,IAAZ;;AACA,QAAIE,eAAe,GAAG,UAAUC,SAAV,EAAqBC,IAArB,EAA2BC,SAA3B,EAAsC;AACxD,UAAIC,OAAO,GAAG,IAAIzB,sBAAsB,CAAC0B,iBAA3B,CAA6CF,SAA7C,EAAwDL,KAAK,CAACP,aAA9D,EAA6EO,KAAK,CAACQ,kBAAnF,EAAuGR,KAAK,CAACS,oBAA7G,CAAd;AACAH,MAAAA,OAAO,CAACI,YAAR,CAAqBN,IAArB;AACH,KAHD;;AAIA,SAAKF,eAAL,GAAuBA,eAAvB;;AACA,QAAI8B,sBAAsB,GAAG,UAAUF,KAAV,EAAiB;AAC1C,UAAIxB,OAAO,GAAG,IAAIf,+BAA+B,CAAC0C,yBAApC,CAA8DH,KAA9D,EAAqE9B,KAAK,CAACS,oBAA3E,CAAd;AACAH,MAAAA,OAAO,CAACI,YAAR,CAAqB,IAAI3B,8BAA8B,CAACmD,iCAAnC,EAArB;AACH,KAHD;;AAIA,QAAIC,WAAW,GAAG;AACdC,MAAAA,KAAK,EAAE,sCADO;AAEdC,MAAAA,eAAe,EAAE;AACbC,QAAAA,YAAY,EAAE1D,YAAY,CAAC2D,WAAb,CAAyBD,YAD1B;AAEbE,QAAAA,gBAAgB,EAAE,wCAFL;AAGbC,QAAAA,mBAAmB,EAAE,8CAHR;AAIbC,QAAAA,SAAS,EAAE,QAJE;AAKbC,QAAAA,OAAO,EAAE,UAAUC,QAAV,EAAoBC,SAApB,EAA+BC,gBAA/B,EAAiD;AACtD,cAAI,CAACF,QAAL,EAAe;AACX,gBAAIG,oBAAoB,GAAG,IAA3B;;AACA,gBAAID,gBAAJ,EAAsB;AAClB,kBAAIA,gBAAgB,YAAYvE,WAAW,CAACyE,SAA5C,EAAuD;AACnDJ,gBAAAA,QAAQ,GAAG,qBAAX;AACH,eAFD,MAGK,IAAIE,gBAAgB,YAAYtE,SAAS,CAACoC,OAA1C,EAAmD;AACpDgC,gBAAAA,QAAQ,GAAG,mBAAX;AACH;AACJ,aAPD,MAQK,IAAInE,aAAa,CAACwE,SAAd,CAAwBC,SAAxB,CAAkCL,SAAlC,CAAJ,EAAkD;AACnDD,cAAAA,QAAQ,GAAG,mBAAX;AACH,aAFI,MAGA;AACDA,cAAAA,QAAQ,GAAG,qBAAX;;AACA,kBAAIC,SAAS,CAACM,SAAV,OAA0B,QAA9B,EAAwC;AACpCJ,gBAAAA,oBAAoB,GAAG,OAAvB;AACH;AACJ;AACJ;;AACD,cAAIK,UAAU,GAAG;AAAE,yBAAaR;AAAf,WAAjB;;AACA,cAAIG,oBAAJ,EAA0B;AACtBK,YAAAA,UAAU,CAAC,cAAD,CAAV,GAA6BL,oBAA7B;AACH;;AACD,iBAAO/C,KAAK,CAACP,aAAN,CAAoB4D,iBAApB,CAAsCD,UAAtC,CAAP;AACH,SA/BY;AAgCbE,QAAAA,aAAa,EAAE3E,WAAW,CAAC4E,QAAZ,CAAqBC,mBAhCvB;AAiCbC,QAAAA,YAAY,EAAEC;AAjCD,OAFH;AAqCdC,MAAAA,yBAAyB,EAAE,IAAI1E,kCAAkC,CAAC2E,4BAAvC,CAAoE,KAAKC,+BAAzE,EAA0G3D,eAA1G,EAA2H8B,sBAA3H;AArCb,KAAlB;AAuCA,SAAK8B,YAAL,CAAkBzC,IAAlB,CAAuB,IAAIlC,yCAAyC,CAAC4E,kCAA9C,CAAiF,IAAjF,EAAuF,KAAKtE,aAA5F,EAA2G0C,WAA3G,EAAwH9D,EAAE,CAAC2F,QAAH,CAAY,YAAY;AAAE,aAAOhE,KAAK,CAACP,aAAN,CAAoBuB,OAApB,GAA8BiD,MAA9B,KAAyC,CAAzC,IAA8C,CAAC,CAACjE,KAAK,CAACP,aAAN,CAAoByE,iBAApB,EAAhD,IAA2F,CAAC,CAAClE,KAAK,CAACP,aAAN,CAAoByE,iBAApB,GAAwCjE,UAAxC,EAApG;AAA2J,KAArL,CAAxH,CAAvB;AACA,SAAK6D,YAAL,CAAkBzC,IAAlB,CAAuB,IAAIjC,2BAA2B,CAAC+E,qBAAhC,CAAsD;AACzEC,MAAAA,WAAW,EAAE,IAD4D;AAEzEjC,MAAAA,WAAW,EAAE9C,sBAAsB,CAACgF,kBAAvB,CAA0CC,iBAFkB;AAGzEC,MAAAA,OAAO,EAAElG,EAAE,CAAC2F,QAAH,CAAY,YAAY;AAC7B,eAAO,EAAEhE,KAAK,CAACP,aAAN,CAAoByE,iBAApB,MAA2ClE,KAAK,CAACP,aAAN,CAAoByE,iBAApB,GAAwCjE,UAAxC,EAA7C,KACAD,KAAK,CAACP,aAAN,CAAoBuB,OAApB,GAA8BwD,IAA9B,CAAmC,UAAUtD,MAAV,EAAkB;AAAE,iBAAOA,MAAM,CAAC0B,QAAP,OAAsB,qBAA7B;AAAqD,SAA5G,CADP;AAEH,OAHQ,CAHgE;AAOzE6B,MAAAA,eAAe,EAAE,UAAU5B,SAAV,EAAqB;AAClC,eAAOpE,aAAa,CAACwE,SAAd,CAAwByB,WAAxB,CAAoC7B,SAApC,CAAP;AACH;AATwE,KAAtD,CAAvB;AAWH,GA9DD;;AA+DAzE,EAAAA,eAAe,CAACX,SAAhB,CAA0BkH,qBAA1B,GAAkD,YAAY;AAC1D,WAAO,IAAIzF,gCAAgC,CAAC0F,0BAArC,CAAgE,KAAKC,2BAArE,EAAkG,KAAK3E,eAAvG,EAAwH,KAAKP,iBAA7H,CAAP;AACH,GAFD;;AAGA,SAAOvB,eAAP;AACH,CA1FsB,CA0FrBkB,oBAAoB,CAACwF,wBA1FA,CAAvB;;AA2FA5G,OAAO,CAACE,eAAR,GAA0BA,eAA1B;;AACAiB,sBAAsB,CAAC0F,mBAAvB,CAA2CC,QAA3C,CAAoD,MAApD,EAA4D5G,eAA5D","sourcesContent":["/**\r\n* DevExpress Dashboard (_grid-item-surface.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GridItemSurface = void 0;\nvar ko = require(\"knockout\");\nvar dimension_1 = require(\"../../../model/data-item/dimension\");\nvar measure_1 = require(\"../../../model/data-item/measure\");\nvar _data_field_1 = require(\"../../../model/data-sources/_data-field\");\nvar grid_columns_1 = require(\"../../../model/items/grid/grid-columns\");\nvar grid_item_1 = require(\"../../../model/items/grid/grid-item\");\nvar _grid_item_1 = require(\"../../../model/items/grid/metadata/_grid-item\");\nvar _format_rule_surface_1 = require(\"../../conditional-formatting/items/surfaces/_format-rule-surface\");\nvar _accordion_tab_1 = require(\"../../properties-controller/_accordion-tab\");\nvar _collection_editor_viewmodel_1 = require(\"../../ui-widgets/collection-editor/_collection-editor-viewmodel\");\nvar _data_item_properties_composer_1 = require(\"../properties-composers/_data-item-properties-composer\");\nvar _grid_column_properties_composer_1 = require(\"../properties-composers/_grid-column-properties-composer\");\nvar _grid_item_properties_composer_1 = require(\"../properties-composers/_grid-item-properties-composer\");\nvar _data_item_container_collection_surface_1 = require(\"../sections/_data-item-container-collection-surface\");\nvar _single_data_item_surface_1 = require(\"../sections/_single-data-item-surface\");\nvar _section_descriptors_1 = require(\"../_section-descriptors\");\nvar _base_item_surface_1 = require(\"./_base-item-surface\");\nvar _delta_numeric_format_surface_1 = require(\"./_delta-numeric-format-surface\");\nvar GridItemSurface = (function (_super) {\n    __extends(GridItemSurface, _super);\n    function GridItemSurface(dashboardItem, dashboardModel, dataSourceBrowser, notificationController) {\n        return _super.call(this, dashboardItem, dashboardModel, dataSourceBrowser, notificationController) || this;\n    }\n    GridItemSurface.prototype.addConditionalFormattingOptions = function (tabs, dataItem) {\n        var _this = this;\n        if (dataItem && dataItem.uniqueName()) {\n            var editRuleHandler = function (selection, args, container) {\n                var surface = new _format_rule_surface_1.FormatRuleSurface(container, _this.dashboardItem, _this._dataSourceBrowser, _this.propertiesController);\n                surface.startEditing(args);\n            };\n            var dataItemApplyTo = dataItem;\n            if (dataItemApplyTo instanceof measure_1.Measure && this.dashboardItem.hiddenMeasures().indexOf(dataItemApplyTo) !== -1) {\n                var valueApplyTo = this.dashboardItem.columns().filter(function (column) { return !(column instanceof grid_columns_1.GridDeltaColumn); })[0];\n                dataItemApplyTo = valueApplyTo && valueApplyTo.actualDataItem;\n            }\n            tabs.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.ConditionalFormatting, 'DashboardWebStringId.ConditionalFormatting', _data_item_properties_composer_1.DataItemsPropertiesComposer.getFormatRulesWrapper(this.dashboardItem, _data_item_properties_composer_1.DataItemsPropertiesComposer.getCellFormatRuleCreator(dataItem, dataItemApplyTo, 'GridItemFormatRule'), _data_item_properties_composer_1.DataItemsPropertiesComposer.getCellFormatRuleFilter(dataItem), editRuleHandler)));\n        }\n    };\n    GridItemSurface.prototype.extendHiddenMeasuresTabs = function (tabs, model) {\n        this.addConditionalFormattingOptions(tabs, model);\n    };\n    GridItemSurface.prototype.fillSections = function () {\n        var _this = this;\n        var editRuleHandler = function (selection, args, container) {\n            var surface = new _format_rule_surface_1.FormatRuleSurface(container, _this.dashboardItem, _this._dataSourceBrowser, _this.propertiesController);\n            surface.startEditing(args);\n        };\n        this.editRuleHandler = editRuleHandler;\n        var editDeltaFormatHandler = function (model) {\n            var surface = new _delta_numeric_format_surface_1.DeltaNumericFormatSurface(model, _this.propertiesController);\n            surface.startEditing(new _collection_editor_viewmodel_1.CollectionEditorEditItemArguments());\n        };\n        var sectionInfo = {\n            title: 'DashboardWebStringId.Binding.Columns',\n            bindingProperty: {\n                propertyName: _grid_item_1.gridColumns.propertyName,\n                emptyPlaceholder: 'DashboardWebStringId.Binding.AddColumn',\n                selectedPlaceholder: 'DashboardWebStringId.Binding.ConfigureColumn',\n                groupName: 'Column',\n                creator: function (itemType, dataField, existingDataItem) {\n                    if (!itemType) {\n                        var dimensionDisplayMode = null;\n                        if (existingDataItem) {\n                            if (existingDataItem instanceof dimension_1.Dimension) {\n                                itemType = 'GridDimensionColumn';\n                            }\n                            else if (existingDataItem instanceof measure_1.Measure) {\n                                itemType = 'GridMeasureColumn';\n                            }\n                        }\n                        else if (_data_field_1.DataField.isMeasure(dataField)) {\n                            itemType = 'GridMeasureColumn';\n                        }\n                        else {\n                            itemType = 'GridDimensionColumn';\n                            if (dataField.fieldType() === 'Custom') {\n                                dimensionDisplayMode = 'Image';\n                            }\n                        }\n                    }\n                    var columnJson = { '@ItemType': itemType };\n                    if (dimensionDisplayMode) {\n                        columnJson['@DisplayMode'] = dimensionDisplayMode;\n                    }\n                    return _this.dashboardItem._createGridColumn(columnJson);\n                },\n                containersMap: grid_item_1.GridItem._gridColumnTypesMap,\n                dataItemType: undefined\n            },\n            detailsPropertiesComposer: new _grid_column_properties_composer_1.GridColumnPropertiesComposer(this._dataItemContainerCustomization, editRuleHandler, editDeltaFormatHandler)\n        };\n        this.dataSections.push(new _data_item_container_collection_surface_1.DataItemContainerCollectionSurface(this, this.dashboardItem, sectionInfo, ko.computed(function () { return _this.dashboardItem.columns().length === 0 && !!_this.dashboardItem.sparklineArgument() && !!_this.dashboardItem.sparklineArgument().uniqueName(); })));\n        this.dataSections.push(new _single_data_item_surface_1.SingleDataItemSurface({\n            itemSurface: this,\n            sectionInfo: _section_descriptors_1.SectionDescriptors.SparklineArgument,\n            warning: ko.computed(function () {\n                return !(_this.dashboardItem.sparklineArgument() && _this.dashboardItem.sparklineArgument().uniqueName())\n                    && _this.dashboardItem.columns().some(function (column) { return column.itemType() === 'GridSparklineColumn'; });\n            }),\n            fieldConstraint: function (dataField) {\n                return _data_field_1.DataField.isContinous(dataField);\n            }\n        }));\n    };\n    GridItemSurface.prototype.getPropertiesComposer = function () {\n        return new _grid_item_properties_composer_1.GridItemPropertiesComposer(this._dashboardItemCustomization, this.editRuleHandler, this.dataSourceBrowser);\n    };\n    return GridItemSurface;\n}(_base_item_surface_1.DataDashboardItemSurface));\nexports.GridItemSurface = GridItemSurface;\n_section_descriptors_1.surfaceItemsFactory.register('Grid', GridItemSurface);\n"]},"metadata":{},"sourceType":"script"}