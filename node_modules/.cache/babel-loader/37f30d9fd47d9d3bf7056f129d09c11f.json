{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_geo-point-map-data-controller-base.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.geoPointMapDataControllerBase = void 0;\n\nvar _data_controller_base_1 = require(\"./_data-controller-base\");\n\nvar geoPointMapDataControllerBase = function (_super) {\n  __extends(geoPointMapDataControllerBase, _super);\n\n  function geoPointMapDataControllerBase(options) {\n    var _this = _super.call(this, options) || this;\n\n    _this.axisPoints = [];\n\n    _this._prepare();\n\n    return _this;\n  }\n\n  geoPointMapDataControllerBase.prototype.getPoint = function (index, valueIndex) {\n    var pointsCount = this._getPointsCount(index);\n\n    return {\n      lat: this._getLatitudeValue(index),\n      lon: this._getLongitudeValue(index),\n      latSel: this._getLatitudeUniqueValue(index),\n      lonSel: this._getLongitudeUniqueValue(index),\n      pointsCount: pointsCount,\n      tooltipDimensions: pointsCount < 2 ? this._getTooltipDimensions(index) : [],\n      tooltipMeasures: this._getTooltipMeasures(index)\n    };\n  };\n\n  geoPointMapDataControllerBase.prototype.getCount = function () {\n    return this.axisPoints.length;\n  };\n\n  geoPointMapDataControllerBase.prototype._prepare = function () {\n    var dimensionId = this._getAxisPointDimensionDescriptorId(),\n        axis = this.multiData.getAxis();\n\n    this.axisPoints = dimensionId ? axis.getPointsByDimension(dimensionId) : [];\n  };\n\n  geoPointMapDataControllerBase.prototype._getAxisPointDimensionDescriptorId = function () {\n    return this.viewModel.LongitudeDataId;\n  };\n\n  geoPointMapDataControllerBase.prototype._getMeasure = function (index, measureName, groupByDimensionId) {\n    var axisPoint = this._getAxisPoint(index);\n\n    if (groupByDimensionId) axisPoint = axisPoint.getParentByDimensionId(groupByDimensionId);\n    return this.multiData.getSlice(axisPoint).getMeasureValue(measureName);\n  };\n\n  geoPointMapDataControllerBase.prototype._getMeasureValue = function (index, measureName) {\n    return this._getMeasure(index, measureName).getValue();\n  };\n\n  geoPointMapDataControllerBase.prototype._getMeasureDisplayText = function (index, measureName, groupByDimensionId) {\n    return this._getMeasure(index, measureName, groupByDimensionId).getDisplayText();\n  };\n\n  geoPointMapDataControllerBase.prototype._getLatitude = function (index) {\n    var point = this._getAxisPoint(index);\n\n    return point.getParentByDimensionId(this.viewModel.LatitudeDataId);\n  };\n\n  geoPointMapDataControllerBase.prototype._getLatitudeValue = function (index) {\n    return this._getLatitude(index).getValue();\n  };\n\n  geoPointMapDataControllerBase.prototype._getLatitudeUniqueValue = function (index) {\n    return this._getLatitude(index).getUniqueValue();\n  };\n\n  geoPointMapDataControllerBase.prototype._getLongitude = function (index) {\n    var point = this._getAxisPoint(index);\n\n    return point.getParentByDimensionId(this.viewModel.LongitudeDataId);\n  };\n\n  geoPointMapDataControllerBase.prototype._getLongitudeValue = function (index) {\n    return this._getLongitude(index).getValue();\n  };\n\n  geoPointMapDataControllerBase.prototype._getLongitudeUniqueValue = function (index) {\n    return this._getLongitude(index).getUniqueValue();\n  };\n\n  geoPointMapDataControllerBase.prototype._getPointsCount = function (index) {\n    var axisPoint = this._getAxisPoint(index).getParentByDimensionId(this.viewModel.LongitudeDataId);\n\n    return this.multiData.getSlice(axisPoint).getMeasureValue(this.viewModel.PointsCountDataId).getValue();\n  };\n\n  geoPointMapDataControllerBase.prototype._getTooltipDimensions = function (index) {\n    var tooltipDimensionsViewModel = this.viewModel.TooltipDimensions,\n        tooltipDimensions = [],\n        values,\n        distinctValues;\n\n    if (tooltipDimensionsViewModel) {\n      for (var i = 0; i < tooltipDimensionsViewModel.length; i++) {\n        var axisPoint = this._getAxisPoint(index);\n\n        axisPoint = axisPoint.getParentByDimensionId(this.viewModel.LongitudeDataId);\n        values = axisPoint.getDisplayTextsByDimensionId(tooltipDimensionsViewModel[i].DataId).filter(function (v, i, a) {\n          return a.indexOf(v) === i;\n        });\n        distinctValues = values.filter(function (el, index) {\n          return index === values.indexOf(el);\n        });\n        tooltipDimensions.push({\n          caption: tooltipDimensionsViewModel[i].Caption,\n          values: distinctValues\n        });\n      }\n    }\n\n    return tooltipDimensions;\n  };\n\n  geoPointMapDataControllerBase.prototype._getTooltipMeasures = function (index) {\n    var tooltipMeasuresViewModel = this.viewModel.TooltipMeasures;\n    var tooltipMeasures = [];\n\n    if (tooltipMeasuresViewModel) {\n      for (var i = 0; i < tooltipMeasuresViewModel.length; i++) {\n        tooltipMeasures.push({\n          caption: tooltipMeasuresViewModel[i].Caption,\n          value: this._getMeasureDisplayText(index, tooltipMeasuresViewModel[i].DataId, this.viewModel.LongitudeDataId)\n        });\n      }\n    }\n\n    return tooltipMeasures;\n  };\n\n  geoPointMapDataControllerBase.prototype._getAxisPoint = function (index) {\n    return this.axisPoints[index];\n  };\n\n  return geoPointMapDataControllerBase;\n}(_data_controller_base_1.dataControllerBase);\n\nexports.geoPointMapDataControllerBase = geoPointMapDataControllerBase;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/data/data-controllers/_geo-point-map-data-controller-base.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","geoPointMapDataControllerBase","_data_controller_base_1","require","_super","options","_this","axisPoints","_prepare","getPoint","index","valueIndex","pointsCount","_getPointsCount","lat","_getLatitudeValue","lon","_getLongitudeValue","latSel","_getLatitudeUniqueValue","lonSel","_getLongitudeUniqueValue","tooltipDimensions","_getTooltipDimensions","tooltipMeasures","_getTooltipMeasures","getCount","length","dimensionId","_getAxisPointDimensionDescriptorId","axis","multiData","getAxis","getPointsByDimension","viewModel","LongitudeDataId","_getMeasure","measureName","groupByDimensionId","axisPoint","_getAxisPoint","getParentByDimensionId","getSlice","getMeasureValue","_getMeasureValue","getValue","_getMeasureDisplayText","getDisplayText","_getLatitude","point","LatitudeDataId","getUniqueValue","_getLongitude","PointsCountDataId","tooltipDimensionsViewModel","TooltipDimensions","values","distinctValues","i","getDisplayTextsByDimensionId","DataId","filter","v","a","indexOf","el","push","caption","Caption","tooltipMeasuresViewModel","TooltipMeasures","dataControllerBase"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_geo-point-map-data-controller-base.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.geoPointMapDataControllerBase = void 0;\nvar _data_controller_base_1 = require(\"./_data-controller-base\");\nvar geoPointMapDataControllerBase = (function (_super) {\n    __extends(geoPointMapDataControllerBase, _super);\n    function geoPointMapDataControllerBase(options) {\n        var _this = _super.call(this, options) || this;\n        _this.axisPoints = [];\n        _this._prepare();\n        return _this;\n    }\n    geoPointMapDataControllerBase.prototype.getPoint = function (index, valueIndex) {\n        var pointsCount = this._getPointsCount(index);\n        return {\n            lat: this._getLatitudeValue(index),\n            lon: this._getLongitudeValue(index),\n            latSel: this._getLatitudeUniqueValue(index),\n            lonSel: this._getLongitudeUniqueValue(index),\n            pointsCount: pointsCount,\n            tooltipDimensions: pointsCount < 2 ? this._getTooltipDimensions(index) : [],\n            tooltipMeasures: this._getTooltipMeasures(index)\n        };\n    };\n    geoPointMapDataControllerBase.prototype.getCount = function () {\n        return this.axisPoints.length;\n    };\n    geoPointMapDataControllerBase.prototype._prepare = function () {\n        var dimensionId = this._getAxisPointDimensionDescriptorId(), axis = this.multiData.getAxis();\n        this.axisPoints = dimensionId ? axis.getPointsByDimension(dimensionId) : [];\n    };\n    geoPointMapDataControllerBase.prototype._getAxisPointDimensionDescriptorId = function () {\n        return this.viewModel.LongitudeDataId;\n    };\n    geoPointMapDataControllerBase.prototype._getMeasure = function (index, measureName, groupByDimensionId) {\n        var axisPoint = this._getAxisPoint(index);\n        if (groupByDimensionId)\n            axisPoint = axisPoint.getParentByDimensionId(groupByDimensionId);\n        return this.multiData.getSlice(axisPoint).getMeasureValue(measureName);\n    };\n    geoPointMapDataControllerBase.prototype._getMeasureValue = function (index, measureName) {\n        return this._getMeasure(index, measureName).getValue();\n    };\n    geoPointMapDataControllerBase.prototype._getMeasureDisplayText = function (index, measureName, groupByDimensionId) {\n        return this._getMeasure(index, measureName, groupByDimensionId).getDisplayText();\n    };\n    geoPointMapDataControllerBase.prototype._getLatitude = function (index) {\n        var point = this._getAxisPoint(index);\n        return point.getParentByDimensionId(this.viewModel.LatitudeDataId);\n    };\n    geoPointMapDataControllerBase.prototype._getLatitudeValue = function (index) {\n        return this._getLatitude(index).getValue();\n    };\n    geoPointMapDataControllerBase.prototype._getLatitudeUniqueValue = function (index) {\n        return this._getLatitude(index).getUniqueValue();\n    };\n    geoPointMapDataControllerBase.prototype._getLongitude = function (index) {\n        var point = this._getAxisPoint(index);\n        return point.getParentByDimensionId(this.viewModel.LongitudeDataId);\n    };\n    geoPointMapDataControllerBase.prototype._getLongitudeValue = function (index) {\n        return this._getLongitude(index).getValue();\n    };\n    geoPointMapDataControllerBase.prototype._getLongitudeUniqueValue = function (index) {\n        return this._getLongitude(index).getUniqueValue();\n    };\n    geoPointMapDataControllerBase.prototype._getPointsCount = function (index) {\n        var axisPoint = this._getAxisPoint(index).getParentByDimensionId(this.viewModel.LongitudeDataId);\n        return this.multiData.getSlice(axisPoint).getMeasureValue(this.viewModel.PointsCountDataId).getValue();\n    };\n    geoPointMapDataControllerBase.prototype._getTooltipDimensions = function (index) {\n        var tooltipDimensionsViewModel = this.viewModel.TooltipDimensions, tooltipDimensions = [], values, distinctValues;\n        if (tooltipDimensionsViewModel) {\n            for (var i = 0; i < tooltipDimensionsViewModel.length; i++) {\n                var axisPoint = this._getAxisPoint(index);\n                axisPoint = axisPoint.getParentByDimensionId(this.viewModel.LongitudeDataId);\n                values = axisPoint.getDisplayTextsByDimensionId(tooltipDimensionsViewModel[i].DataId).filter(function (v, i, a) { return a.indexOf(v) === i; });\n                distinctValues = values.filter(function (el, index) {\n                    return index === values.indexOf(el);\n                });\n                tooltipDimensions.push({\n                    caption: tooltipDimensionsViewModel[i].Caption,\n                    values: distinctValues\n                });\n            }\n        }\n        return tooltipDimensions;\n    };\n    geoPointMapDataControllerBase.prototype._getTooltipMeasures = function (index) {\n        var tooltipMeasuresViewModel = this.viewModel.TooltipMeasures;\n        var tooltipMeasures = [];\n        if (tooltipMeasuresViewModel) {\n            for (var i = 0; i < tooltipMeasuresViewModel.length; i++) {\n                tooltipMeasures.push({\n                    caption: tooltipMeasuresViewModel[i].Caption,\n                    value: this._getMeasureDisplayText(index, tooltipMeasuresViewModel[i].DataId, this.viewModel.LongitudeDataId)\n                });\n            }\n        }\n        return tooltipMeasures;\n    };\n    geoPointMapDataControllerBase.prototype._getAxisPoint = function (index) {\n        return this.axisPoints[index];\n    };\n    return geoPointMapDataControllerBase;\n}(_data_controller_base_1.dataControllerBase));\nexports.geoPointMapDataControllerBase = geoPointMapDataControllerBase;\n"]},"metadata":{},"sourceType":"script"}