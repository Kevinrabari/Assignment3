{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_pivot-grid-item-helper.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FieldsExtractor = exports.OneElementFilterRemover = exports.FilterChecker = exports.pivotHelper = void 0;\n\nvar item_data_axis_names_1 = require(\"../../../data/item-data/item-data-axis-names\");\n\nvar _utils_1 = require(\"../../../data/_utils\");\n\nexports.pivotHelper = {\n  getSchemaRow: function (fields) {\n    var row = {};\n    fields && fields.forEach(function (f) {\n      row[f.name] = undefined;\n    });\n    return row;\n  },\n  createAreaFields: function (fieldsViewModels, area, autoExpand) {\n    return fieldsViewModels ? fieldsViewModels.map(function (viewModel) {\n      return {\n        name: viewModel.DataId,\n        dataField: viewModel.DataId,\n        caption: viewModel.Caption,\n        area: area,\n        expanded: autoExpand,\n        sortBy: 'none'\n      };\n    }) : [];\n  },\n  getColumnAxis: function (multiData) {\n    return multiData.getAxis(item_data_axis_names_1.itemDataAxisNames.pivotColumnAxis);\n  },\n  getRowAxis: function (multiData) {\n    return multiData.getAxis(item_data_axis_names_1.itemDataAxisNames.pivotRowAxis);\n  }\n};\n\nvar FilterValueVisitor = function () {\n  function FilterValueVisitor() {\n    this._supportedLogicalOperation = ['and', 'or'];\n  }\n\n  FilterValueVisitor.prototype._visitComplexExpression = function (filter) {\n    var currentResult = undefined;\n    var currentOperator = null;\n\n    for (var i = 0; i < filter.length; i++) {\n      var currentElement = filter[i];\n\n      if (i % 2 === 1) {\n        if (typeof currentElement === 'string' && this._supportedLogicalOperation.indexOf(currentElement) !== -1) {\n          currentOperator = currentElement;\n        } else {\n          new Error(\"Filter \\\"\" + JSON.stringify(filter) + \"\\\" has unsupported structure. Element \\\"\" + JSON.stringify(currentElement) + \"\\\" at \" + i + \" is not supported operator\");\n        }\n      } else {\n        if (Array.isArray(currentElement)) {\n          if (i === 0) {\n            currentResult = this._visit(currentElement);\n          } else {\n            switch (currentOperator) {\n              case 'and':\n                currentResult = this._and(currentResult, this._visit(currentElement));\n                break;\n\n              case 'or':\n                currentResult = this._or(currentResult, this._visit(currentElement));\n                break;\n\n              default:\n                throw new Error(\"The operator \\\"\" + currentOperator.toString() + \"\\\" is not supported in filter expression\");\n            }\n          }\n        } else {\n          throw new Error(\"Filter \\\"\" + JSON.stringify(filter) + \"\\\" has unsupported structure. Element \\\"\" + JSON.stringify(currentElement) + \"\\\" at \" + i + \" should be array\");\n        }\n      }\n    }\n\n    return currentResult;\n  };\n\n  FilterValueVisitor.prototype._visit = function (filter) {\n    if (!filter || filter.length === 0) return this._visitEmpty(filter);\n\n    if (filter.length === 1) {\n      return this._visit(filter[0]);\n    }\n\n    if (filter.length === 2) {\n      return this._negate(this._visit(filter[1]));\n    } else {\n      if (filter.length === 3 && filter[1] === '=') {\n        var field = filter[0];\n        var value = filter[2];\n        return this._visitEquality(field, value);\n      } else if (filter.length >= 3 && filter.length % 2 === 1) {\n        return this._visitComplexExpression(filter);\n      } else {\n        throw new Error(\"Filter \\\"\" + JSON.stringify(filter) + \"\\\" has unsupported structure: must contain an odd number of elements\");\n      }\n    }\n  };\n\n  return FilterValueVisitor;\n}();\n\nvar FilterChecker = function (_super) {\n  __extends(FilterChecker, _super);\n\n  function FilterChecker() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FilterChecker.fits = function (dimensionValues, filter) {\n    FilterChecker._instance._dimensionValues = dimensionValues;\n    return FilterChecker._instance._visit(filter);\n  };\n\n  FilterChecker.prototype._visitEmpty = function (filter) {\n    return true;\n  };\n\n  FilterChecker.prototype._negate = function (value) {\n    return !value;\n  };\n\n  FilterChecker.prototype._visitEquality = function (field, value) {\n    return this._dimensionValues[field] === undefined || this._dimensionValues[field] === value;\n  };\n\n  FilterChecker.prototype._and = function (left, right) {\n    return left && right;\n  };\n\n  FilterChecker.prototype._or = function (left, right) {\n    return left || right;\n  };\n\n  FilterChecker._instance = new FilterChecker();\n  return FilterChecker;\n}(FilterValueVisitor);\n\nexports.FilterChecker = FilterChecker;\n\nvar OneElementFilterRemover = function (_super) {\n  __extends(OneElementFilterRemover, _super);\n\n  function OneElementFilterRemover() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  OneElementFilterRemover.simplify = function (filter) {\n    return OneElementFilterRemover._instance._visit(filter);\n  };\n\n  OneElementFilterRemover.prototype._visitEmpty = function (filter) {\n    return filter;\n  };\n\n  OneElementFilterRemover.prototype._negate = function (value) {\n    return ['!', value];\n  };\n\n  OneElementFilterRemover.prototype._visitEquality = function (field, value) {\n    return [field, '=', value];\n  };\n\n  OneElementFilterRemover.prototype._and = function (left, right) {\n    return [left, 'and', right];\n  };\n\n  OneElementFilterRemover.prototype._or = function (left, right) {\n    return [left, 'or', right];\n  };\n\n  OneElementFilterRemover._instance = new OneElementFilterRemover();\n  return OneElementFilterRemover;\n}(FilterValueVisitor);\n\nexports.OneElementFilterRemover = OneElementFilterRemover;\n\nvar FieldsExtractor = function (_super) {\n  __extends(FieldsExtractor, _super);\n\n  function FieldsExtractor() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  FieldsExtractor.extract = function (filter) {\n    return _utils_1.distinct(FieldsExtractor._instance._visit(filter));\n  };\n\n  FieldsExtractor.prototype._visitEmpty = function (filter) {\n    return [];\n  };\n\n  FieldsExtractor.prototype._negate = function (value) {\n    return value;\n  };\n\n  FieldsExtractor.prototype._visitEquality = function (field, value) {\n    return [field];\n  };\n\n  FieldsExtractor.prototype._and = function (left, right) {\n    return left.concat(right);\n  };\n\n  FieldsExtractor.prototype._or = function (left, right) {\n    return left.concat(right);\n  };\n\n  FieldsExtractor._instance = new FieldsExtractor();\n  return FieldsExtractor;\n}(FilterValueVisitor);\n\nexports.FieldsExtractor = FieldsExtractor;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/viewer-items/pivot-grid-item/_pivot-grid-item-helper.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","FieldsExtractor","OneElementFilterRemover","FilterChecker","pivotHelper","item_data_axis_names_1","require","_utils_1","getSchemaRow","fields","row","forEach","f","name","undefined","createAreaFields","fieldsViewModels","area","autoExpand","map","viewModel","DataId","dataField","caption","Caption","expanded","sortBy","getColumnAxis","multiData","getAxis","itemDataAxisNames","pivotColumnAxis","getRowAxis","pivotRowAxis","FilterValueVisitor","_supportedLogicalOperation","_visitComplexExpression","filter","currentResult","currentOperator","i","length","currentElement","indexOf","Error","JSON","stringify","isArray","_visit","_and","_or","toString","_visitEmpty","_negate","field","_visitEquality","_super","apply","arguments","fits","dimensionValues","_instance","_dimensionValues","left","right","simplify","extract","distinct","concat"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_pivot-grid-item-helper.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FieldsExtractor = exports.OneElementFilterRemover = exports.FilterChecker = exports.pivotHelper = void 0;\nvar item_data_axis_names_1 = require(\"../../../data/item-data/item-data-axis-names\");\nvar _utils_1 = require(\"../../../data/_utils\");\nexports.pivotHelper = {\n    getSchemaRow: function (fields) {\n        var row = {};\n        fields && fields.forEach(function (f) {\n            row[f.name] = undefined;\n        });\n        return row;\n    },\n    createAreaFields: function (fieldsViewModels, area, autoExpand) {\n        return fieldsViewModels ? fieldsViewModels.map(function (viewModel) {\n            return {\n                name: viewModel.DataId,\n                dataField: viewModel.DataId,\n                caption: viewModel.Caption,\n                area: area,\n                expanded: autoExpand,\n                sortBy: 'none'\n            };\n        }) : [];\n    },\n    getColumnAxis: function (multiData) {\n        return multiData.getAxis(item_data_axis_names_1.itemDataAxisNames.pivotColumnAxis);\n    },\n    getRowAxis: function (multiData) {\n        return multiData.getAxis(item_data_axis_names_1.itemDataAxisNames.pivotRowAxis);\n    }\n};\nvar FilterValueVisitor = (function () {\n    function FilterValueVisitor() {\n        this._supportedLogicalOperation = ['and', 'or'];\n    }\n    FilterValueVisitor.prototype._visitComplexExpression = function (filter) {\n        var currentResult = undefined;\n        var currentOperator = null;\n        for (var i = 0; i < filter.length; i++) {\n            var currentElement = filter[i];\n            if (i % 2 === 1) {\n                if (typeof currentElement === 'string' && this._supportedLogicalOperation.indexOf(currentElement) !== -1) {\n                    currentOperator = currentElement;\n                }\n                else {\n                    new Error(\"Filter \\\"\" + JSON.stringify(filter) + \"\\\" has unsupported structure. Element \\\"\" + JSON.stringify(currentElement) + \"\\\" at \" + i + \" is not supported operator\");\n                }\n            }\n            else {\n                if (Array.isArray(currentElement)) {\n                    if (i === 0) {\n                        currentResult = this._visit(currentElement);\n                    }\n                    else {\n                        switch (currentOperator) {\n                            case 'and':\n                                currentResult = this._and(currentResult, this._visit(currentElement));\n                                break;\n                            case 'or':\n                                currentResult = this._or(currentResult, this._visit(currentElement));\n                                break;\n                            default:\n                                throw new Error(\"The operator \\\"\" + currentOperator.toString() + \"\\\" is not supported in filter expression\");\n                        }\n                    }\n                }\n                else {\n                    throw new Error(\"Filter \\\"\" + JSON.stringify(filter) + \"\\\" has unsupported structure. Element \\\"\" + JSON.stringify(currentElement) + \"\\\" at \" + i + \" should be array\");\n                }\n            }\n        }\n        return currentResult;\n    };\n    FilterValueVisitor.prototype._visit = function (filter) {\n        if (!filter || filter.length === 0)\n            return this._visitEmpty(filter);\n        if (filter.length === 1) {\n            return this._visit(filter[0]);\n        }\n        if (filter.length === 2) {\n            return this._negate(this._visit(filter[1]));\n        }\n        else {\n            if (filter.length === 3 && filter[1] === '=') {\n                var field = filter[0];\n                var value = filter[2];\n                return this._visitEquality(field, value);\n            }\n            else if (filter.length >= 3 && filter.length % 2 === 1) {\n                return this._visitComplexExpression(filter);\n            }\n            else {\n                throw new Error(\"Filter \\\"\" + JSON.stringify(filter) + \"\\\" has unsupported structure: must contain an odd number of elements\");\n            }\n        }\n    };\n    return FilterValueVisitor;\n}());\nvar FilterChecker = (function (_super) {\n    __extends(FilterChecker, _super);\n    function FilterChecker() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FilterChecker.fits = function (dimensionValues, filter) {\n        FilterChecker._instance._dimensionValues = dimensionValues;\n        return FilterChecker._instance._visit(filter);\n    };\n    FilterChecker.prototype._visitEmpty = function (filter) {\n        return true;\n    };\n    FilterChecker.prototype._negate = function (value) {\n        return !value;\n    };\n    FilterChecker.prototype._visitEquality = function (field, value) {\n        return this._dimensionValues[field] === undefined || this._dimensionValues[field] === value;\n    };\n    FilterChecker.prototype._and = function (left, right) {\n        return left && right;\n    };\n    FilterChecker.prototype._or = function (left, right) {\n        return left || right;\n    };\n    FilterChecker._instance = new FilterChecker();\n    return FilterChecker;\n}(FilterValueVisitor));\nexports.FilterChecker = FilterChecker;\nvar OneElementFilterRemover = (function (_super) {\n    __extends(OneElementFilterRemover, _super);\n    function OneElementFilterRemover() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    OneElementFilterRemover.simplify = function (filter) {\n        return OneElementFilterRemover._instance._visit(filter);\n    };\n    OneElementFilterRemover.prototype._visitEmpty = function (filter) {\n        return filter;\n    };\n    OneElementFilterRemover.prototype._negate = function (value) {\n        return ['!', value];\n    };\n    OneElementFilterRemover.prototype._visitEquality = function (field, value) {\n        return [field, '=', value];\n    };\n    OneElementFilterRemover.prototype._and = function (left, right) {\n        return [left, 'and', right];\n    };\n    OneElementFilterRemover.prototype._or = function (left, right) {\n        return [left, 'or', right];\n    };\n    OneElementFilterRemover._instance = new OneElementFilterRemover();\n    return OneElementFilterRemover;\n}(FilterValueVisitor));\nexports.OneElementFilterRemover = OneElementFilterRemover;\nvar FieldsExtractor = (function (_super) {\n    __extends(FieldsExtractor, _super);\n    function FieldsExtractor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FieldsExtractor.extract = function (filter) {\n        return _utils_1.distinct(FieldsExtractor._instance._visit(filter));\n    };\n    FieldsExtractor.prototype._visitEmpty = function (filter) {\n        return [];\n    };\n    FieldsExtractor.prototype._negate = function (value) {\n        return value;\n    };\n    FieldsExtractor.prototype._visitEquality = function (field, value) {\n        return [field];\n    };\n    FieldsExtractor.prototype._and = function (left, right) {\n        return left.concat(right);\n    };\n    FieldsExtractor.prototype._or = function (left, right) {\n        return left.concat(right);\n    };\n    FieldsExtractor._instance = new FieldsExtractor();\n    return FieldsExtractor;\n}(FilterValueVisitor));\nexports.FieldsExtractor = FieldsExtractor;\n"]},"metadata":{},"sourceType":"script"}