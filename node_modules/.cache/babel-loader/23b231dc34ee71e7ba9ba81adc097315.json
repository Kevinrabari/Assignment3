{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_base-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cssClassNamesBaseItem = exports.baseItem = exports.getControlContainer = exports.createDefaultToolbar = void 0;\n\nvar $ = require(\"jquery\");\n\nvar _default_1 = require(\"../../data/localization/_default\");\n\nvar _common_1 = require(\"../../data/_common\");\n\nvar _factory_1 = require(\"../../data/_factory\");\n\nvar _formatter_1 = require(\"../../data/_formatter\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar _localization_ids_1 = require(\"../../data/_localization-ids\");\n\nvar _localizer_1 = require(\"../../data/_localizer\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar _z_index_1 = require(\"../../data/_z-index\");\n\nvar _utils_layout_1 = require(\"../layout/_utils.layout\");\n\nvar _dashboard_viewer_constants_1 = require(\"../viewer/_dashboard-viewer-constants\");\n\nvar caption_toolbar_options_1 = require(\"../widgets/caption-toolbar/caption-toolbar-options\");\n\nvar _caption_toolbar_css_classes_1 = require(\"../widgets/caption-toolbar/_caption-toolbar-css-classes\");\n\nvar _clickable_floating_toolbar_1 = require(\"../widgets/caption-toolbar/_clickable-floating-toolbar\");\n\nvar _hidden_caption_toolbar_1 = require(\"../widgets/caption-toolbar/_hidden-caption-toolbar\");\n\nvar _hovered_floating_toolbar_1 = require(\"../widgets/caption-toolbar/_hovered-floating-toolbar\");\n\nvar _hovered_toolbar_1 = require(\"../widgets/caption-toolbar/_hovered-toolbar\");\n\nvar _minimized_clickable_toolbar_1 = require(\"../widgets/caption-toolbar/_minimized-clickable-toolbar\");\n\nvar _minimized_hovered_toolbar_1 = require(\"../widgets/caption-toolbar/_minimized-hovered-toolbar\");\n\nvar _static_toolbar_1 = require(\"../widgets/caption-toolbar/_static-toolbar\");\n\nvar _render_helper_1 = require(\"../widgets/_render-helper\");\n\nvar _dashboard_layout_mode_helper_1 = require(\"../_dashboard-layout-mode-helper\");\n\nvar _item_loading_1 = require(\"./elements/_item-loading\");\n\nvar _interactivity_controller_1 = require(\"./_interactivity-controller\");\n\nvar createDefaultToolbar = function (viewerItem, container, controlContainer, popupContainer, viewOptions) {\n  if (viewOptions.hiddenToolbar) {\n    return new _hidden_caption_toolbar_1.HiddenCaptionToolbar();\n  } else if (_dashboard_layout_mode_helper_1.DashboardLayoutModeHelper.isTouch) {\n    if (viewOptions.hasCaption) {\n      return new _static_toolbar_1.StaticCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, _caption_toolbar_css_classes_1.cssClasses.caption, viewOptions.captionToolbarSeparatorRequired, false);\n    } else {\n      if (viewOptions.allowPreview) {\n        return new _minimized_clickable_toolbar_1.MinimizedClickableCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.isBottomFloatingToolbarPosition, viewOptions.itemHasOwnContent);\n      } else {\n        return new _clickable_floating_toolbar_1.ClickableFloatingCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.isBottomFloatingToolbarPosition, viewOptions.itemHasOwnContent);\n      }\n    }\n  } else {\n    if (viewOptions.hasCaption) {\n      return new _hovered_toolbar_1.HoveredDashboardCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.captionToolbarSeparatorRequired);\n    } else {\n      if (viewOptions.allowPreview) {\n        return new _minimized_hovered_toolbar_1.MinimizedHoveredCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.isBottomFloatingToolbarPosition);\n      } else {\n        return new _hovered_floating_toolbar_1.HoveredFloatingCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.isBottomFloatingToolbarPosition);\n      }\n    }\n  }\n};\n\nexports.createDefaultToolbar = createDefaultToolbar;\n\nfunction getControlContainer(element) {\n  return $(element).closest('.dx-dashboard-widget-container')[0];\n}\n\nexports.getControlContainer = getControlContainer;\n\nvar baseItem = function () {\n  function baseItem($container, options) {\n    this._lockCount = 0;\n    this._isFixedHeight = false;\n    this.customHoverEnabled = false;\n    this._allowMultiselection = false;\n\n    this.dateToString = function (date) {\n      return date.toJSON();\n    };\n\n    this.selected = _jquery_helpers_1.createJQueryCallbacks();\n    this.clearMasterFilter = _jquery_helpers_1.createJQueryCallbacks();\n    this.drillUp = _jquery_helpers_1.createJQueryCallbacks();\n    this.contentElementSelection = _jquery_helpers_1.createJQueryCallbacks();\n    this.expandValue = _jquery_helpers_1.createJQueryCallbacks();\n    this.clientStateUpdate = _jquery_helpers_1.createJQueryCallbacks();\n    this.dataRequest = _jquery_helpers_1.createJQueryCallbacks();\n    this.itemClick = _jquery_helpers_1.createJQueryCallbacks();\n    this.itemHover = _jquery_helpers_1.createJQueryCallbacks();\n    this.itemSelectionChanged = _jquery_helpers_1.createJQueryCallbacks();\n    this.itemWidgetCreated = _jquery_helpers_1.createJQueryCallbacks();\n    this.itemWidgetUpdating = _jquery_helpers_1.createJQueryCallbacks();\n    this.itemWidgetUpdated = _jquery_helpers_1.createJQueryCallbacks();\n    this.itemWidgetOptionsPrepared = _jquery_helpers_1.createJQueryCallbacks();\n    this.itemCaptionToolbarUpdated = _jquery_helpers_1.createJQueryCallbacks();\n    this.constraintsUpdated = _jquery_helpers_1.createJQueryCallbacks();\n    this.customTargetAxes = [];\n    this.customDefaultSelectedValues = [];\n    this.itemLoadingElement = new _item_loading_1.ItemLoadingElement();\n    this.visualMode = 'full';\n    this._hasWidget = false;\n    this.deferredToolbarRenderingPromise = undefined;\n    this.createCaptionToolbar = exports.createDefaultToolbar;\n\n    this._initializeData(options);\n\n    this.container = $container;\n    this.controlContainer = options.controlContainer;\n    this._boundaryContainer = options.boundaryContainer;\n    this.interactivityController = new _interactivity_controller_1.interactivityController($.proxy(this.getSelectedTuples, this));\n    this.interactivityController.selectionChanged.add($.proxy(this._onSelectionChanged, this));\n    this.customSelectionMode = _interactivity_controller_1.dashboardSelectionMode.none;\n  }\n\n  Object.defineProperty(baseItem.prototype, \"hasWidget\", {\n    get: function () {\n      return this._hasWidget;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(baseItem.prototype, \"_captionToolbarSeparatorRequired\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(baseItem.prototype, \"_isBottomFloatingToolbarPosition\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(baseItem.prototype, \"_allowPreview\", {\n    get: function () {\n      return false;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(baseItem.prototype, \"_shouldApplySelectionOnInitialRender\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(baseItem.prototype, \"dataController\", {\n    get: function () {\n      return null;\n    },\n    set: function (dataController) {},\n    enumerable: false,\n    configurable: true\n  });\n\n  baseItem.prototype._initializeData = function (newOptions) {\n    if (!this.options) {\n      this.options = newOptions;\n    } else {\n      this.options = {\n        Name: newOptions.Name,\n        Type: newOptions.Type,\n        ParentContainer: newOptions.ParentContainer,\n        ContentType: newOptions.ContentType,\n        SelectedValues: newOptions.SelectedValues,\n        ViewModel: newOptions.ViewModel || this.options.ViewModel,\n        ActionModel: newOptions.ActionModel || this.options.ActionModel,\n        CaptionViewModel: newOptions.CaptionViewModel || this.options.CaptionViewModel,\n        ConditionalFormattingModel: newOptions.ConditionalFormattingModel || this.options.ConditionalFormattingModel,\n        Parameters: newOptions.Parameters,\n        DrillDownValues: newOptions.DrillDownValues,\n        DrillDownUniqueValues: newOptions.DrillDownUniqueValues,\n        AxisNames: newOptions.AxisNames,\n        DimensionIds: newOptions.DimensionIds,\n        multiData: newOptions.multiData,\n        encodeHtml: newOptions.encodeHtml !== undefined ? newOptions.encodeHtml : this.options.encodeHtml,\n        allowExport: newOptions.allowExport !== undefined ? newOptions.allowExport : this.options.allowExport,\n        showExportDialog: newOptions.showExportDialog !== undefined ? newOptions.showExportDialog : this.options.showExportDialog,\n        isDataReduced: !!newOptions.ItemData ? newOptions.ItemData.Reduced : this.options.isDataReduced,\n        useNeutralFilterMode: newOptions.useNeutralFilterMode !== undefined ? newOptions.useNeutralFilterMode : this.options.useNeutralFilterMode,\n        FullViewport: newOptions.FullViewport,\n        LimitDataState: newOptions.LimitDataState\n      };\n    }\n\n    if (!this.dataController || newOptions.ContentType != _common_1.contentType.actionModel) {\n      var drillDownState = {};\n      drillDownState[this._getDrillDownAxisName()] = this.options.DrillDownUniqueValues;\n      this.dataController = _factory_1.defaultDataControllerFactory.createDataController(this.options.Type, {\n        multiData: this.options.multiData,\n        viewModel: this.options.ViewModel,\n        cfModel: this.options.ConditionalFormattingModel,\n        useNeutralFilterMode: this.options.useNeutralFilterMode,\n        drillDownState: drillDownState\n      });\n\n      if (this.dataController) {\n        this.dataController.update(this.options.SelectedValues, this._isEncodeHtml());\n      }\n    }\n\n    this.customSelectedTuples = [];\n  };\n\n  baseItem.prototype.initialDataRequest = function () {\n    if (this.hasWidget) {\n      this.initialDataRequestUnsafe();\n    }\n  };\n\n  baseItem.prototype.initialDataRequestUnsafe = function () {};\n\n  Object.defineProperty(baseItem.prototype, \"allowMultiselection\", {\n    get: function () {\n      return this._allowMultiselection;\n    },\n    set: function (value) {\n      this._allowMultiselection = value;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  baseItem.prototype.forceUpdateInteractivity = function () {\n    this.updateCaptionToolbar();\n    this.updateInteractivityOptions();\n  };\n\n  baseItem.prototype.clearSelection = function () {\n    if (this.hasWidget) {\n      this._clearSelectionUnsafe();\n    } else {\n      this._clearSelectionBase();\n    }\n  };\n\n  baseItem.prototype._clearSelectionUnsafe = function () {\n    this._clearSelectionBase();\n  };\n\n  baseItem.prototype._clearSelectionBase = function () {};\n\n  baseItem.prototype.performClearSelection = function () {\n    this._setSelectedValues(null);\n\n    this.clearSelection();\n  };\n\n  baseItem.prototype.selectTuple = function (tuple, state) {\n    if (this.hasWidget) {\n      this.selectTupleUnsafe(tuple, state);\n    }\n  };\n\n  baseItem.prototype.selectTupleUnsafe = function (tuple, state) {};\n\n  baseItem.prototype.setSelection = function (values) {\n    if (this.hasWidget) {\n      this._setSelectionUnsafe(values);\n    } else {\n      this.setSelectionBase(values);\n    }\n  };\n\n  baseItem.prototype._setSelectionUnsafe = function (values) {\n    this.setSelectionBase(values);\n  };\n\n  baseItem.prototype.setSelectionBase = function (values) {\n    this._setSelectedValues(values);\n  };\n\n  baseItem.prototype._applySelection = function () {\n    if (this.hasWidget) {\n      this._applySelectionUnsafe();\n    }\n  };\n\n  baseItem.prototype._applySelectionUnsafe = function () {};\n\n  baseItem.prototype._isEncodeHtml = function () {\n    return !this.options || this.options.encodeHtml == undefined ? true : this.options.encodeHtml;\n  };\n\n  baseItem.prototype._isSupportDataAwareExport = function () {\n    return this.options && this.options.allowExport && this.options.ViewModel && this.options.ViewModel.SupportDataAwareExport;\n  };\n\n  baseItem.prototype._isLocked = function () {\n    if (this._lockCount < 0) throw new Error(\"Unresolved locker state (looks like 'unlock' method is called without 'lock')\");\n    return this._lockCount > 0;\n  };\n\n  baseItem.prototype._lock = function () {\n    this._lockCount++;\n  };\n\n  baseItem.prototype._unlock = function () {\n    this._lockCount--;\n  };\n\n  baseItem.prototype._getCustomSelectionMode = function () {\n    return this.customSelectionMode;\n  };\n\n  baseItem.prototype._setCustomSelectionMode = function (value) {\n    this.customSelectionMode = value;\n  };\n\n  baseItem.prototype._getCustomHoverEnabled = function () {\n    return this.customHoverEnabled;\n  };\n\n  baseItem.prototype._setCustomHoverEnabled = function (value) {\n    this.customHoverEnabled = value;\n  };\n\n  baseItem.prototype._getCustomTargetAxes = function () {\n    return this.customTargetAxes;\n  };\n\n  baseItem.prototype._setCustomTargetAxes = function (value) {\n    this.customTargetAxes = value;\n  };\n\n  baseItem.prototype._getTargetAxes = function () {\n    if (!this.isInteractivityActionEnabled()) {\n      return this._getCustomTargetAxes();\n    } else {\n      return this._getAxisNames();\n    }\n  };\n\n  baseItem.prototype.getSelectedTuples = function () {\n    var that = this,\n        multiData = that.options.multiData,\n        axisNames = that._getAxisNames(),\n        dimensionByAxis = {},\n        tupleValues,\n        axisValues,\n        valueIndex;\n\n    if (that._canSetMasterFilter() || that._canSetMultipleMasterFilter() || that._canPerformDrillDown()) {\n      var tuples = [];\n      if (that.options.SelectedValues == null) return tuples;\n\n      if (axisNames.length > 1) {\n        axisNames.forEach(function (axisName) {\n          dimensionByAxis[axisName] = multiData.getAxis(axisName).getDimensions();\n        });\n        that.options.SelectedValues.forEach(function (selection) {\n          tupleValues = [];\n          valueIndex = 0;\n          axisNames.forEach(function (axisName) {\n            axisValues = [];\n            dimensionByAxis[axisName].forEach(function () {\n              axisValues.push(selection[valueIndex++]);\n            });\n            tupleValues.push({\n              axisName: axisName,\n              value: axisValues\n            });\n          });\n          tuples.push(tupleValues);\n        });\n      } else {\n        var drillDownValues = that._getDrillDownValues();\n\n        that.options.SelectedValues.forEach(function (value) {\n          tuples.push([{\n            axisName: axisNames[0],\n            value: drillDownValues.concat(value)\n          }]);\n        });\n      }\n\n      return tuples;\n    } else {\n      return that.customSelectedTuples;\n    }\n  };\n\n  baseItem.prototype.updateItem = function (options) {\n    var that = this;\n\n    this._setCustomSelectionMode(options.selectionMode);\n\n    this._setCustomTargetAxes(options.targetAxes);\n\n    this._setCustomHoverEnabled(options.hoverEnabled);\n\n    this.customDefaultSelectedValues = options.defaultSelectedValues;\n    that.updateInteractivityOptions();\n\n    if (!this.isInteractivityActionEnabled()) {\n      var customDefaultSelectedValues = options.selectionMode == _interactivity_controller_1.dashboardSelectionMode.single ? that.customDefaultSelectedValues.slice(0, 1) : that.customDefaultSelectedValues;\n      that.interactivityController.clickAction(customDefaultSelectedValues);\n    }\n\n    this.updateCaptionToolbar();\n  };\n\n  baseItem.prototype.forceUpdateItem = function () {\n    this.forceCreateCaptionToolbar();\n    this.updateContentSize();\n  };\n\n  baseItem.prototype._changeTuple = function (tuple) {\n    var that = this,\n        newTuple = [];\n    tuple.forEach(function (axisValue) {\n      var axisName = axisValue.axisName,\n          value = axisValue.value;\n      newTuple.push({\n        axisName: axisName,\n        value: axisName == that._getDrillDownAxisName() ? value.slice(-1) : value\n      });\n    });\n    return newTuple;\n  };\n\n  baseItem.prototype._onSelectionChanged = function (tuples) {\n    var that = this,\n        currentSelectedValues = this.options.SelectedValues,\n        singleSelection = !!currentSelectedValues && currentSelectedValues.length === 1 ? currentSelectedValues[0] : null,\n        newSelection = [],\n        tupleValues,\n        selectedTuples = this.getSelectedTuples(),\n        actionName;\n\n    this._selectTuples(tuples, selectedTuples, true);\n\n    this._selectTuples(selectedTuples, tuples, false);\n\n    if (this.isInteractivityActionEnabled()) {\n      tuples.forEach(function (tuple) {\n        tupleValues = [];\n\n        that._getAxisNames().forEach(function (axisName) {\n          tupleValues.push.apply(tupleValues, _utils_1.getAxisPointValue(tuple, axisName).slice());\n        });\n\n        newSelection.push(tupleValues);\n      });\n      newSelection = this._deductDrillDownValues(newSelection);\n\n      this._setSelectedValues(newSelection);\n\n      actionName = this._getSelectionCallbackType(newSelection.length === 1 && singleSelection && _utils_1.checkValuesAreEqual(newSelection[0], singleSelection));\n\n      if (actionName === _common_1.viewerActions.drillDown) {\n        newSelection = newSelection[0];\n      }\n\n      if (this._mustSelectingFired(newSelection)) {\n        this.selected.fire(this.getName(), actionName, newSelection);\n      } else {\n        this._onClearMasterFilter();\n      }\n    } else {\n      this.customSelectedTuples = [];\n      tuples.forEach(function (tuple) {\n        that.customSelectedTuples.push(tuple);\n      });\n    }\n\n    if (this.customSelectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple) {\n      this.updateCaptionToolbar();\n    }\n\n    if (this.itemSelectionChanged) {\n      this.itemSelectionChanged.fire(this.getName(), tuples);\n    }\n  };\n\n  baseItem.prototype._mustSelectingFired = function (values) {\n    return values.length > 0;\n  };\n\n  baseItem.prototype._patchTroughDrillDownValues = function (values) {\n    var drillDownValues = this._getDrillDownValues(),\n        filterValues = [];\n\n    if (values) {\n      values.forEach(function (value) {\n        filterValues.push(drillDownValues.concat(value));\n      });\n    }\n\n    return filterValues;\n  };\n\n  baseItem.prototype._deductDrillDownValues = function (values) {\n    var drillDownValues = this._getDrillDownValues(),\n        drillDownValuesLength = drillDownValues.length,\n        cutValue;\n\n    values.forEach(function (value) {\n      cutValue = value.slice(0, drillDownValuesLength);\n      if (_utils_1.checkValuesAreEqual(cutValue, drillDownValues)) value.splice(0, drillDownValuesLength);\n    });\n    return values;\n  };\n\n  baseItem.prototype._getSelectionCallbackType = function (performDrillDown) {\n    var actionName = undefined;\n\n    if (this._canSetMultipleMasterFilter() && this.allowMultiselection) {\n      actionName = _common_1.viewerActions.setMultipleValuesMasterFilter;\n    } else if (this._canSetMasterFilter()) {\n      if (performDrillDown) {\n        if (this._canPerformDrillDown()) actionName = _common_1.viewerActions.drillDown;\n      } else {\n        actionName = _common_1.viewerActions.setMasterFilter;\n      }\n    } else if (this._canPerformDrillDown()) {\n      actionName = _common_1.viewerActions.drillDown;\n    }\n\n    return actionName;\n  };\n\n  baseItem.prototype._selectTuples = function (tuplesToSelect, unaffectedTuples, isSelect) {\n    var that = this;\n\n    var updateTuple = function (tuple) {\n      if (_utils_1.checkArrayContainsTuple(unaffectedTuples, tuple) == undefined) {\n        return that._hasDrillUpButton() && !that._isMultiDataSupported() ? that._changeTuple(tuple) : tuple;\n      }\n\n      return undefined;\n    };\n\n    this._selectTuplesCore(tuplesToSelect, updateTuple, isSelect);\n  };\n\n  baseItem.prototype._selectTuplesCore = function (tuples, updateTupleDelegate, state) {\n    var that = this;\n    $.each(tuples, function (index, tuple) {\n      var updatedTuple = updateTupleDelegate(tuple);\n\n      if (!!updatedTuple) {\n        that.selectTuple(updatedTuple, state);\n      }\n    });\n  };\n\n  baseItem.prototype._renderContent = function (element, changeExisting, afterRenderCallback) {\n    if (this.visualMode !== 'caption') {\n      this._hasWidget = true;\n      return this.renderContentUnsafe(element, changeExisting, afterRenderCallback);\n    }\n\n    return false;\n  };\n\n  baseItem.prototype.renderContentUnsafe = function ($element, changeExisting, afterRenderCallback) {\n    return false;\n  };\n\n  baseItem.prototype.renderPartialContent = function () {\n    if (this.hasWidget) {\n      this.renderPartialContentUnsafe();\n    }\n  };\n\n  baseItem.prototype.renderPartialContentUnsafe = function () {};\n\n  baseItem.prototype.updateContentState = function () {\n    if (this.hasWidget) {\n      this.updateContentStateUnsafe();\n    }\n  };\n\n  baseItem.prototype.updateContentStateUnsafe = function () {};\n\n  baseItem.prototype.getInfo = function () {\n    if (this.hasWidget) {\n      return this.getInfoUnsafe();\n    } else {\n      return this.getInfoBase();\n    }\n  };\n\n  baseItem.prototype.getInfoUnsafe = function () {\n    return this.getInfoBase();\n  };\n\n  baseItem.prototype.getInfoBase = function () {\n    var that = this,\n        container = this._getBoundaryContainer();\n\n    return {\n      name: that.getName(),\n      headerHeight: this.hasCaption() ? this.captionToolbar.calcHeight(this.getCaptionToolbarOptions()) : 0,\n      position: $(container).offset(),\n      width: $(container).outerWidth(),\n      height: $(container).outerHeight(),\n      virtualSize: undefined,\n      scroll: undefined\n    };\n  };\n\n  baseItem.prototype.getName = function () {\n    return this.options.Name;\n  };\n\n  baseItem.prototype.getCaption = function () {\n    return this.options.CaptionViewModel && this.options.CaptionViewModel.Text ? this.options.CaptionViewModel.Text.concat(this._getParametersTitle() || '') : undefined;\n  };\n\n  baseItem.prototype.hasCaption = function (options) {\n    var opts = options || this.options;\n    return opts && opts.CaptionViewModel && opts.CaptionViewModel.ShowCaption;\n  };\n\n  baseItem.prototype.hasParentContainer = function () {\n    return this.options && _utils_1.type.isDefined(this.options.ParentContainer);\n  };\n\n  baseItem.prototype._isPaneEmpty = function () {\n    return this.hasParentContainer();\n  };\n\n  baseItem.prototype._isTransparentBackground = function () {\n    return false;\n  };\n\n  baseItem.prototype.render = function (container) {\n    this.container = this.container || container;\n    this.container.setAttribute('data-layout-item-name', this.getName());\n    this.contentRoot = document.createElement('div');\n\n    _utils_1.moveContent(this.container, this.contentRoot, true);\n\n    if (!this.captionToolbar) {\n      this.captionToolbar = this._createCaptionToolbar(this.container, this.controlContainer, this._getBoundaryContainer());\n      this.updateCaptionToolbar();\n    } else if (container) {\n      this.forceCreateCaptionToolbar();\n    }\n\n    this.container.appendChild(this.contentRoot);\n    this.updateContentSize();\n\n    this._changeContent(false);\n  };\n\n  baseItem.prototype.dispose = function () {\n    this._removeShildElement();\n\n    this.itemLoadingElement.hide();\n\n    if (this.captionToolbar) {\n      this.captionToolbar.dispose();\n    }\n  };\n\n  baseItem.prototype.updateContent = function (newOptions) {\n    var isPrevShowCaption = this.hasCaption(this.options),\n        isNewShowCaption = this.hasCaption(newOptions),\n        showCaptionChanged = isPrevShowCaption !== isNewShowCaption;\n\n    this._initializeData(newOptions);\n\n    if (_utils_1.type.isDefined(isNewShowCaption) && showCaptionChanged) {\n      this.forceCreateCaptionToolbar();\n    } else {\n      this.updateCaptionToolbar();\n    }\n\n    switch (newOptions.ContentType) {\n      case _common_1.contentType.partialDataSource:\n      case _common_1.contentType.completeDataSource:\n        if (newOptions.DataSource || newOptions.ItemData && newOptions.ItemData.DataStorageDTO) {\n          if (newOptions.forceUpdateViewModel) this._changeContent(true);else this.renderPartialContent();\n        }\n\n        break;\n\n      case _common_1.contentType.actionModel:\n        if (!this.isInteractivityActionEnabled()) {\n          this.updateContentState();\n        }\n\n        break;\n\n      default:\n        this._changeContent(true);\n\n        break;\n    }\n  };\n\n  baseItem.prototype.updateClientState = function (clientState) {\n    if (this.hasWidget && this.options.ContentType !== _common_1.contentType.partialDataSource && this.options.ContentType !== _common_1.contentType.completeDataSource) this._updateClientStateUnsafe(clientState);\n  };\n\n  baseItem.prototype._removeShildElement = function () {\n    var shieldingElement = this.shieldingElement;\n\n    if (shieldingElement) {\n      shieldingElement.parentNode.removeChild(shieldingElement);\n      delete this.shieldingElement;\n    }\n  };\n\n  baseItem.prototype.showLoadingPanel = function () {\n    this._toggleLoadingPanel(true);\n  };\n\n  baseItem.prototype.hideLoadingPanel = function () {\n    this._toggleLoadingPanel(false);\n  };\n\n  baseItem.prototype._toggleLoadingPanel = function (loading) {\n    if (!this.container) return;\n\n    var container = this._getBoundaryContainer();\n\n    if (this.visualMode !== 'caption') {\n      if (!!loading) {\n        this.itemLoadingElement.show(container);\n      } else {\n        this.itemLoadingElement.hide();\n      }\n    }\n\n    if (!loading) {\n      this._removeShildElement();\n    } else if (!this.shieldingElement) {\n      var position = this._getContainerPosition();\n\n      var shieldingElement = document.createElement('div');\n      shieldingElement.classList.add('dx-dashboard-item-shield');\n      shieldingElement.style.left = position.left.toString() + 'px';\n      shieldingElement.style.top = position.top.toString() + 'px';\n      shieldingElement.style.width = position.width.toString() + 'px';\n      shieldingElement.style.height = position.height.toString() + 'px';\n      shieldingElement.style.zIndex = _z_index_1.zIndex.dashboardItemShield.toString();\n      this.shieldingElement = shieldingElement;\n      $(container).prepend(shieldingElement);\n    }\n  };\n\n  baseItem.prototype.width = function (width) {\n    var that = this;\n\n    if ($.isNumeric(width)) {\n      that.setSize(width, undefined);\n    } else {\n      return $(that.container).outerWidth();\n    }\n  };\n\n  baseItem.prototype.height = function (height) {\n    var that = this;\n\n    if ($.isNumeric(height)) {\n      that.setSize(undefined, height);\n    } else {\n      return $(that.container).outerHeight();\n    }\n  };\n\n  baseItem.prototype.setSize = function (width, height) {\n    var that = this,\n        oldSize = {\n      width: that.width(),\n      height: that.height()\n    },\n        newSize = {\n      width: width,\n      height: height\n    };\n\n    if (width) {\n      $(that.container).outerWidth(width);\n    }\n\n    if (height) {\n      $(that.container).outerHeight(height);\n    }\n\n    that._resize();\n  };\n\n  baseItem.prototype.getConstraints = function (includeBorders) {\n    var borderSize = includeBorders ? _render_helper_1.RenderHelper.getBorderSizeByClasses(this._generateOuterBorderClasses().concat(this._generateInnerBorderClasses())) : {\n      width: 0,\n      height: 0\n    },\n        headerHeight = this._calcHeaderAndFooterHeight(),\n        contentMinHeight = this._getMinContentHeight(),\n        height = borderSize.height + headerHeight + contentMinHeight;\n\n    return _utils_layout_1.constraints(_utils_layout_1.size(_dashboard_viewer_constants_1.MIN_PANE_WIDTH + borderSize.width, height), _utils_layout_1.size(Number.MAX_VALUE, this._isFixedHeight ? height : Number.MAX_VALUE));\n  };\n\n  baseItem.prototype.getOffset = function () {\n    return {\n      width: 0,\n      height: 0\n    };\n  };\n\n  baseItem.prototype.updateInteractivityOptions = function () {\n    var that = this,\n        selectionMode = _interactivity_controller_1.dashboardSelectionMode.none;\n\n    if (!that.isInteractivityActionEnabled()) {\n      that.updateContentState();\n      selectionMode = this.customSelectionMode;\n      if (selectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple && !this.allowMultiselection) selectionMode = _interactivity_controller_1.dashboardSelectionMode.single;\n    } else {\n      if (this._canSetMultipleMasterFilter() && this.allowMultiselection) {\n        selectionMode = _interactivity_controller_1.dashboardSelectionMode.multiple;\n      } else {\n        if (that.isInteractivityActionEnabled()) {\n          selectionMode = _interactivity_controller_1.dashboardSelectionMode.single;\n        }\n      }\n    }\n\n    that.interactivityController.setOptions(selectionMode);\n  };\n\n  baseItem.prototype.getCaptionToolbarOptions = function () {\n    var actionAtems = this._getActionToolbarItems();\n\n    var staticItems = this._getStaticToolbarItems();\n\n    var stateItems = this._getStateToolbarItems();\n\n    var toolbarOptions = {\n      staticItems: staticItems,\n      actionItems: actionAtems,\n      stateItems: stateItems,\n      navigationItems: []\n    };\n    this.addContextCaptionToolbarOptions && this.addContextCaptionToolbarOptions(toolbarOptions);\n    this.itemCaptionToolbarUpdated.fire(this.getName(), toolbarOptions);\n    return toolbarOptions;\n  };\n\n  baseItem.prototype.updateConstraints = function () {\n    this.constraintsUpdated.fire(this.getName());\n  };\n\n  baseItem.prototype.updateCaptionToolbar = function () {\n    var _this = this;\n\n    var options = this.getCaptionToolbarOptions();\n\n    if (this.deferredToolbarRenderingPromise) {\n      this.deferredToolbarRenderingPromise(this.getName(), this.captionToolbar.calcMinWidth(options), this.captionToolbar.calcHeight(options)).done(function () {\n        _this._updateCaptionToolbarAndSize(options);\n      });\n    } else {\n      this._updateCaptionToolbarAndSize(options);\n    }\n  };\n\n  baseItem.prototype._createCaptionToolbar = function (container, controlContainer, popupContainer) {\n    return this.createCaptionToolbar(this, container, controlContainer, popupContainer, {\n      encodeHtml: this._isEncodeHtml(),\n      hasCaption: this.hasCaption(),\n      isBottomFloatingToolbarPosition: this._isBottomFloatingToolbarPosition,\n      captionToolbarSeparatorRequired: this._captionToolbarSeparatorRequired,\n      allowPreview: this._allowPreview,\n      hiddenToolbar: this.visualMode === 'content',\n      itemHasOwnContent: this._itemHasOwnContent()\n    });\n  };\n\n  baseItem.prototype._updateCaptionToolbarAndSize = function (options) {\n    var heightChanged = this.captionToolbar.update(options);\n\n    if (heightChanged) {\n      this.updateContentSize();\n    }\n  };\n\n  baseItem.prototype.forceCreateCaptionToolbar = function () {\n    this.captionToolbar.dispose();\n    this.captionToolbar = this._createCaptionToolbar(this.container, this.controlContainer, this._getBoundaryContainer());\n    this.updateCaptionToolbar();\n  };\n\n  baseItem.prototype._itemHasOwnContent = function () {\n    return true;\n  };\n\n  baseItem.prototype._updateClientStateUnsafe = function (clientState) {};\n\n  baseItem.prototype._changeContent = function (updateExisting) {\n    var _this = this;\n\n    if (this.visualMode === 'caption') return;\n\n    var afterRenderCallback = function () {\n      if (updateExisting) {\n        _this._raiseItemWidgetUpdated();\n      } else {\n        _this._raiseItemWidgetCreated();\n      }\n\n      if (updateExisting || _this._shouldApplySelectionOnInitialRender) _this._applySelection();\n    };\n\n    if (updateExisting) {\n      this._raiseItemWidgetUpdating();\n    }\n\n    if (!this._renderContent(this.contentRoot, updateExisting, afterRenderCallback)) {\n      afterRenderCallback();\n    }\n  };\n\n  baseItem.prototype._calcHeaderAndFooterHeight = function () {\n    var headerAndFooterHeight = 0;\n\n    var toolbar = this._createCaptionToolbar(undefined, undefined, undefined);\n\n    headerAndFooterHeight += toolbar.calcHeight(this.getCaptionToolbarOptions());\n    return headerAndFooterHeight;\n  };\n\n  baseItem.prototype._getReducedDataTooltip = function () {\n    if (this.options.LimitDataState) {\n      if (this.options.LimitDataState.isReduced) return _default_1.getLocalizationById('DashboardWebStringId.LimitVisibleData.DisplayAllDataTooltip');\n      return _default_1.getLocalizationById('DashboardWebStringId.LimitVisibleData.IncreasePerformanceTooltip');\n    }\n\n    return undefined;\n  };\n\n  baseItem.prototype._getStaticToolbarItems = function () {\n    var items = [];\n\n    if (this.hasCaption()) {\n      var caption = this.getCaption();\n\n      if (caption) {\n        items.push({\n          name: caption_toolbar_options_1.dashboardToolbarItemNames.itemCaption,\n          type: 'text',\n          text: caption\n        });\n      }\n\n      if (this.allowLimitDataCallback && this.options.LimitDataState.isReduceMode) items.push(this._getReduceDataToolbarItem());\n    }\n\n    return items;\n  };\n\n  baseItem.prototype._getReduceDataToolbarItem = function () {\n    var _this = this;\n\n    return {\n      name: caption_toolbar_options_1.dashboardToolbarItemNames.limitVisibleData,\n      checked: this.options.LimitDataState.isReduced,\n      click: function (element) {\n        _this.allowLimitDataCallback();\n      },\n      icon: _caption_toolbar_css_classes_1.cssClasses.iconLimitVisibleData,\n      type: 'button',\n      tooltip: {\n        className: _caption_toolbar_css_classes_1.cssClasses.tooltipLimitVisibleData,\n        template: function () {\n          var div = document.createElement('div');\n          div.innerText = _this._getReducedDataTooltip();\n          return div;\n        }\n      }\n    };\n  };\n\n  baseItem.prototype._getStateToolbarItems = function () {\n    var _this = this;\n\n    var items = this._getSpecificStatePanelItems();\n\n    var actionModel = this.options.ActionModel;\n\n    if (this._hasClearMasterFilterButton()) {\n      items.push({\n        name: caption_toolbar_options_1.dashboardToolbarItemNames.clearMasterFilter,\n        click: function (element) {\n          _this._onClearMasterFilter();\n        },\n        icon: _caption_toolbar_css_classes_1.cssClasses.iconClearMasterFilter,\n        type: 'button',\n        hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ClearMasterFilter)\n      });\n    }\n\n    if (this.options.useNeutralFilterMode && actionModel && actionModel.ClearMasterFilterButtonState === 'Disabled') {\n      items.push({\n        name: caption_toolbar_options_1.dashboardToolbarItemNames.clearMasterFilter,\n        icon: _caption_toolbar_css_classes_1.cssClasses.iconClearMasterFilter,\n        type: 'button',\n        disabled: true,\n        hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ClearMasterFilter)\n      });\n    }\n\n    if (this._hasClearSelectionButton()) items.push({\n      name: caption_toolbar_options_1.dashboardToolbarItemNames.clearSelection,\n      click: function (element) {\n        _this._onClearSelection();\n      },\n      icon: _caption_toolbar_css_classes_1.cssClasses.iconClearSelection,\n      type: 'button',\n      hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ClearSelection)\n    });\n    if (this._hasDrillUpButton() && this._isDrillUpEnabled()) items.push({\n      name: caption_toolbar_options_1.dashboardToolbarItemNames.drillUp,\n      click: function (element) {\n        _this._onDrillUp();\n      },\n      icon: _caption_toolbar_css_classes_1.cssClasses.iconDrillUp,\n      type: 'button',\n      hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.DrillUp)\n    });\n    if (!this.hasCaption() && this.allowLimitDataCallback && this.options.LimitDataState.isReduceMode) items.push(this._getReduceDataToolbarItem());\n    return items;\n  };\n\n  baseItem.prototype._getActionToolbarItems = function () {\n    var _this = this;\n\n    var items = this._getSpecificActionToolbarItems(),\n        contentDescription = this.options.ViewModel ? this.options.ViewModel.ContentDescription : undefined;\n\n    if (this.options.allowExport) items.push({\n      name: caption_toolbar_options_1.dashboardToolbarItemNames.exportMenu,\n      menu: this._getExportMenuModel(),\n      icon: _caption_toolbar_css_classes_1.cssClasses.iconItemExport,\n      type: 'menu',\n      hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ExportTo)\n    });\n    if (contentDescription && contentDescription.ElementSelectionEnabled) items.push({\n      name: caption_toolbar_options_1.dashboardToolbarItemNames.values,\n      menu: {\n        items: contentDescription.ElementNames,\n        selectedItems: [contentDescription.ElementNames[contentDescription.SelectedElementIndex]],\n        selectionMode: 'single',\n        itemClick: function (itemData, itemElement, index) {\n          _this._onContentElementSelection(index);\n        },\n        type: 'list'\n      },\n      icon: _caption_toolbar_css_classes_1.cssClasses.iconContentSelection,\n      type: 'menu',\n      hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ElementSelection)\n    });\n    if (this._hasToggleSelectionModeButton()) items.push({\n      name: caption_toolbar_options_1.dashboardToolbarItemNames.multiselection,\n      checked: this.allowMultiselection,\n      click: function (element) {\n        _this._onToggleSelectionMode();\n      },\n      icon: _caption_toolbar_css_classes_1.cssClasses.iconMultiselection,\n      type: 'button',\n      hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.AllowMultiselection)\n    });\n    return items;\n  };\n\n  baseItem.prototype._getExportMenuModel = function () {\n    var _this = this;\n\n    var items = [_caption_toolbar_css_classes_1.cssClasses.iconExportToPDF];\n    if (_caption_toolbar_css_classes_1.Settings.allowExportToImage) items.push(_caption_toolbar_css_classes_1.cssClasses.iconExportToImage);\n\n    if (this._isSupportDataAwareExport()) {\n      items.push(_caption_toolbar_css_classes_1.cssClasses.iconExportToExcel);\n    }\n\n    return {\n      title: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ExportTo),\n      items: items,\n      itemClick: function (itemData, itemElement, index) {\n        _this.showExportDialog(_caption_toolbar_css_classes_1._convertToExportFormat(itemData));\n      },\n      type: 'icons'\n    };\n  };\n\n  baseItem.prototype._getParametersTitle = function () {\n    if (!this.hasCaption()) return undefined;\n    var parameters = [],\n        separator = ' - ',\n        drillDownValues = this.options.DrillDownValues,\n        contentDescription = this.options.ViewModel.ContentDescription;\n\n    if (contentDescription && contentDescription.ElementSelectionEnabled) {\n      parameters.push(contentDescription.ElementNames[contentDescription.SelectedElementIndex || 0]);\n    }\n\n    if (drillDownValues && drillDownValues.length > 0) {\n      parameters = parameters.concat(drillDownValues.map(function (drillDownValue) {\n        return _formatter_1.format(drillDownValue.Value, drillDownValue.Format);\n      }));\n    }\n\n    return parameters.length > 0 ? separator + parameters.join(separator) : undefined;\n  };\n\n  baseItem.prototype.showExportDialog = function (exportFormat) {\n    this.options.showExportDialog(exportFormat);\n  };\n\n  baseItem.prototype._getSpecificActionToolbarItems = function () {\n    return [];\n  };\n\n  baseItem.prototype._getSpecificStatePanelItems = function () {\n    return [];\n  };\n\n  baseItem.prototype._getMinContentHeight = function () {\n    return _dashboard_viewer_constants_1.MIN_PANE_HEIGHT;\n  };\n\n  baseItem.prototype._generateInnerBorderClasses = function (element) {\n    if (this.visualMode === 'caption') {\n      return [];\n    } else {\n      return this._generateInnerBorderClassesUnsafe(element);\n    }\n  };\n\n  baseItem.prototype._generateInnerBorderClassesUnsafe = function (element) {\n    var classes = [exports.cssClassNamesBaseItem.item];\n\n    if (this._isBorderRequired()) {\n      classes.push(exports.cssClassNamesBaseItem.simpleBorder);\n    }\n\n    if (element) {\n      element.classList.add(exports.cssClassNamesBaseItem.item);\n\n      if (this._isBorderRequired()) {\n        element.classList.add(exports.cssClassNamesBaseItem.simpleBorder);\n      } else {\n        element.classList.remove(exports.cssClassNamesBaseItem.simpleBorder);\n      }\n    }\n\n    return classes;\n  };\n\n  baseItem.prototype._generateOuterBorderClasses = function (element) {\n    if (this.visualMode === 'caption') return;\n\n    if (element) {\n      if (this.hasParentContainer() && this.visualMode === 'full') {\n        element.classList.add(exports.cssClassNamesBaseItem.groupItemChild);\n      } else {\n        element.classList.remove(exports.cssClassNamesBaseItem.groupItemChild);\n      }\n    }\n\n    return this.hasParentContainer() && this.visualMode === 'full' ? [exports.cssClassNamesBaseItem.groupItemChild] : [];\n  };\n\n  baseItem.prototype._isBorderRequired = function () {\n    return this._isPaneEmpty() && this.visualMode === 'full';\n  };\n\n  baseItem.prototype._resize = function () {\n    if (this.hasWidget) {\n      this._resizeUnsafe();\n    } else {\n      this._resizeBase();\n    }\n  };\n\n  baseItem.prototype._resizeUnsafe = function () {\n    this._resizeBase();\n  };\n\n  baseItem.prototype._resizeBase = function () {\n    this.updateContentSize();\n\n    this._allocatePreloader();\n\n    this.captionToolbar.onResize();\n  };\n\n  baseItem.prototype.updateContentSize = function () {\n    if (this.hasWidget) {\n      this._updateContentSizeUnsafe();\n    } else {\n      this._updateContentSizeBase();\n    }\n  };\n\n  baseItem.prototype._updateContentSizeUnsafe = function () {\n    this._updateContentSizeBase();\n  };\n\n  baseItem.prototype._updateContentSizeBase = function () {\n    var that = this;\n\n    that._generateOuterBorderClasses(that.container);\n\n    that._generateInnerBorderClasses(that.contentRoot);\n\n    var contentHeight = Math.floor($(that.container).height() - that._calcHeaderAndFooterHeight());\n    $(that.contentRoot).outerHeight(contentHeight);\n  };\n\n  baseItem.prototype._allocatePreloader = function () {\n    var shieldingElement = this.container.querySelector('.dx-dashboard-item-shield'),\n        position = this._getContainerPosition();\n\n    this.itemLoadingElement.resize();\n\n    if (shieldingElement) {\n      shieldingElement.style.left = position.left.toString() + 'px';\n      shieldingElement.style.top = position.top.toString() + 'px';\n      shieldingElement.style.width = position.width.toString() + 'px';\n      shieldingElement.style.height = position.height.toString() + 'px';\n    }\n  };\n\n  baseItem.prototype._getButtonOffset = function (useToolbarOffset) {\n    var defaultButtonSize = 28;\n    var hoverDiv = useToolbarOffset ? this.container.querySelector('.' + exports.cssClassNamesBaseItem.overlayContent) : undefined;\n    return {\n      left: !!hoverDiv ? $(hoverDiv).outerWidth(true) : defaultButtonSize,\n      top: !!hoverDiv ? $(hoverDiv).outerHeight(true) : defaultButtonSize\n    };\n  };\n\n  baseItem.prototype._getAnimationOptions = function () {\n    return {\n      enabled: !!this.options.animate,\n      duration: 300\n    };\n  };\n\n  baseItem.prototype._getContainerPosition = function () {\n    if (this.hasWidget) {\n      return this._getContainerPositionUnsafe();\n    } else {\n      return this._getContainerPositionBase();\n    }\n  };\n\n  baseItem.prototype._getContainerPositionUnsafe = function () {\n    return this._getContainerPositionBase();\n  };\n\n  baseItem.prototype._getContainerPositionBase = function () {\n    var container = this._getBoundaryContainer(),\n        position = $(container).position(),\n        width = $(container).outerWidth(),\n        height = $(container).outerHeight(),\n        marginX = $(container).css('margin-left'),\n        marginY = $(container).css('margin-top'),\n        border = this._isPaneEmpty() ? 0 : 1,\n        parseMargin = function (margin) {\n      return margin == 'auto' ? 0 : parseInt(margin);\n    };\n\n    return {\n      left: position.left,\n      top: position.top,\n      width: width,\n      height: height,\n      offsetX: width + parseMargin(marginX) - border,\n      offsetY: parseMargin(marginY) - border\n    };\n  };\n\n  baseItem.prototype._getBoundaryContainer = function () {\n    return this.visualMode === 'caption' ? this._boundaryContainer : this.container;\n  };\n\n  baseItem.prototype._getSelectedValues = function () {\n    var selectedValues = this.options.SelectedValues;\n    return this._isMultiDataSupported() ? this._patchTroughDrillDownValues(selectedValues) : selectedValues;\n  };\n\n  baseItem.prototype._onClearSelection = function () {\n    this.clearSelection();\n    this.customSelectedTuples = [];\n    if (this.customSelectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple) this.updateCaptionToolbar();\n    this.itemSelectionChanged.fire(this.getName(), []);\n  };\n\n  baseItem.prototype._getElementInteractionValue = function (element, viewModel) {};\n\n  baseItem.prototype._setSelectedValues = function (values) {\n    this.options.SelectedValues = values;\n  };\n\n  baseItem.prototype._raiseItemClick = function (element) {\n    var that = this,\n        tuple = [],\n        dataPoint = that._getDataPoint(element),\n        drillDownValues = that._getDrillDownValues(),\n        targetAxes = that._getTargetAxes(),\n        drillDownAxis = drillDownValues && targetAxes.length == 1 ? targetAxes[0] : undefined;\n\n    targetAxes.forEach(function (axisName) {\n      var values;\n\n      if (dataPoint.getSelectionValues) {\n        values = dataPoint.getSelectionValues(axisName);\n      } else {\n        values = dataPoint.getValues(axisName);\n      }\n\n      if (values.length > 0) {\n        if (drillDownAxis && axisName === drillDownAxis && !that._isMultiDataSupported()) {\n          values = drillDownValues.concat(values);\n        }\n\n        tuple.push({\n          axisName: axisName,\n          value: values\n        });\n      }\n    });\n\n    if (targetAxes.length != 0 && targetAxes.length == tuple.length) {\n      that._clickAction(tuple);\n    }\n\n    if (that.itemClick) {\n      that.itemClick.fire(that.getName(), dataPoint);\n    }\n  };\n\n  baseItem.prototype._clickAction = function (tuple) {\n    this.interactivityController.clickAction([tuple]);\n  };\n\n  baseItem.prototype._isMultiDataSupported = function () {\n    return false;\n  };\n\n  baseItem.prototype._getDataPoint = function (element) {\n    return null;\n  };\n\n  baseItem.prototype._getWidget = function () {\n    return null;\n  };\n\n  baseItem.prototype._raiseItemWidgetCreated = function () {\n    var widget = this._getWidget();\n\n    if (widget) {\n      this.itemWidgetCreated.fire(this.getName(), widget);\n    }\n  };\n\n  baseItem.prototype._raiseItemWidgetUpdating = function () {\n    var widget = this._getWidget();\n\n    if (widget) {\n      this.itemWidgetUpdating.fire(this.getName(), widget);\n    }\n  };\n\n  baseItem.prototype._raiseItemWidgetUpdated = function () {\n    var widget = this._getWidget();\n\n    if (widget) {\n      this.itemWidgetUpdated.fire(this.getName(), widget);\n    }\n  };\n\n  baseItem.prototype._raiseItemWidgetOptionsPrepared = function (options) {\n    if (options) {\n      this.itemWidgetOptionsPrepared.fire(this.getName(), options);\n    }\n  };\n\n  baseItem.prototype._raiseItemHover = function (element, state) {\n    if (this.itemHover) {\n      var dataPoint = this._getDataPoint(element);\n\n      this.itemHover.fire(this.getName(), dataPoint, state);\n    }\n  };\n\n  baseItem.prototype._onClearMasterFilter = function () {\n    var name = this.getName();\n\n    this._setSelectedValues(null);\n\n    if (!this.options || !this.options.useNeutralFilterMode) {\n      this.clearSelection();\n    }\n\n    this.clearMasterFilter.fire(name);\n  };\n\n  baseItem.prototype._onToggleSelectionMode = function () {\n    this._allowMultiselection = !this._allowMultiselection;\n    this.allowMultiselectionChanged && this.allowMultiselectionChanged(this._allowMultiselection);\n    this.updateCaptionToolbar();\n    this.updateInteractivityOptions();\n  };\n\n  baseItem.prototype._onDrillUp = function () {\n    this.drillUp.fire(this.getName(), !!this._getSelectedValues());\n  };\n\n  baseItem.prototype._onContentElementSelection = function (index) {\n    this.contentElementSelection.fire(this.getName(), {\n      index: index,\n      caption: this.options.ViewModel.ContentDescription.ElementNames[index]\n    });\n  };\n\n  baseItem.prototype._onExpandValue = function (expandValueParams) {\n    this.expandValue.fire(this.getName(), expandValueParams);\n  };\n\n  baseItem.prototype._onClientStateUpdate = function (clientState) {\n    this.clientStateUpdate.fire(this.getName(), clientState);\n  };\n\n  baseItem.prototype._onDataRequest = function () {\n    this.dataRequest.fire(this.getName());\n  };\n\n  baseItem.prototype._hasDrillUpButton = function () {\n    var actionModel = this.options.ActionModel;\n    return actionModel && actionModel.DrillUpButtonState && actionModel.DrillUpButtonState !== 'Hidden';\n  };\n\n  baseItem.prototype._hasClearMasterFilterButton = function () {\n    var actionModel = this.options.ActionModel;\n    return actionModel && actionModel.ClearMasterFilterButtonState && actionModel.ClearMasterFilterButtonState === 'Enabled';\n  };\n\n  baseItem.prototype._hasClearSelectionButton = function () {\n    return !this.isInteractivityActionEnabled() && this.customSelectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple && this.customSelectedTuples.length > 0;\n  };\n\n  baseItem.prototype._hasToggleSelectionModeButton = function () {\n    return this._canSetMultipleMasterFilter() || !this.isInteractivityActionEnabled() && this.customSelectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple;\n  };\n\n  baseItem.prototype._isDrillUpEnabled = function () {\n    var actionModel = this.options.ActionModel;\n    return actionModel && actionModel.DrillUpButtonState && actionModel.DrillUpButtonState === 'Enabled';\n  };\n\n  baseItem.prototype._canPerformAction = function (action) {\n    var actionModel = this.options.ActionModel;\n    return actionModel && actionModel.Actions && actionModel.Actions.indexOf(action) !== -1;\n  };\n\n  baseItem.prototype._canPerformDrillDown = function () {\n    return this._canPerformAction(_common_1.viewerActions.drillDown);\n  };\n\n  baseItem.prototype._canPerformDrillUp = function () {\n    return this._canPerformAction(_common_1.viewerActions.drillUp);\n  };\n\n  baseItem.prototype._canSetMasterFilter = function () {\n    return this._canPerformAction(_common_1.viewerActions.setMasterFilter);\n  };\n\n  baseItem.prototype._canSetMultipleMasterFilter = function () {\n    return this._canPerformAction(_common_1.viewerActions.setMultipleValuesMasterFilter);\n  };\n\n  baseItem.prototype.isInteractivityActionEnabled = function () {\n    return this._canSetMasterFilter() || this._canSetMultipleMasterFilter() || this._canPerformDrillDown();\n  };\n\n  baseItem.prototype._selectionMode = function () {\n    return this.isInteractivityActionEnabled() ? 'multiple' : 'none';\n  };\n\n  baseItem.prototype._getHtml = function (text) {\n    return this._isEncodeHtml() ? _utils_1.encodeHtml(text) : text;\n  };\n\n  baseItem.prototype._getAxisNames = function () {\n    return this.options.AxisNames || [];\n  };\n\n  baseItem.prototype._getDrillDownAxisName = function () {\n    return this._getAxisNames().length > 0 ? this._getAxisNames()[0] : undefined;\n  };\n\n  baseItem.prototype._getDrillDownValues = function () {\n    var drillDownValues = this.options.DrillDownUniqueValues;\n    return drillDownValues != null ? drillDownValues : [];\n  };\n\n  return baseItem;\n}();\n\nexports.baseItem = baseItem;\nexports.cssClassNamesBaseItem = {\n  item: 'dx-dashboard-item',\n  groupItem: 'dx-dashboard-group-item',\n  groupItemChild: 'dx-dashboard-group-item-child',\n  simpleBorder: 'dx-dashboard-simple-border',\n  overlayContent: 'dx-overlay-content',\n  cardWihtoutBackground: 'dx-dashboard-card-without-background'\n};","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/viewer-items/_base-item.js"],"names":["Object","defineProperty","exports","value","cssClassNamesBaseItem","baseItem","getControlContainer","createDefaultToolbar","$","require","_default_1","_common_1","_factory_1","_formatter_1","_jquery_helpers_1","_localization_ids_1","_localizer_1","_utils_1","_z_index_1","_utils_layout_1","_dashboard_viewer_constants_1","caption_toolbar_options_1","_caption_toolbar_css_classes_1","_clickable_floating_toolbar_1","_hidden_caption_toolbar_1","_hovered_floating_toolbar_1","_hovered_toolbar_1","_minimized_clickable_toolbar_1","_minimized_hovered_toolbar_1","_static_toolbar_1","_render_helper_1","_dashboard_layout_mode_helper_1","_item_loading_1","_interactivity_controller_1","viewerItem","container","controlContainer","popupContainer","viewOptions","hiddenToolbar","HiddenCaptionToolbar","DashboardLayoutModeHelper","isTouch","hasCaption","StaticCaptionToolbar","encodeHtml","cssClasses","caption","captionToolbarSeparatorRequired","allowPreview","MinimizedClickableCaptionToolbar","isBottomFloatingToolbarPosition","itemHasOwnContent","ClickableFloatingCaptionToolbar","HoveredDashboardCaptionToolbar","MinimizedHoveredCaptionToolbar","HoveredFloatingCaptionToolbar","element","closest","$container","options","_lockCount","_isFixedHeight","customHoverEnabled","_allowMultiselection","dateToString","date","toJSON","selected","createJQueryCallbacks","clearMasterFilter","drillUp","contentElementSelection","expandValue","clientStateUpdate","dataRequest","itemClick","itemHover","itemSelectionChanged","itemWidgetCreated","itemWidgetUpdating","itemWidgetUpdated","itemWidgetOptionsPrepared","itemCaptionToolbarUpdated","constraintsUpdated","customTargetAxes","customDefaultSelectedValues","itemLoadingElement","ItemLoadingElement","visualMode","_hasWidget","deferredToolbarRenderingPromise","undefined","createCaptionToolbar","_initializeData","_boundaryContainer","boundaryContainer","interactivityController","proxy","getSelectedTuples","selectionChanged","add","_onSelectionChanged","customSelectionMode","dashboardSelectionMode","none","prototype","get","enumerable","configurable","set","dataController","newOptions","Name","Type","ParentContainer","ContentType","SelectedValues","ViewModel","ActionModel","CaptionViewModel","ConditionalFormattingModel","Parameters","DrillDownValues","DrillDownUniqueValues","AxisNames","DimensionIds","multiData","allowExport","showExportDialog","isDataReduced","ItemData","Reduced","useNeutralFilterMode","FullViewport","LimitDataState","contentType","actionModel","drillDownState","_getDrillDownAxisName","defaultDataControllerFactory","createDataController","viewModel","cfModel","update","_isEncodeHtml","customSelectedTuples","initialDataRequest","hasWidget","initialDataRequestUnsafe","forceUpdateInteractivity","updateCaptionToolbar","updateInteractivityOptions","clearSelection","_clearSelectionUnsafe","_clearSelectionBase","performClearSelection","_setSelectedValues","selectTuple","tuple","state","selectTupleUnsafe","setSelection","values","_setSelectionUnsafe","setSelectionBase","_applySelection","_applySelectionUnsafe","_isSupportDataAwareExport","SupportDataAwareExport","_isLocked","Error","_lock","_unlock","_getCustomSelectionMode","_setCustomSelectionMode","_getCustomHoverEnabled","_setCustomHoverEnabled","_getCustomTargetAxes","_setCustomTargetAxes","_getTargetAxes","isInteractivityActionEnabled","_getAxisNames","that","axisNames","dimensionByAxis","tupleValues","axisValues","valueIndex","_canSetMasterFilter","_canSetMultipleMasterFilter","_canPerformDrillDown","tuples","length","forEach","axisName","getAxis","getDimensions","selection","push","drillDownValues","_getDrillDownValues","concat","updateItem","selectionMode","targetAxes","hoverEnabled","defaultSelectedValues","single","slice","clickAction","forceUpdateItem","forceCreateCaptionToolbar","updateContentSize","_changeTuple","newTuple","axisValue","currentSelectedValues","singleSelection","newSelection","selectedTuples","actionName","_selectTuples","apply","getAxisPointValue","_deductDrillDownValues","_getSelectionCallbackType","checkValuesAreEqual","viewerActions","drillDown","_mustSelectingFired","fire","getName","_onClearMasterFilter","multiple","_patchTroughDrillDownValues","filterValues","drillDownValuesLength","cutValue","splice","performDrillDown","allowMultiselection","setMultipleValuesMasterFilter","setMasterFilter","tuplesToSelect","unaffectedTuples","isSelect","updateTuple","checkArrayContainsTuple","_hasDrillUpButton","_isMultiDataSupported","_selectTuplesCore","updateTupleDelegate","each","index","updatedTuple","_renderContent","changeExisting","afterRenderCallback","renderContentUnsafe","$element","renderPartialContent","renderPartialContentUnsafe","updateContentState","updateContentStateUnsafe","getInfo","getInfoUnsafe","getInfoBase","_getBoundaryContainer","name","headerHeight","captionToolbar","calcHeight","getCaptionToolbarOptions","position","offset","width","outerWidth","height","outerHeight","virtualSize","scroll","getCaption","Text","_getParametersTitle","opts","ShowCaption","hasParentContainer","type","isDefined","_isPaneEmpty","_isTransparentBackground","render","setAttribute","contentRoot","document","createElement","moveContent","_createCaptionToolbar","appendChild","_changeContent","dispose","_removeShildElement","hide","updateContent","isPrevShowCaption","isNewShowCaption","showCaptionChanged","partialDataSource","completeDataSource","DataSource","DataStorageDTO","forceUpdateViewModel","updateClientState","clientState","_updateClientStateUnsafe","shieldingElement","parentNode","removeChild","showLoadingPanel","_toggleLoadingPanel","hideLoadingPanel","loading","show","_getContainerPosition","classList","style","left","toString","top","zIndex","dashboardItemShield","prepend","isNumeric","setSize","oldSize","newSize","_resize","getConstraints","includeBorders","borderSize","RenderHelper","getBorderSizeByClasses","_generateOuterBorderClasses","_generateInnerBorderClasses","_calcHeaderAndFooterHeight","contentMinHeight","_getMinContentHeight","constraints","size","MIN_PANE_WIDTH","Number","MAX_VALUE","getOffset","setOptions","actionAtems","_getActionToolbarItems","staticItems","_getStaticToolbarItems","stateItems","_getStateToolbarItems","toolbarOptions","actionItems","navigationItems","addContextCaptionToolbarOptions","updateConstraints","_this","calcMinWidth","done","_updateCaptionToolbarAndSize","_isBottomFloatingToolbarPosition","_captionToolbarSeparatorRequired","_allowPreview","_itemHasOwnContent","heightChanged","updateExisting","_raiseItemWidgetUpdated","_raiseItemWidgetCreated","_shouldApplySelectionOnInitialRender","_raiseItemWidgetUpdating","headerAndFooterHeight","toolbar","_getReducedDataTooltip","isReduced","getLocalizationById","items","dashboardToolbarItemNames","itemCaption","text","allowLimitDataCallback","isReduceMode","_getReduceDataToolbarItem","limitVisibleData","checked","click","icon","iconLimitVisibleData","tooltip","className","tooltipLimitVisibleData","template","div","innerText","_getSpecificStatePanelItems","_hasClearMasterFilterButton","iconClearMasterFilter","hint","localizer","getString","localizationId","buttonNames","ClearMasterFilter","ClearMasterFilterButtonState","disabled","_hasClearSelectionButton","_onClearSelection","iconClearSelection","ClearSelection","_isDrillUpEnabled","_onDrillUp","iconDrillUp","DrillUp","_getSpecificActionToolbarItems","contentDescription","ContentDescription","exportMenu","menu","_getExportMenuModel","iconItemExport","ExportTo","ElementSelectionEnabled","ElementNames","selectedItems","SelectedElementIndex","itemData","itemElement","_onContentElementSelection","iconContentSelection","ElementSelection","_hasToggleSelectionModeButton","multiselection","_onToggleSelectionMode","iconMultiselection","AllowMultiselection","iconExportToPDF","Settings","allowExportToImage","iconExportToImage","iconExportToExcel","title","_convertToExportFormat","parameters","separator","map","drillDownValue","format","Value","Format","join","exportFormat","MIN_PANE_HEIGHT","_generateInnerBorderClassesUnsafe","classes","item","_isBorderRequired","simpleBorder","remove","groupItemChild","_resizeUnsafe","_resizeBase","_allocatePreloader","onResize","_updateContentSizeUnsafe","_updateContentSizeBase","contentHeight","Math","floor","querySelector","resize","_getButtonOffset","useToolbarOffset","defaultButtonSize","hoverDiv","overlayContent","_getAnimationOptions","enabled","animate","duration","_getContainerPositionUnsafe","_getContainerPositionBase","marginX","css","marginY","border","parseMargin","margin","parseInt","offsetX","offsetY","_getSelectedValues","selectedValues","_getElementInteractionValue","_raiseItemClick","dataPoint","_getDataPoint","drillDownAxis","getSelectionValues","getValues","_clickAction","_getWidget","widget","_raiseItemWidgetOptionsPrepared","_raiseItemHover","allowMultiselectionChanged","_onExpandValue","expandValueParams","_onClientStateUpdate","_onDataRequest","DrillUpButtonState","_canPerformAction","action","Actions","indexOf","_canPerformDrillUp","_selectionMode","_getHtml","groupItem","cardWihtoutBackground"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_base-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cssClassNamesBaseItem = exports.baseItem = exports.getControlContainer = exports.createDefaultToolbar = void 0;\nvar $ = require(\"jquery\");\nvar _default_1 = require(\"../../data/localization/_default\");\nvar _common_1 = require(\"../../data/_common\");\nvar _factory_1 = require(\"../../data/_factory\");\nvar _formatter_1 = require(\"../../data/_formatter\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar _localization_ids_1 = require(\"../../data/_localization-ids\");\nvar _localizer_1 = require(\"../../data/_localizer\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar _z_index_1 = require(\"../../data/_z-index\");\nvar _utils_layout_1 = require(\"../layout/_utils.layout\");\nvar _dashboard_viewer_constants_1 = require(\"../viewer/_dashboard-viewer-constants\");\nvar caption_toolbar_options_1 = require(\"../widgets/caption-toolbar/caption-toolbar-options\");\nvar _caption_toolbar_css_classes_1 = require(\"../widgets/caption-toolbar/_caption-toolbar-css-classes\");\nvar _clickable_floating_toolbar_1 = require(\"../widgets/caption-toolbar/_clickable-floating-toolbar\");\nvar _hidden_caption_toolbar_1 = require(\"../widgets/caption-toolbar/_hidden-caption-toolbar\");\nvar _hovered_floating_toolbar_1 = require(\"../widgets/caption-toolbar/_hovered-floating-toolbar\");\nvar _hovered_toolbar_1 = require(\"../widgets/caption-toolbar/_hovered-toolbar\");\nvar _minimized_clickable_toolbar_1 = require(\"../widgets/caption-toolbar/_minimized-clickable-toolbar\");\nvar _minimized_hovered_toolbar_1 = require(\"../widgets/caption-toolbar/_minimized-hovered-toolbar\");\nvar _static_toolbar_1 = require(\"../widgets/caption-toolbar/_static-toolbar\");\nvar _render_helper_1 = require(\"../widgets/_render-helper\");\nvar _dashboard_layout_mode_helper_1 = require(\"../_dashboard-layout-mode-helper\");\nvar _item_loading_1 = require(\"./elements/_item-loading\");\nvar _interactivity_controller_1 = require(\"./_interactivity-controller\");\nvar createDefaultToolbar = function (viewerItem, container, controlContainer, popupContainer, viewOptions) {\n    if (viewOptions.hiddenToolbar) {\n        return new _hidden_caption_toolbar_1.HiddenCaptionToolbar();\n    }\n    else if (_dashboard_layout_mode_helper_1.DashboardLayoutModeHelper.isTouch) {\n        if (viewOptions.hasCaption) {\n            return new _static_toolbar_1.StaticCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, _caption_toolbar_css_classes_1.cssClasses.caption, viewOptions.captionToolbarSeparatorRequired, false);\n        }\n        else {\n            if (viewOptions.allowPreview) {\n                return new _minimized_clickable_toolbar_1.MinimizedClickableCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.isBottomFloatingToolbarPosition, viewOptions.itemHasOwnContent);\n            }\n            else {\n                return new _clickable_floating_toolbar_1.ClickableFloatingCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.isBottomFloatingToolbarPosition, viewOptions.itemHasOwnContent);\n            }\n        }\n    }\n    else {\n        if (viewOptions.hasCaption) {\n            return new _hovered_toolbar_1.HoveredDashboardCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.captionToolbarSeparatorRequired);\n        }\n        else {\n            if (viewOptions.allowPreview) {\n                return new _minimized_hovered_toolbar_1.MinimizedHoveredCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.isBottomFloatingToolbarPosition);\n            }\n            else {\n                return new _hovered_floating_toolbar_1.HoveredFloatingCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, viewOptions.isBottomFloatingToolbarPosition);\n            }\n        }\n    }\n};\nexports.createDefaultToolbar = createDefaultToolbar;\nfunction getControlContainer(element) {\n    return $(element).closest('.dx-dashboard-widget-container')[0];\n}\nexports.getControlContainer = getControlContainer;\nvar baseItem = (function () {\n    function baseItem($container, options) {\n        this._lockCount = 0;\n        this._isFixedHeight = false;\n        this.customHoverEnabled = false;\n        this._allowMultiselection = false;\n        this.dateToString = function (date) { return date.toJSON(); };\n        this.selected = _jquery_helpers_1.createJQueryCallbacks();\n        this.clearMasterFilter = _jquery_helpers_1.createJQueryCallbacks();\n        this.drillUp = _jquery_helpers_1.createJQueryCallbacks();\n        this.contentElementSelection = _jquery_helpers_1.createJQueryCallbacks();\n        this.expandValue = _jquery_helpers_1.createJQueryCallbacks();\n        this.clientStateUpdate = _jquery_helpers_1.createJQueryCallbacks();\n        this.dataRequest = _jquery_helpers_1.createJQueryCallbacks();\n        this.itemClick = _jquery_helpers_1.createJQueryCallbacks();\n        this.itemHover = _jquery_helpers_1.createJQueryCallbacks();\n        this.itemSelectionChanged = _jquery_helpers_1.createJQueryCallbacks();\n        this.itemWidgetCreated = _jquery_helpers_1.createJQueryCallbacks();\n        this.itemWidgetUpdating = _jquery_helpers_1.createJQueryCallbacks();\n        this.itemWidgetUpdated = _jquery_helpers_1.createJQueryCallbacks();\n        this.itemWidgetOptionsPrepared = _jquery_helpers_1.createJQueryCallbacks();\n        this.itemCaptionToolbarUpdated = _jquery_helpers_1.createJQueryCallbacks();\n        this.constraintsUpdated = _jquery_helpers_1.createJQueryCallbacks();\n        this.customTargetAxes = [];\n        this.customDefaultSelectedValues = [];\n        this.itemLoadingElement = new _item_loading_1.ItemLoadingElement();\n        this.visualMode = 'full';\n        this._hasWidget = false;\n        this.deferredToolbarRenderingPromise = undefined;\n        this.createCaptionToolbar = exports.createDefaultToolbar;\n        this._initializeData(options);\n        this.container = $container;\n        this.controlContainer = options.controlContainer;\n        this._boundaryContainer = options.boundaryContainer;\n        this.interactivityController = new _interactivity_controller_1.interactivityController($.proxy(this.getSelectedTuples, this));\n        this.interactivityController.selectionChanged.add($.proxy(this._onSelectionChanged, this));\n        this.customSelectionMode = _interactivity_controller_1.dashboardSelectionMode.none;\n    }\n    Object.defineProperty(baseItem.prototype, \"hasWidget\", {\n        get: function () {\n            return this._hasWidget;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(baseItem.prototype, \"_captionToolbarSeparatorRequired\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(baseItem.prototype, \"_isBottomFloatingToolbarPosition\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(baseItem.prototype, \"_allowPreview\", {\n        get: function () {\n            return false;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(baseItem.prototype, \"_shouldApplySelectionOnInitialRender\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(baseItem.prototype, \"dataController\", {\n        get: function () { return null; },\n        set: function (dataController) { },\n        enumerable: false,\n        configurable: true\n    });\n    baseItem.prototype._initializeData = function (newOptions) {\n        if (!this.options) {\n            this.options = newOptions;\n        }\n        else {\n            this.options = {\n                Name: newOptions.Name,\n                Type: newOptions.Type,\n                ParentContainer: newOptions.ParentContainer,\n                ContentType: newOptions.ContentType,\n                SelectedValues: newOptions.SelectedValues,\n                ViewModel: newOptions.ViewModel || this.options.ViewModel,\n                ActionModel: newOptions.ActionModel || this.options.ActionModel,\n                CaptionViewModel: newOptions.CaptionViewModel || this.options.CaptionViewModel,\n                ConditionalFormattingModel: newOptions.ConditionalFormattingModel || this.options.ConditionalFormattingModel,\n                Parameters: newOptions.Parameters,\n                DrillDownValues: newOptions.DrillDownValues,\n                DrillDownUniqueValues: newOptions.DrillDownUniqueValues,\n                AxisNames: newOptions.AxisNames,\n                DimensionIds: newOptions.DimensionIds,\n                multiData: newOptions.multiData,\n                encodeHtml: newOptions.encodeHtml !== undefined ? newOptions.encodeHtml : this.options.encodeHtml,\n                allowExport: newOptions.allowExport !== undefined ? newOptions.allowExport : this.options.allowExport,\n                showExportDialog: newOptions.showExportDialog !== undefined ? newOptions.showExportDialog : this.options.showExportDialog,\n                isDataReduced: !!newOptions.ItemData ? newOptions.ItemData.Reduced : this.options.isDataReduced,\n                useNeutralFilterMode: newOptions.useNeutralFilterMode !== undefined ? newOptions.useNeutralFilterMode : this.options.useNeutralFilterMode,\n                FullViewport: newOptions.FullViewport,\n                LimitDataState: newOptions.LimitDataState\n            };\n        }\n        if (!this.dataController || (newOptions.ContentType != _common_1.contentType.actionModel)) {\n            var drillDownState = {};\n            drillDownState[this._getDrillDownAxisName()] = this.options.DrillDownUniqueValues;\n            this.dataController = _factory_1.defaultDataControllerFactory.createDataController(this.options.Type, {\n                multiData: this.options.multiData,\n                viewModel: this.options.ViewModel,\n                cfModel: this.options.ConditionalFormattingModel,\n                useNeutralFilterMode: this.options.useNeutralFilterMode,\n                drillDownState: drillDownState\n            });\n            if (this.dataController) {\n                this.dataController.update(this.options.SelectedValues, this._isEncodeHtml());\n            }\n        }\n        this.customSelectedTuples = [];\n    };\n    baseItem.prototype.initialDataRequest = function () {\n        if (this.hasWidget) {\n            this.initialDataRequestUnsafe();\n        }\n    };\n    baseItem.prototype.initialDataRequestUnsafe = function () {\n    };\n    Object.defineProperty(baseItem.prototype, \"allowMultiselection\", {\n        get: function () {\n            return this._allowMultiselection;\n        },\n        set: function (value) {\n            this._allowMultiselection = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    baseItem.prototype.forceUpdateInteractivity = function () {\n        this.updateCaptionToolbar();\n        this.updateInteractivityOptions();\n    };\n    baseItem.prototype.clearSelection = function () {\n        if (this.hasWidget) {\n            this._clearSelectionUnsafe();\n        }\n        else {\n            this._clearSelectionBase();\n        }\n    };\n    baseItem.prototype._clearSelectionUnsafe = function () {\n        this._clearSelectionBase();\n    };\n    baseItem.prototype._clearSelectionBase = function () {\n    };\n    baseItem.prototype.performClearSelection = function () {\n        this._setSelectedValues(null);\n        this.clearSelection();\n    };\n    baseItem.prototype.selectTuple = function (tuple, state) {\n        if (this.hasWidget) {\n            this.selectTupleUnsafe(tuple, state);\n        }\n    };\n    baseItem.prototype.selectTupleUnsafe = function (tuple, state) {\n    };\n    baseItem.prototype.setSelection = function (values) {\n        if (this.hasWidget) {\n            this._setSelectionUnsafe(values);\n        }\n        else {\n            this.setSelectionBase(values);\n        }\n    };\n    baseItem.prototype._setSelectionUnsafe = function (values) {\n        this.setSelectionBase(values);\n    };\n    baseItem.prototype.setSelectionBase = function (values) {\n        this._setSelectedValues(values);\n    };\n    baseItem.prototype._applySelection = function () {\n        if (this.hasWidget) {\n            this._applySelectionUnsafe();\n        }\n    };\n    baseItem.prototype._applySelectionUnsafe = function () {\n    };\n    baseItem.prototype._isEncodeHtml = function () {\n        return (!this.options || this.options.encodeHtml == undefined) ? true : this.options.encodeHtml;\n    };\n    baseItem.prototype._isSupportDataAwareExport = function () {\n        return this.options && this.options.allowExport && this.options.ViewModel && this.options.ViewModel.SupportDataAwareExport;\n    };\n    baseItem.prototype._isLocked = function () {\n        if (this._lockCount < 0)\n            throw new Error(\"Unresolved locker state (looks like 'unlock' method is called without 'lock')\");\n        return this._lockCount > 0;\n    };\n    baseItem.prototype._lock = function () {\n        this._lockCount++;\n    };\n    baseItem.prototype._unlock = function () {\n        this._lockCount--;\n    };\n    baseItem.prototype._getCustomSelectionMode = function () {\n        return this.customSelectionMode;\n    };\n    baseItem.prototype._setCustomSelectionMode = function (value) {\n        this.customSelectionMode = value;\n    };\n    baseItem.prototype._getCustomHoverEnabled = function () {\n        return this.customHoverEnabled;\n    };\n    baseItem.prototype._setCustomHoverEnabled = function (value) {\n        this.customHoverEnabled = value;\n    };\n    baseItem.prototype._getCustomTargetAxes = function () {\n        return this.customTargetAxes;\n    };\n    baseItem.prototype._setCustomTargetAxes = function (value) {\n        this.customTargetAxes = value;\n    };\n    baseItem.prototype._getTargetAxes = function () {\n        if (!this.isInteractivityActionEnabled()) {\n            return this._getCustomTargetAxes();\n        }\n        else {\n            return this._getAxisNames();\n        }\n    };\n    baseItem.prototype.getSelectedTuples = function () {\n        var that = this, multiData = that.options.multiData, axisNames = that._getAxisNames(), dimensionByAxis = {}, tupleValues, axisValues, valueIndex;\n        if (that._canSetMasterFilter() || that._canSetMultipleMasterFilter() || that._canPerformDrillDown()) {\n            var tuples = [];\n            if (that.options.SelectedValues == null)\n                return tuples;\n            if (axisNames.length > 1) {\n                axisNames.forEach(function (axisName) {\n                    dimensionByAxis[axisName] = multiData.getAxis(axisName).getDimensions();\n                });\n                that.options.SelectedValues.forEach(function (selection) {\n                    tupleValues = [];\n                    valueIndex = 0;\n                    axisNames.forEach(function (axisName) {\n                        axisValues = [];\n                        dimensionByAxis[axisName].forEach(function () {\n                            axisValues.push(selection[valueIndex++]);\n                        });\n                        tupleValues.push({ axisName: axisName, value: axisValues });\n                    });\n                    tuples.push(tupleValues);\n                });\n            }\n            else {\n                var drillDownValues = that._getDrillDownValues();\n                that.options.SelectedValues.forEach(function (value) {\n                    tuples.push([{ axisName: axisNames[0], value: drillDownValues.concat(value) }]);\n                });\n            }\n            return tuples;\n        }\n        else {\n            return that.customSelectedTuples;\n        }\n    };\n    baseItem.prototype.updateItem = function (options) {\n        var that = this;\n        this._setCustomSelectionMode(options.selectionMode);\n        this._setCustomTargetAxes(options.targetAxes);\n        this._setCustomHoverEnabled(options.hoverEnabled);\n        this.customDefaultSelectedValues = options.defaultSelectedValues;\n        that.updateInteractivityOptions();\n        if (!this.isInteractivityActionEnabled()) {\n            var customDefaultSelectedValues = options.selectionMode == _interactivity_controller_1.dashboardSelectionMode.single ? that.customDefaultSelectedValues.slice(0, 1) : that.customDefaultSelectedValues;\n            that.interactivityController.clickAction(customDefaultSelectedValues);\n        }\n        this.updateCaptionToolbar();\n    };\n    baseItem.prototype.forceUpdateItem = function () {\n        this.forceCreateCaptionToolbar();\n        this.updateContentSize();\n    };\n    baseItem.prototype._changeTuple = function (tuple) {\n        var that = this, newTuple = [];\n        tuple.forEach(function (axisValue) {\n            var axisName = axisValue.axisName, value = axisValue.value;\n            newTuple.push({ axisName: axisName, value: (axisName == that._getDrillDownAxisName()) ? value.slice(-1) : value });\n        });\n        return newTuple;\n    };\n    baseItem.prototype._onSelectionChanged = function (tuples) {\n        var that = this, currentSelectedValues = this.options.SelectedValues, singleSelection = !!currentSelectedValues && currentSelectedValues.length === 1 ? currentSelectedValues[0] : null, newSelection = [], tupleValues, selectedTuples = this.getSelectedTuples(), actionName;\n        this._selectTuples(tuples, selectedTuples, true);\n        this._selectTuples(selectedTuples, tuples, false);\n        if (this.isInteractivityActionEnabled()) {\n            tuples.forEach(function (tuple) {\n                tupleValues = [];\n                that._getAxisNames().forEach(function (axisName) {\n                    tupleValues.push.apply(tupleValues, _utils_1.getAxisPointValue(tuple, axisName).slice());\n                });\n                newSelection.push(tupleValues);\n            });\n            newSelection = this._deductDrillDownValues(newSelection);\n            this._setSelectedValues(newSelection);\n            actionName = this._getSelectionCallbackType(newSelection.length === 1 && singleSelection && _utils_1.checkValuesAreEqual(newSelection[0], singleSelection));\n            if (actionName === _common_1.viewerActions.drillDown) {\n                newSelection = newSelection[0];\n            }\n            if (this._mustSelectingFired(newSelection)) {\n                this.selected.fire(this.getName(), actionName, newSelection);\n            }\n            else {\n                this._onClearMasterFilter();\n            }\n        }\n        else {\n            this.customSelectedTuples = [];\n            tuples.forEach(function (tuple) {\n                that.customSelectedTuples.push(tuple);\n            });\n        }\n        if (this.customSelectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple) {\n            this.updateCaptionToolbar();\n        }\n        if (this.itemSelectionChanged) {\n            this.itemSelectionChanged.fire(this.getName(), tuples);\n        }\n    };\n    baseItem.prototype._mustSelectingFired = function (values) {\n        return values.length > 0;\n    };\n    baseItem.prototype._patchTroughDrillDownValues = function (values) {\n        var drillDownValues = this._getDrillDownValues(), filterValues = [];\n        if (values) {\n            values.forEach(function (value) {\n                filterValues.push(drillDownValues.concat(value));\n            });\n        }\n        return filterValues;\n    };\n    baseItem.prototype._deductDrillDownValues = function (values) {\n        var drillDownValues = this._getDrillDownValues(), drillDownValuesLength = drillDownValues.length, cutValue;\n        values.forEach(function (value) {\n            cutValue = value.slice(0, drillDownValuesLength);\n            if (_utils_1.checkValuesAreEqual(cutValue, drillDownValues))\n                value.splice(0, drillDownValuesLength);\n        });\n        return values;\n    };\n    baseItem.prototype._getSelectionCallbackType = function (performDrillDown) {\n        var actionName = undefined;\n        if (this._canSetMultipleMasterFilter() && this.allowMultiselection) {\n            actionName = _common_1.viewerActions.setMultipleValuesMasterFilter;\n        }\n        else if (this._canSetMasterFilter()) {\n            if (performDrillDown) {\n                if (this._canPerformDrillDown())\n                    actionName = _common_1.viewerActions.drillDown;\n            }\n            else {\n                actionName = _common_1.viewerActions.setMasterFilter;\n            }\n        }\n        else if (this._canPerformDrillDown()) {\n            actionName = _common_1.viewerActions.drillDown;\n        }\n        return actionName;\n    };\n    baseItem.prototype._selectTuples = function (tuplesToSelect, unaffectedTuples, isSelect) {\n        var that = this;\n        var updateTuple = function (tuple) {\n            if (_utils_1.checkArrayContainsTuple(unaffectedTuples, tuple) == undefined) {\n                return that._hasDrillUpButton() && !that._isMultiDataSupported() ? that._changeTuple(tuple) : tuple;\n            }\n            return undefined;\n        };\n        this._selectTuplesCore(tuplesToSelect, updateTuple, isSelect);\n    };\n    baseItem.prototype._selectTuplesCore = function (tuples, updateTupleDelegate, state) {\n        var that = this;\n        $.each(tuples, function (index, tuple) {\n            var updatedTuple = updateTupleDelegate(tuple);\n            if (!!updatedTuple) {\n                that.selectTuple(updatedTuple, state);\n            }\n        });\n    };\n    baseItem.prototype._renderContent = function (element, changeExisting, afterRenderCallback) {\n        if (this.visualMode !== 'caption') {\n            this._hasWidget = true;\n            return this.renderContentUnsafe(element, changeExisting, afterRenderCallback);\n        }\n        return false;\n    };\n    baseItem.prototype.renderContentUnsafe = function ($element, changeExisting, afterRenderCallback) {\n        return false;\n    };\n    baseItem.prototype.renderPartialContent = function () {\n        if (this.hasWidget) {\n            this.renderPartialContentUnsafe();\n        }\n    };\n    baseItem.prototype.renderPartialContentUnsafe = function () {\n    };\n    baseItem.prototype.updateContentState = function () {\n        if (this.hasWidget) {\n            this.updateContentStateUnsafe();\n        }\n    };\n    baseItem.prototype.updateContentStateUnsafe = function () {\n    };\n    baseItem.prototype.getInfo = function () {\n        if (this.hasWidget) {\n            return this.getInfoUnsafe();\n        }\n        else {\n            return this.getInfoBase();\n        }\n    };\n    baseItem.prototype.getInfoUnsafe = function () {\n        return this.getInfoBase();\n    };\n    baseItem.prototype.getInfoBase = function () {\n        var that = this, container = this._getBoundaryContainer();\n        return {\n            name: that.getName(),\n            headerHeight: this.hasCaption() ? this.captionToolbar.calcHeight(this.getCaptionToolbarOptions()) : 0,\n            position: $(container).offset(),\n            width: $(container).outerWidth(),\n            height: $(container).outerHeight(),\n            virtualSize: undefined,\n            scroll: undefined\n        };\n    };\n    baseItem.prototype.getName = function () {\n        return this.options.Name;\n    };\n    baseItem.prototype.getCaption = function () {\n        return this.options.CaptionViewModel && this.options.CaptionViewModel.Text ? this.options.CaptionViewModel.Text.concat(this._getParametersTitle() || '') : undefined;\n    };\n    baseItem.prototype.hasCaption = function (options) {\n        var opts = options || this.options;\n        return opts && opts.CaptionViewModel && opts.CaptionViewModel.ShowCaption;\n    };\n    baseItem.prototype.hasParentContainer = function () {\n        return this.options && _utils_1.type.isDefined(this.options.ParentContainer);\n    };\n    baseItem.prototype._isPaneEmpty = function () {\n        return this.hasParentContainer();\n    };\n    baseItem.prototype._isTransparentBackground = function () {\n        return false;\n    };\n    baseItem.prototype.render = function (container) {\n        this.container = this.container || container;\n        this.container.setAttribute('data-layout-item-name', this.getName());\n        this.contentRoot = document.createElement('div');\n        _utils_1.moveContent(this.container, this.contentRoot, true);\n        if (!this.captionToolbar) {\n            this.captionToolbar = this._createCaptionToolbar(this.container, this.controlContainer, this._getBoundaryContainer());\n            this.updateCaptionToolbar();\n        }\n        else if (container) {\n            this.forceCreateCaptionToolbar();\n        }\n        this.container.appendChild(this.contentRoot);\n        this.updateContentSize();\n        this._changeContent(false);\n    };\n    baseItem.prototype.dispose = function () {\n        this._removeShildElement();\n        this.itemLoadingElement.hide();\n        if (this.captionToolbar) {\n            this.captionToolbar.dispose();\n        }\n    };\n    baseItem.prototype.updateContent = function (newOptions) {\n        var isPrevShowCaption = this.hasCaption(this.options), isNewShowCaption = this.hasCaption(newOptions), showCaptionChanged = isPrevShowCaption !== isNewShowCaption;\n        this._initializeData(newOptions);\n        if (_utils_1.type.isDefined(isNewShowCaption) && showCaptionChanged) {\n            this.forceCreateCaptionToolbar();\n        }\n        else {\n            this.updateCaptionToolbar();\n        }\n        switch (newOptions.ContentType) {\n            case _common_1.contentType.partialDataSource:\n            case _common_1.contentType.completeDataSource:\n                if (newOptions.DataSource || (newOptions.ItemData && newOptions.ItemData.DataStorageDTO)) {\n                    if (newOptions.forceUpdateViewModel)\n                        this._changeContent(true);\n                    else\n                        this.renderPartialContent();\n                }\n                break;\n            case _common_1.contentType.actionModel:\n                if (!this.isInteractivityActionEnabled()) {\n                    this.updateContentState();\n                }\n                break;\n            default:\n                this._changeContent(true);\n                break;\n        }\n    };\n    baseItem.prototype.updateClientState = function (clientState) {\n        if (this.hasWidget && this.options.ContentType !== _common_1.contentType.partialDataSource && this.options.ContentType !== _common_1.contentType.completeDataSource)\n            this._updateClientStateUnsafe(clientState);\n    };\n    baseItem.prototype._removeShildElement = function () {\n        var shieldingElement = this.shieldingElement;\n        if (shieldingElement) {\n            shieldingElement.parentNode.removeChild(shieldingElement);\n            delete this.shieldingElement;\n        }\n    };\n    baseItem.prototype.showLoadingPanel = function () {\n        this._toggleLoadingPanel(true);\n    };\n    baseItem.prototype.hideLoadingPanel = function () {\n        this._toggleLoadingPanel(false);\n    };\n    baseItem.prototype._toggleLoadingPanel = function (loading) {\n        if (!this.container)\n            return;\n        var container = this._getBoundaryContainer();\n        if (this.visualMode !== 'caption') {\n            if (!!loading) {\n                this.itemLoadingElement.show(container);\n            }\n            else {\n                this.itemLoadingElement.hide();\n            }\n        }\n        if (!loading) {\n            this._removeShildElement();\n        }\n        else if (!this.shieldingElement) {\n            var position = this._getContainerPosition();\n            var shieldingElement = document.createElement('div');\n            shieldingElement.classList.add('dx-dashboard-item-shield');\n            shieldingElement.style.left = position.left.toString() + 'px';\n            shieldingElement.style.top = position.top.toString() + 'px';\n            shieldingElement.style.width = position.width.toString() + 'px';\n            shieldingElement.style.height = position.height.toString() + 'px';\n            shieldingElement.style.zIndex = _z_index_1.zIndex.dashboardItemShield.toString();\n            this.shieldingElement = shieldingElement;\n            $(container).prepend(shieldingElement);\n        }\n    };\n    baseItem.prototype.width = function (width) {\n        var that = this;\n        if ($.isNumeric(width)) {\n            that.setSize(width, undefined);\n        }\n        else {\n            return $(that.container).outerWidth();\n        }\n    };\n    baseItem.prototype.height = function (height) {\n        var that = this;\n        if ($.isNumeric(height)) {\n            that.setSize(undefined, height);\n        }\n        else {\n            return $(that.container).outerHeight();\n        }\n    };\n    baseItem.prototype.setSize = function (width, height) {\n        var that = this, oldSize = { width: that.width(), height: that.height() }, newSize = { width: width, height: height };\n        if (width) {\n            $(that.container).outerWidth(width);\n        }\n        if (height) {\n            $(that.container).outerHeight(height);\n        }\n        that._resize();\n    };\n    baseItem.prototype.getConstraints = function (includeBorders) {\n        var borderSize = includeBorders ? _render_helper_1.RenderHelper.getBorderSizeByClasses(this._generateOuterBorderClasses().concat(this._generateInnerBorderClasses())) : { width: 0, height: 0 }, headerHeight = this._calcHeaderAndFooterHeight(), contentMinHeight = this._getMinContentHeight(), height = borderSize.height + headerHeight + contentMinHeight;\n        return _utils_layout_1.constraints(_utils_layout_1.size(_dashboard_viewer_constants_1.MIN_PANE_WIDTH + borderSize.width, height), _utils_layout_1.size(Number.MAX_VALUE, this._isFixedHeight ? height : Number.MAX_VALUE));\n    };\n    baseItem.prototype.getOffset = function () {\n        return {\n            width: 0,\n            height: 0\n        };\n    };\n    baseItem.prototype.updateInteractivityOptions = function () {\n        var that = this, selectionMode = _interactivity_controller_1.dashboardSelectionMode.none;\n        if (!that.isInteractivityActionEnabled()) {\n            that.updateContentState();\n            selectionMode = this.customSelectionMode;\n            if (selectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple && !this.allowMultiselection)\n                selectionMode = _interactivity_controller_1.dashboardSelectionMode.single;\n        }\n        else {\n            if (this._canSetMultipleMasterFilter() && this.allowMultiselection) {\n                selectionMode = _interactivity_controller_1.dashboardSelectionMode.multiple;\n            }\n            else {\n                if (that.isInteractivityActionEnabled()) {\n                    selectionMode = _interactivity_controller_1.dashboardSelectionMode.single;\n                }\n            }\n        }\n        that.interactivityController.setOptions(selectionMode);\n    };\n    baseItem.prototype.getCaptionToolbarOptions = function () {\n        var actionAtems = this._getActionToolbarItems();\n        var staticItems = this._getStaticToolbarItems();\n        var stateItems = this._getStateToolbarItems();\n        var toolbarOptions = {\n            staticItems: staticItems,\n            actionItems: actionAtems,\n            stateItems: stateItems,\n            navigationItems: []\n        };\n        this.addContextCaptionToolbarOptions && this.addContextCaptionToolbarOptions(toolbarOptions);\n        this.itemCaptionToolbarUpdated.fire(this.getName(), toolbarOptions);\n        return toolbarOptions;\n    };\n    baseItem.prototype.updateConstraints = function () {\n        this.constraintsUpdated.fire(this.getName());\n    };\n    baseItem.prototype.updateCaptionToolbar = function () {\n        var _this = this;\n        var options = this.getCaptionToolbarOptions();\n        if (this.deferredToolbarRenderingPromise) {\n            this.deferredToolbarRenderingPromise(this.getName(), this.captionToolbar.calcMinWidth(options), this.captionToolbar.calcHeight(options)).done(function () {\n                _this._updateCaptionToolbarAndSize(options);\n            });\n        }\n        else {\n            this._updateCaptionToolbarAndSize(options);\n        }\n    };\n    baseItem.prototype._createCaptionToolbar = function (container, controlContainer, popupContainer) {\n        return this.createCaptionToolbar(this, container, controlContainer, popupContainer, {\n            encodeHtml: this._isEncodeHtml(),\n            hasCaption: this.hasCaption(),\n            isBottomFloatingToolbarPosition: this._isBottomFloatingToolbarPosition,\n            captionToolbarSeparatorRequired: this._captionToolbarSeparatorRequired,\n            allowPreview: this._allowPreview,\n            hiddenToolbar: this.visualMode === 'content',\n            itemHasOwnContent: this._itemHasOwnContent()\n        });\n    };\n    baseItem.prototype._updateCaptionToolbarAndSize = function (options) {\n        var heightChanged = this.captionToolbar.update(options);\n        if (heightChanged) {\n            this.updateContentSize();\n        }\n    };\n    baseItem.prototype.forceCreateCaptionToolbar = function () {\n        this.captionToolbar.dispose();\n        this.captionToolbar = this._createCaptionToolbar(this.container, this.controlContainer, this._getBoundaryContainer());\n        this.updateCaptionToolbar();\n    };\n    baseItem.prototype._itemHasOwnContent = function () {\n        return true;\n    };\n    baseItem.prototype._updateClientStateUnsafe = function (clientState) {\n    };\n    baseItem.prototype._changeContent = function (updateExisting) {\n        var _this = this;\n        if (this.visualMode === 'caption')\n            return;\n        var afterRenderCallback = function () {\n            if (updateExisting) {\n                _this._raiseItemWidgetUpdated();\n            }\n            else {\n                _this._raiseItemWidgetCreated();\n            }\n            if (updateExisting || _this._shouldApplySelectionOnInitialRender)\n                _this._applySelection();\n        };\n        if (updateExisting) {\n            this._raiseItemWidgetUpdating();\n        }\n        if (!this._renderContent(this.contentRoot, updateExisting, afterRenderCallback)) {\n            afterRenderCallback();\n        }\n    };\n    baseItem.prototype._calcHeaderAndFooterHeight = function () {\n        var headerAndFooterHeight = 0;\n        var toolbar = this._createCaptionToolbar(undefined, undefined, undefined);\n        headerAndFooterHeight += toolbar.calcHeight(this.getCaptionToolbarOptions());\n        return headerAndFooterHeight;\n    };\n    baseItem.prototype._getReducedDataTooltip = function () {\n        if (this.options.LimitDataState) {\n            if (this.options.LimitDataState.isReduced)\n                return _default_1.getLocalizationById('DashboardWebStringId.LimitVisibleData.DisplayAllDataTooltip');\n            return _default_1.getLocalizationById('DashboardWebStringId.LimitVisibleData.IncreasePerformanceTooltip');\n        }\n        return undefined;\n    };\n    baseItem.prototype._getStaticToolbarItems = function () {\n        var items = [];\n        if (this.hasCaption()) {\n            var caption = this.getCaption();\n            if (caption) {\n                items.push({\n                    name: caption_toolbar_options_1.dashboardToolbarItemNames.itemCaption,\n                    type: 'text',\n                    text: caption\n                });\n            }\n            if (this.allowLimitDataCallback && this.options.LimitDataState.isReduceMode)\n                items.push(this._getReduceDataToolbarItem());\n        }\n        return items;\n    };\n    baseItem.prototype._getReduceDataToolbarItem = function () {\n        var _this = this;\n        return {\n            name: caption_toolbar_options_1.dashboardToolbarItemNames.limitVisibleData,\n            checked: this.options.LimitDataState.isReduced,\n            click: function (element) { _this.allowLimitDataCallback(); },\n            icon: _caption_toolbar_css_classes_1.cssClasses.iconLimitVisibleData,\n            type: 'button',\n            tooltip: {\n                className: _caption_toolbar_css_classes_1.cssClasses.tooltipLimitVisibleData,\n                template: function () {\n                    var div = document.createElement('div');\n                    div.innerText = _this._getReducedDataTooltip();\n                    return div;\n                }\n            }\n        };\n    };\n    baseItem.prototype._getStateToolbarItems = function () {\n        var _this = this;\n        var items = this._getSpecificStatePanelItems();\n        var actionModel = this.options.ActionModel;\n        if (this._hasClearMasterFilterButton()) {\n            items.push({\n                name: caption_toolbar_options_1.dashboardToolbarItemNames.clearMasterFilter,\n                click: function (element) { _this._onClearMasterFilter(); },\n                icon: _caption_toolbar_css_classes_1.cssClasses.iconClearMasterFilter,\n                type: 'button',\n                hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ClearMasterFilter)\n            });\n        }\n        if (this.options.useNeutralFilterMode && actionModel && actionModel.ClearMasterFilterButtonState === 'Disabled') {\n            items.push({\n                name: caption_toolbar_options_1.dashboardToolbarItemNames.clearMasterFilter,\n                icon: _caption_toolbar_css_classes_1.cssClasses.iconClearMasterFilter,\n                type: 'button',\n                disabled: true,\n                hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ClearMasterFilter)\n            });\n        }\n        if (this._hasClearSelectionButton())\n            items.push({\n                name: caption_toolbar_options_1.dashboardToolbarItemNames.clearSelection,\n                click: function (element) { _this._onClearSelection(); },\n                icon: _caption_toolbar_css_classes_1.cssClasses.iconClearSelection,\n                type: 'button',\n                hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ClearSelection)\n            });\n        if (this._hasDrillUpButton() && this._isDrillUpEnabled())\n            items.push({\n                name: caption_toolbar_options_1.dashboardToolbarItemNames.drillUp,\n                click: function (element) { _this._onDrillUp(); },\n                icon: _caption_toolbar_css_classes_1.cssClasses.iconDrillUp,\n                type: 'button',\n                hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.DrillUp)\n            });\n        if (!this.hasCaption() && this.allowLimitDataCallback && this.options.LimitDataState.isReduceMode)\n            items.push(this._getReduceDataToolbarItem());\n        return items;\n    };\n    baseItem.prototype._getActionToolbarItems = function () {\n        var _this = this;\n        var items = this._getSpecificActionToolbarItems(), contentDescription = this.options.ViewModel ? this.options.ViewModel.ContentDescription : undefined;\n        if (this.options.allowExport)\n            items.push({\n                name: caption_toolbar_options_1.dashboardToolbarItemNames.exportMenu,\n                menu: this._getExportMenuModel(),\n                icon: _caption_toolbar_css_classes_1.cssClasses.iconItemExport,\n                type: 'menu',\n                hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ExportTo)\n            });\n        if (contentDescription && contentDescription.ElementSelectionEnabled)\n            items.push({\n                name: caption_toolbar_options_1.dashboardToolbarItemNames.values,\n                menu: {\n                    items: contentDescription.ElementNames,\n                    selectedItems: [contentDescription.ElementNames[contentDescription.SelectedElementIndex]],\n                    selectionMode: 'single',\n                    itemClick: function (itemData, itemElement, index) { _this._onContentElementSelection(index); },\n                    type: 'list'\n                },\n                icon: _caption_toolbar_css_classes_1.cssClasses.iconContentSelection,\n                type: 'menu',\n                hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ElementSelection)\n            });\n        if (this._hasToggleSelectionModeButton())\n            items.push({\n                name: caption_toolbar_options_1.dashboardToolbarItemNames.multiselection,\n                checked: this.allowMultiselection,\n                click: function (element) { _this._onToggleSelectionMode(); },\n                icon: _caption_toolbar_css_classes_1.cssClasses.iconMultiselection,\n                type: 'button',\n                hint: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.AllowMultiselection)\n            });\n        return items;\n    };\n    baseItem.prototype._getExportMenuModel = function () {\n        var _this = this;\n        var items = [_caption_toolbar_css_classes_1.cssClasses.iconExportToPDF];\n        if (_caption_toolbar_css_classes_1.Settings.allowExportToImage)\n            items.push(_caption_toolbar_css_classes_1.cssClasses.iconExportToImage);\n        if (this._isSupportDataAwareExport()) {\n            items.push(_caption_toolbar_css_classes_1.cssClasses.iconExportToExcel);\n        }\n        return {\n            title: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ExportTo),\n            items: items,\n            itemClick: function (itemData, itemElement, index) { _this.showExportDialog(_caption_toolbar_css_classes_1._convertToExportFormat(itemData)); },\n            type: 'icons'\n        };\n    };\n    baseItem.prototype._getParametersTitle = function () {\n        if (!this.hasCaption())\n            return undefined;\n        var parameters = [], separator = ' - ', drillDownValues = this.options.DrillDownValues, contentDescription = this.options.ViewModel.ContentDescription;\n        if (contentDescription && contentDescription.ElementSelectionEnabled) {\n            parameters.push(contentDescription.ElementNames[contentDescription.SelectedElementIndex || 0]);\n        }\n        if (drillDownValues && drillDownValues.length > 0) {\n            parameters = parameters.concat(drillDownValues.map(function (drillDownValue) { return _formatter_1.format(drillDownValue.Value, drillDownValue.Format); }));\n        }\n        return parameters.length > 0 ? separator + parameters.join(separator) : undefined;\n    };\n    baseItem.prototype.showExportDialog = function (exportFormat) {\n        this.options.showExportDialog(exportFormat);\n    };\n    baseItem.prototype._getSpecificActionToolbarItems = function () {\n        return [];\n    };\n    baseItem.prototype._getSpecificStatePanelItems = function () {\n        return [];\n    };\n    baseItem.prototype._getMinContentHeight = function () {\n        return _dashboard_viewer_constants_1.MIN_PANE_HEIGHT;\n    };\n    baseItem.prototype._generateInnerBorderClasses = function (element) {\n        if (this.visualMode === 'caption') {\n            return [];\n        }\n        else {\n            return this._generateInnerBorderClassesUnsafe(element);\n        }\n    };\n    baseItem.prototype._generateInnerBorderClassesUnsafe = function (element) {\n        var classes = [exports.cssClassNamesBaseItem.item];\n        if (this._isBorderRequired()) {\n            classes.push(exports.cssClassNamesBaseItem.simpleBorder);\n        }\n        if (element) {\n            element.classList.add(exports.cssClassNamesBaseItem.item);\n            if (this._isBorderRequired()) {\n                element.classList.add(exports.cssClassNamesBaseItem.simpleBorder);\n            }\n            else {\n                element.classList.remove(exports.cssClassNamesBaseItem.simpleBorder);\n            }\n        }\n        return classes;\n    };\n    baseItem.prototype._generateOuterBorderClasses = function (element) {\n        if (this.visualMode === 'caption')\n            return;\n        if (element) {\n            if (this.hasParentContainer() && this.visualMode === 'full') {\n                element.classList.add(exports.cssClassNamesBaseItem.groupItemChild);\n            }\n            else {\n                element.classList.remove(exports.cssClassNamesBaseItem.groupItemChild);\n            }\n        }\n        return this.hasParentContainer() && this.visualMode === 'full' ? [exports.cssClassNamesBaseItem.groupItemChild] : [];\n    };\n    baseItem.prototype._isBorderRequired = function () {\n        return this._isPaneEmpty() && this.visualMode === 'full';\n    };\n    baseItem.prototype._resize = function () {\n        if (this.hasWidget) {\n            this._resizeUnsafe();\n        }\n        else {\n            this._resizeBase();\n        }\n    };\n    baseItem.prototype._resizeUnsafe = function () {\n        this._resizeBase();\n    };\n    baseItem.prototype._resizeBase = function () {\n        this.updateContentSize();\n        this._allocatePreloader();\n        this.captionToolbar.onResize();\n    };\n    baseItem.prototype.updateContentSize = function () {\n        if (this.hasWidget) {\n            this._updateContentSizeUnsafe();\n        }\n        else {\n            this._updateContentSizeBase();\n        }\n    };\n    baseItem.prototype._updateContentSizeUnsafe = function () {\n        this._updateContentSizeBase();\n    };\n    baseItem.prototype._updateContentSizeBase = function () {\n        var that = this;\n        that._generateOuterBorderClasses(that.container);\n        that._generateInnerBorderClasses(that.contentRoot);\n        var contentHeight = Math.floor($(that.container).height() - that._calcHeaderAndFooterHeight());\n        $(that.contentRoot).outerHeight(contentHeight);\n    };\n    baseItem.prototype._allocatePreloader = function () {\n        var shieldingElement = this.container.querySelector('.dx-dashboard-item-shield'), position = this._getContainerPosition();\n        this.itemLoadingElement.resize();\n        if (shieldingElement) {\n            shieldingElement.style.left = position.left.toString() + 'px';\n            shieldingElement.style.top = position.top.toString() + 'px';\n            shieldingElement.style.width = position.width.toString() + 'px';\n            shieldingElement.style.height = position.height.toString() + 'px';\n        }\n    };\n    baseItem.prototype._getButtonOffset = function (useToolbarOffset) {\n        var defaultButtonSize = 28;\n        var hoverDiv = useToolbarOffset ? this.container.querySelector('.' + exports.cssClassNamesBaseItem.overlayContent) : undefined;\n        return {\n            left: !!hoverDiv ? $(hoverDiv).outerWidth(true) : defaultButtonSize,\n            top: !!hoverDiv ? $(hoverDiv).outerHeight(true) : defaultButtonSize\n        };\n    };\n    baseItem.prototype._getAnimationOptions = function () {\n        return {\n            enabled: !!this.options.animate,\n            duration: 300\n        };\n    };\n    baseItem.prototype._getContainerPosition = function () {\n        if (this.hasWidget) {\n            return this._getContainerPositionUnsafe();\n        }\n        else {\n            return this._getContainerPositionBase();\n        }\n    };\n    baseItem.prototype._getContainerPositionUnsafe = function () {\n        return this._getContainerPositionBase();\n    };\n    baseItem.prototype._getContainerPositionBase = function () {\n        var container = this._getBoundaryContainer(), position = $(container).position(), width = $(container).outerWidth(), height = $(container).outerHeight(), marginX = $(container).css('margin-left'), marginY = $(container).css('margin-top'), border = this._isPaneEmpty() ? 0 : 1, parseMargin = function (margin) { return margin == 'auto' ? 0 : parseInt(margin); };\n        return {\n            left: position.left,\n            top: position.top,\n            width: width,\n            height: height,\n            offsetX: width + parseMargin(marginX) - border,\n            offsetY: parseMargin(marginY) - border\n        };\n    };\n    baseItem.prototype._getBoundaryContainer = function () {\n        return this.visualMode === 'caption' ? this._boundaryContainer : this.container;\n    };\n    baseItem.prototype._getSelectedValues = function () {\n        var selectedValues = this.options.SelectedValues;\n        return this._isMultiDataSupported() ? this._patchTroughDrillDownValues(selectedValues) : selectedValues;\n    };\n    baseItem.prototype._onClearSelection = function () {\n        this.clearSelection();\n        this.customSelectedTuples = [];\n        if (this.customSelectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple)\n            this.updateCaptionToolbar();\n        this.itemSelectionChanged.fire(this.getName(), []);\n    };\n    baseItem.prototype._getElementInteractionValue = function (element, viewModel) {\n    };\n    baseItem.prototype._setSelectedValues = function (values) {\n        this.options.SelectedValues = values;\n    };\n    baseItem.prototype._raiseItemClick = function (element) {\n        var that = this, tuple = [], dataPoint = that._getDataPoint(element), drillDownValues = that._getDrillDownValues(), targetAxes = that._getTargetAxes(), drillDownAxis = drillDownValues && targetAxes.length == 1 ? targetAxes[0] : undefined;\n        targetAxes.forEach(function (axisName) {\n            var values;\n            if (dataPoint.getSelectionValues) {\n                values = dataPoint.getSelectionValues(axisName);\n            }\n            else {\n                values = dataPoint.getValues(axisName);\n            }\n            if (values.length > 0) {\n                if (drillDownAxis && axisName === drillDownAxis && !that._isMultiDataSupported()) {\n                    values = drillDownValues.concat(values);\n                }\n                tuple.push({ axisName: axisName, value: values });\n            }\n        });\n        if ((targetAxes.length != 0) && (targetAxes.length == tuple.length)) {\n            that._clickAction(tuple);\n        }\n        if (that.itemClick) {\n            that.itemClick.fire(that.getName(), dataPoint);\n        }\n    };\n    baseItem.prototype._clickAction = function (tuple) {\n        this.interactivityController.clickAction([tuple]);\n    };\n    baseItem.prototype._isMultiDataSupported = function () {\n        return false;\n    };\n    baseItem.prototype._getDataPoint = function (element) {\n        return null;\n    };\n    baseItem.prototype._getWidget = function () {\n        return null;\n    };\n    baseItem.prototype._raiseItemWidgetCreated = function () {\n        var widget = this._getWidget();\n        if (widget) {\n            this.itemWidgetCreated.fire(this.getName(), widget);\n        }\n    };\n    baseItem.prototype._raiseItemWidgetUpdating = function () {\n        var widget = this._getWidget();\n        if (widget) {\n            this.itemWidgetUpdating.fire(this.getName(), widget);\n        }\n    };\n    baseItem.prototype._raiseItemWidgetUpdated = function () {\n        var widget = this._getWidget();\n        if (widget) {\n            this.itemWidgetUpdated.fire(this.getName(), widget);\n        }\n    };\n    baseItem.prototype._raiseItemWidgetOptionsPrepared = function (options) {\n        if (options) {\n            this.itemWidgetOptionsPrepared.fire(this.getName(), options);\n        }\n    };\n    baseItem.prototype._raiseItemHover = function (element, state) {\n        if (this.itemHover) {\n            var dataPoint = this._getDataPoint(element);\n            this.itemHover.fire(this.getName(), dataPoint, state);\n        }\n    };\n    baseItem.prototype._onClearMasterFilter = function () {\n        var name = this.getName();\n        this._setSelectedValues(null);\n        if (!this.options || !this.options.useNeutralFilterMode) {\n            this.clearSelection();\n        }\n        this.clearMasterFilter.fire(name);\n    };\n    baseItem.prototype._onToggleSelectionMode = function () {\n        this._allowMultiselection = !this._allowMultiselection;\n        this.allowMultiselectionChanged && this.allowMultiselectionChanged(this._allowMultiselection);\n        this.updateCaptionToolbar();\n        this.updateInteractivityOptions();\n    };\n    baseItem.prototype._onDrillUp = function () {\n        this.drillUp.fire(this.getName(), !!this._getSelectedValues());\n    };\n    baseItem.prototype._onContentElementSelection = function (index) {\n        this.contentElementSelection.fire(this.getName(), {\n            index: index,\n            caption: this.options.ViewModel.ContentDescription.ElementNames[index]\n        });\n    };\n    baseItem.prototype._onExpandValue = function (expandValueParams) {\n        this.expandValue.fire(this.getName(), expandValueParams);\n    };\n    baseItem.prototype._onClientStateUpdate = function (clientState) {\n        this.clientStateUpdate.fire(this.getName(), clientState);\n    };\n    baseItem.prototype._onDataRequest = function () {\n        this.dataRequest.fire(this.getName());\n    };\n    baseItem.prototype._hasDrillUpButton = function () {\n        var actionModel = this.options.ActionModel;\n        return actionModel && actionModel.DrillUpButtonState && actionModel.DrillUpButtonState !== 'Hidden';\n    };\n    baseItem.prototype._hasClearMasterFilterButton = function () {\n        var actionModel = this.options.ActionModel;\n        return actionModel && actionModel.ClearMasterFilterButtonState && actionModel.ClearMasterFilterButtonState === 'Enabled';\n    };\n    baseItem.prototype._hasClearSelectionButton = function () {\n        return !this.isInteractivityActionEnabled() && this.customSelectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple && this.customSelectedTuples.length > 0;\n    };\n    baseItem.prototype._hasToggleSelectionModeButton = function () {\n        return this._canSetMultipleMasterFilter() || (!this.isInteractivityActionEnabled() && this.customSelectionMode == _interactivity_controller_1.dashboardSelectionMode.multiple);\n    };\n    baseItem.prototype._isDrillUpEnabled = function () {\n        var actionModel = this.options.ActionModel;\n        return actionModel && actionModel.DrillUpButtonState && actionModel.DrillUpButtonState === 'Enabled';\n    };\n    baseItem.prototype._canPerformAction = function (action) {\n        var actionModel = this.options.ActionModel;\n        return actionModel && actionModel.Actions && actionModel.Actions.indexOf(action) !== -1;\n    };\n    baseItem.prototype._canPerformDrillDown = function () {\n        return this._canPerformAction(_common_1.viewerActions.drillDown);\n    };\n    baseItem.prototype._canPerformDrillUp = function () {\n        return this._canPerformAction(_common_1.viewerActions.drillUp);\n    };\n    baseItem.prototype._canSetMasterFilter = function () {\n        return this._canPerformAction(_common_1.viewerActions.setMasterFilter);\n    };\n    baseItem.prototype._canSetMultipleMasterFilter = function () {\n        return this._canPerformAction(_common_1.viewerActions.setMultipleValuesMasterFilter);\n    };\n    baseItem.prototype.isInteractivityActionEnabled = function () {\n        return this._canSetMasterFilter() || this._canSetMultipleMasterFilter() || this._canPerformDrillDown();\n    };\n    baseItem.prototype._selectionMode = function () {\n        return this.isInteractivityActionEnabled() ? 'multiple' : 'none';\n    };\n    baseItem.prototype._getHtml = function (text) {\n        return this._isEncodeHtml() ? _utils_1.encodeHtml(text) : text;\n    };\n    baseItem.prototype._getAxisNames = function () {\n        return this.options.AxisNames || [];\n    };\n    baseItem.prototype._getDrillDownAxisName = function () {\n        return this._getAxisNames().length > 0 ? this._getAxisNames()[0] : undefined;\n    };\n    baseItem.prototype._getDrillDownValues = function () {\n        var drillDownValues = this.options.DrillDownUniqueValues;\n        return drillDownValues != null ? drillDownValues : [];\n    };\n    return baseItem;\n}());\nexports.baseItem = baseItem;\nexports.cssClassNamesBaseItem = {\n    item: 'dx-dashboard-item',\n    groupItem: 'dx-dashboard-group-item',\n    groupItemChild: 'dx-dashboard-group-item-child',\n    simpleBorder: 'dx-dashboard-simple-border',\n    overlayContent: 'dx-overlay-content',\n    cardWihtoutBackground: 'dx-dashboard-card-without-background'\n};\n"]},"metadata":{},"sourceType":"script"}