{"ast":null,"code":"/**\n* DevExpress Analytics (core\\widgets\\_fieldlistpicker.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dxFieldListPicker = void 0;\n\nrequire(\"devextreme/ui/drop_down_box\");\n\nvar $ = require(\"jquery\");\n\nvar ko = require(\"knockout\");\n\nvar _utils_1 = require(\"../../serializer/_utils\");\n\nvar _dxtInherit_1 = require(\"../../widgets/internal/_dxtInherit\");\n\nvar dxFieldListPicker = function (_super) {\n  __extends(dxFieldListPicker, _super);\n\n  function dxFieldListPicker() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._path = ko.observable('');\n    _this._value = ko.observable('');\n    _this._parentViewport = null;\n    _this._itemsProvider = ko.observable(null);\n    _this._hasDisplayNameOption = false;\n    _this._defaultPosition = null;\n    return _this;\n  }\n\n  dxFieldListPicker.prototype.updateOptions = function (options) {\n    options.showClearButton = true;\n  };\n\n  dxFieldListPicker.prototype.ctor = function ($element, options) {\n    var _$element = $($element);\n\n    _$element.addClass('dx-fieldlistpicker');\n\n    this.option('path') && this._path(this.option('path'));\n    this.option('value') && this._value(this.option('value'));\n    this.option('itemsProvider') && this._itemsProvider(this.option('itemsProvider'));\n    this.option('valueChangeEvent', 'change');\n    this.option('openOnFieldClick', this.option('acceptCustomValue') === false);\n    this._parentViewport = _$element.parents('.dx-designer-viewport');\n\n    if ('displayValue' in options) {\n      this._hasDisplayNameOption = true;\n      this.option('displayValue', options.displayValue);\n\n      this._setTitle(this.option('displayValue'));\n    }\n  };\n\n  dxFieldListPicker.prototype._showDropDown = function () {\n    if (this['_popup']) {\n      var $element = $(this.element());\n      this['_popup'].option('width', $element.width());\n\n      var popupPosition = _utils_1.extend(true, {}, this._defaultPosition, {\n        boundary: this._parentViewport[0],\n        boundaryOffset: '0 20',\n        collision: 'none flip'\n      });\n\n      this['_popup'].option('position', popupPosition);\n      this['_popup'].option('height', 'auto');\n      this['_popup'].option('maxHeight', this._getMaxHeight());\n      this['_popup'].repaint();\n      $(this['_popup'].content())[0].style.height = 'auto';\n\n      this['_popup']._renderPosition();\n    }\n  };\n\n  dxFieldListPicker.prototype._getMaxHeight = function () {\n    var $element = $(this.element()),\n        offset = $element.offset(),\n        windowHeight = $(window).height(),\n        maxHeight = Math.max(offset.top, windowHeight - offset.top - $element.outerHeight());\n    return Math.min(.5 * windowHeight, maxHeight);\n  };\n\n  dxFieldListPicker.prototype._closeOutsideDropDownHandler = function (e, ignoreContainerClicks) {\n    _dxtInherit_1._getSuper(this)._closeOutsideDropDownHandler.apply(this, [e, true]);\n  };\n\n  dxFieldListPicker.prototype._hideOnBlur = function () {\n    return false;\n  };\n\n  dxFieldListPicker.prototype._popupConfig = function () {\n    var dxPolymorphWidget = this.option('integrationOptions').templates['dx-polymorph-widget'];\n\n    var popuConfig = _dxtInherit_1._getSuper(this)._popupConfig.apply(this);\n\n    this._defaultPosition = popuConfig.position;\n    return _utils_1.extend(popuConfig, {\n      container: this._parentViewport,\n      contentTemplate: dxPolymorphWidget && dxPolymorphWidget._template,\n      hideOnOutsideClick: true\n    });\n  };\n\n  dxFieldListPicker.prototype._setTitle = function (text) {\n    if (this.option('openOnFieldClick')) {\n      $(this.element()).attr('title', text);\n    }\n  };\n\n  dxFieldListPicker.prototype._renderDisplayText = function (newValue) {\n    _dxtInherit_1._getSuper(this)._renderDisplayText.apply(this, [newValue]);\n  };\n\n  dxFieldListPicker.prototype._optionChanged = function (args) {\n    var _this = this;\n\n    var name = args.name,\n        newValue = args.value;\n\n    switch (name) {\n      case 'value':\n        this._value(newValue);\n\n        if (!this._hasDisplayNameOption) this._renderDisplayText(newValue);\n        setTimeout($.proxy(function () {\n          _this.option('opened', false);\n        }, this), 50);\n        break;\n\n      case 'path':\n        this._path(newValue);\n\n        break;\n\n      case 'itemsProvider':\n        this._itemsProvider(newValue);\n\n        break;\n\n      case 'displayValue':\n        this._renderDisplayText(newValue);\n\n        this._setTitle(newValue);\n\n        break;\n\n      default:\n        _dxtInherit_1._getSuper(this)._optionChanged.apply(this, arguments);\n\n        if (name === 'opened' && newValue) {\n          this['_showDropDown']();\n        }\n\n    }\n  };\n\n  dxFieldListPicker.prototype._clearValueHandler = function () {\n    $(this['_input']()).val(null);\n\n    _dxtInherit_1._getSuper(this)._clearValueHandler.apply(this, arguments);\n  };\n\n  dxFieldListPicker.prototype._renderPopupContent = function () {\n    var _this = this;\n\n    _dxtInherit_1._getSuper(this)._renderPopupContent.apply(this, arguments);\n\n    var selectedPath = ko.pureComputed({\n      read: function () {\n        return _this._path() ? _this._path() + '.' + _this._value() : _this._value();\n      },\n      write: function (newVal) {\n        if (_this._path() && _this._path().length > 0) {\n          _this._value(newVal.substr(_this._path().length + 1));\n\n          _this.option('value', _this._value());\n        } else {\n          _this._value(newVal);\n\n          _this.option('value', _this._value());\n        }\n      }\n    });\n    var element = $('<div>').addClass('dx-treelist-wrapper').get(0);\n    var scroll = this['_createComponent'](element, 'dxScrollView', {\n      scrollByThumb: true\n    });\n    var self = this;\n    var $scrollContent = $(scroll['content']());\n    var $element = $(this.element());\n    $scrollContent.append($('<div data-bind=\"treelist: options\"></div>')[0]);\n    var context = ko.contextFor($element.get(0));\n    var treeListController = this.option('treeListController');\n    var options = ko.computed(function () {\n      return {\n        itemsProvider: _this._itemsProvider(),\n        onItemsVisibilityChanged: function () {\n          if (self['_popup']) {\n            self['_popup']._renderPosition();\n          }\n        },\n        selectedPath: selectedPath,\n        treeListController: treeListController,\n        path: _this._path\n      };\n    });\n    var childContext = context.createChildContext({\n      options: options\n    });\n    ko.applyBindingsToDescendants(childContext, $scrollContent.get(0));\n    $(this['_popup'].content()).append(element);\n  };\n\n  dxFieldListPicker.prototype.getComponentName = function () {\n    return 'dxDropDownBox';\n  };\n\n  return dxFieldListPicker;\n}(_dxtInherit_1._dxtInherit);\n\nexports.dxFieldListPicker = dxFieldListPicker;\n\n_dxtInherit_1._registerDxtComponent('dxFieldListPicker', dxFieldListPicker);","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/core/widgets/_fieldlistpicker.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","dxFieldListPicker","require","$","ko","_utils_1","_dxtInherit_1","_super","_this","apply","arguments","_path","observable","_value","_parentViewport","_itemsProvider","_hasDisplayNameOption","_defaultPosition","updateOptions","options","showClearButton","ctor","$element","_$element","addClass","option","parents","displayValue","_setTitle","_showDropDown","element","width","popupPosition","extend","boundary","boundaryOffset","collision","_getMaxHeight","repaint","content","style","height","_renderPosition","offset","windowHeight","window","maxHeight","Math","max","top","outerHeight","min","_closeOutsideDropDownHandler","e","ignoreContainerClicks","_getSuper","_hideOnBlur","_popupConfig","dxPolymorphWidget","templates","popuConfig","position","container","contentTemplate","_template","hideOnOutsideClick","text","attr","_renderDisplayText","newValue","_optionChanged","args","name","setTimeout","proxy","_clearValueHandler","val","_renderPopupContent","selectedPath","pureComputed","read","write","newVal","length","substr","get","scroll","scrollByThumb","self","$scrollContent","append","context","contextFor","treeListController","computed","itemsProvider","onItemsVisibilityChanged","path","childContext","createChildContext","applyBindingsToDescendants","getComponentName","_dxtInherit","_registerDxtComponent"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (core\\widgets\\_fieldlistpicker.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dxFieldListPicker = void 0;\nrequire(\"devextreme/ui/drop_down_box\");\nvar $ = require(\"jquery\");\nvar ko = require(\"knockout\");\nvar _utils_1 = require(\"../../serializer/_utils\");\nvar _dxtInherit_1 = require(\"../../widgets/internal/_dxtInherit\");\nvar dxFieldListPicker = (function (_super) {\n    __extends(dxFieldListPicker, _super);\n    function dxFieldListPicker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._path = ko.observable('');\n        _this._value = ko.observable('');\n        _this._parentViewport = null;\n        _this._itemsProvider = ko.observable(null);\n        _this._hasDisplayNameOption = false;\n        _this._defaultPosition = null;\n        return _this;\n    }\n    dxFieldListPicker.prototype.updateOptions = function (options) {\n        options.showClearButton = true;\n    };\n    dxFieldListPicker.prototype.ctor = function ($element, options) {\n        var _$element = $($element);\n        _$element.addClass('dx-fieldlistpicker');\n        this.option('path') && this._path(this.option('path'));\n        this.option('value') && this._value(this.option('value'));\n        this.option('itemsProvider') && this._itemsProvider(this.option('itemsProvider'));\n        this.option('valueChangeEvent', 'change');\n        this.option('openOnFieldClick', this.option('acceptCustomValue') === false);\n        this._parentViewport = _$element.parents('.dx-designer-viewport');\n        if ('displayValue' in options) {\n            this._hasDisplayNameOption = true;\n            this.option('displayValue', options.displayValue);\n            this._setTitle(this.option('displayValue'));\n        }\n    };\n    dxFieldListPicker.prototype._showDropDown = function () {\n        if (this['_popup']) {\n            var $element = $(this.element());\n            this['_popup'].option('width', $element.width());\n            var popupPosition = _utils_1.extend(true, {}, this._defaultPosition, { boundary: this._parentViewport[0], boundaryOffset: '0 20', collision: 'none flip' });\n            this['_popup'].option('position', popupPosition);\n            this['_popup'].option('height', 'auto');\n            this['_popup'].option('maxHeight', this._getMaxHeight());\n            this['_popup'].repaint();\n            $(this['_popup'].content())[0].style.height = 'auto';\n            this['_popup']._renderPosition();\n        }\n    };\n    dxFieldListPicker.prototype._getMaxHeight = function () {\n        var $element = $(this.element()), offset = $element.offset(), windowHeight = $(window).height(), maxHeight = Math.max(offset.top, windowHeight - offset.top - $element.outerHeight());\n        return Math.min(.5 * windowHeight, maxHeight);\n    };\n    dxFieldListPicker.prototype._closeOutsideDropDownHandler = function (e, ignoreContainerClicks) { _dxtInherit_1._getSuper(this)._closeOutsideDropDownHandler.apply(this, [e, true]); };\n    dxFieldListPicker.prototype._hideOnBlur = function () { return false; };\n    dxFieldListPicker.prototype._popupConfig = function () {\n        var dxPolymorphWidget = this.option('integrationOptions').templates['dx-polymorph-widget'];\n        var popuConfig = _dxtInherit_1._getSuper(this)._popupConfig.apply(this);\n        this._defaultPosition = popuConfig.position;\n        return _utils_1.extend(popuConfig, {\n            container: this._parentViewport,\n            contentTemplate: dxPolymorphWidget && dxPolymorphWidget._template,\n            hideOnOutsideClick: true\n        });\n    };\n    dxFieldListPicker.prototype._setTitle = function (text) {\n        if (this.option('openOnFieldClick')) {\n            $(this.element()).attr('title', text);\n        }\n    };\n    dxFieldListPicker.prototype._renderDisplayText = function (newValue) { _dxtInherit_1._getSuper(this)._renderDisplayText.apply(this, [newValue]); };\n    dxFieldListPicker.prototype._optionChanged = function (args) {\n        var _this = this;\n        var name = args.name, newValue = args.value;\n        switch (name) {\n            case 'value':\n                this._value(newValue);\n                if (!this._hasDisplayNameOption)\n                    this._renderDisplayText(newValue);\n                setTimeout($.proxy(function () {\n                    _this.option('opened', false);\n                }, this), 50);\n                break;\n            case 'path':\n                this._path(newValue);\n                break;\n            case 'itemsProvider':\n                this._itemsProvider(newValue);\n                break;\n            case 'displayValue':\n                this._renderDisplayText(newValue);\n                this._setTitle(newValue);\n                break;\n            default:\n                _dxtInherit_1._getSuper(this)._optionChanged.apply(this, arguments);\n                if (name === 'opened' && newValue) {\n                    this['_showDropDown']();\n                }\n        }\n    };\n    dxFieldListPicker.prototype._clearValueHandler = function () {\n        $(this['_input']()).val(null);\n        _dxtInherit_1._getSuper(this)._clearValueHandler.apply(this, arguments);\n    };\n    dxFieldListPicker.prototype._renderPopupContent = function () {\n        var _this = this;\n        _dxtInherit_1._getSuper(this)._renderPopupContent.apply(this, arguments);\n        var selectedPath = ko.pureComputed({\n            read: function () {\n                return _this._path() ? _this._path() + '.' + _this._value() : _this._value();\n            },\n            write: function (newVal) {\n                if (_this._path() && _this._path().length > 0) {\n                    _this._value(newVal.substr(_this._path().length + 1));\n                    _this.option('value', _this._value());\n                }\n                else {\n                    _this._value(newVal);\n                    _this.option('value', _this._value());\n                }\n            }\n        });\n        var element = $('<div>').addClass('dx-treelist-wrapper').get(0);\n        var scroll = this['_createComponent'](element, 'dxScrollView', { scrollByThumb: true });\n        var self = this;\n        var $scrollContent = $(scroll['content']());\n        var $element = $(this.element());\n        $scrollContent.append($('<div data-bind=\"treelist: options\"></div>')[0]);\n        var context = ko.contextFor($element.get(0));\n        var treeListController = this.option('treeListController');\n        var options = ko.computed(function () {\n            return {\n                itemsProvider: _this._itemsProvider(),\n                onItemsVisibilityChanged: function () {\n                    if (self['_popup']) {\n                        self['_popup']._renderPosition();\n                    }\n                },\n                selectedPath: selectedPath, treeListController: treeListController, path: _this._path\n            };\n        });\n        var childContext = context.createChildContext({ options: options });\n        ko.applyBindingsToDescendants(childContext, $scrollContent.get(0));\n        $(this['_popup'].content()).append(element);\n    };\n    dxFieldListPicker.prototype.getComponentName = function () {\n        return 'dxDropDownBox';\n    };\n    return dxFieldListPicker;\n}(_dxtInherit_1._dxtInherit));\nexports.dxFieldListPicker = dxFieldListPicker;\n_dxtInherit_1._registerDxtComponent('dxFieldListPicker', dxFieldListPicker);\n"]},"metadata":{},"sourceType":"script"}