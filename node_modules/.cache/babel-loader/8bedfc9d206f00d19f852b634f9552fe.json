{"ast":null,"code":"/**\r\n* DevExpress Dashboard (grid-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GridItem = void 0;\n\nvar analytics_utils_1 = require(\"@devexpress/analytics-core/analytics-utils\");\n\nvar _model_subscriber_1 = require(\"../../../common/dashboard-update-hub/_model-subscriber\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar grid_calc_window_definition_1 = require(\"../../data-item/window-definition/grid-calc-window-definition\");\n\nvar _data_field_1 = require(\"../../data-sources/_data-field\");\n\nvar _undo_engine_helper_1 = require(\"../../internal/_undo-engine-helper\");\n\nvar __lient_filter_manager_1 = require(\"../../internal/_\\u0441lient-filter-manager\");\n\nvar serializable_model_1 = require(\"../../serializable-model\");\n\nvar data_dashboard_item_1 = require(\"../data-dashboard-item\");\n\nvar grid_columns_1 = require(\"./grid-columns\");\n\nvar _grid_item_1 = require(\"./metadata/_grid-item\");\n\nvar GridItem = function (_super) {\n  __extends(GridItem, _super);\n\n  function GridItem(dashboardItemJSON, serializer) {\n    if (dashboardItemJSON === void 0) {\n      dashboardItemJSON = {};\n    }\n\n    var _this = _super.call(this, dashboardItemJSON, serializer) || this;\n\n    _this._processClientFilterChanged = function (clientFilter) {\n      if (_this._canUpdateTotals()) {\n        _this._gridClientFilterManager.setFilterParams(clientFilter);\n\n        _this._dataQueryParams.notifySubscribers();\n      }\n    };\n\n    _this._processClientFilterStateChanged = function (clientFilterState) {\n      _this._gridClientFilterManager.setFilterState(clientFilterState);\n    };\n\n    _this.columns = analytics_utils_1.deserializeArray(dashboardItemJSON.GridColumns, function (item) {\n      return _this._createGridColumn(item, serializer);\n    });\n\n    _this._attachDataItem(_this, _grid_item_1.sparklineArgument.propertyName);\n\n    _this.interactivityOptions.masterFilterMode.subscribe(function (newMode) {\n      if (newMode !== 'None') {\n        _this.gridOptions.allowCellMerge(false);\n      }\n    });\n\n    _this._gridClientFilterManager = new __lient_filter_manager_1.ClientFilterManager(_this.columnFilterOptions.updateTotals);\n    return _this;\n  }\n\n  GridItem.prototype._canUpdateTotals = function () {\n    return this.columnFilterOptions.updateTotals() && this.columns().length > 0 && !_data_field_1.DataField.isOlap(this.columns()[0].actualDataItem.dataMember()) && this.columns().some(function (c) {\n      return c.totals().length > 0;\n    });\n  };\n\n  GridItem.prototype._clearBindings = function () {\n    _super.prototype._clearBindings.call(this);\n\n    this.columns.removeAll();\n  };\n\n  GridItem.prototype._createGridColumn = function (columnJSON, serializer) {\n    if (serializer === void 0) {\n      serializer = new analytics_utils_1.ModelSerializer();\n    }\n\n    var itemType = columnJSON['@ItemType'];\n    return new GridItem._gridColumnTypesMap[itemType].constructor(this, columnJSON, serializer);\n  };\n\n  GridItem.prototype._getInfoCore = function () {\n    return _grid_item_1.dashboardGridItemSerializationsInfo;\n  };\n\n  GridItem.prototype._getDefaultItemType = function () {\n    return 'Grid';\n  };\n\n  GridItem.prototype._getMasterFilterMode = function () {\n    return this.interactivityOptions.masterFilterMode();\n  };\n\n  GridItem.prototype._getDrillDownEnabled = function () {\n    return this.interactivityOptions.isDrillDownEnabled();\n  };\n\n  GridItem.prototype._getIgnoreMasterFilter = function () {\n    return this.interactivityOptions.ignoreMasterFilters();\n  };\n\n  GridItem.prototype._getInteractivityDimensionLinks = function () {\n    if (this.columns().length > 0) {\n      var dimensionsMap = this.columns().map(function (col) {\n        return col instanceof grid_columns_1.GridDimensionColumn || col instanceof grid_columns_1.GridHyperlinkColumn;\n      });\n      var startIndex = dimensionsMap.indexOf(true);\n      startIndex = startIndex == -1 ? dimensionsMap.length : startIndex;\n      var endIndex = dimensionsMap.indexOf(false, startIndex);\n      endIndex = endIndex == -1 ? dimensionsMap.length : endIndex;\n      return this.columns().slice(startIndex, endIndex).filter(function (col) {\n        return col instanceof grid_columns_1.GridHyperlinkColumn || col.displayMode() !== 'Image';\n      }).map(function (col) {\n        return col._actualDataItemLink;\n      });\n    } else {\n      return _super.prototype._getInteractivityDimensionLinks.call(this);\n    }\n  };\n\n  GridItem.prototype._cleanDataItemDependencies = function () {\n    var _this = this;\n\n    _super.prototype._cleanDataItemDependencies.call(this);\n\n    var columnsToRemove = this.columns().filter(function (column) {\n      var bindings = column._getBindingModel();\n\n      return bindings.every(function (binding) {\n        return !column[binding.propertyName].dataItem();\n      });\n    });\n    columnsToRemove.forEach(function (column) {\n      return _this.columns.remove(column);\n    });\n  };\n\n  GridItem.prototype._updateContentViewModel = function (content) {\n    var _this = this;\n\n    _super.prototype._updateContentViewModel.call(this, content);\n\n    content.ViewModel = _jquery_helpers_1.deepExtend(content.ViewModel || {}, this.gridOptions._getViewModel(), this.columnFilterOptions._getViewModel());\n\n    if (!!content.ViewModel.Columns) {\n      content.ViewModel.Columns.forEach(function (columnModel) {\n        var column = _this.columns().filter(function (column) {\n          var actualDataItem = column.actualDataItem;\n          return actualDataItem ? columnModel.DataId == actualDataItem.uniqueName() : false;\n        })[0];\n\n        _jquery_helpers_1.deepExtend(columnModel, !!column ? column._getViewModel() : {});\n      });\n    }\n  };\n\n  GridItem.prototype._updateDataQueryParams = function (params) {\n    _super.prototype._updateDataQueryParams.call(this, params);\n\n    params.ClientFilter = this._gridClientFilterManager.getFilterParams();\n  };\n\n  GridItem.prototype._updateDataManagerByPartialDataSource = function (content, itemDataDTO) {\n    this._dataManager().updateTotals(itemDataDTO);\n\n    this._gridClientFilterManager.clearFilterParams();\n  };\n\n  GridItem.prototype._extendContentState = function (content) {\n    _super.prototype._extendContentState.call(this, content);\n\n    content.GridClientFilterState = this._gridClientFilterManager.getFilterState();\n  };\n\n  GridItem.prototype._isAttribute = function (dataItem) {\n    return this.columns().some(function (c) {\n      return c._isAttribute(dataItem);\n    });\n  };\n\n  GridItem.prototype._setColumnWidthOptions = function (clientState) {\n    var _this = this;\n\n    if (clientState.widthOptions) {\n      _model_subscriber_1.ModelSubscriber.changePropertyQuietly(this.gridOptions.columnWidthMode, function () {\n        return _this.gridOptions.columnWidthMode(clientState.widthOptions.mode);\n      });\n\n      clientState.widthOptions.columnsOptions.forEach(function (columnOptions, index) {\n        var column = _this.columns()[columnOptions.actualIndex];\n\n        _model_subscriber_1.ModelSubscriber.changePropertyQuietly(column.widthType, function () {\n          return column.widthType(columnOptions.widthType);\n        });\n\n        _model_subscriber_1.ModelSubscriber.changePropertyQuietly(column.weight, function () {\n          return column.weight(columnOptions.weight);\n        });\n      });\n    }\n  };\n\n  GridItem.prototype._getDefaultCalculationWindowDefinition = function () {\n    return new grid_calc_window_definition_1.GridWindowDefinition();\n  };\n\n  GridItem.prototype._setClientState = function (clientState) {\n    _super.prototype._setClientState.call(this, clientState);\n\n    this._setColumnWidthOptions(clientState);\n  };\n\n  GridItem.prototype._getInteractivityAxisDimensionCount = function () {\n    return this.columns().reduce(function (n, col) {\n      return col instanceof grid_columns_1.GridDimensionColumn || col instanceof grid_columns_1.GridHyperlinkColumn ? n + 1 : n;\n    }, 0);\n  };\n\n  GridItem._gridColumnTypesMap = {\n    'GridDimensionColumn': {\n      constructor: grid_columns_1.GridDimensionColumn,\n      displayName: 'DashboardWebStringId.Grid.Dimension',\n      icon: 'dx-dashboard-grid-column-dimension'\n    },\n    'GridMeasureColumn': {\n      constructor: grid_columns_1.GridMeasureColumn,\n      displayName: 'DashboardWebStringId.Grid.Measure',\n      icon: 'dx-dashboard-grid-column-measure'\n    },\n    'GridDeltaColumn': {\n      constructor: grid_columns_1.GridDeltaColumn,\n      displayName: 'DashboardWebStringId.Grid.Delta',\n      icon: 'dx-dashboard-grid-column-delta'\n    },\n    'GridSparklineColumn': {\n      constructor: grid_columns_1.GridSparklineColumn,\n      displayName: 'DashboardWebStringId.Grid.Sparkline',\n      icon: 'dx-dashboard-grid-column-sparkline'\n    },\n    'GridHyperlinkColumn': {\n      constructor: grid_columns_1.GridHyperlinkColumn,\n      displayName: 'DashboardWebStringId.Grid.Hyperlink',\n      icon: 'dx-dashboard-grid-column-hyperlink'\n    }\n  };\n\n  __decorate([_undo_engine_helper_1.wrapWithUndoRedo], GridItem.prototype, \"_setColumnWidthOptions\", null);\n\n  return GridItem;\n}(data_dashboard_item_1.DataDashboardItem);\n\nexports.GridItem = GridItem;\nserializable_model_1.itemTypesMap['Grid'] = {\n  type: GridItem,\n  groupName: 'common',\n  title: 'DashboardStringId.DefaultNameGridItem',\n  index: 10\n};","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/model/items/grid/grid-item.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","exports","value","GridItem","analytics_utils_1","require","_model_subscriber_1","_jquery_helpers_1","grid_calc_window_definition_1","_data_field_1","_undo_engine_helper_1","__lient_filter_manager_1","serializable_model_1","data_dashboard_item_1","grid_columns_1","_grid_item_1","_super","dashboardItemJSON","serializer","_this","_processClientFilterChanged","clientFilter","_canUpdateTotals","_gridClientFilterManager","setFilterParams","_dataQueryParams","notifySubscribers","_processClientFilterStateChanged","clientFilterState","setFilterState","columns","deserializeArray","GridColumns","item","_createGridColumn","_attachDataItem","sparklineArgument","propertyName","interactivityOptions","masterFilterMode","subscribe","newMode","gridOptions","allowCellMerge","ClientFilterManager","columnFilterOptions","updateTotals","DataField","isOlap","actualDataItem","dataMember","some","totals","_clearBindings","removeAll","columnJSON","ModelSerializer","itemType","_gridColumnTypesMap","_getInfoCore","dashboardGridItemSerializationsInfo","_getDefaultItemType","_getMasterFilterMode","_getDrillDownEnabled","isDrillDownEnabled","_getIgnoreMasterFilter","ignoreMasterFilters","_getInteractivityDimensionLinks","dimensionsMap","map","col","GridDimensionColumn","GridHyperlinkColumn","startIndex","indexOf","endIndex","slice","filter","displayMode","_actualDataItemLink","_cleanDataItemDependencies","columnsToRemove","column","bindings","_getBindingModel","every","binding","dataItem","forEach","remove","_updateContentViewModel","content","ViewModel","deepExtend","_getViewModel","Columns","columnModel","DataId","uniqueName","_updateDataQueryParams","params","ClientFilter","getFilterParams","_updateDataManagerByPartialDataSource","itemDataDTO","_dataManager","clearFilterParams","_extendContentState","GridClientFilterState","getFilterState","_isAttribute","_setColumnWidthOptions","clientState","widthOptions","ModelSubscriber","changePropertyQuietly","columnWidthMode","mode","columnsOptions","columnOptions","index","actualIndex","widthType","weight","_getDefaultCalculationWindowDefinition","GridWindowDefinition","_setClientState","_getInteractivityAxisDimensionCount","reduce","n","displayName","icon","GridMeasureColumn","GridDeltaColumn","GridSparklineColumn","wrapWithUndoRedo","DataDashboardItem","itemTypesMap","type","groupName","title"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (grid-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GridItem = void 0;\nvar analytics_utils_1 = require(\"@devexpress/analytics-core/analytics-utils\");\nvar _model_subscriber_1 = require(\"../../../common/dashboard-update-hub/_model-subscriber\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar grid_calc_window_definition_1 = require(\"../../data-item/window-definition/grid-calc-window-definition\");\nvar _data_field_1 = require(\"../../data-sources/_data-field\");\nvar _undo_engine_helper_1 = require(\"../../internal/_undo-engine-helper\");\nvar __lient_filter_manager_1 = require(\"../../internal/_\\u0441lient-filter-manager\");\nvar serializable_model_1 = require(\"../../serializable-model\");\nvar data_dashboard_item_1 = require(\"../data-dashboard-item\");\nvar grid_columns_1 = require(\"./grid-columns\");\nvar _grid_item_1 = require(\"./metadata/_grid-item\");\nvar GridItem = (function (_super) {\n    __extends(GridItem, _super);\n    function GridItem(dashboardItemJSON, serializer) {\n        if (dashboardItemJSON === void 0) { dashboardItemJSON = {}; }\n        var _this = _super.call(this, dashboardItemJSON, serializer) || this;\n        _this._processClientFilterChanged = function (clientFilter) {\n            if (_this._canUpdateTotals()) {\n                _this._gridClientFilterManager.setFilterParams(clientFilter);\n                _this._dataQueryParams.notifySubscribers();\n            }\n        };\n        _this._processClientFilterStateChanged = function (clientFilterState) {\n            _this._gridClientFilterManager.setFilterState(clientFilterState);\n        };\n        _this.columns = analytics_utils_1.deserializeArray(dashboardItemJSON.GridColumns, function (item) { return _this._createGridColumn(item, serializer); });\n        _this._attachDataItem(_this, _grid_item_1.sparklineArgument.propertyName);\n        _this.interactivityOptions.masterFilterMode.subscribe(function (newMode) {\n            if (newMode !== 'None') {\n                _this.gridOptions.allowCellMerge(false);\n            }\n        });\n        _this._gridClientFilterManager = new __lient_filter_manager_1.ClientFilterManager(_this.columnFilterOptions.updateTotals);\n        return _this;\n    }\n    GridItem.prototype._canUpdateTotals = function () {\n        return this.columnFilterOptions.updateTotals()\n            && this.columns().length > 0\n            && !_data_field_1.DataField.isOlap(this.columns()[0].actualDataItem.dataMember())\n            && this.columns().some(function (c) { return c.totals().length > 0; });\n    };\n    GridItem.prototype._clearBindings = function () {\n        _super.prototype._clearBindings.call(this);\n        this.columns.removeAll();\n    };\n    GridItem.prototype._createGridColumn = function (columnJSON, serializer) {\n        if (serializer === void 0) { serializer = new analytics_utils_1.ModelSerializer(); }\n        var itemType = columnJSON['@ItemType'];\n        return new GridItem._gridColumnTypesMap[itemType].constructor(this, columnJSON, serializer);\n    };\n    GridItem.prototype._getInfoCore = function () {\n        return _grid_item_1.dashboardGridItemSerializationsInfo;\n    };\n    GridItem.prototype._getDefaultItemType = function () {\n        return 'Grid';\n    };\n    GridItem.prototype._getMasterFilterMode = function () { return this.interactivityOptions.masterFilterMode(); };\n    GridItem.prototype._getDrillDownEnabled = function () { return this.interactivityOptions.isDrillDownEnabled(); };\n    GridItem.prototype._getIgnoreMasterFilter = function () { return this.interactivityOptions.ignoreMasterFilters(); };\n    GridItem.prototype._getInteractivityDimensionLinks = function () {\n        if (this.columns().length > 0) {\n            var dimensionsMap = this.columns().map(function (col) { return col instanceof grid_columns_1.GridDimensionColumn || col instanceof grid_columns_1.GridHyperlinkColumn; });\n            var startIndex = dimensionsMap.indexOf(true);\n            startIndex = startIndex == -1 ? dimensionsMap.length : startIndex;\n            var endIndex = dimensionsMap.indexOf(false, startIndex);\n            endIndex = endIndex == -1 ? dimensionsMap.length : endIndex;\n            return this.columns().slice(startIndex, endIndex)\n                .filter(function (col) { return col instanceof grid_columns_1.GridHyperlinkColumn || col.displayMode() !== 'Image'; })\n                .map(function (col) { return col._actualDataItemLink; });\n        }\n        else {\n            return _super.prototype._getInteractivityDimensionLinks.call(this);\n        }\n    };\n    GridItem.prototype._cleanDataItemDependencies = function () {\n        var _this = this;\n        _super.prototype._cleanDataItemDependencies.call(this);\n        var columnsToRemove = this.columns().filter(function (column) {\n            var bindings = column._getBindingModel();\n            return bindings.every(function (binding) { return !column[binding.propertyName].dataItem(); });\n        });\n        columnsToRemove.forEach(function (column) { return _this.columns.remove(column); });\n    };\n    GridItem.prototype._updateContentViewModel = function (content) {\n        var _this = this;\n        _super.prototype._updateContentViewModel.call(this, content);\n        content.ViewModel = _jquery_helpers_1.deepExtend(content.ViewModel || {}, this.gridOptions._getViewModel(), this.columnFilterOptions._getViewModel());\n        if (!!content.ViewModel.Columns) {\n            content.ViewModel.Columns.forEach(function (columnModel) {\n                var column = _this.columns().filter(function (column) {\n                    var actualDataItem = column.actualDataItem;\n                    return actualDataItem ? columnModel.DataId == actualDataItem.uniqueName() : false;\n                })[0];\n                _jquery_helpers_1.deepExtend(columnModel, !!column ? column._getViewModel() : {});\n            });\n        }\n    };\n    GridItem.prototype._updateDataQueryParams = function (params) {\n        _super.prototype._updateDataQueryParams.call(this, params);\n        params.ClientFilter = this._gridClientFilterManager.getFilterParams();\n    };\n    GridItem.prototype._updateDataManagerByPartialDataSource = function (content, itemDataDTO) {\n        this._dataManager().updateTotals(itemDataDTO);\n        this._gridClientFilterManager.clearFilterParams();\n    };\n    GridItem.prototype._extendContentState = function (content) {\n        _super.prototype._extendContentState.call(this, content);\n        content.GridClientFilterState = this._gridClientFilterManager.getFilterState();\n    };\n    GridItem.prototype._isAttribute = function (dataItem) {\n        return this.columns().some(function (c) { return c._isAttribute(dataItem); });\n    };\n    GridItem.prototype._setColumnWidthOptions = function (clientState) {\n        var _this = this;\n        if (clientState.widthOptions) {\n            _model_subscriber_1.ModelSubscriber.changePropertyQuietly(this.gridOptions.columnWidthMode, function () { return _this.gridOptions.columnWidthMode(clientState.widthOptions.mode); });\n            clientState.widthOptions.columnsOptions.forEach(function (columnOptions, index) {\n                var column = _this.columns()[columnOptions.actualIndex];\n                _model_subscriber_1.ModelSubscriber.changePropertyQuietly(column.widthType, function () { return column.widthType(columnOptions.widthType); });\n                _model_subscriber_1.ModelSubscriber.changePropertyQuietly(column.weight, function () { return column.weight(columnOptions.weight); });\n            });\n        }\n    };\n    GridItem.prototype._getDefaultCalculationWindowDefinition = function () {\n        return new grid_calc_window_definition_1.GridWindowDefinition();\n    };\n    GridItem.prototype._setClientState = function (clientState) {\n        _super.prototype._setClientState.call(this, clientState);\n        this._setColumnWidthOptions(clientState);\n    };\n    GridItem.prototype._getInteractivityAxisDimensionCount = function () {\n        return this.columns().reduce(function (n, col) {\n            return (col instanceof grid_columns_1.GridDimensionColumn) || (col instanceof grid_columns_1.GridHyperlinkColumn) ? n + 1 : n;\n        }, 0);\n    };\n    GridItem._gridColumnTypesMap = {\n        'GridDimensionColumn': {\n            constructor: grid_columns_1.GridDimensionColumn,\n            displayName: 'DashboardWebStringId.Grid.Dimension',\n            icon: 'dx-dashboard-grid-column-dimension'\n        },\n        'GridMeasureColumn': {\n            constructor: grid_columns_1.GridMeasureColumn,\n            displayName: 'DashboardWebStringId.Grid.Measure',\n            icon: 'dx-dashboard-grid-column-measure'\n        },\n        'GridDeltaColumn': {\n            constructor: grid_columns_1.GridDeltaColumn,\n            displayName: 'DashboardWebStringId.Grid.Delta',\n            icon: 'dx-dashboard-grid-column-delta'\n        },\n        'GridSparklineColumn': {\n            constructor: grid_columns_1.GridSparklineColumn,\n            displayName: 'DashboardWebStringId.Grid.Sparkline',\n            icon: 'dx-dashboard-grid-column-sparkline'\n        },\n        'GridHyperlinkColumn': {\n            constructor: grid_columns_1.GridHyperlinkColumn,\n            displayName: 'DashboardWebStringId.Grid.Hyperlink',\n            icon: 'dx-dashboard-grid-column-hyperlink'\n        }\n    };\n    __decorate([\n        _undo_engine_helper_1.wrapWithUndoRedo\n    ], GridItem.prototype, \"_setColumnWidthOptions\", null);\n    return GridItem;\n}(data_dashboard_item_1.DataDashboardItem));\nexports.GridItem = GridItem;\nserializable_model_1.itemTypesMap['Grid'] = { type: GridItem, groupName: 'common', title: 'DashboardStringId.DefaultNameGridItem', index: 10 };\n"]},"metadata":{},"sourceType":"script"}