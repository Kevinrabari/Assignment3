{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_pie-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pieMouseEventController = exports.pieItem = void 0;\n\nvar string_1 = require(\"devextreme/core/utils/string\");\n\nvar $ = require(\"jquery\");\n\nvar item_data_axis_names_1 = require(\"../../data/item-data/item-data-axis-names\");\n\nvar _chart_helper_1 = require(\"../../data/_chart-helper\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar _selection_helper_1 = require(\"../../data/_selection-helper\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar _z_index_1 = require(\"../../data/_z-index\");\n\nvar _render_helper_1 = require(\"../widgets/_render-helper\");\n\nvar _widget_viewer_item_1 = require(\"./_widget-viewer-item\");\n\nvar pieSizeGroup = 0;\n\nvar pieItem = function (_super) {\n  __extends(pieItem, _super);\n\n  function pieItem(container, options) {\n    var _this = _super.call(this, container, options) || this;\n\n    _this.itemElementCustomColor = _jquery_helpers_1.createJQueryCallbacks();\n    _this.sizeGroupId = undefined;\n    _this.sizeGroupId = ++pieSizeGroup;\n\n    _this._createPieMouseEventController();\n\n    return _this;\n  }\n\n  Object.defineProperty(pieItem.prototype, \"dataController\", {\n    get: function () {\n      return this._dataController;\n    },\n    set: function (dataController) {\n      this._dataController = dataController;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  pieItem.prototype._initializeData = function (newOptions) {\n    var _this = this;\n\n    _super.prototype._initializeData.call(this, newOptions);\n\n    if (this.dataController) {\n      this._dataController.elementCustomColor = function (args) {\n        return _this._elementCustomColor(args);\n      };\n    }\n  };\n\n  pieItem.prototype._clearSelectionUnsafe = function () {\n    _super.prototype._clearSelectionUnsafe.call(this);\n\n    var that = this,\n        viewModel = that.options.ViewModel,\n        piesViewer = that.widgetsViewer;\n\n    if (viewModel && viewModel.SelectionEnabled && viewModel.SelectionMode !== _chart_helper_1.chartHelper.SelectionMode.Series) {\n      $.each(piesViewer.itemsList, function () {\n        if (this._widget) {\n          this._widget.clearSelection();\n        }\n      });\n    }\n  };\n\n  pieItem.prototype.updateContentStateUnsafe = function () {\n    var that = this;\n\n    if (that._getCustomHoverEnabled()) {\n      var argumentHoverMode = 'none',\n          seriesHoverEnabled = false,\n          targetAxes = this._getTargetAxes();\n\n      if (targetAxes.length == 1) {\n        if (targetAxes[0] == item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis) argumentHoverMode = 'allArgumentPoints';else seriesHoverEnabled = true;\n      } else {\n        if (targetAxes.length == 2) {\n          argumentHoverMode = 'point';\n          seriesHoverEnabled = true;\n        }\n      }\n\n      $.each(this.widgetsViewer.itemsList, function (index, viewer) {\n        viewer._widget.option('commonSeriesSettings.hoverMode', argumentHoverMode);\n\n        viewer._hoverEnabled = seriesHoverEnabled;\n      });\n    }\n  };\n\n  pieItem.prototype.selectTupleUnsafe = function (tuple, state) {\n    var that = this,\n        isPointSelection = that.options.ViewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Points,\n        seriesValue = _utils_1.getAxisPointValue(tuple, item_data_axis_names_1.itemDataAxisNames.chartSeriesAxis),\n        argumentValue = _utils_1.getAxisPointValue(tuple, item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis);\n\n    $.each(that.widgetsViewer.itemsList, function (index, viewer) {\n      if (seriesValue) {\n        if (_selection_helper_1.selectionHelper._checkWidgetCorrespondsToValue(viewer, seriesValue)) {\n          if (argumentValue) _selection_helper_1.selectionHelper.setSelectedArguments(viewer._widget, [argumentValue], state);else if (isPointSelection) _selection_helper_1.selectionHelper.selectWholePie(viewer._widget, state);else _selection_helper_1.selectionHelper.setSelectedWidgetViewer(viewer, [seriesValue], state);\n        }\n      } else if (argumentValue) {\n        _selection_helper_1.selectionHelper.setSelectedArguments(viewer._widget, [argumentValue], state);\n      }\n    });\n  };\n\n  pieItem.prototype._setSelectionUnsafe = function (values) {\n    _super.prototype._setSelectionUnsafe.call(this, values);\n\n    this.clearSelection();\n\n    this._applySelection();\n  };\n\n  pieItem.prototype._elementCustomColor = function (eventArgs) {\n    this.itemElementCustomColor.fire(this.getName(), eventArgs);\n  };\n\n  pieItem.prototype._createPieMouseEventController = function () {\n    var that = this;\n    that.pieMouseEventController = new pieMouseEventController();\n    that.pieMouseEventController.ready.add(function () {\n      var data = {\n        pie: that.pieMouseEventController.pieData,\n        slice: that.pieMouseEventController.sliceData\n      };\n\n      that._raiseItemClick(data);\n    });\n  };\n\n  pieItem.prototype._isHoverEnabled = function () {\n    return _super.prototype._isHoverEnabled.call(this) && this._isItemSelectionEnabled();\n  };\n\n  pieItem.prototype._isItemSelectionEnabled = function () {\n    var viewModel = this.options.ViewModel;\n    return viewModel && viewModel.SelectionEnabled && viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Series;\n  };\n\n  pieItem.prototype._isLabelsVisible = function () {\n    var viewModel = this.options.ViewModel;\n    return viewModel && viewModel.LabelContentType !== 'None';\n  };\n\n  pieItem.prototype._supportAnimation = function () {\n    return true;\n  };\n\n  pieItem.prototype._getSpecificWidgetViewerOptions = function () {\n    var that = this,\n        specificOptions = that._isLabelsVisible() ? {\n      itemOptions: {\n        minWidth: 200,\n        proportions: 0.75,\n        ignoreProportions: true\n      }\n    } : {\n      itemOptions: {\n        minWidth: 100,\n        proportions: 1,\n        ignoreProportions: true\n      }\n    };\n    return _jquery_helpers_1.deepExtend(specificOptions, _super.prototype._getSpecificWidgetViewerOptions.call(this));\n  };\n\n  pieItem.prototype._getWidgetType = function () {\n    return 'pieChart';\n  };\n\n  pieItem.prototype._getDataSource = function () {\n    if (!this.options.ViewModel) {\n      return {};\n    }\n\n    var that = this,\n        viewModel = that.options.ViewModel,\n        isPointSelectionEnabled = that._getPointSelectionEnabled(),\n        selectionMode = that._selectionMode(),\n        seriesAxisPoints = that._dataController.getSeriesAxisPoints(),\n        selectedValuesList = that._getSelectedValues(),\n        dataSource = [],\n        currentSeriesPath,\n        seriesPropsValues;\n\n    seriesAxisPoints.forEach(function (seriesAxisPoint) {\n      currentSeriesPath = seriesAxisPoint.getUniquePath();\n\n      that._dataController.getValueDataMembers().forEach(function (valueDataMember, valueIndex) {\n        var dataSourceItem = {\n          animation: that._getAnimationOptions(),\n          sizeGroup: that.sizeGroupId,\n          legend: {\n            visible: false\n          },\n          resolveLabelOverlapping: 'shift',\n          onIncidentOccurred: _render_helper_1.RenderHelper.widgetIncidentOccurred,\n          onPointClick: that._getSelectPointsHandler(),\n          onPointHoverChanged: that._getHoverPointsHandler(),\n          palette: _render_helper_1.RenderHelper.getDefaultPalette(),\n          pointSelectionMode: 'multiple',\n          commonSeriesSettings: {\n            hoverMode: isPointSelectionEnabled && selectionMode !== 'none' ? 'allArgumentPoints' : 'none'\n          },\n          customizePoint: function () {\n            var result = {\n              color: that._dataController.getColor(this.tag.axisPoint, seriesAxisPoint, that._getMeasuresIds(this.tag), this.tag.colorMeasureId)\n            };\n\n            var interactionValue = that._getElementInteractionValue(this, that.options.ViewModel);\n\n            if (interactionValue && interactionValue.axisPoint && !_utils_1.allowSelectValue(interactionValue.axisPoint.getUniquePath())) {\n              result.hoverStyle = {\n                hatching: 'none'\n              };\n            }\n\n            return result;\n          }\n        };\n        dataSourceItem.tag = {\n          axisPoint: seriesAxisPoint\n        };\n\n        _jquery_helpers_1.extend(dataSourceItem, that._configureHover(currentSeriesPath));\n\n        if (selectedValuesList && that._isItemSelectionEnabled()) {\n          $.each(selectedValuesList, function (__, selectedValue) {\n            if (_utils_1.checkValuesAreEqual(currentSeriesPath, selectedValue)) dataSourceItem.isSelected = true;\n          });\n        }\n\n        if (viewModel.ShowPieCaptions) {\n          dataSourceItem.title = {\n            text: that._dataController.getValueDisplayNames(seriesAxisPoint, valueIndex),\n            font: {\n              size: 18\n            }\n          };\n        }\n\n        seriesPropsValues = {\n          type: viewModel.PieType === 'Donut' ? 'doughnut' : 'pie',\n          argumentField: 'x',\n          valueField: 'y',\n          label: {\n            visible: that._isLabelsVisible(),\n            position: viewModel.LabelPosition == 'Inside' ? 'inside' : 'columns'\n          },\n          point: {\n            visible: true\n          },\n          segmentsDirection: 'anticlockwise',\n          paintNullPoints: true\n        };\n\n        if (seriesPropsValues.label.visible) {\n          seriesPropsValues.label.connector = {\n            visible: true,\n            width: 1\n          };\n          seriesPropsValues.label.customizeText = that._getFormatLabelHandler(viewModel.LabelContentType);\n        }\n\n        dataSourceItem.series = [seriesPropsValues];\n        dataSourceItem.dataSource = that._dataController.createDataSource(seriesAxisPoint, valueDataMember);\n        dataSourceItem.tooltip = {\n          enabled: viewModel.TooltipContentType !== 'None'\n        };\n\n        if (dataSourceItem.tooltip.enabled) {\n          dataSourceItem.tooltip.container = _utils_1.tooltipContainerSelector;\n\n          dataSourceItem.tooltip.customizeTooltip = function (label) {\n            return {\n              text: that._getFormatLabelHandler(viewModel.TooltipContentType)(label)\n            };\n          };\n\n          dataSourceItem.tooltip.font = {\n            size: 14\n          };\n          dataSourceItem.tooltip.zIndex = _z_index_1.zIndex.dashboardItemTooltips;\n        }\n\n        dataSource.push(dataSourceItem);\n      });\n    });\n    return dataSource.length == 1 && dataSource[0].dataSource.length == 0 ? [] : dataSource;\n  };\n\n  pieItem.prototype._getPointSelectionEnabled = function () {\n    var viewModel = this.options.ViewModel;\n    return viewModel.SelectionEnabled && (viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Argument || viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Points);\n  };\n\n  pieItem.prototype._getFormatLabelHandler = function (valueType) {\n    var that = this;\n    return function (label) {\n      var pointTexts = that._dataController.getPointDisplayTexts(label.point.tag, label.value, label.percent),\n          tooltipPattern = that._getTooltipPattern(valueType);\n\n      switch (valueType) {\n        case 'Argument':\n          return pointTexts.argumentText;\n\n        case 'Percent':\n          return pointTexts.percentText;\n\n        case 'Value':\n          return pointTexts.valueText;\n\n        case 'ValueAndPercent':\n          return string_1.format(tooltipPattern, pointTexts.valueText, pointTexts.percentText);\n\n        case 'ArgumentAndPercent':\n          return string_1.format(tooltipPattern, pointTexts.argumentText, pointTexts.percentText);\n\n        case 'ArgumentAndValue':\n          return string_1.format(tooltipPattern, pointTexts.argumentText, pointTexts.valueText);\n\n        case 'ArgumentValueAndPercent':\n          return string_1.format(tooltipPattern, pointTexts.argumentText, pointTexts.valueText, pointTexts.percentText);\n\n        default:\n          return '';\n      }\n    };\n  };\n\n  pieItem.prototype._getTooltipPattern = function (valueType) {\n    switch (valueType) {\n      case 'ValueAndPercent':\n        return '{0} ({1})';\n\n      case 'ArgumentAndPercent':\n      case 'ArgumentAndValue':\n        return '{0}: {1}';\n\n      case 'ArgumentValueAndPercent':\n        return '{0}: {1} ({2})';\n\n      default:\n        return '';\n    }\n  };\n\n  pieItem.prototype._getElementInteractionValue = function (element, viewModel) {\n    if (this._isItemSelectionEnabled()) return _super.prototype._getElementInteractionValue.call(this, element, viewModel);\n    return element.tag;\n  };\n\n  pieItem.prototype._getOnClickHandler = function () {\n    var that = this;\n    return function (e) {\n      that._pieMouseEventHandler(e.item);\n    };\n  };\n\n  pieItem.prototype._getSelectPointsHandler = function () {\n    var that = this;\n    return function (e) {\n      var viewModel = that.options.ViewModel,\n          selectionMode = that._selectionMode(),\n          isPointSelectionEnalbed = viewModel.SelectionEnabled && viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Argument && selectionMode !== 'none';\n\n      that._sliceMouseEventHandler(e.target);\n    };\n  };\n\n  pieItem.prototype._getOnHoverHandler = function () {\n    var that = this;\n    return function (e) {\n      that.pieMouseEventController.pieData = e.item;\n\n      that._raiseItemHover({\n        pie: e.item\n      }, e.state);\n    };\n  };\n\n  pieItem.prototype._getHoverPointsHandler = function () {\n    var that = this;\n    return function (e) {\n      that._raiseItemHover({\n        pie: that.pieMouseEventController.pieData,\n        slice: e.target\n      });\n    };\n  };\n\n  pieItem.prototype._pieMouseEventHandler = function (element) {\n    this.pieMouseEventController.setPieData(element);\n  };\n\n  pieItem.prototype._sliceMouseEventHandler = function (element) {\n    this.pieMouseEventController.setSliceData(element);\n  };\n\n  pieItem.prototype._getDataPoint = function (element) {\n    var that = this,\n        viewModel = that.options.ViewModel,\n        slice = element.slice,\n        sliceTag = slice ? slice.tag : undefined,\n        pie = element.pie,\n        pieTag = pie ? pie.tag : undefined,\n        argumentsValues = sliceTag ? _utils_1.getTagValue(sliceTag) : [],\n        titleValues = pieTag ? _utils_1.getTagValue(pieTag) : [],\n        argumentIndex = slice && !sliceTag ? slice.index : undefined,\n        elementIndex = pie && !pieTag ? pie.index : undefined,\n        measureIndex = argumentIndex ? argumentIndex : elementIndex ? elementIndex : 0;\n    return {\n      getValues: function (name) {\n        switch (name) {\n          case item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis:\n            return argumentsValues;\n\n          case item_data_axis_names_1.itemDataAxisNames.chartSeriesAxis:\n            return titleValues;\n\n          default:\n            return null;\n        }\n      },\n      getDeltaIds: function () {\n        return [];\n      },\n      getMeasureIds: function () {\n        return slice ? that._getMeasuresIds(slice.tag) : [];\n      }\n    };\n  };\n\n  pieItem.prototype._getMeasuresIds = function (sliceTag) {\n    return sliceTag ? sliceTag.dataMembers : [];\n  };\n\n  pieItem.prototype._isMultiDataSupported = function () {\n    return true;\n  };\n\n  pieItem.prototype._getWidget = function () {\n    if (this.widgetsViewer) {\n      var pieWidgetViewers = this.widgetsViewer.itemsList,\n          piesList = [];\n      $.each(pieWidgetViewers, function () {\n        piesList.push(this._widget);\n      });\n      return piesList;\n    } else {\n      return undefined;\n    }\n  };\n\n  pieItem.prototype._applySelectionUnsafe = function () {\n    var that = this;\n    that.getSelectedTuples().forEach(function (tuple) {\n      return that.selectTuple(tuple, true);\n    });\n  };\n\n  return pieItem;\n}(_widget_viewer_item_1.widgetViewerItem);\n\nexports.pieItem = pieItem;\n\nvar pieMouseEventController = function () {\n  function pieMouseEventController() {\n    this.shouldRaise = false;\n    this.ready = _jquery_helpers_1.createJQueryCallbacks();\n    this.timer = 0;\n  }\n\n  pieMouseEventController.prototype.setPieData = function (data) {\n    this.pieData = data;\n\n    if (this.ready) {\n      this.ready.fire();\n    }\n\n    this.pieData = undefined;\n    this.sliceData = undefined;\n  };\n\n  pieMouseEventController.prototype.setSliceData = function (data) {\n    this.sliceData = data;\n  };\n\n  return pieMouseEventController;\n}();\n\nexports.pieMouseEventController = pieMouseEventController;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/viewer-items/_pie-item.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","pieMouseEventController","pieItem","string_1","require","$","item_data_axis_names_1","_chart_helper_1","_jquery_helpers_1","_selection_helper_1","_utils_1","_z_index_1","_render_helper_1","_widget_viewer_item_1","pieSizeGroup","_super","container","options","_this","itemElementCustomColor","createJQueryCallbacks","sizeGroupId","undefined","_createPieMouseEventController","get","_dataController","set","dataController","enumerable","configurable","_initializeData","newOptions","elementCustomColor","args","_elementCustomColor","_clearSelectionUnsafe","that","viewModel","ViewModel","piesViewer","widgetsViewer","SelectionEnabled","SelectionMode","chartHelper","Series","each","itemsList","_widget","clearSelection","updateContentStateUnsafe","_getCustomHoverEnabled","argumentHoverMode","seriesHoverEnabled","targetAxes","_getTargetAxes","length","itemDataAxisNames","chartArgumentAxis","index","viewer","option","_hoverEnabled","selectTupleUnsafe","tuple","state","isPointSelection","Points","seriesValue","getAxisPointValue","chartSeriesAxis","argumentValue","selectionHelper","_checkWidgetCorrespondsToValue","setSelectedArguments","selectWholePie","setSelectedWidgetViewer","_setSelectionUnsafe","values","_applySelection","eventArgs","fire","getName","ready","add","data","pie","pieData","slice","sliceData","_raiseItemClick","_isHoverEnabled","_isItemSelectionEnabled","_isLabelsVisible","LabelContentType","_supportAnimation","_getSpecificWidgetViewerOptions","specificOptions","itemOptions","minWidth","proportions","ignoreProportions","deepExtend","_getWidgetType","_getDataSource","isPointSelectionEnabled","_getPointSelectionEnabled","selectionMode","_selectionMode","seriesAxisPoints","getSeriesAxisPoints","selectedValuesList","_getSelectedValues","dataSource","currentSeriesPath","seriesPropsValues","forEach","seriesAxisPoint","getUniquePath","getValueDataMembers","valueDataMember","valueIndex","dataSourceItem","animation","_getAnimationOptions","sizeGroup","legend","visible","resolveLabelOverlapping","onIncidentOccurred","RenderHelper","widgetIncidentOccurred","onPointClick","_getSelectPointsHandler","onPointHoverChanged","_getHoverPointsHandler","palette","getDefaultPalette","pointSelectionMode","commonSeriesSettings","hoverMode","customizePoint","result","color","getColor","tag","axisPoint","_getMeasuresIds","colorMeasureId","interactionValue","_getElementInteractionValue","allowSelectValue","hoverStyle","hatching","extend","_configureHover","selectedValue","checkValuesAreEqual","isSelected","ShowPieCaptions","title","text","getValueDisplayNames","font","size","type","PieType","argumentField","valueField","label","position","LabelPosition","point","segmentsDirection","paintNullPoints","connector","width","customizeText","_getFormatLabelHandler","series","createDataSource","tooltip","enabled","TooltipContentType","tooltipContainerSelector","customizeTooltip","zIndex","dashboardItemTooltips","push","Argument","valueType","pointTexts","getPointDisplayTexts","percent","tooltipPattern","_getTooltipPattern","argumentText","percentText","valueText","format","element","_getOnClickHandler","e","_pieMouseEventHandler","item","isPointSelectionEnalbed","_sliceMouseEventHandler","target","_getOnHoverHandler","_raiseItemHover","setPieData","setSliceData","_getDataPoint","sliceTag","pieTag","argumentsValues","getTagValue","titleValues","argumentIndex","elementIndex","measureIndex","getValues","name","getDeltaIds","getMeasureIds","dataMembers","_isMultiDataSupported","_getWidget","pieWidgetViewers","piesList","_applySelectionUnsafe","getSelectedTuples","selectTuple","widgetViewerItem","shouldRaise","timer"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_pie-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pieMouseEventController = exports.pieItem = void 0;\nvar string_1 = require(\"devextreme/core/utils/string\");\nvar $ = require(\"jquery\");\nvar item_data_axis_names_1 = require(\"../../data/item-data/item-data-axis-names\");\nvar _chart_helper_1 = require(\"../../data/_chart-helper\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar _selection_helper_1 = require(\"../../data/_selection-helper\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar _z_index_1 = require(\"../../data/_z-index\");\nvar _render_helper_1 = require(\"../widgets/_render-helper\");\nvar _widget_viewer_item_1 = require(\"./_widget-viewer-item\");\nvar pieSizeGroup = 0;\nvar pieItem = (function (_super) {\n    __extends(pieItem, _super);\n    function pieItem(container, options) {\n        var _this = _super.call(this, container, options) || this;\n        _this.itemElementCustomColor = _jquery_helpers_1.createJQueryCallbacks();\n        _this.sizeGroupId = undefined;\n        _this.sizeGroupId = ++pieSizeGroup;\n        _this._createPieMouseEventController();\n        return _this;\n    }\n    Object.defineProperty(pieItem.prototype, \"dataController\", {\n        get: function () { return this._dataController; },\n        set: function (dataController) { this._dataController = dataController; },\n        enumerable: false,\n        configurable: true\n    });\n    pieItem.prototype._initializeData = function (newOptions) {\n        var _this = this;\n        _super.prototype._initializeData.call(this, newOptions);\n        if (this.dataController) {\n            this._dataController.elementCustomColor = function (args) { return _this._elementCustomColor(args); };\n        }\n    };\n    pieItem.prototype._clearSelectionUnsafe = function () {\n        _super.prototype._clearSelectionUnsafe.call(this);\n        var that = this, viewModel = that.options.ViewModel, piesViewer = that.widgetsViewer;\n        if (viewModel && viewModel.SelectionEnabled && viewModel.SelectionMode !== _chart_helper_1.chartHelper.SelectionMode.Series) {\n            $.each(piesViewer.itemsList, function () {\n                if (this._widget) {\n                    this._widget.clearSelection();\n                }\n            });\n        }\n    };\n    pieItem.prototype.updateContentStateUnsafe = function () {\n        var that = this;\n        if (that._getCustomHoverEnabled()) {\n            var argumentHoverMode = 'none', seriesHoverEnabled = false, targetAxes = this._getTargetAxes();\n            if (targetAxes.length == 1) {\n                if (targetAxes[0] == item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis)\n                    argumentHoverMode = 'allArgumentPoints';\n                else\n                    seriesHoverEnabled = true;\n            }\n            else {\n                if (targetAxes.length == 2) {\n                    argumentHoverMode = 'point';\n                    seriesHoverEnabled = true;\n                }\n            }\n            $.each(this.widgetsViewer.itemsList, function (index, viewer) {\n                viewer._widget.option('commonSeriesSettings.hoverMode', argumentHoverMode);\n                viewer._hoverEnabled = seriesHoverEnabled;\n            });\n        }\n    };\n    pieItem.prototype.selectTupleUnsafe = function (tuple, state) {\n        var that = this, isPointSelection = that.options.ViewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Points, seriesValue = _utils_1.getAxisPointValue(tuple, item_data_axis_names_1.itemDataAxisNames.chartSeriesAxis), argumentValue = _utils_1.getAxisPointValue(tuple, item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis);\n        $.each(that.widgetsViewer.itemsList, function (index, viewer) {\n            if (seriesValue) {\n                if (_selection_helper_1.selectionHelper._checkWidgetCorrespondsToValue(viewer, seriesValue)) {\n                    if (argumentValue)\n                        _selection_helper_1.selectionHelper.setSelectedArguments(viewer._widget, [argumentValue], state);\n                    else if (isPointSelection)\n                        _selection_helper_1.selectionHelper.selectWholePie(viewer._widget, state);\n                    else\n                        _selection_helper_1.selectionHelper.setSelectedWidgetViewer(viewer, [seriesValue], state);\n                }\n            }\n            else if (argumentValue) {\n                _selection_helper_1.selectionHelper.setSelectedArguments(viewer._widget, [argumentValue], state);\n            }\n        });\n    };\n    pieItem.prototype._setSelectionUnsafe = function (values) {\n        _super.prototype._setSelectionUnsafe.call(this, values);\n        this.clearSelection();\n        this._applySelection();\n    };\n    pieItem.prototype._elementCustomColor = function (eventArgs) {\n        this.itemElementCustomColor.fire(this.getName(), eventArgs);\n    };\n    pieItem.prototype._createPieMouseEventController = function () {\n        var that = this;\n        that.pieMouseEventController = new pieMouseEventController();\n        that.pieMouseEventController.ready.add(function () {\n            var data = { pie: that.pieMouseEventController.pieData, slice: that.pieMouseEventController.sliceData };\n            that._raiseItemClick(data);\n        });\n    };\n    pieItem.prototype._isHoverEnabled = function () {\n        return _super.prototype._isHoverEnabled.call(this) && this._isItemSelectionEnabled();\n    };\n    pieItem.prototype._isItemSelectionEnabled = function () {\n        var viewModel = this.options.ViewModel;\n        return viewModel && viewModel.SelectionEnabled && (viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Series);\n    };\n    pieItem.prototype._isLabelsVisible = function () {\n        var viewModel = this.options.ViewModel;\n        return viewModel && (viewModel.LabelContentType !== 'None');\n    };\n    pieItem.prototype._supportAnimation = function () {\n        return true;\n    };\n    pieItem.prototype._getSpecificWidgetViewerOptions = function () {\n        var that = this, specificOptions = that._isLabelsVisible() ? {\n            itemOptions: {\n                minWidth: 200,\n                proportions: 0.75,\n                ignoreProportions: true\n            }\n        } : {\n            itemOptions: {\n                minWidth: 100,\n                proportions: 1,\n                ignoreProportions: true\n            }\n        };\n        return _jquery_helpers_1.deepExtend(specificOptions, _super.prototype._getSpecificWidgetViewerOptions.call(this));\n    };\n    pieItem.prototype._getWidgetType = function () {\n        return 'pieChart';\n    };\n    pieItem.prototype._getDataSource = function () {\n        if (!this.options.ViewModel) {\n            return {};\n        }\n        var that = this, viewModel = that.options.ViewModel, isPointSelectionEnabled = that._getPointSelectionEnabled(), selectionMode = that._selectionMode(), seriesAxisPoints = that._dataController.getSeriesAxisPoints(), selectedValuesList = that._getSelectedValues(), dataSource = [], currentSeriesPath, seriesPropsValues;\n        seriesAxisPoints.forEach(function (seriesAxisPoint) {\n            currentSeriesPath = seriesAxisPoint.getUniquePath();\n            that._dataController.getValueDataMembers().forEach(function (valueDataMember, valueIndex) {\n                var dataSourceItem = {\n                    animation: that._getAnimationOptions(),\n                    sizeGroup: that.sizeGroupId,\n                    legend: {\n                        visible: false\n                    },\n                    resolveLabelOverlapping: 'shift',\n                    onIncidentOccurred: _render_helper_1.RenderHelper.widgetIncidentOccurred,\n                    onPointClick: that._getSelectPointsHandler(),\n                    onPointHoverChanged: that._getHoverPointsHandler(),\n                    palette: _render_helper_1.RenderHelper.getDefaultPalette(),\n                    pointSelectionMode: 'multiple',\n                    commonSeriesSettings: {\n                        hoverMode: isPointSelectionEnabled && (selectionMode !== 'none') ? 'allArgumentPoints' : 'none'\n                    },\n                    customizePoint: function () {\n                        var result = { color: that._dataController.getColor(this.tag.axisPoint, seriesAxisPoint, that._getMeasuresIds(this.tag), this.tag.colorMeasureId) };\n                        var interactionValue = that._getElementInteractionValue(this, that.options.ViewModel);\n                        if (interactionValue && interactionValue.axisPoint && !_utils_1.allowSelectValue(interactionValue.axisPoint.getUniquePath())) {\n                            result.hoverStyle = { hatching: 'none' };\n                        }\n                        return result;\n                    }\n                };\n                dataSourceItem.tag = { axisPoint: seriesAxisPoint };\n                _jquery_helpers_1.extend(dataSourceItem, that._configureHover(currentSeriesPath));\n                if (selectedValuesList && that._isItemSelectionEnabled()) {\n                    $.each(selectedValuesList, function (__, selectedValue) {\n                        if (_utils_1.checkValuesAreEqual(currentSeriesPath, selectedValue))\n                            dataSourceItem.isSelected = true;\n                    });\n                }\n                if (viewModel.ShowPieCaptions) {\n                    dataSourceItem.title = {\n                        text: that._dataController.getValueDisplayNames(seriesAxisPoint, valueIndex),\n                        font: {\n                            size: 18\n                        }\n                    };\n                }\n                seriesPropsValues = {\n                    type: (viewModel.PieType === 'Donut') ? 'doughnut' : 'pie',\n                    argumentField: 'x',\n                    valueField: 'y',\n                    label: {\n                        visible: that._isLabelsVisible(),\n                        position: viewModel.LabelPosition == 'Inside' ? 'inside' : 'columns'\n                    },\n                    point: {\n                        visible: true\n                    },\n                    segmentsDirection: 'anticlockwise',\n                    paintNullPoints: true\n                };\n                if (seriesPropsValues.label.visible) {\n                    seriesPropsValues.label.connector = {\n                        visible: true,\n                        width: 1\n                    };\n                    seriesPropsValues.label.customizeText = that._getFormatLabelHandler(viewModel.LabelContentType);\n                }\n                dataSourceItem.series = [seriesPropsValues];\n                dataSourceItem.dataSource = that._dataController.createDataSource(seriesAxisPoint, valueDataMember);\n                dataSourceItem.tooltip = {\n                    enabled: (viewModel.TooltipContentType !== 'None')\n                };\n                if (dataSourceItem.tooltip.enabled) {\n                    dataSourceItem.tooltip.container = _utils_1.tooltipContainerSelector;\n                    dataSourceItem.tooltip.customizeTooltip = function (label) {\n                        return { text: that._getFormatLabelHandler(viewModel.TooltipContentType)(label) };\n                    };\n                    dataSourceItem.tooltip.font = {\n                        size: 14\n                    };\n                    dataSourceItem.tooltip.zIndex = _z_index_1.zIndex.dashboardItemTooltips;\n                }\n                dataSource.push(dataSourceItem);\n            });\n        });\n        return (dataSource.length == 1 && dataSource[0].dataSource.length == 0) ? [] : dataSource;\n    };\n    pieItem.prototype._getPointSelectionEnabled = function () {\n        var viewModel = this.options.ViewModel;\n        return viewModel.SelectionEnabled && (viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Argument || viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Points);\n    };\n    pieItem.prototype._getFormatLabelHandler = function (valueType) {\n        var that = this;\n        return function (label) {\n            var pointTexts = that._dataController.getPointDisplayTexts(label.point.tag, label.value, label.percent), tooltipPattern = that._getTooltipPattern(valueType);\n            switch (valueType) {\n                case 'Argument':\n                    return pointTexts.argumentText;\n                case 'Percent':\n                    return pointTexts.percentText;\n                case 'Value':\n                    return pointTexts.valueText;\n                case 'ValueAndPercent':\n                    return string_1.format(tooltipPattern, pointTexts.valueText, pointTexts.percentText);\n                case 'ArgumentAndPercent':\n                    return string_1.format(tooltipPattern, pointTexts.argumentText, pointTexts.percentText);\n                case 'ArgumentAndValue':\n                    return string_1.format(tooltipPattern, pointTexts.argumentText, pointTexts.valueText);\n                case 'ArgumentValueAndPercent':\n                    return string_1.format(tooltipPattern, pointTexts.argumentText, pointTexts.valueText, pointTexts.percentText);\n                default:\n                    return '';\n            }\n        };\n    };\n    pieItem.prototype._getTooltipPattern = function (valueType) {\n        switch (valueType) {\n            case 'ValueAndPercent':\n                return '{0} ({1})';\n            case 'ArgumentAndPercent':\n            case 'ArgumentAndValue':\n                return '{0}: {1}';\n            case 'ArgumentValueAndPercent':\n                return '{0}: {1} ({2})';\n            default:\n                return '';\n        }\n    };\n    pieItem.prototype._getElementInteractionValue = function (element, viewModel) {\n        if (this._isItemSelectionEnabled())\n            return _super.prototype._getElementInteractionValue.call(this, element, viewModel);\n        return element.tag;\n    };\n    pieItem.prototype._getOnClickHandler = function () {\n        var that = this;\n        return function (e) {\n            that._pieMouseEventHandler(e.item);\n        };\n    };\n    pieItem.prototype._getSelectPointsHandler = function () {\n        var that = this;\n        return function (e) {\n            var viewModel = that.options.ViewModel, selectionMode = that._selectionMode(), isPointSelectionEnalbed = viewModel.SelectionEnabled && (viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Argument) && selectionMode !== 'none';\n            that._sliceMouseEventHandler(e.target);\n        };\n    };\n    pieItem.prototype._getOnHoverHandler = function () {\n        var that = this;\n        return function (e) {\n            that.pieMouseEventController.pieData = e.item;\n            that._raiseItemHover({ pie: e.item }, e.state);\n        };\n    };\n    pieItem.prototype._getHoverPointsHandler = function () {\n        var that = this;\n        return function (e) {\n            that._raiseItemHover({ pie: that.pieMouseEventController.pieData, slice: e.target });\n        };\n    };\n    pieItem.prototype._pieMouseEventHandler = function (element) {\n        this.pieMouseEventController.setPieData(element);\n    };\n    pieItem.prototype._sliceMouseEventHandler = function (element) {\n        this.pieMouseEventController.setSliceData(element);\n    };\n    pieItem.prototype._getDataPoint = function (element) {\n        var that = this, viewModel = that.options.ViewModel, slice = element.slice, sliceTag = slice ? slice.tag : undefined, pie = element.pie, pieTag = pie ? pie.tag : undefined, argumentsValues = sliceTag ? _utils_1.getTagValue(sliceTag) : [], titleValues = pieTag ? _utils_1.getTagValue(pieTag) : [], argumentIndex = (slice && !sliceTag) ? slice.index : undefined, elementIndex = (pie && !pieTag) ? pie.index : undefined, measureIndex = argumentIndex ? argumentIndex : elementIndex ? elementIndex : 0;\n        return {\n            getValues: function (name) {\n                switch (name) {\n                    case item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis:\n                        return argumentsValues;\n                    case item_data_axis_names_1.itemDataAxisNames.chartSeriesAxis:\n                        return titleValues;\n                    default:\n                        return null;\n                }\n            },\n            getDeltaIds: function () {\n                return [];\n            },\n            getMeasureIds: function () {\n                return slice ? that._getMeasuresIds(slice.tag) : [];\n            }\n        };\n    };\n    pieItem.prototype._getMeasuresIds = function (sliceTag) {\n        return sliceTag ? sliceTag.dataMembers : [];\n    };\n    pieItem.prototype._isMultiDataSupported = function () {\n        return true;\n    };\n    pieItem.prototype._getWidget = function () {\n        if (this.widgetsViewer) {\n            var pieWidgetViewers = this.widgetsViewer.itemsList, piesList = [];\n            $.each(pieWidgetViewers, function () {\n                piesList.push(this._widget);\n            });\n            return piesList;\n        }\n        else {\n            return undefined;\n        }\n    };\n    pieItem.prototype._applySelectionUnsafe = function () {\n        var that = this;\n        that.getSelectedTuples().forEach(function (tuple) { return that.selectTuple(tuple, true); });\n    };\n    return pieItem;\n}(_widget_viewer_item_1.widgetViewerItem));\nexports.pieItem = pieItem;\nvar pieMouseEventController = (function () {\n    function pieMouseEventController() {\n        this.shouldRaise = false;\n        this.ready = _jquery_helpers_1.createJQueryCallbacks();\n        this.timer = 0;\n    }\n    pieMouseEventController.prototype.setPieData = function (data) {\n        this.pieData = data;\n        if (this.ready) {\n            this.ready.fire();\n        }\n        this.pieData = undefined;\n        this.sliceData = undefined;\n    };\n    pieMouseEventController.prototype.setSliceData = function (data) {\n        this.sliceData = data;\n    };\n    return pieMouseEventController;\n}());\nexports.pieMouseEventController = pieMouseEventController;\n"]},"metadata":{},"sourceType":"script"}