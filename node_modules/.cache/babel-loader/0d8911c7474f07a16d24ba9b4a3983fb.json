{"ast":null,"code":"/**\r\n * DevExtreme (esm/file_management/provider_base.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { compileGetter } from \"../core/utils/data\";\nimport { ensureDefined } from \"../core/utils/common\";\nimport dateSerialization from \"../core/utils/date_serialization\";\nimport { each } from \"../core/utils/iterator\";\nimport { isPromise } from \"../core/utils/type\";\nimport { Deferred, fromPromise } from \"../core/utils/deferred\";\nimport FileSystemItem from \"./file_system_item\";\nvar DEFAULT_FILE_UPLOAD_CHUNK_SIZE = 2e5;\n\nclass FileSystemProviderBase {\n  constructor(options) {\n    options = ensureDefined(options, {});\n    this._keyGetter = compileGetter(this._getKeyExpr(options));\n    this._nameGetter = compileGetter(this._getNameExpr(options));\n    this._isDirGetter = compileGetter(this._getIsDirExpr(options));\n    this._sizeGetter = compileGetter(this._getSizeExpr(options));\n    this._dateModifiedGetter = compileGetter(this._getDateModifiedExpr(options));\n    this._thumbnailGetter = compileGetter(options.thumbnailExpr || \"thumbnail\");\n  }\n\n  getItems(parentDirectory) {\n    return [];\n  }\n\n  renameItem(item, name) {}\n\n  createDirectory(parentDirectory, name) {}\n\n  deleteItems(items) {}\n\n  moveItems(items, destinationDirectory) {}\n\n  copyItems(items, destinationDirectory) {}\n\n  uploadFileChunk(fileData, chunksInfo, destinationDirectory) {}\n\n  abortFileUpload(fileData, chunksInfo, destinationDirectory) {}\n\n  downloadItems(items) {}\n\n  getItemsContent(items) {}\n\n  getFileUploadChunkSize() {\n    return DEFAULT_FILE_UPLOAD_CHUNK_SIZE;\n  }\n\n  _convertDataObjectsToFileItems(entries, pathInfo) {\n    var result = [];\n    each(entries, (_, entry) => {\n      var fileItem = this._createFileItem(entry, pathInfo);\n\n      result.push(fileItem);\n    });\n    return result;\n  }\n\n  _createFileItem(dataObj, pathInfo) {\n    var key = this._keyGetter(dataObj);\n\n    var fileItem = new FileSystemItem(pathInfo, this._nameGetter(dataObj), !!this._isDirGetter(dataObj), key);\n    fileItem.size = this._sizeGetter(dataObj);\n\n    if (void 0 === fileItem.size) {\n      fileItem.size = 0;\n    }\n\n    fileItem.dateModified = dateSerialization.deserializeDate(this._dateModifiedGetter(dataObj));\n\n    if (void 0 === fileItem.dateModified) {\n      fileItem.dateModified = new Date();\n    }\n\n    if (fileItem.isDirectory) {\n      fileItem.hasSubDirectories = this._hasSubDirs(dataObj);\n    }\n\n    if (!key) {\n      fileItem.key = fileItem.relativeName;\n    }\n\n    fileItem.thumbnail = this._thumbnailGetter(dataObj) || \"\";\n    fileItem.dataItem = dataObj;\n    return fileItem;\n  }\n\n  _hasSubDirs(dataObj) {\n    return true;\n  }\n\n  _getKeyExpr(options) {\n    return options.keyExpr || this._defaultKeyExpr;\n  }\n\n  _defaultKeyExpr(fileItem) {\n    if (2 === arguments.length) {\n      fileItem.__KEY__ = arguments[1];\n      return;\n    }\n\n    return Object.prototype.hasOwnProperty.call(fileItem, \"__KEY__\") ? fileItem.__KEY__ : null;\n  }\n\n  _getNameExpr(options) {\n    return options.nameExpr || \"name\";\n  }\n\n  _getIsDirExpr(options) {\n    return options.isDirectoryExpr || \"isDirectory\";\n  }\n\n  _getSizeExpr(options) {\n    return options.sizeExpr || \"size\";\n  }\n\n  _getDateModifiedExpr(options) {\n    return options.dateModifiedExpr || \"dateModified\";\n  }\n\n  _executeActionAsDeferred(action, keepResult) {\n    var deferred = new Deferred();\n\n    try {\n      var result = action();\n\n      if (isPromise(result)) {\n        fromPromise(result).done(userResult => deferred.resolve(keepResult && userResult || void 0)).fail(error => deferred.reject(error));\n      } else {\n        deferred.resolve(keepResult && result || void 0);\n      }\n    } catch (error) {\n      return deferred.reject(error);\n    }\n\n    return deferred.promise();\n  }\n\n}\n\nexport default FileSystemProviderBase;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devextreme/esm/file_management/provider_base.js"],"names":["compileGetter","ensureDefined","dateSerialization","each","isPromise","Deferred","fromPromise","FileSystemItem","DEFAULT_FILE_UPLOAD_CHUNK_SIZE","FileSystemProviderBase","constructor","options","_keyGetter","_getKeyExpr","_nameGetter","_getNameExpr","_isDirGetter","_getIsDirExpr","_sizeGetter","_getSizeExpr","_dateModifiedGetter","_getDateModifiedExpr","_thumbnailGetter","thumbnailExpr","getItems","parentDirectory","renameItem","item","name","createDirectory","deleteItems","items","moveItems","destinationDirectory","copyItems","uploadFileChunk","fileData","chunksInfo","abortFileUpload","downloadItems","getItemsContent","getFileUploadChunkSize","_convertDataObjectsToFileItems","entries","pathInfo","result","_","entry","fileItem","_createFileItem","push","dataObj","key","size","dateModified","deserializeDate","Date","isDirectory","hasSubDirectories","_hasSubDirs","relativeName","thumbnail","dataItem","keyExpr","_defaultKeyExpr","arguments","length","__KEY__","Object","prototype","hasOwnProperty","call","nameExpr","isDirectoryExpr","sizeExpr","dateModifiedExpr","_executeActionAsDeferred","action","keepResult","deferred","done","userResult","resolve","fail","error","reject","promise"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/file_management/provider_base.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    compileGetter\r\n} from \"../core/utils/data\";\r\nimport {\r\n    ensureDefined\r\n} from \"../core/utils/common\";\r\nimport dateSerialization from \"../core/utils/date_serialization\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    isPromise\r\n} from \"../core/utils/type\";\r\nimport {\r\n    Deferred,\r\n    fromPromise\r\n} from \"../core/utils/deferred\";\r\nimport FileSystemItem from \"./file_system_item\";\r\nvar DEFAULT_FILE_UPLOAD_CHUNK_SIZE = 2e5;\r\nclass FileSystemProviderBase {\r\n    constructor(options) {\r\n        options = ensureDefined(options, {});\r\n        this._keyGetter = compileGetter(this._getKeyExpr(options));\r\n        this._nameGetter = compileGetter(this._getNameExpr(options));\r\n        this._isDirGetter = compileGetter(this._getIsDirExpr(options));\r\n        this._sizeGetter = compileGetter(this._getSizeExpr(options));\r\n        this._dateModifiedGetter = compileGetter(this._getDateModifiedExpr(options));\r\n        this._thumbnailGetter = compileGetter(options.thumbnailExpr || \"thumbnail\")\r\n    }\r\n    getItems(parentDirectory) {\r\n        return []\r\n    }\r\n    renameItem(item, name) {}\r\n    createDirectory(parentDirectory, name) {}\r\n    deleteItems(items) {}\r\n    moveItems(items, destinationDirectory) {}\r\n    copyItems(items, destinationDirectory) {}\r\n    uploadFileChunk(fileData, chunksInfo, destinationDirectory) {}\r\n    abortFileUpload(fileData, chunksInfo, destinationDirectory) {}\r\n    downloadItems(items) {}\r\n    getItemsContent(items) {}\r\n    getFileUploadChunkSize() {\r\n        return DEFAULT_FILE_UPLOAD_CHUNK_SIZE\r\n    }\r\n    _convertDataObjectsToFileItems(entries, pathInfo) {\r\n        var result = [];\r\n        each(entries, (_, entry) => {\r\n            var fileItem = this._createFileItem(entry, pathInfo);\r\n            result.push(fileItem)\r\n        });\r\n        return result\r\n    }\r\n    _createFileItem(dataObj, pathInfo) {\r\n        var key = this._keyGetter(dataObj);\r\n        var fileItem = new FileSystemItem(pathInfo, this._nameGetter(dataObj), !!this._isDirGetter(dataObj), key);\r\n        fileItem.size = this._sizeGetter(dataObj);\r\n        if (void 0 === fileItem.size) {\r\n            fileItem.size = 0\r\n        }\r\n        fileItem.dateModified = dateSerialization.deserializeDate(this._dateModifiedGetter(dataObj));\r\n        if (void 0 === fileItem.dateModified) {\r\n            fileItem.dateModified = new Date\r\n        }\r\n        if (fileItem.isDirectory) {\r\n            fileItem.hasSubDirectories = this._hasSubDirs(dataObj)\r\n        }\r\n        if (!key) {\r\n            fileItem.key = fileItem.relativeName\r\n        }\r\n        fileItem.thumbnail = this._thumbnailGetter(dataObj) || \"\";\r\n        fileItem.dataItem = dataObj;\r\n        return fileItem\r\n    }\r\n    _hasSubDirs(dataObj) {\r\n        return true\r\n    }\r\n    _getKeyExpr(options) {\r\n        return options.keyExpr || this._defaultKeyExpr\r\n    }\r\n    _defaultKeyExpr(fileItem) {\r\n        if (2 === arguments.length) {\r\n            fileItem.__KEY__ = arguments[1];\r\n            return\r\n        }\r\n        return Object.prototype.hasOwnProperty.call(fileItem, \"__KEY__\") ? fileItem.__KEY__ : null\r\n    }\r\n    _getNameExpr(options) {\r\n        return options.nameExpr || \"name\"\r\n    }\r\n    _getIsDirExpr(options) {\r\n        return options.isDirectoryExpr || \"isDirectory\"\r\n    }\r\n    _getSizeExpr(options) {\r\n        return options.sizeExpr || \"size\"\r\n    }\r\n    _getDateModifiedExpr(options) {\r\n        return options.dateModifiedExpr || \"dateModified\"\r\n    }\r\n    _executeActionAsDeferred(action, keepResult) {\r\n        var deferred = new Deferred;\r\n        try {\r\n            var result = action();\r\n            if (isPromise(result)) {\r\n                fromPromise(result).done(userResult => deferred.resolve(keepResult && userResult || void 0)).fail(error => deferred.reject(error))\r\n            } else {\r\n                deferred.resolve(keepResult && result || void 0)\r\n            }\r\n        } catch (error) {\r\n            return deferred.reject(error)\r\n        }\r\n        return deferred.promise()\r\n    }\r\n}\r\nexport default FileSystemProviderBase;\r\n"]},"metadata":{},"sourceType":"module"}