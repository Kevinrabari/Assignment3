{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_date-utils.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStartOfFirstWeek = exports.divideIntoWeeks = exports.getIsStartOfFirstWeek = exports.addDays = exports.clone = exports.serializeDate = exports.fromUtcDateToString = exports.toUtcDate = exports.toStringArray = exports.patchDateTime = exports.tryConvertToDateTime = void 0;\nvar isoDataTimePattern = /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d/;\n\nfunction tryConvertToDateTime(value) {\n  if (typeof value === 'string' && isoDataTimePattern.test(value)) {\n    return toUtcDate(value);\n  }\n\n  return value;\n}\n\nexports.tryConvertToDateTime = tryConvertToDateTime;\n\nfunction patchDateTime(storageDTO) {\n  var _tryPatchDateTime = function (obj, property) {\n    obj[property] = tryConvertToDateTime(obj[property]);\n  };\n\n  for (var sliceId in storageDTO.Slices) {\n    var slice = storageDTO.Slices[sliceId];\n\n    for (var keyIds in slice.Data) {\n      var dataPoint = slice.Data[keyIds];\n\n      for (var valueId in dataPoint) {\n        _tryPatchDateTime(dataPoint, valueId);\n      }\n    }\n  }\n\n  for (var dataItemName in storageDTO.EncodeMaps) {\n    var uniqueValues = storageDTO.EncodeMaps[dataItemName];\n    var len = uniqueValues.length;\n\n    if (len > 0) {\n      for (var i = 0; i < len; i++) {\n        _tryPatchDateTime(uniqueValues, i);\n      }\n    }\n  }\n}\n\nexports.patchDateTime = patchDateTime;\n\nfunction toStringArray(value) {\n  if (!value) {\n    return value;\n  }\n\n  if (Array.isArray(value)) {\n    return value.map(function (v) {\n      return toStringArray(v);\n    });\n  } else if (value instanceof Date) {\n    return fromUtcDateToString(value);\n  } else if (value instanceof Object) {\n    for (var key in value) {\n      value[key] = toStringArray(value[key]);\n    }\n  }\n\n  return value;\n}\n\nexports.toStringArray = toStringArray;\n\nfunction toUtcDate(value) {\n  var hasDateZone = value[value.length - 3] == ':' && ['+', '-'].indexOf(value[value.length - 6]) !== -1;\n\n  if (value[value.length - 1] !== 'Z' && !hasDateZone) {\n    value += 'Z';\n  }\n\n  var date = new Date(value);\n  return new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n}\n\nexports.toUtcDate = toUtcDate;\n\nfunction fromUtcDateToString(date) {\n  var toString = function (n, useThreeDigits) {\n    if (useThreeDigits === void 0) {\n      useThreeDigits = false;\n    }\n\n    var s = n.toString();\n\n    if (useThreeDigits) {\n      return s.length == 2 ? '0' + s : s.length == 1 ? '00' + s : s;\n    } else {\n      return s.length == 1 ? '0' + s : s;\n    }\n  };\n\n  return date.getFullYear() + '-' + toString(date.getMonth() + 1) + '-' + toString(date.getDate()) + 'T' + toString(date.getHours()) + ':' + toString(date.getMinutes()) + ':' + toString(date.getSeconds()) + '.' + toString(date.getMilliseconds(), true);\n}\n\nexports.fromUtcDateToString = fromUtcDateToString;\n\nfunction serializeDate(date) {\n  return date instanceof Date ? fromUtcDateToString(date) : String(date);\n}\n\nexports.serializeDate = serializeDate;\n\nfunction clone(date) {\n  return new Date(date.valueOf());\n}\n\nexports.clone = clone;\n\nfunction addDays(date, days) {\n  date.setDate(date.getDate() + days);\n}\n\nexports.addDays = addDays;\n\nfunction getIsStartOfFirstWeek(calendarWeekRule) {\n  switch (calendarWeekRule) {\n    case 'FirstDay':\n      return function (date) {\n        return isStartOfFirstWeek(date, 1);\n      };\n\n    case 'FirstFourDayWeek':\n      return function (date) {\n        return isStartOfFirstWeek(date, 4);\n      };\n\n    case 'FirstFullWeek':\n      return function (date) {\n        return isStartOfFirstWeek(date, 7);\n      };\n  }\n}\n\nexports.getIsStartOfFirstWeek = getIsStartOfFirstWeek;\n\nfunction isStartOfFirstWeek(weekStart, numberOfWeekDaysNeededInYear) {\n  var month = weekStart.getMonth();\n  var day = weekStart.getDate();\n  return month === 11 && day >= 25 + numberOfWeekDaysNeededInYear || month === 0 && day <= numberOfWeekDaysNeededInYear;\n}\n\nfunction divideIntoWeeks(start, end, firstDayOfWeek, calendarWeekRule, add) {\n  if (start > end) throw new Error(\"'start' must be less or equal to 'end'.\");\n\n  if (start.getMonth() === 0 && start.getDate() === 1) {\n    var firstWeekStart = getStartOfFirstWeek(start.getFullYear(), firstDayOfWeek, calendarWeekRule);\n    var secondWeekStart = clone(firstWeekStart);\n    addDays(secondWeekStart, 7);\n\n    if (firstWeekStart < start && secondWeekStart > start) {\n      add(clone(start));\n      start = secondWeekStart;\n    } else if (firstWeekStart > start) {\n      add(clone(start));\n      start = firstWeekStart;\n    }\n\n    if (start > end) return;\n  }\n\n  var current = clone(start);\n  var isInFirstWeek = getIsStartOfFirstWeek(calendarWeekRule);\n\n  while (current < end) {\n    add(clone(current));\n    if (current.getMonth() === 11 && current.getDate() !== 25 && isInFirstWeek(current)) add(new Date(current.getFullYear() + 1, 0, 1));\n    addDays(current, 7);\n  }\n\n  add(clone(end));\n}\n\nexports.divideIntoWeeks = divideIntoWeeks;\n\nfunction getStartOfFirstWeek(year, firstDayOfWeek, calendarWeekRule) {\n  var current = new Date(year, 0, 1);\n  addDays(current, -7);\n\n  while (current.getDay() !== firstDayOfWeek) addDays(current, 1);\n\n  var isStartOfFirstWeek = getIsStartOfFirstWeek(calendarWeekRule);\n\n  while (!isStartOfFirstWeek(current)) addDays(current, 7);\n\n  return current;\n}\n\nexports.getStartOfFirstWeek = getStartOfFirstWeek;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/model/internal/_date-utils.js"],"names":["Object","defineProperty","exports","value","getStartOfFirstWeek","divideIntoWeeks","getIsStartOfFirstWeek","addDays","clone","serializeDate","fromUtcDateToString","toUtcDate","toStringArray","patchDateTime","tryConvertToDateTime","isoDataTimePattern","test","storageDTO","_tryPatchDateTime","obj","property","sliceId","Slices","slice","keyIds","Data","dataPoint","valueId","dataItemName","EncodeMaps","uniqueValues","len","length","i","Array","isArray","map","v","Date","key","hasDateZone","indexOf","date","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toString","n","useThreeDigits","s","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","String","valueOf","days","setDate","calendarWeekRule","isStartOfFirstWeek","weekStart","numberOfWeekDaysNeededInYear","month","day","start","end","firstDayOfWeek","add","Error","firstWeekStart","secondWeekStart","current","isInFirstWeek","year","getDay"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_date-utils.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getStartOfFirstWeek = exports.divideIntoWeeks = exports.getIsStartOfFirstWeek = exports.addDays = exports.clone = exports.serializeDate = exports.fromUtcDateToString = exports.toUtcDate = exports.toStringArray = exports.patchDateTime = exports.tryConvertToDateTime = void 0;\nvar isoDataTimePattern = /^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d/;\nfunction tryConvertToDateTime(value) {\n    if (typeof (value) === 'string' && isoDataTimePattern.test(value)) {\n        return toUtcDate(value);\n    }\n    return value;\n}\nexports.tryConvertToDateTime = tryConvertToDateTime;\nfunction patchDateTime(storageDTO) {\n    var _tryPatchDateTime = function (obj, property) {\n        obj[property] = tryConvertToDateTime(obj[property]);\n    };\n    for (var sliceId in storageDTO.Slices) {\n        var slice = storageDTO.Slices[sliceId];\n        for (var keyIds in slice.Data) {\n            var dataPoint = slice.Data[keyIds];\n            for (var valueId in dataPoint) {\n                _tryPatchDateTime(dataPoint, valueId);\n            }\n        }\n    }\n    for (var dataItemName in storageDTO.EncodeMaps) {\n        var uniqueValues = storageDTO.EncodeMaps[dataItemName];\n        var len = uniqueValues.length;\n        if (len > 0) {\n            for (var i = 0; i < len; i++) {\n                _tryPatchDateTime(uniqueValues, i);\n            }\n        }\n    }\n}\nexports.patchDateTime = patchDateTime;\nfunction toStringArray(value) {\n    if (!value) {\n        return value;\n    }\n    if (Array.isArray(value)) {\n        return value.map(function (v) { return toStringArray(v); });\n    }\n    else if (value instanceof Date) {\n        return fromUtcDateToString(value);\n    }\n    else if (value instanceof Object) {\n        for (var key in value) {\n            value[key] = toStringArray(value[key]);\n        }\n    }\n    return value;\n}\nexports.toStringArray = toStringArray;\nfunction toUtcDate(value) {\n    var hasDateZone = value[value.length - 3] == ':' && ['+', '-'].indexOf(value[value.length - 6]) !== -1;\n    if (value[value.length - 1] !== 'Z' && !hasDateZone) {\n        value += 'Z';\n    }\n    var date = new Date(value);\n    return new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n}\nexports.toUtcDate = toUtcDate;\nfunction fromUtcDateToString(date) {\n    var toString = function (n, useThreeDigits) {\n        if (useThreeDigits === void 0) { useThreeDigits = false; }\n        var s = n.toString();\n        if (useThreeDigits) {\n            return s.length == 2 ? '0' + s : (s.length == 1 ? '00' + s : s);\n        }\n        else {\n            return s.length == 1 ? '0' + s : s;\n        }\n    };\n    return date.getFullYear() + '-' +\n        toString(date.getMonth() + 1) + '-' +\n        toString(date.getDate()) + 'T' +\n        toString(date.getHours()) + ':' +\n        toString(date.getMinutes()) + ':' +\n        toString(date.getSeconds()) + '.' +\n        toString(date.getMilliseconds(), true);\n}\nexports.fromUtcDateToString = fromUtcDateToString;\nfunction serializeDate(date) {\n    return date instanceof Date ? fromUtcDateToString(date) : String(date);\n}\nexports.serializeDate = serializeDate;\nfunction clone(date) {\n    return new Date(date.valueOf());\n}\nexports.clone = clone;\nfunction addDays(date, days) {\n    date.setDate(date.getDate() + days);\n}\nexports.addDays = addDays;\nfunction getIsStartOfFirstWeek(calendarWeekRule) {\n    switch (calendarWeekRule) {\n        case 'FirstDay':\n            return function (date) { return isStartOfFirstWeek(date, 1); };\n        case 'FirstFourDayWeek':\n            return function (date) { return isStartOfFirstWeek(date, 4); };\n        case 'FirstFullWeek':\n            return function (date) { return isStartOfFirstWeek(date, 7); };\n    }\n}\nexports.getIsStartOfFirstWeek = getIsStartOfFirstWeek;\nfunction isStartOfFirstWeek(weekStart, numberOfWeekDaysNeededInYear) {\n    var month = weekStart.getMonth();\n    var day = weekStart.getDate();\n    return month === 11 && day >= 25 + numberOfWeekDaysNeededInYear ||\n        month === 0 && day <= numberOfWeekDaysNeededInYear;\n}\nfunction divideIntoWeeks(start, end, firstDayOfWeek, calendarWeekRule, add) {\n    if (start > end)\n        throw new Error(\"'start' must be less or equal to 'end'.\");\n    if (start.getMonth() === 0 && start.getDate() === 1) {\n        var firstWeekStart = getStartOfFirstWeek(start.getFullYear(), firstDayOfWeek, calendarWeekRule);\n        var secondWeekStart = clone(firstWeekStart);\n        addDays(secondWeekStart, 7);\n        if (firstWeekStart < start && secondWeekStart > start) {\n            add(clone(start));\n            start = secondWeekStart;\n        }\n        else if (firstWeekStart > start) {\n            add(clone(start));\n            start = firstWeekStart;\n        }\n        if (start > end)\n            return;\n    }\n    var current = clone(start);\n    var isInFirstWeek = getIsStartOfFirstWeek(calendarWeekRule);\n    while (current < end) {\n        add(clone(current));\n        if (current.getMonth() === 11 &&\n            current.getDate() !== 25 &&\n            isInFirstWeek(current))\n            add(new Date(current.getFullYear() + 1, 0, 1));\n        addDays(current, 7);\n    }\n    add(clone(end));\n}\nexports.divideIntoWeeks = divideIntoWeeks;\nfunction getStartOfFirstWeek(year, firstDayOfWeek, calendarWeekRule) {\n    var current = new Date(year, 0, 1);\n    addDays(current, -7);\n    while (current.getDay() !== firstDayOfWeek)\n        addDays(current, 1);\n    var isStartOfFirstWeek = getIsStartOfFirstWeek(calendarWeekRule);\n    while (!isStartOfFirstWeek(current))\n        addDays(current, 7);\n    return current;\n}\nexports.getStartOfFirstWeek = getStartOfFirstWeek;\n"]},"metadata":{},"sourceType":"script"}