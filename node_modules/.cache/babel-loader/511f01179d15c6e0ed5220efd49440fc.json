{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_mobile-layout.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createLayoutViewModel = exports.dashboardTitleKey = exports.groupWithoutCaptionItemKey = exports.ungroupedItemKey = exports.groupLayoutItems = exports.DashboardMobileLayoutItem = exports.DashboardMobileLayoutController = void 0;\n\nvar ko = require(\"knockout\");\n\nvar index_internal_1 = require(\"../../data/index.internal\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar data_dashboard_item_1 = require(\"../../model/items/data-dashboard-item\");\n\nvar date_filter_item_1 = require(\"../../model/items/filter-items/date-filter-item\");\n\nvar filter_element_item_base_1 = require(\"../../model/items/filter-items/filter-element-item-base\");\n\nvar dashboard_tab_page_1 = require(\"../../model/items/tab-container-item/dashboard-tab-page\");\n\nvar tab_container_item_1 = require(\"../../model/items/tab-container-item/tab-container-item\");\n\nvar dashboard_layout_group_1 = require(\"../../model/layout/dashboard-layout-group\");\n\nvar _dashboard_title_view_constants_1 = require(\"../../viewer-parts/title/_dashboard-title-view-constants\");\n\nvar caption_toolbar_options_1 = require(\"../../viewer-parts/widgets/caption-toolbar/caption-toolbar-options\");\n\nvar _caption_toolbar_css_classes_1 = require(\"../../viewer-parts/widgets/caption-toolbar/_caption-toolbar-css-classes\");\n\nvar _mobile_layout_caption_toolbar_1 = require(\"../../viewer-parts/widgets/caption-toolbar/_mobile-layout-caption-toolbar\");\n\nvar _docking_layout_fullscreen_item_1 = require(\"../docking-layout/_docking-layout-fullscreen-item\");\n\nvar _dashboard_title_model_1 = require(\"../viewer/title/_dashboard-title-model\");\n\nvar _title_component_1 = require(\"../viewer/title/_title-component\");\n\nvar _viewer_interfaces_1 = require(\"../viewer/_viewer-interfaces\");\n\nvar _mobile_layout_fullscreen_item_1 = require(\"./_mobile-layout-fullscreen-item\");\n\nvar _mobile_layout_item_1 = require(\"./_mobile-layout-item\");\n\nvar _mobile_layout_master_filters_editor_1 = require(\"./_mobile-layout-master-filters-editor\");\n\nvar DashboardMobileLayoutController = function () {\n  function DashboardMobileLayoutController(dashboard, dashboardContext, findExtension, _encodeHtml, viewerApi) {\n    var _this = this;\n\n    if (_encodeHtml === void 0) {\n      _encodeHtml = false;\n    }\n\n    this.dashboard = dashboard;\n    this.dashboardContext = dashboardContext;\n    this._encodeHtml = _encodeHtml;\n    this.selectedDashboardItem = ko.computed(function () {\n      return null;\n    });\n    this.emptyItemTemplates = ko.observableArray();\n    this.selectedLayoutItem = ko.computed(function () {\n      return null;\n    });\n    this.visibleItemsProvider = null;\n    var fullScreenItemLocalContext = new _viewer_interfaces_1.DashboardItemContext({\n      addContextToolbarItems: function (options) {\n        var dashboardItem = _this.fullscreenItemModel.dashboardItem();\n\n        if (dashboardItem instanceof data_dashboard_item_1.DataDashboardItem) _this.masterFiltersEditorModel.addFilterButton(options.stateItems, dashboardItem);\n        options.navigationItems.push({\n          name: caption_toolbar_options_1.dashboardToolbarItemNames.backButton,\n          type: 'button',\n          template: function () {\n            var div = document.createElement('div');\n            div.classList.add(_caption_toolbar_css_classes_1.cssClasses.flexParent, _caption_toolbar_css_classes_1.cssClasses.ellipsisText);\n\n            var icon = _utils_1.createSvgIconElement(_caption_toolbar_css_classes_1.cssClasses.iconBack);\n\n            var textDiv = document.createElement('div');\n            textDiv.classList.add(_caption_toolbar_css_classes_1.cssClasses.buttonBack, _caption_toolbar_css_classes_1.cssClasses.truncated);\n            textDiv.innerText = index_internal_1.getLocalizationById('DashboardWebStringId.MobileLayout.Back');\n            div.append(icon, textDiv);\n            return div;\n          },\n          click: function () {\n            _this.fullscreenItemModel.restoreDownItem();\n          }\n        });\n      },\n      createCaptionToolbar: function (viewerItem, container, controlContainer, popupContainer, viewOptions) {\n        return new _mobile_layout_caption_toolbar_1.MobileLayoutCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, _caption_toolbar_css_classes_1.cssClasses.caption, viewOptions.captionToolbarSeparatorRequired);\n      },\n      viewerItemCreated: function (dashboardItem, viewerItem) {\n        return _mobile_layout_item_1.customizeMobileViewerItems(viewerItem);\n      },\n      beforeApplyViewerItemOptions: function (item, options, isCreation) {\n        options.ParentContainer = undefined;\n\n        _mobile_layout_item_1.setCardAutoArrangementMode(item, options);\n      },\n      itemCreatingType: 'secondary'\n    });\n    var exportExtension = findExtension('dashboard-export');\n\n    if (exportExtension) {\n      exportExtension._initializeSecondaryExportItem(fullScreenItemLocalContext);\n    }\n\n    this.fullscreenItemModel = new _docking_layout_fullscreen_item_1.FullscreenItemModel(dashboardContext, fullScreenItemLocalContext);\n    this.masterFiltersEditorModel = new _mobile_layout_master_filters_editor_1.MasterFiltersEditorModel();\n    this.dashboardTitleContext = new _title_component_1.DashboardTitleContext(this._encodeHtml, findExtension, false, viewerApi);\n\n    var flatItems = this._getDashboardItemsInLayoutOrder(dashboard.layout());\n\n    this.items = groupLayoutItems(flatItems).map(function (item) {\n      return new DashboardMobileLayoutItem(item.itemComponentNames.map(function (itemName) {\n        return dashboard.findItem(itemName);\n      }).filter(function (item) {\n        return !(item instanceof filter_element_item_base_1.FilterElementItemBase) && !(item instanceof date_filter_item_1.DateFilterItem);\n      }), item.groupName);\n    }).filter(function (mobileLayoutItem) {\n      return mobileLayoutItem.dashboardItems.length > 0;\n    });\n  }\n\n  Object.defineProperty(DashboardMobileLayoutController.prototype, \"allowMaximizeItems\", {\n    get: function () {\n      return true;\n    },\n    set: function (value) {},\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DashboardMobileLayoutController.prototype, \"fullscreenItemProvider\", {\n    get: function () {\n      return this.fullscreenItemModel;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DashboardMobileLayoutController.prototype._getDashboardItemsInLayoutOrder = function (layoutItem) {\n    var _this = this;\n\n    var result = [];\n\n    if (layoutItem.dashboardItem() && !(layoutItem instanceof dashboard_layout_group_1.DashboardLayoutGroup)) {\n      var parentContainer = layoutItem.item && layoutItem.item.parentContainer() ? this.dashboard.findItem(layoutItem.item.parentContainer()) : undefined;\n\n      var groupName = this._getGroupName(parentContainer);\n\n      result.push({\n        groupName: this._getGroupName(parentContainer),\n        groupComponentName: this._getGroupComponentName(parentContainer),\n        itemComponentName: layoutItem.dashboardItem()\n      });\n    }\n\n    if (layoutItem instanceof dashboard_layout_group_1.DashboardLayoutGroup) {\n      result = result.concat(layoutItem.childNodes().reduce(function (acc, value) {\n        return acc.concat(_this._getDashboardItemsInLayoutOrder(value));\n      }, []));\n    }\n\n    return result;\n  };\n\n  DashboardMobileLayoutController.prototype._getGroupName = function (parentContainer) {\n    if (parentContainer) {\n      var showCaption = parentContainer instanceof dashboard_tab_page_1.DashboardTabPage ? this._getParentTabContainer(parentContainer).showCaption() : parentContainer.showCaption();\n      return showCaption ? parentContainer.name() : parentContainer.name() + exports.groupWithoutCaptionItemKey;\n    } else {\n      return exports.ungroupedItemKey;\n    }\n  };\n\n  DashboardMobileLayoutController.prototype._getGroupComponentName = function (parentContainer) {\n    if (parentContainer) {\n      var showCaption = parentContainer instanceof dashboard_tab_page_1.DashboardTabPage ? this._getParentTabContainer(parentContainer).showCaption() : parentContainer.showCaption();\n      return showCaption ? parentContainer.componentName() : parentContainer.componentName() + exports.groupWithoutCaptionItemKey;\n    } else {\n      return exports.ungroupedItemKey;\n    }\n  };\n\n  DashboardMobileLayoutController.prototype._getParentTabContainer = function (tabPage) {\n    return this.dashboard.items().filter(function (item) {\n      return item instanceof tab_container_item_1.TabContainerItem;\n    }).filter(function (tabContainer) {\n      return tabContainer.tabPages().indexOf(tabPage) !== -1;\n    })[0];\n  };\n\n  return DashboardMobileLayoutController;\n}();\n\nexports.DashboardMobileLayoutController = DashboardMobileLayoutController;\n\nvar DashboardMobileLayoutItem = function () {\n  function DashboardMobileLayoutItem(dashboardItems, groupName) {\n    this.dashboardItems = dashboardItems;\n    this.groupName = groupName;\n  }\n\n  return DashboardMobileLayoutItem;\n}();\n\nexports.DashboardMobileLayoutItem = DashboardMobileLayoutItem;\n\nfunction groupLayoutItems(flatItems) {\n  var groupedItems = [];\n  var previousGroupedItem;\n  flatItems.forEach(function (item) {\n    if (previousGroupedItem && previousGroupedItem.groupComponentName === item.groupComponentName) {\n      previousGroupedItem.itemComponentNames.push(item.itemComponentName);\n    } else {\n      previousGroupedItem = {\n        groupName: item.groupName,\n        groupComponentName: item.groupComponentName,\n        itemComponentNames: [item.itemComponentName]\n      };\n      groupedItems.push(previousGroupedItem);\n    }\n  });\n  return groupedItems;\n}\n\nexports.groupLayoutItems = groupLayoutItems;\nko.components.register('dashboard-mobile-layout-widget', {\n  viewModel: {\n    createViewModel: function (params, componentInfo) {\n      var disposables = [];\n      var layoutModel = params.componentArgs;\n      var dashboard = ko.unwrap(layoutModel.dashboard);\n      var toolbarHeight = ko.observable(_dashboard_title_view_constants_1.titleHeight);\n      var contentToolbarHeight = ko.observable(contentToolbarHeight);\n      var viewModel = {};\n      var element = componentInfo.element;\n\n      var currentWidth = _jquery_helpers_1.getWidth(element);\n\n      var currentHeight = _jquery_helpers_1.getHeight(element);\n\n      var titleWidth = ko.observable(currentWidth);\n\n      var repaintRequest = _jquery_helpers_1.createJQueryCallbacks();\n\n      var layoutWidget = null;\n\n      var getListSize = function () {\n        return {\n          width: _jquery_helpers_1.getWidth(element),\n          height: _jquery_helpers_1.getHeight(element) - toolbarHeight()\n        };\n      };\n\n      var resizeControl = function () {\n        if (_jquery_helpers_1.getWidth(element) != currentWidth || _jquery_helpers_1.getHeight(element) != currentHeight) {\n          if (layoutWidget) {\n            layoutWidget.option(getListSize());\n          }\n\n          repaintRequest.fire();\n          currentWidth = _jquery_helpers_1.getWidth(element);\n          currentHeight = _jquery_helpers_1.getHeight(element);\n          titleWidth(currentWidth);\n        }\n      };\n\n      var resizeCallback = function () {\n        return resizeControl();\n      };\n\n      window.addEventListener('resize', resizeCallback);\n      var interval = setInterval(function () {\n        return resizeControl();\n      }, 300);\n      ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n        clearInterval(interval);\n        window.removeEventListener('resize', resizeCallback);\n      });\n\n      var customizeToolbarOptions = function (options) {\n        options.contentItems = options.contentItems.filter(function (item) {\n          return [caption_toolbar_options_1.dashboardToolbarItemNames.titleFilterIcon, caption_toolbar_options_1.dashboardToolbarItemNames.titleFilterText].indexOf(item.name) === -1;\n        });\n        layoutModel.masterFiltersEditorModel.addFilterButton(options.actionItems, layoutModel.dashboard);\n      };\n\n      var titleModel = new _dashboard_title_model_1.DashboardTitleModel(layoutModel.dashboardTitleContext, layoutModel.dashboard, customizeToolbarOptions);\n      var actionToolbarViewModel = createToolbarViewModel(ko.computed(function () {\n        return {\n          toolbarOptions: customizeActionToolbar(titleModel.toolbarOptions().toolbarOptions),\n          allowHideEmptyToolbar: true\n        };\n      }), titleWidth, toolbarHeight, layoutModel.dashboardTitleContext, _caption_toolbar_css_classes_1.cssClasses.actionToolbar);\n      var contentToolbarViewModel = createToolbarViewModel(ko.computed(function () {\n        return {\n          toolbarOptions: customizeContentToolbar(titleModel.toolbarOptions().toolbarOptions),\n          allowHideEmptyToolbar: true\n        };\n      }), titleWidth, contentToolbarHeight, layoutModel.dashboardTitleContext, _caption_toolbar_css_classes_1.cssClasses.contentToolbar);\n      return {\n        itemMasterFiltersViewModel: new _mobile_layout_master_filters_editor_1.ItemMasterFiltersViewModel(layoutModel.masterFiltersEditorModel, layoutModel.dashboardContext, repaintRequest),\n        fullscreenItemViewModel: _mobile_layout_fullscreen_item_1.createFullscreenItemViewModel(layoutModel.fullscreenItemModel, layoutModel.masterFiltersEditorModel, repaintRequest),\n        titleViewModel: actionToolbarViewModel,\n        layoutViewModel: exports.createLayoutViewModel(element, getListSize(), layoutModel.dashboardContext, repaintRequest, layoutModel.items, layoutModel.fullscreenItemModel, function (widget) {\n          return layoutWidget = widget;\n        }, contentToolbarViewModel, layoutModel.dashboard.title.visible())\n      };\n    }\n  },\n  template: {\n    element: 'dx-dashboard-mobile-layout-widget'\n  }\n});\nexports.ungroupedItemKey = '_dx_dashboard_ungrouped_mobile_layout_item_key';\nexports.groupWithoutCaptionItemKey = '_dx_dashboard_group_without_caption_mobile_layout_item_key';\nexports.dashboardTitleKey = '_dx_dashboard_mobile_layout_title_key';\nvar mobileLayoutCssClasses = {\n  ungroupedItem: 'dx-dashboard-ungrouped-item',\n  dashboardDisplayNone: 'dx-dashboard-display-none',\n  groupWithoutCaption: 'dx-dashboard-group-without-caption'\n};\n\nvar createToolbarViewModel = function (options, width, height, context, className) {\n  return {\n    options: options,\n    width: width,\n    height: height,\n    encodeHtml: context.encodeHtml,\n    className: className\n  };\n};\n\nvar customizeActionToolbar = function (options) {\n  return {\n    staticItems: options.navigationItems,\n    actionItems: options.actionItems,\n    stateItems: options.stateItems,\n    navigationItems: []\n  };\n};\n\nvar customizeContentToolbar = function (options) {\n  return {\n    staticItems: options.staticItems,\n    actionItems: [],\n    stateItems: [],\n    navigationItems: []\n  };\n};\n\nvar createLayoutViewModel = function (element, listSize, dashboardContext, repaintRequest, items, fullscreenItemModel, getWidgetCallback, titleViewModel, titleVisible) {\n  var title = {\n    data: titleViewModel,\n    name: 'dx-dashboard-mobile-title'\n  };\n  var layoutItems = items.map(function (layoutItem) {\n    var items = layoutItem.dashboardItems.map(function (dashboardItem) {\n      return {\n        data: new _mobile_layout_item_1.MobileLayoutItemViewModel(dashboardContext, repaintRequest, dashboardItem, fullscreenItemModel),\n        name: 'dx-dashboard-mobile-layout-item'\n      };\n    });\n    return {\n      key: layoutItem.groupName,\n      items: items\n    };\n  });\n  return __assign(__assign({\n    indicateLoading: false\n  }, listSize), {\n    activeStateEnabled: false,\n    focusStateEnabled: false,\n    hoverStateEnabled: false,\n    grouped: true,\n    dataSource: (titleVisible ? [{\n      key: exports.dashboardTitleKey,\n      items: [title]\n    }] : []).concat(layoutItems),\n    onContentReady: function (e) {\n      getWidgetCallback(e.component);\n    },\n    groupTemplate: function (data, index, element) {\n      if (data.key === exports.ungroupedItemKey || data.key === exports.dashboardTitleKey) {\n        var className = data.key === exports.dashboardTitleKey || data.key === exports.ungroupedItemKey && (titleVisible && index === 1 || !titleVisible && index === 0) ? mobileLayoutCssClasses.dashboardDisplayNone : mobileLayoutCssClasses.ungroupedItem;\n\n        _jquery_helpers_1.$unwrap(element).classList.add(className);\n\n        return document.createElement('div');\n      } else if (data.key.search(exports.groupWithoutCaptionItemKey) !== -1) {\n        _jquery_helpers_1.$unwrap(element).classList.add(mobileLayoutCssClasses.groupWithoutCaption);\n\n        return document.createElement('div');\n      } else {\n        var div = document.createElement('div');\n        div.innerText = data.key;\n        return div;\n      }\n    }\n  });\n};\n\nexports.createLayoutViewModel = createLayoutViewModel;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/mobile-layout-extension/_mobile-layout.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","createLayoutViewModel","dashboardTitleKey","groupWithoutCaptionItemKey","ungroupedItemKey","groupLayoutItems","DashboardMobileLayoutItem","DashboardMobileLayoutController","ko","require","index_internal_1","_jquery_helpers_1","_utils_1","data_dashboard_item_1","date_filter_item_1","filter_element_item_base_1","dashboard_tab_page_1","tab_container_item_1","dashboard_layout_group_1","_dashboard_title_view_constants_1","caption_toolbar_options_1","_caption_toolbar_css_classes_1","_mobile_layout_caption_toolbar_1","_docking_layout_fullscreen_item_1","_dashboard_title_model_1","_title_component_1","_viewer_interfaces_1","_mobile_layout_fullscreen_item_1","_mobile_layout_item_1","_mobile_layout_master_filters_editor_1","dashboard","dashboardContext","findExtension","_encodeHtml","viewerApi","_this","selectedDashboardItem","computed","emptyItemTemplates","observableArray","selectedLayoutItem","visibleItemsProvider","fullScreenItemLocalContext","DashboardItemContext","addContextToolbarItems","options","dashboardItem","fullscreenItemModel","DataDashboardItem","masterFiltersEditorModel","addFilterButton","stateItems","navigationItems","push","name","dashboardToolbarItemNames","backButton","type","template","div","document","createElement","classList","add","cssClasses","flexParent","ellipsisText","icon","createSvgIconElement","iconBack","textDiv","buttonBack","truncated","innerText","getLocalizationById","append","click","restoreDownItem","createCaptionToolbar","viewerItem","container","controlContainer","popupContainer","viewOptions","MobileLayoutCaptionToolbar","encodeHtml","caption","captionToolbarSeparatorRequired","viewerItemCreated","customizeMobileViewerItems","beforeApplyViewerItemOptions","item","isCreation","ParentContainer","undefined","setCardAutoArrangementMode","itemCreatingType","exportExtension","_initializeSecondaryExportItem","FullscreenItemModel","MasterFiltersEditorModel","dashboardTitleContext","DashboardTitleContext","flatItems","_getDashboardItemsInLayoutOrder","layout","items","map","itemComponentNames","itemName","findItem","filter","FilterElementItemBase","DateFilterItem","groupName","mobileLayoutItem","dashboardItems","get","set","enumerable","configurable","layoutItem","result","DashboardLayoutGroup","parentContainer","_getGroupName","groupComponentName","_getGroupComponentName","itemComponentName","concat","childNodes","reduce","acc","showCaption","DashboardTabPage","_getParentTabContainer","componentName","tabPage","TabContainerItem","tabContainer","tabPages","indexOf","groupedItems","previousGroupedItem","forEach","components","register","viewModel","createViewModel","params","componentInfo","disposables","layoutModel","componentArgs","unwrap","toolbarHeight","observable","titleHeight","contentToolbarHeight","element","currentWidth","getWidth","currentHeight","getHeight","titleWidth","repaintRequest","createJQueryCallbacks","layoutWidget","getListSize","width","height","resizeControl","option","fire","resizeCallback","window","addEventListener","interval","setInterval","utils","domNodeDisposal","addDisposeCallback","clearInterval","removeEventListener","customizeToolbarOptions","contentItems","titleFilterIcon","titleFilterText","actionItems","titleModel","DashboardTitleModel","actionToolbarViewModel","createToolbarViewModel","toolbarOptions","customizeActionToolbar","allowHideEmptyToolbar","actionToolbar","contentToolbarViewModel","customizeContentToolbar","contentToolbar","itemMasterFiltersViewModel","ItemMasterFiltersViewModel","fullscreenItemViewModel","createFullscreenItemViewModel","titleViewModel","layoutViewModel","widget","title","visible","mobileLayoutCssClasses","ungroupedItem","dashboardDisplayNone","groupWithoutCaption","context","className","staticItems","listSize","getWidgetCallback","titleVisible","data","layoutItems","MobileLayoutItemViewModel","key","indicateLoading","activeStateEnabled","focusStateEnabled","hoverStateEnabled","grouped","dataSource","onContentReady","e","component","groupTemplate","index","$unwrap","search"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_mobile-layout.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createLayoutViewModel = exports.dashboardTitleKey = exports.groupWithoutCaptionItemKey = exports.ungroupedItemKey = exports.groupLayoutItems = exports.DashboardMobileLayoutItem = exports.DashboardMobileLayoutController = void 0;\nvar ko = require(\"knockout\");\nvar index_internal_1 = require(\"../../data/index.internal\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar data_dashboard_item_1 = require(\"../../model/items/data-dashboard-item\");\nvar date_filter_item_1 = require(\"../../model/items/filter-items/date-filter-item\");\nvar filter_element_item_base_1 = require(\"../../model/items/filter-items/filter-element-item-base\");\nvar dashboard_tab_page_1 = require(\"../../model/items/tab-container-item/dashboard-tab-page\");\nvar tab_container_item_1 = require(\"../../model/items/tab-container-item/tab-container-item\");\nvar dashboard_layout_group_1 = require(\"../../model/layout/dashboard-layout-group\");\nvar _dashboard_title_view_constants_1 = require(\"../../viewer-parts/title/_dashboard-title-view-constants\");\nvar caption_toolbar_options_1 = require(\"../../viewer-parts/widgets/caption-toolbar/caption-toolbar-options\");\nvar _caption_toolbar_css_classes_1 = require(\"../../viewer-parts/widgets/caption-toolbar/_caption-toolbar-css-classes\");\nvar _mobile_layout_caption_toolbar_1 = require(\"../../viewer-parts/widgets/caption-toolbar/_mobile-layout-caption-toolbar\");\nvar _docking_layout_fullscreen_item_1 = require(\"../docking-layout/_docking-layout-fullscreen-item\");\nvar _dashboard_title_model_1 = require(\"../viewer/title/_dashboard-title-model\");\nvar _title_component_1 = require(\"../viewer/title/_title-component\");\nvar _viewer_interfaces_1 = require(\"../viewer/_viewer-interfaces\");\nvar _mobile_layout_fullscreen_item_1 = require(\"./_mobile-layout-fullscreen-item\");\nvar _mobile_layout_item_1 = require(\"./_mobile-layout-item\");\nvar _mobile_layout_master_filters_editor_1 = require(\"./_mobile-layout-master-filters-editor\");\nvar DashboardMobileLayoutController = (function () {\n    function DashboardMobileLayoutController(dashboard, dashboardContext, findExtension, _encodeHtml, viewerApi) {\n        var _this = this;\n        if (_encodeHtml === void 0) { _encodeHtml = false; }\n        this.dashboard = dashboard;\n        this.dashboardContext = dashboardContext;\n        this._encodeHtml = _encodeHtml;\n        this.selectedDashboardItem = ko.computed(function () { return null; });\n        this.emptyItemTemplates = ko.observableArray();\n        this.selectedLayoutItem = ko.computed(function () { return null; });\n        this.visibleItemsProvider = null;\n        var fullScreenItemLocalContext = new _viewer_interfaces_1.DashboardItemContext({\n            addContextToolbarItems: function (options) {\n                var dashboardItem = _this.fullscreenItemModel.dashboardItem();\n                if (dashboardItem instanceof data_dashboard_item_1.DataDashboardItem)\n                    _this.masterFiltersEditorModel.addFilterButton(options.stateItems, dashboardItem);\n                options.navigationItems.push({\n                    name: caption_toolbar_options_1.dashboardToolbarItemNames.backButton,\n                    type: 'button',\n                    template: function () {\n                        var div = document.createElement('div');\n                        div.classList.add(_caption_toolbar_css_classes_1.cssClasses.flexParent, _caption_toolbar_css_classes_1.cssClasses.ellipsisText);\n                        var icon = _utils_1.createSvgIconElement(_caption_toolbar_css_classes_1.cssClasses.iconBack);\n                        var textDiv = document.createElement('div');\n                        textDiv.classList.add(_caption_toolbar_css_classes_1.cssClasses.buttonBack, _caption_toolbar_css_classes_1.cssClasses.truncated);\n                        textDiv.innerText = index_internal_1.getLocalizationById('DashboardWebStringId.MobileLayout.Back');\n                        div.append(icon, textDiv);\n                        return div;\n                    },\n                    click: function () {\n                        _this.fullscreenItemModel.restoreDownItem();\n                    }\n                });\n            },\n            createCaptionToolbar: function (viewerItem, container, controlContainer, popupContainer, viewOptions) {\n                return new _mobile_layout_caption_toolbar_1.MobileLayoutCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, _caption_toolbar_css_classes_1.cssClasses.caption, viewOptions.captionToolbarSeparatorRequired);\n            },\n            viewerItemCreated: function (dashboardItem, viewerItem) { return _mobile_layout_item_1.customizeMobileViewerItems(viewerItem); },\n            beforeApplyViewerItemOptions: function (item, options, isCreation) {\n                options.ParentContainer = undefined;\n                _mobile_layout_item_1.setCardAutoArrangementMode(item, options);\n            },\n            itemCreatingType: 'secondary'\n        });\n        var exportExtension = findExtension('dashboard-export');\n        if (exportExtension) {\n            exportExtension._initializeSecondaryExportItem(fullScreenItemLocalContext);\n        }\n        this.fullscreenItemModel = new _docking_layout_fullscreen_item_1.FullscreenItemModel(dashboardContext, fullScreenItemLocalContext);\n        this.masterFiltersEditorModel = new _mobile_layout_master_filters_editor_1.MasterFiltersEditorModel();\n        this.dashboardTitleContext = new _title_component_1.DashboardTitleContext(this._encodeHtml, findExtension, false, viewerApi);\n        var flatItems = this._getDashboardItemsInLayoutOrder(dashboard.layout());\n        this.items = groupLayoutItems(flatItems).map(function (item) { return new DashboardMobileLayoutItem(item.itemComponentNames.map(function (itemName) { return dashboard.findItem(itemName); })\n            .filter(function (item) { return !(item instanceof filter_element_item_base_1.FilterElementItemBase) && !(item instanceof date_filter_item_1.DateFilterItem); }), item.groupName); })\n            .filter(function (mobileLayoutItem) { return mobileLayoutItem.dashboardItems.length > 0; });\n    }\n    Object.defineProperty(DashboardMobileLayoutController.prototype, \"allowMaximizeItems\", {\n        get: function () { return true; },\n        set: function (value) { },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DashboardMobileLayoutController.prototype, \"fullscreenItemProvider\", {\n        get: function () {\n            return this.fullscreenItemModel;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DashboardMobileLayoutController.prototype._getDashboardItemsInLayoutOrder = function (layoutItem) {\n        var _this = this;\n        var result = [];\n        if (layoutItem.dashboardItem() && !(layoutItem instanceof dashboard_layout_group_1.DashboardLayoutGroup)) {\n            var parentContainer = layoutItem.item && layoutItem.item.parentContainer() ? this.dashboard.findItem(layoutItem.item.parentContainer()) : undefined;\n            var groupName = this._getGroupName(parentContainer);\n            result.push({\n                groupName: this._getGroupName(parentContainer),\n                groupComponentName: this._getGroupComponentName(parentContainer),\n                itemComponentName: layoutItem.dashboardItem()\n            });\n        }\n        if (layoutItem instanceof dashboard_layout_group_1.DashboardLayoutGroup) {\n            result = result.concat(layoutItem.childNodes().reduce(function (acc, value) { return acc.concat(_this._getDashboardItemsInLayoutOrder(value)); }, []));\n        }\n        return result;\n    };\n    DashboardMobileLayoutController.prototype._getGroupName = function (parentContainer) {\n        if (parentContainer) {\n            var showCaption = parentContainer instanceof dashboard_tab_page_1.DashboardTabPage ? this._getParentTabContainer(parentContainer).showCaption() : parentContainer.showCaption();\n            return showCaption ? parentContainer.name() : parentContainer.name() + exports.groupWithoutCaptionItemKey;\n        }\n        else {\n            return exports.ungroupedItemKey;\n        }\n    };\n    DashboardMobileLayoutController.prototype._getGroupComponentName = function (parentContainer) {\n        if (parentContainer) {\n            var showCaption = parentContainer instanceof dashboard_tab_page_1.DashboardTabPage ? this._getParentTabContainer(parentContainer).showCaption() : parentContainer.showCaption();\n            return showCaption ? parentContainer.componentName() : parentContainer.componentName() + exports.groupWithoutCaptionItemKey;\n        }\n        else {\n            return exports.ungroupedItemKey;\n        }\n    };\n    DashboardMobileLayoutController.prototype._getParentTabContainer = function (tabPage) {\n        return this.dashboard.items()\n            .filter(function (item) { return item instanceof tab_container_item_1.TabContainerItem; })\n            .filter(function (tabContainer) { return tabContainer.tabPages().indexOf(tabPage) !== -1; })[0];\n    };\n    return DashboardMobileLayoutController;\n}());\nexports.DashboardMobileLayoutController = DashboardMobileLayoutController;\nvar DashboardMobileLayoutItem = (function () {\n    function DashboardMobileLayoutItem(dashboardItems, groupName) {\n        this.dashboardItems = dashboardItems;\n        this.groupName = groupName;\n    }\n    return DashboardMobileLayoutItem;\n}());\nexports.DashboardMobileLayoutItem = DashboardMobileLayoutItem;\nfunction groupLayoutItems(flatItems) {\n    var groupedItems = [];\n    var previousGroupedItem;\n    flatItems.forEach(function (item) {\n        if (previousGroupedItem && previousGroupedItem.groupComponentName === item.groupComponentName) {\n            previousGroupedItem.itemComponentNames.push(item.itemComponentName);\n        }\n        else {\n            previousGroupedItem = {\n                groupName: item.groupName,\n                groupComponentName: item.groupComponentName,\n                itemComponentNames: [item.itemComponentName]\n            };\n            groupedItems.push(previousGroupedItem);\n        }\n    });\n    return groupedItems;\n}\nexports.groupLayoutItems = groupLayoutItems;\nko.components.register('dashboard-mobile-layout-widget', {\n    viewModel: {\n        createViewModel: function (params, componentInfo) {\n            var disposables = [];\n            var layoutModel = params.componentArgs;\n            var dashboard = ko.unwrap(layoutModel.dashboard);\n            var toolbarHeight = ko.observable(_dashboard_title_view_constants_1.titleHeight);\n            var contentToolbarHeight = ko.observable(contentToolbarHeight);\n            var viewModel = {};\n            var element = componentInfo.element;\n            var currentWidth = _jquery_helpers_1.getWidth(element);\n            var currentHeight = _jquery_helpers_1.getHeight(element);\n            var titleWidth = ko.observable(currentWidth);\n            var repaintRequest = _jquery_helpers_1.createJQueryCallbacks();\n            var layoutWidget = null;\n            var getListSize = function () { return ({ width: _jquery_helpers_1.getWidth(element), height: _jquery_helpers_1.getHeight(element) - toolbarHeight() }); };\n            var resizeControl = function () {\n                if (_jquery_helpers_1.getWidth(element) != currentWidth || _jquery_helpers_1.getHeight(element) != currentHeight) {\n                    if (layoutWidget) {\n                        layoutWidget.option(getListSize());\n                    }\n                    repaintRequest.fire();\n                    currentWidth = _jquery_helpers_1.getWidth(element);\n                    currentHeight = _jquery_helpers_1.getHeight(element);\n                    titleWidth(currentWidth);\n                }\n            };\n            var resizeCallback = function () { return resizeControl(); };\n            window.addEventListener('resize', resizeCallback);\n            var interval = setInterval(function () { return resizeControl(); }, 300);\n            ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n                clearInterval(interval);\n                window.removeEventListener('resize', resizeCallback);\n            });\n            var customizeToolbarOptions = function (options) {\n                options.contentItems = options.contentItems.filter(function (item) { return [caption_toolbar_options_1.dashboardToolbarItemNames.titleFilterIcon, caption_toolbar_options_1.dashboardToolbarItemNames.titleFilterText].indexOf(item.name) === -1; });\n                layoutModel.masterFiltersEditorModel.addFilterButton(options.actionItems, layoutModel.dashboard);\n            };\n            var titleModel = new _dashboard_title_model_1.DashboardTitleModel(layoutModel.dashboardTitleContext, layoutModel.dashboard, customizeToolbarOptions);\n            var actionToolbarViewModel = createToolbarViewModel(ko.computed(function () {\n                return {\n                    toolbarOptions: customizeActionToolbar(titleModel.toolbarOptions().toolbarOptions),\n                    allowHideEmptyToolbar: true\n                };\n            }), titleWidth, toolbarHeight, layoutModel.dashboardTitleContext, _caption_toolbar_css_classes_1.cssClasses.actionToolbar);\n            var contentToolbarViewModel = createToolbarViewModel(ko.computed(function () {\n                return {\n                    toolbarOptions: customizeContentToolbar(titleModel.toolbarOptions().toolbarOptions),\n                    allowHideEmptyToolbar: true\n                };\n            }), titleWidth, contentToolbarHeight, layoutModel.dashboardTitleContext, _caption_toolbar_css_classes_1.cssClasses.contentToolbar);\n            return {\n                itemMasterFiltersViewModel: new _mobile_layout_master_filters_editor_1.ItemMasterFiltersViewModel(layoutModel.masterFiltersEditorModel, layoutModel.dashboardContext, repaintRequest),\n                fullscreenItemViewModel: _mobile_layout_fullscreen_item_1.createFullscreenItemViewModel(layoutModel.fullscreenItemModel, layoutModel.masterFiltersEditorModel, repaintRequest),\n                titleViewModel: actionToolbarViewModel,\n                layoutViewModel: exports.createLayoutViewModel(element, getListSize(), layoutModel.dashboardContext, repaintRequest, layoutModel.items, layoutModel.fullscreenItemModel, function (widget) { return layoutWidget = widget; }, contentToolbarViewModel, layoutModel.dashboard.title.visible())\n            };\n        }\n    },\n    template: { element: 'dx-dashboard-mobile-layout-widget' }\n});\nexports.ungroupedItemKey = '_dx_dashboard_ungrouped_mobile_layout_item_key';\nexports.groupWithoutCaptionItemKey = '_dx_dashboard_group_without_caption_mobile_layout_item_key';\nexports.dashboardTitleKey = '_dx_dashboard_mobile_layout_title_key';\nvar mobileLayoutCssClasses = {\n    ungroupedItem: 'dx-dashboard-ungrouped-item',\n    dashboardDisplayNone: 'dx-dashboard-display-none',\n    groupWithoutCaption: 'dx-dashboard-group-without-caption'\n};\nvar createToolbarViewModel = function (options, width, height, context, className) {\n    return {\n        options: options,\n        width: width,\n        height: height,\n        encodeHtml: context.encodeHtml,\n        className: className\n    };\n};\nvar customizeActionToolbar = function (options) {\n    return {\n        staticItems: options.navigationItems,\n        actionItems: options.actionItems,\n        stateItems: options.stateItems,\n        navigationItems: []\n    };\n};\nvar customizeContentToolbar = function (options) {\n    return {\n        staticItems: options.staticItems,\n        actionItems: [],\n        stateItems: [],\n        navigationItems: []\n    };\n};\nvar createLayoutViewModel = function (element, listSize, dashboardContext, repaintRequest, items, fullscreenItemModel, getWidgetCallback, titleViewModel, titleVisible) {\n    var title = {\n        data: titleViewModel,\n        name: 'dx-dashboard-mobile-title'\n    };\n    var layoutItems = items.map(function (layoutItem) {\n        var items = layoutItem.dashboardItems.map(function (dashboardItem) {\n            return {\n                data: new _mobile_layout_item_1.MobileLayoutItemViewModel(dashboardContext, repaintRequest, dashboardItem, fullscreenItemModel),\n                name: 'dx-dashboard-mobile-layout-item'\n            };\n        });\n        return {\n            key: layoutItem.groupName,\n            items: items\n        };\n    });\n    return __assign(__assign({ indicateLoading: false }, listSize), { activeStateEnabled: false, focusStateEnabled: false, hoverStateEnabled: false, grouped: true, dataSource: (titleVisible ? [{\n                key: exports.dashboardTitleKey,\n                items: [title]\n            }] : []).concat(layoutItems), onContentReady: function (e) {\n            getWidgetCallback(e.component);\n        }, groupTemplate: function (data, index, element) {\n            if (data.key === exports.ungroupedItemKey || data.key === exports.dashboardTitleKey) {\n                var className = data.key === exports.dashboardTitleKey || (data.key === exports.ungroupedItemKey && (titleVisible && index === 1 || !titleVisible && index === 0)) ? mobileLayoutCssClasses.dashboardDisplayNone : mobileLayoutCssClasses.ungroupedItem;\n                _jquery_helpers_1.$unwrap(element).classList.add(className);\n                return document.createElement('div');\n            }\n            else if (data.key.search(exports.groupWithoutCaptionItemKey) !== -1) {\n                _jquery_helpers_1.$unwrap(element).classList.add(mobileLayoutCssClasses.groupWithoutCaption);\n                return document.createElement('div');\n            }\n            else {\n                var div = document.createElement('div');\n                div.innerText = data.key;\n                return div;\n            }\n        } });\n};\nexports.createLayoutViewModel = createLayoutViewModel;\n"]},"metadata":{},"sourceType":"script"}