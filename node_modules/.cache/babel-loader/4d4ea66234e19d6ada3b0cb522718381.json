{"ast":null,"code":"/**\n* DevExpress Analytics (core\\elements\\baseSurface.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SurfaceElementBase = exports.SurfaceElementArea = void 0;\n\nvar ko = require(\"knockout\");\n\nvar utils_1 = require(\"../../serializer/utils\");\n\nvar _units_1 = require(\"../utils/_units\");\n\nvar _cssCalculator_1 = require(\"../internal/_cssCalculator\");\n\nvar _arrayutils_1 = require(\"../utils/_arrayutils\");\n\nvar _hoverInfo_1 = require(\"../internal/_hoverInfo\");\n\nvar point_1 = require(\"./point\");\n\nvar _utils_1 = require(\"../../serializer/_utils\");\n\nvar SurfaceElementArea = function (_super) {\n  __extends(SurfaceElementArea, _super);\n\n  function SurfaceElementArea(control, context, unitProperties) {\n    var _this = _super.call(this) || this;\n\n    _this._createSurface = function (item) {\n      return item['surface'] || new (item.getControlFactory().controlsMap[item.controlType].surfaceType)(item, _this._context);\n    };\n\n    _this.preInitProperties(control, context, unitProperties);\n\n    _this._control = control;\n    _this._context = context;\n    control['surface'] = _this;\n\n    if (_this._context) {\n      _units_1.createUnitProperties(control, _this, unitProperties, _this._context.measureUnit, _this._context.zoom, function (property) {\n        _this._disposables.push(property);\n      });\n    }\n\n    _this._x = _this._x || ko.observable(0);\n    _this._y = _this._y || ko.observable(0);\n    _this._width = _this._width || ko.observable(0);\n    _this._height = _this._height || ko.observable(0);\n    var container = ko.pureComputed(function () {\n      return _this.container();\n    });\n\n    _this._disposables.push(container);\n\n    _this._container = container();\n\n    _this._disposables.push(container.subscribe(function (value) {\n      if (_this._container !== value && _this.rtlLayout()) {\n        var x = _this._getX();\n\n        _this._container = value;\n\n        _this._setX(x);\n      } else {\n        _this._container = value;\n      }\n    }));\n\n    var x = ko.computed({\n      read: function () {\n        return _this._getX();\n      },\n      write: function (value) {\n        _this._setX(value);\n      }\n    }),\n        y = _this._y,\n        width = _this._width,\n        height = _this._height;\n    _this['position'] = {\n      top: y,\n      left: x,\n      width: width,\n      height: height,\n      lineHeight: height\n    };\n\n    _this._disposables.push(x);\n\n    var _rect = ko.observable();\n\n    _this._disposables.push(ko.computed(function () {\n      if (!_this._control.update()) {\n        _rect({\n          top: y(),\n          left: x(),\n          right: x() + width(),\n          bottom: y() + height(),\n          width: width(),\n          height: height()\n        });\n      }\n    }));\n\n    _this._disposables.push(_this.rect = ko.pureComputed({\n      read: function () {\n        return _rect();\n      },\n      write: function (newRect) {\n        newRect = _this.beforeRectUpdated(newRect);\n\n        _this._control.update(true);\n\n        try {\n          if (newRect.left !== undefined) {\n            _this._setX(newRect.left, newRect.width);\n          } else if (newRect.width !== undefined) {\n            _this._setX(x(), newRect.width);\n          }\n\n          if (newRect.top !== undefined) {\n            y(newRect.top);\n          }\n\n          if (newRect.right !== undefined && newRect.left === undefined && newRect.width === undefined) {\n            width(newRect.right - x());\n          }\n\n          if (newRect.bottom !== undefined && newRect.top === undefined) {\n            height(newRect.bottom - y());\n          }\n\n          if (newRect.right !== undefined && newRect.left !== undefined && newRect.width === undefined) {\n            width(newRect.right - newRect.left);\n          }\n\n          if (newRect.bottom !== undefined && newRect.top !== undefined) {\n            height(newRect.bottom - newRect.top);\n          }\n\n          if (newRect.width !== undefined) {\n            width(newRect.width);\n          }\n\n          if (newRect.height !== undefined) {\n            height(newRect.height);\n          }\n        } finally {\n          _this._control.update(false);\n        }\n      }\n    }));\n\n    return _this;\n  }\n\n  SurfaceElementArea.prototype._getX = function () {\n    if (this.rtlLayout() && this._container) {\n      return this._container.rect().width - this._x() - this._width();\n    } else {\n      return this._x();\n    }\n  };\n\n  SurfaceElementArea.prototype._setX = function (value, width) {\n    width = width || this._width();\n\n    if (this.rtlLayout() && this._container) {\n      this._x(this._container.rect().width - value - width);\n    } else {\n      this._x(value);\n    }\n  };\n\n  SurfaceElementArea.prototype.getRoot = function () {\n    return this._context;\n  };\n\n  SurfaceElementArea.prototype.preInitProperties = function (control, context, unitProperties) {};\n\n  SurfaceElementArea.prototype.container = function () {\n    return this['parent'];\n  };\n\n  SurfaceElementArea.prototype.beforeRectUpdated = function (rect) {\n    rect.left = rect.left < 0 ? 0 : rect.left;\n    rect.top = rect.top < 0 ? 0 : rect.top;\n    return rect;\n  };\n\n  SurfaceElementArea.prototype.rtlLayout = function () {\n    return !!ko.unwrap(this._context.rtl);\n  };\n\n  SurfaceElementArea.prototype.getControlModel = function () {\n    return this._control;\n  };\n\n  return SurfaceElementArea;\n}(utils_1.Disposable);\n\nexports.SurfaceElementArea = SurfaceElementArea;\n\nvar SurfaceElementBase = function (_super) {\n  __extends(SurfaceElementBase, _super);\n\n  function SurfaceElementBase(control, context, unitProperties) {\n    var _this = _super.call(this, control, context, unitProperties) || this;\n\n    _this._countSelectedChildren = ko.observable(0);\n    _this.focused = ko.observable(false);\n    _this.selected = ko.observable(false);\n    _this.underCursor = ko.observable(new _hoverInfo_1.HoverInfo());\n    _this.allowMultiselect = true;\n    _this.absolutePosition = new point_1.Point(0, 0);\n\n    _this.getControlModel = function () {\n      return control;\n    };\n\n    _this.cssCalculator = new _cssCalculator_1.CssCalculator(control, context.rtl);\n\n    if (_this._getChildrenHolderName() && control[_this._getChildrenHolderName()]) {\n      var collection = ko.observableArray();\n\n      if (_this._getChildrenHolderName() === 'controls') {\n        _this._disposables.push(_arrayutils_1.createObservableReverseArrayMapCollection(control[_this._getChildrenHolderName()], collection, _this._createSurface));\n      } else {\n        _this._disposables.push(_arrayutils_1.createObservableArrayMapCollection(control[_this._getChildrenHolderName()], collection, _this._createSurface));\n      }\n\n      _this[_this._getChildrenHolderName()] = collection;\n\n      _this._disposables.push(_this.isSelected = ko.pureComputed(function () {\n        if (!(_this.focused() || _this.selected())) {\n          return collection().some(function (item) {\n            return item.isSelected();\n          });\n        }\n\n        return true;\n      }));\n    } else {\n      _this._disposables.push(_this.isSelected = ko.pureComputed(function () {\n        return _this.focused() || _this.selected();\n      }));\n    }\n\n    _this._disposables.push(_this.css = ko.pureComputed(function () {\n      return _utils_1.extend({}, _this.cssCalculator.fontCss(), _this.cssCalculator.foreColorCss(), _this.cssCalculator.backGroundCss(), _this.cssCalculator.textAlignmentCss());\n    }));\n\n    _this._disposables.push(_this.contentCss = ko.pureComputed(function () {\n      return _utils_1.extend({}, _this.cssCalculator.fontCss(), _this.cssCalculator.foreColorCss(), _this.cssCalculator.textAlignmentCss(), _this.cssCalculator.angle(), _this.cssCalculator.wordWrapCss(), _this.cssCalculator.paddingsCss());\n    }));\n\n    _this._disposables.push(ko.computed(function () {\n      _this.updateAbsolutePosition();\n    }));\n\n    _this._disposables.push(_this.absoluteRect = ko.pureComputed(function () {\n      var controlRect = _this.rect(),\n          absolutePositionY = _this.absolutePosition.y(),\n          absolutePositionX = _this.absolutePosition.x();\n\n      return {\n        top: absolutePositionY,\n        left: absolutePositionX,\n        right: absolutePositionX + controlRect.width,\n        bottom: absolutePositionY + controlRect.height,\n        width: controlRect.width,\n        height: controlRect.height\n      };\n    }));\n\n    _this.locked = control['lockedInUserDesigner'] ? control['lockedInUserDesigner']() : false;\n    return _this;\n  }\n\n  SurfaceElementBase.prototype._getParent = function () {\n    return this.getControlModel().parentModel() && this.getControlModel().parentModel().surface;\n  };\n\n  Object.defineProperty(SurfaceElementBase.prototype, \"parent\", {\n    get: function () {\n      return this._getParent();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  SurfaceElementBase.prototype.checkParent = function (surfaceParent) {\n    return this.parent === surfaceParent;\n  };\n\n  SurfaceElementBase.prototype._getChildrenHolderName = function () {\n    return 'controls';\n  };\n\n  SurfaceElementBase.prototype.getChildrenCollection = function () {\n    return this._getChildrenHolderName() && this[this._getChildrenHolderName()] || ko.observableArray([]);\n  };\n\n  SurfaceElementBase.prototype.updateAbsolutePosition = function () {\n    if (this.parent && this.parent.absolutePosition) {\n      var parentX = this.parent.absolutePosition.x(),\n          parentY = this.parent.absolutePosition.y(),\n          newX = parentX + this.rect().left,\n          newY = parentY + this.rect().top;\n      this.absolutePosition.x(newX);\n      this.absolutePosition.y(newY);\n    } else {\n      this.absolutePosition.x(0);\n      this.absolutePosition.y(0);\n    }\n\n    this.afterUpdateAbsolutePosition();\n  };\n\n  SurfaceElementBase.prototype.canDrop = function () {\n    return !this.locked && this._control.getMetaData().isContainer;\n  };\n\n  SurfaceElementBase.prototype.afterUpdateAbsolutePosition = function () {};\n\n  SurfaceElementBase.prototype.findNextSelection = function () {\n    var parentSurface = this.parent;\n    var targetSurface = parentSurface;\n\n    if (parentSurface) {\n      var childrenCollection = parentSurface.getChildrenCollection()();\n      var indexInCollection = childrenCollection.indexOf(this);\n\n      if (indexInCollection === -1 && childrenCollection.length > 0) {\n        targetSurface = childrenCollection[childrenCollection.length - 1];\n      } else if (childrenCollection.length > 1 && indexInCollection === childrenCollection.length - 1) {\n        targetSurface = childrenCollection[indexInCollection - 1];\n      } else if (childrenCollection.length > 1 && indexInCollection === 0) {\n        targetSurface = childrenCollection[childrenCollection.length - 1];\n      } else if (childrenCollection.length > 1) {\n        targetSurface = childrenCollection[childrenCollection.length - 1];\n      } else if (indexInCollection === -1 && targetSurface.parent && targetSurface.parent.getChildrenCollection()().indexOf(targetSurface) === -1) {\n        targetSurface = targetSurface.findNextSelection();\n      }\n    }\n\n    return targetSurface;\n  };\n\n  return SurfaceElementBase;\n}(SurfaceElementArea);\n\nexports.SurfaceElementBase = SurfaceElementBase;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/core/elements/baseSurface.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","SurfaceElementBase","SurfaceElementArea","ko","require","utils_1","_units_1","_cssCalculator_1","_arrayutils_1","_hoverInfo_1","point_1","_utils_1","_super","control","context","unitProperties","_this","_createSurface","item","getControlFactory","controlsMap","controlType","surfaceType","_context","preInitProperties","_control","createUnitProperties","measureUnit","zoom","property","_disposables","push","_x","observable","_y","_width","_height","container","pureComputed","_container","subscribe","rtlLayout","x","_getX","_setX","computed","read","write","y","width","height","top","left","lineHeight","_rect","update","right","bottom","rect","newRect","beforeRectUpdated","undefined","getRoot","unwrap","rtl","getControlModel","Disposable","_countSelectedChildren","focused","selected","underCursor","HoverInfo","allowMultiselect","absolutePosition","Point","cssCalculator","CssCalculator","_getChildrenHolderName","collection","observableArray","createObservableReverseArrayMapCollection","createObservableArrayMapCollection","isSelected","some","css","extend","fontCss","foreColorCss","backGroundCss","textAlignmentCss","contentCss","angle","wordWrapCss","paddingsCss","updateAbsolutePosition","absoluteRect","controlRect","absolutePositionY","absolutePositionX","locked","_getParent","parentModel","surface","get","enumerable","configurable","checkParent","surfaceParent","parent","getChildrenCollection","parentX","parentY","newX","newY","afterUpdateAbsolutePosition","canDrop","getMetaData","isContainer","findNextSelection","parentSurface","targetSurface","childrenCollection","indexInCollection","indexOf","length"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (core\\elements\\baseSurface.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SurfaceElementBase = exports.SurfaceElementArea = void 0;\nvar ko = require(\"knockout\");\nvar utils_1 = require(\"../../serializer/utils\");\nvar _units_1 = require(\"../utils/_units\");\nvar _cssCalculator_1 = require(\"../internal/_cssCalculator\");\nvar _arrayutils_1 = require(\"../utils/_arrayutils\");\nvar _hoverInfo_1 = require(\"../internal/_hoverInfo\");\nvar point_1 = require(\"./point\");\nvar _utils_1 = require(\"../../serializer/_utils\");\nvar SurfaceElementArea = (function (_super) {\n    __extends(SurfaceElementArea, _super);\n    function SurfaceElementArea(control, context, unitProperties) {\n        var _this = _super.call(this) || this;\n        _this._createSurface = function (item) {\n            return item['surface'] || new (item.getControlFactory()).controlsMap[item.controlType].surfaceType(item, _this._context);\n        };\n        _this.preInitProperties(control, context, unitProperties);\n        _this._control = control;\n        _this._context = context;\n        control['surface'] = _this;\n        if (_this._context) {\n            _units_1.createUnitProperties(control, _this, unitProperties, _this._context.measureUnit, _this._context.zoom, function (property) { _this._disposables.push(property); });\n        }\n        _this._x = _this._x || ko.observable(0);\n        _this._y = _this._y || ko.observable(0);\n        _this._width = _this._width || ko.observable(0);\n        _this._height = _this._height || ko.observable(0);\n        var container = ko.pureComputed(function () { return _this.container(); });\n        _this._disposables.push(container);\n        _this._container = container();\n        _this._disposables.push(container.subscribe(function (value) {\n            if (_this._container !== value && _this.rtlLayout()) {\n                var x = _this._getX();\n                _this._container = value;\n                _this._setX(x);\n            }\n            else {\n                _this._container = value;\n            }\n        }));\n        var x = ko.computed({\n            read: function () { return _this._getX(); },\n            write: function (value) {\n                _this._setX(value);\n            }\n        }), y = _this._y, width = _this._width, height = _this._height;\n        _this['position'] = {\n            top: y,\n            left: x,\n            width: width,\n            height: height,\n            lineHeight: height\n        };\n        _this._disposables.push(x);\n        var _rect = ko.observable();\n        _this._disposables.push(ko.computed(function () {\n            if (!_this._control.update()) {\n                _rect({ top: y(), left: x(), right: x() + width(), bottom: y() + height(), width: width(), height: height() });\n            }\n        }));\n        _this._disposables.push(_this.rect = ko.pureComputed({\n            read: function () {\n                return _rect();\n            },\n            write: function (newRect) {\n                newRect = _this.beforeRectUpdated(newRect);\n                _this._control.update(true);\n                try {\n                    if (newRect.left !== undefined) {\n                        _this._setX(newRect.left, newRect.width);\n                    }\n                    else if (newRect.width !== undefined) {\n                        _this._setX(x(), newRect.width);\n                    }\n                    if (newRect.top !== undefined) {\n                        y(newRect.top);\n                    }\n                    if (newRect.right !== undefined && newRect.left === undefined && newRect.width === undefined) {\n                        width(newRect.right - x());\n                    }\n                    if (newRect.bottom !== undefined && newRect.top === undefined) {\n                        height(newRect.bottom - y());\n                    }\n                    if (newRect.right !== undefined && newRect.left !== undefined && newRect.width === undefined) {\n                        width(newRect.right - newRect.left);\n                    }\n                    if (newRect.bottom !== undefined && newRect.top !== undefined) {\n                        height(newRect.bottom - newRect.top);\n                    }\n                    if (newRect.width !== undefined) {\n                        width(newRect.width);\n                    }\n                    if (newRect.height !== undefined) {\n                        height(newRect.height);\n                    }\n                }\n                finally {\n                    _this._control.update(false);\n                }\n            }\n        }));\n        return _this;\n    }\n    SurfaceElementArea.prototype._getX = function () {\n        if (this.rtlLayout() && this._container) {\n            return this._container.rect().width - this._x() - this._width();\n        }\n        else {\n            return this._x();\n        }\n    };\n    SurfaceElementArea.prototype._setX = function (value, width) {\n        width = width || this._width();\n        if (this.rtlLayout() && this._container) {\n            this._x(this._container.rect().width - value - width);\n        }\n        else {\n            this._x(value);\n        }\n    };\n    SurfaceElementArea.prototype.getRoot = function () {\n        return this._context;\n    };\n    SurfaceElementArea.prototype.preInitProperties = function (control, context, unitProperties) { };\n    SurfaceElementArea.prototype.container = function () {\n        return this['parent'];\n    };\n    SurfaceElementArea.prototype.beforeRectUpdated = function (rect) {\n        rect.left = rect.left < 0 ? 0 : rect.left;\n        rect.top = rect.top < 0 ? 0 : rect.top;\n        return rect;\n    };\n    SurfaceElementArea.prototype.rtlLayout = function () {\n        return !!ko.unwrap(this._context.rtl);\n    };\n    SurfaceElementArea.prototype.getControlModel = function () {\n        return this._control;\n    };\n    return SurfaceElementArea;\n}(utils_1.Disposable));\nexports.SurfaceElementArea = SurfaceElementArea;\nvar SurfaceElementBase = (function (_super) {\n    __extends(SurfaceElementBase, _super);\n    function SurfaceElementBase(control, context, unitProperties) {\n        var _this = _super.call(this, control, context, unitProperties) || this;\n        _this._countSelectedChildren = ko.observable(0);\n        _this.focused = ko.observable(false);\n        _this.selected = ko.observable(false);\n        _this.underCursor = ko.observable(new _hoverInfo_1.HoverInfo());\n        _this.allowMultiselect = true;\n        _this.absolutePosition = new point_1.Point(0, 0);\n        _this.getControlModel = function () {\n            return control;\n        };\n        _this.cssCalculator = new _cssCalculator_1.CssCalculator(control, context.rtl);\n        if (_this._getChildrenHolderName() && control[_this._getChildrenHolderName()]) {\n            var collection = ko.observableArray();\n            if (_this._getChildrenHolderName() === 'controls') {\n                _this._disposables.push(_arrayutils_1.createObservableReverseArrayMapCollection(control[_this._getChildrenHolderName()], collection, _this._createSurface));\n            }\n            else {\n                _this._disposables.push(_arrayutils_1.createObservableArrayMapCollection(control[_this._getChildrenHolderName()], collection, _this._createSurface));\n            }\n            _this[_this._getChildrenHolderName()] = collection;\n            _this._disposables.push(_this.isSelected = ko.pureComputed(function () {\n                if (!(_this.focused() || _this.selected())) {\n                    return collection().some(function (item) {\n                        return item.isSelected();\n                    });\n                }\n                return true;\n            }));\n        }\n        else {\n            _this._disposables.push(_this.isSelected = ko.pureComputed(function () {\n                return _this.focused() || _this.selected();\n            }));\n        }\n        _this._disposables.push(_this.css = ko.pureComputed(function () {\n            return _utils_1.extend({}, _this.cssCalculator.fontCss(), _this.cssCalculator.foreColorCss(), _this.cssCalculator.backGroundCss(), _this.cssCalculator.textAlignmentCss());\n        }));\n        _this._disposables.push(_this.contentCss = ko.pureComputed(function () {\n            return _utils_1.extend({}, _this.cssCalculator.fontCss(), _this.cssCalculator.foreColorCss(), _this.cssCalculator.textAlignmentCss(), _this.cssCalculator.angle(), _this.cssCalculator.wordWrapCss(), _this.cssCalculator.paddingsCss());\n        }));\n        _this._disposables.push(ko.computed(function () {\n            _this.updateAbsolutePosition();\n        }));\n        _this._disposables.push(_this.absoluteRect = ko.pureComputed(function () {\n            var controlRect = _this.rect(), absolutePositionY = _this.absolutePosition.y(), absolutePositionX = _this.absolutePosition.x();\n            return { top: absolutePositionY, left: absolutePositionX, right: absolutePositionX + controlRect.width, bottom: absolutePositionY + controlRect.height, width: controlRect.width, height: controlRect.height };\n        }));\n        _this.locked = control['lockedInUserDesigner'] ? control['lockedInUserDesigner']() : false;\n        return _this;\n    }\n    SurfaceElementBase.prototype._getParent = function () {\n        return this.getControlModel().parentModel() && this.getControlModel().parentModel().surface;\n    };\n    Object.defineProperty(SurfaceElementBase.prototype, \"parent\", {\n        get: function () {\n            return this._getParent();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SurfaceElementBase.prototype.checkParent = function (surfaceParent) {\n        return this.parent === surfaceParent;\n    };\n    SurfaceElementBase.prototype._getChildrenHolderName = function () { return 'controls'; };\n    SurfaceElementBase.prototype.getChildrenCollection = function () {\n        return this._getChildrenHolderName() && this[this._getChildrenHolderName()] || ko.observableArray([]);\n    };\n    SurfaceElementBase.prototype.updateAbsolutePosition = function () {\n        if (this.parent && this.parent.absolutePosition) {\n            var parentX = this.parent.absolutePosition.x(), parentY = this.parent.absolutePosition.y(), newX = parentX + this.rect().left, newY = parentY + this.rect().top;\n            this.absolutePosition.x(newX);\n            this.absolutePosition.y(newY);\n        }\n        else {\n            this.absolutePosition.x(0);\n            this.absolutePosition.y(0);\n        }\n        this.afterUpdateAbsolutePosition();\n    };\n    SurfaceElementBase.prototype.canDrop = function () { return !this.locked && this._control.getMetaData().isContainer; };\n    SurfaceElementBase.prototype.afterUpdateAbsolutePosition = function () {\n    };\n    SurfaceElementBase.prototype.findNextSelection = function () {\n        var parentSurface = this.parent;\n        var targetSurface = parentSurface;\n        if (parentSurface) {\n            var childrenCollection = parentSurface.getChildrenCollection()();\n            var indexInCollection = childrenCollection.indexOf(this);\n            if (indexInCollection === -1 && childrenCollection.length > 0) {\n                targetSurface = childrenCollection[childrenCollection.length - 1];\n            }\n            else if (childrenCollection.length > 1 && indexInCollection === childrenCollection.length - 1) {\n                targetSurface = childrenCollection[indexInCollection - 1];\n            }\n            else if (childrenCollection.length > 1 && indexInCollection === 0) {\n                targetSurface = childrenCollection[childrenCollection.length - 1];\n            }\n            else if (childrenCollection.length > 1) {\n                targetSurface = childrenCollection[childrenCollection.length - 1];\n            }\n            else if (indexInCollection === -1 && targetSurface.parent && targetSurface.parent.getChildrenCollection()().indexOf(targetSurface) === -1) {\n                targetSurface = targetSurface.findNextSelection();\n            }\n        }\n        return targetSurface;\n    };\n    return SurfaceElementBase;\n}(SurfaceElementArea));\nexports.SurfaceElementBase = SurfaceElementBase;\n"]},"metadata":{},"sourceType":"script"}