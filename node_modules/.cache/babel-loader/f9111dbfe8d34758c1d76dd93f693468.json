{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_item-filter-items-provider.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ItemFilterItemsProvider = exports.isCategoricalDateTime = exports.getRealDimensionType = void 0;\n\nvar date_1 = require(\"devextreme/localization/date\");\n\nvar _data_source_browser_1 = require(\"../../common/_data-source-browser\");\n\nvar _formatter_1 = require(\"../../data/_formatter\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar data_item_1 = require(\"../../model/data-item/data-item\");\n\nvar dimension_1 = require(\"../../model/data-item/dimension\");\n\nvar _data_field_1 = require(\"../../model/data-sources/_data-field\");\n\nvar _display_name_provider_1 = require(\"../_display-name-provider\");\n\nvar getRealDimensionType = function (dimension, dataField) {\n  return exports.isCategoricalDateTime(dimension, dataField) ? 'Integer' : dataField.fieldType();\n};\n\nexports.getRealDimensionType = getRealDimensionType;\n\nvar isCategoricalDateTime = function (dimension, dataField) {\n  return dataField.fieldType() === 'DateTime' && ['Year', 'Quarter', 'Month', 'Day', 'Hour', 'Minute', 'Second', 'DayOfYear', 'DayOfWeek', 'WeekOfYear', 'WeekOfMonth'].indexOf(dimension.dateTimeGroupInterval() || 'Year') !== -1;\n};\n\nexports.isCategoricalDateTime = isCategoricalDateTime;\n\nvar ItemFilterItemsProvider = function () {\n  function ItemFilterItemsProvider(dataItemValuesProvider, dataFieldProvider, parameters, dataDashboardItem, filterPredicate) {\n    if (filterPredicate === void 0) {\n      filterPredicate = function () {\n        return true;\n      };\n    }\n\n    this.dataItemValuesProvider = dataItemValuesProvider;\n    this.dataFieldProvider = dataFieldProvider;\n    this.parameters = parameters;\n    this.dataDashboardItem = dataDashboardItem;\n    this.filterPredicate = filterPredicate;\n  }\n\n  ItemFilterItemsProvider.formatValue = function (value, dataItem, fieldTypeName) {\n    var getFormatViewModel = function (fieldTypeName) {\n      var fieldType = data_item_1.DataItem.typesMap[fieldTypeName];\n\n      switch (fieldType) {\n        case data_item_1.DataItem.typesMap.DateTime:\n          return dataItem.dateTimeFormat._getViewModel(dataItem instanceof dimension_1.Dimension ? dataItem.dateTimeGroupInterval() : undefined);\n\n        case data_item_1.DataItem.typesMap.Decimal:\n        case data_item_1.DataItem.typesMap.Double:\n        case data_item_1.DataItem.typesMap.Integer:\n          return dataItem.numericFormat._getViewModel();\n\n        default:\n          return undefined;\n      }\n    };\n\n    var formatViewModel = getFormatViewModel(fieldTypeName);\n    return !!formatViewModel ? _formatter_1.format(value, formatViewModel) : value;\n  };\n\n  ItemFilterItemsProvider.prototype.getItems = function (pathRequest) {\n    var _this = this;\n\n    var deferred = _jquery_helpers_1.createJQueryDeferred();\n\n    if (pathRequest.fullPath === 'Parameters') {\n      deferred.resolve(this.parameters().map(function (parameter) {\n        return {\n          displayName: parameter.name(),\n          name: parameter.name()\n        };\n      }));\n    } else {\n      this._getDashboardItemDataFields().done(function (dataFields) {\n        deferred.resolve(_this.dataDashboardItem._uniqueDataItems.filter(_this.filterPredicate).map(function (dataItem) {\n          var dataField = dataFields.filter(function (dataField) {\n            return dataField.dataMember() === dataItem.dataMember();\n          })[0];\n          var itemType = 'string';\n\n          if (dataField) {\n            itemType = dataItem instanceof dimension_1.Dimension ? exports.getRealDimensionType(dataItem, dataField) : dataField.fieldType();\n          }\n\n          return {\n            displayName: _display_name_provider_1.getDataItemDisplayName(_this.dataFieldProvider, _this.dataDashboardItem, dataItem),\n            name: dataItem.uniqueName(),\n            specifics: data_item_1.DataItem.typesMap[itemType] || 'string'\n          };\n        }));\n      });\n    }\n\n    return deferred.promise();\n  };\n\n  ItemFilterItemsProvider.prototype.getValues = function (pathRequest) {\n    var _this = this;\n\n    var dataItem = this.dataDashboardItem._dimensions.filter(function (di) {\n      return di.uniqueName() === pathRequest.path;\n    })[0];\n\n    var def = _jquery_helpers_1.createJQueryDeferred();\n\n    if (!dataItem) {\n      return def.resolve([]).promise();\n    }\n\n    this._getDashboardItemDataFields().done(function (dataFields) {\n      var dataField = dataFields.filter(function (dataField) {\n        return dataField.dataMember() === dataItem.dataMember();\n      })[0];\n\n      if (!dataField) {\n        return def.resolve([]).promise();\n      }\n\n      if (dataItem.dateTimeGroupInterval() === 'DayOfWeek' && dataField.fieldType() === 'DateTime') {\n        def.resolve([0, 1, 2, 3, 4, 5, 6].map(function (index) {\n          return {\n            value: index,\n            display: date_1.default.getDayNames(undefined)[index]\n          };\n        }));\n      } else if (_data_field_1.IsNumeric(dataField.fieldType()) || _data_field_1.IsTextual(dataField.fieldType()) || exports.isCategoricalDateTime(dataItem, dataField) || dataItem.dateTimeGroupInterval() === 'WeekYear') {\n        _this.dataItemValuesProvider.getDimensionUniqueValues(_this.dataDashboardItem.dataSource(), _this.dataDashboardItem.dataMember(), dataItem).done(function (values) {\n          def.resolve((values || []).filter(function (value) {\n            return value !== null;\n          }).map(function (value) {\n            if (dataField.fieldType() === 'Text') {\n              return value;\n            } else {\n              return {\n                value: value,\n                display: ItemFilterItemsProvider.formatValue(value, dataItem, dataField.fieldType())\n              };\n            }\n          }));\n        });\n      } else {\n        return def.resolve([]);\n      }\n    });\n\n    return def.promise();\n  };\n\n  ItemFilterItemsProvider.prototype._getDashboardItemDataFields = function () {\n    var fieldsNames = this.dataDashboardItem._uniqueDataItems.filter(this.filterPredicate).map(function (dataItem) {\n      return dataItem.dataMember();\n    });\n\n    return _data_source_browser_1.getDataFields(fieldsNames, this.dataDashboardItem.dataSource(), this.dataDashboardItem.dataMember(), this.dataFieldProvider);\n  };\n\n  return ItemFilterItemsProvider;\n}();\n\nexports.ItemFilterItemsProvider = ItemFilterItemsProvider;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/filtering/_item-filter-items-provider.js"],"names":["Object","defineProperty","exports","value","ItemFilterItemsProvider","isCategoricalDateTime","getRealDimensionType","date_1","require","_data_source_browser_1","_formatter_1","_jquery_helpers_1","data_item_1","dimension_1","_data_field_1","_display_name_provider_1","dimension","dataField","fieldType","indexOf","dateTimeGroupInterval","dataItemValuesProvider","dataFieldProvider","parameters","dataDashboardItem","filterPredicate","formatValue","dataItem","fieldTypeName","getFormatViewModel","DataItem","typesMap","DateTime","dateTimeFormat","_getViewModel","Dimension","undefined","Decimal","Double","Integer","numericFormat","formatViewModel","format","prototype","getItems","pathRequest","_this","deferred","createJQueryDeferred","fullPath","resolve","map","parameter","displayName","name","_getDashboardItemDataFields","done","dataFields","_uniqueDataItems","filter","dataMember","itemType","getDataItemDisplayName","uniqueName","specifics","promise","getValues","_dimensions","di","path","def","index","display","default","getDayNames","IsNumeric","IsTextual","getDimensionUniqueValues","dataSource","values","fieldsNames","getDataFields"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_item-filter-items-provider.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ItemFilterItemsProvider = exports.isCategoricalDateTime = exports.getRealDimensionType = void 0;\nvar date_1 = require(\"devextreme/localization/date\");\nvar _data_source_browser_1 = require(\"../../common/_data-source-browser\");\nvar _formatter_1 = require(\"../../data/_formatter\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar data_item_1 = require(\"../../model/data-item/data-item\");\nvar dimension_1 = require(\"../../model/data-item/dimension\");\nvar _data_field_1 = require(\"../../model/data-sources/_data-field\");\nvar _display_name_provider_1 = require(\"../_display-name-provider\");\nvar getRealDimensionType = function (dimension, dataField) {\n    return exports.isCategoricalDateTime(dimension, dataField) ? 'Integer' : dataField.fieldType();\n};\nexports.getRealDimensionType = getRealDimensionType;\nvar isCategoricalDateTime = function (dimension, dataField) {\n    return dataField.fieldType() === 'DateTime' && ['Year', 'Quarter', 'Month', 'Day', 'Hour', 'Minute', 'Second',\n        'DayOfYear', 'DayOfWeek', 'WeekOfYear', 'WeekOfMonth'].indexOf(dimension.dateTimeGroupInterval() || 'Year') !== -1;\n};\nexports.isCategoricalDateTime = isCategoricalDateTime;\nvar ItemFilterItemsProvider = (function () {\n    function ItemFilterItemsProvider(dataItemValuesProvider, dataFieldProvider, parameters, dataDashboardItem, filterPredicate) {\n        if (filterPredicate === void 0) { filterPredicate = function () { return true; }; }\n        this.dataItemValuesProvider = dataItemValuesProvider;\n        this.dataFieldProvider = dataFieldProvider;\n        this.parameters = parameters;\n        this.dataDashboardItem = dataDashboardItem;\n        this.filterPredicate = filterPredicate;\n    }\n    ItemFilterItemsProvider.formatValue = function (value, dataItem, fieldTypeName) {\n        var getFormatViewModel = function (fieldTypeName) {\n            var fieldType = data_item_1.DataItem.typesMap[fieldTypeName];\n            switch (fieldType) {\n                case data_item_1.DataItem.typesMap.DateTime:\n                    return dataItem.dateTimeFormat._getViewModel(dataItem instanceof dimension_1.Dimension ? dataItem.dateTimeGroupInterval() : undefined);\n                case data_item_1.DataItem.typesMap.Decimal:\n                case data_item_1.DataItem.typesMap.Double:\n                case data_item_1.DataItem.typesMap.Integer:\n                    return dataItem.numericFormat._getViewModel();\n                default:\n                    return undefined;\n            }\n        };\n        var formatViewModel = getFormatViewModel(fieldTypeName);\n        return !!formatViewModel ? _formatter_1.format(value, formatViewModel) : value;\n    };\n    ItemFilterItemsProvider.prototype.getItems = function (pathRequest) {\n        var _this = this;\n        var deferred = _jquery_helpers_1.createJQueryDeferred();\n        if (pathRequest.fullPath === 'Parameters') {\n            deferred.resolve(this.parameters()\n                .map(function (parameter) {\n                return {\n                    displayName: parameter.name(),\n                    name: parameter.name()\n                };\n            }));\n        }\n        else {\n            this._getDashboardItemDataFields().done(function (dataFields) {\n                deferred.resolve(_this.dataDashboardItem\n                    ._uniqueDataItems\n                    .filter(_this.filterPredicate)\n                    .map(function (dataItem) {\n                    var dataField = dataFields.filter(function (dataField) { return dataField.dataMember() === dataItem.dataMember(); })[0];\n                    var itemType = 'string';\n                    if (dataField) {\n                        itemType = dataItem instanceof dimension_1.Dimension ? exports.getRealDimensionType(dataItem, dataField) : dataField.fieldType();\n                    }\n                    return {\n                        displayName: _display_name_provider_1.getDataItemDisplayName(_this.dataFieldProvider, _this.dataDashboardItem, dataItem),\n                        name: dataItem.uniqueName(),\n                        specifics: data_item_1.DataItem.typesMap[itemType] || 'string'\n                    };\n                }));\n            });\n        }\n        return deferred.promise();\n    };\n    ItemFilterItemsProvider.prototype.getValues = function (pathRequest) {\n        var _this = this;\n        var dataItem = this.dataDashboardItem._dimensions.filter(function (di) { return di.uniqueName() === pathRequest.path; })[0];\n        var def = _jquery_helpers_1.createJQueryDeferred();\n        if (!dataItem) {\n            return def.resolve([]).promise();\n        }\n        this._getDashboardItemDataFields()\n            .done(function (dataFields) {\n            var dataField = dataFields.filter(function (dataField) { return dataField.dataMember() === dataItem.dataMember(); })[0];\n            if (!dataField) {\n                return def.resolve([]).promise();\n            }\n            if (dataItem.dateTimeGroupInterval() === 'DayOfWeek' && dataField.fieldType() === 'DateTime') {\n                def.resolve([0, 1, 2, 3, 4, 5, 6].map(function (index) { return ({\n                    value: index,\n                    display: date_1.default.getDayNames(undefined)[index]\n                }); }));\n            }\n            else if (_data_field_1.IsNumeric(dataField.fieldType()) || _data_field_1.IsTextual(dataField.fieldType()) || exports.isCategoricalDateTime(dataItem, dataField) ||\n                dataItem.dateTimeGroupInterval() === 'WeekYear') {\n                _this.dataItemValuesProvider.getDimensionUniqueValues(_this.dataDashboardItem.dataSource(), _this.dataDashboardItem.dataMember(), dataItem)\n                    .done(function (values) {\n                    def.resolve((values || [])\n                        .filter(function (value) { return value !== null; })\n                        .map(function (value) {\n                        if (dataField.fieldType() === 'Text') {\n                            return value;\n                        }\n                        else {\n                            return {\n                                value: value,\n                                display: ItemFilterItemsProvider.formatValue(value, dataItem, dataField.fieldType())\n                            };\n                        }\n                    }));\n                });\n            }\n            else {\n                return def.resolve([]);\n            }\n        });\n        return def.promise();\n    };\n    ItemFilterItemsProvider.prototype._getDashboardItemDataFields = function () {\n        var fieldsNames = this.dataDashboardItem\n            ._uniqueDataItems\n            .filter(this.filterPredicate)\n            .map(function (dataItem) { return dataItem.dataMember(); });\n        return _data_source_browser_1.getDataFields(fieldsNames, this.dataDashboardItem.dataSource(), this.dataDashboardItem.dataMember(), this.dataFieldProvider);\n    };\n    return ItemFilterItemsProvider;\n}());\nexports.ItemFilterItemsProvider = ItemFilterItemsProvider;\n"]},"metadata":{},"sourceType":"script"}