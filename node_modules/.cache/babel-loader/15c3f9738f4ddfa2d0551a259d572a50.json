{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_entry-editor-model.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EntryEditorViewModel = void 0;\n\nvar validation_engine_1 = require(\"devextreme/ui/validation_engine\");\n\nvar ko = require(\"knockout\");\n\nvar _default_1 = require(\"../../../data/localization/_default\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar color_1 = require(\"../../../model/color\");\n\nvar _item_filter_items_provider_1 = require(\"../../filtering/_item-filter-items-provider\");\n\nvar _color_scheme_entry_creator_1 = require(\"./_color-scheme-entry-creator\");\n\nvar EntryEditorViewModel = function () {\n  function EntryEditorViewModel(colorPalette) {\n    var _this = this;\n\n    this.colorPalette = colorPalette;\n\n    this.editEntry = function (dataSourceBrowser, entry, colorByMeasures, availableMeasures, updateEntry, isAutoGenerated) {\n      _this.invalidate();\n\n      _this.isAutogenerated(isAutoGenerated);\n\n      _this.updateEntry = updateEntry;\n\n      _this.hasMeasures(colorByMeasures);\n\n      _this.availableMeasures(availableMeasures);\n\n      _this.entryToEdit(entry.clone());\n\n      _this.subscribeObservables();\n\n      if (colorByMeasures) {\n        _this.measuresValidationRules = [{\n          type: 'custom',\n          validationCallback: function () {\n            return _this.measureKeys().length > 0;\n          },\n          message: _default_1.getLocalizationById('DashboardWebStringId.Colorization.ValidationSelectMeasure')\n        }];\n      }\n\n      var dimensionEditors = [];\n      var promises = [];\n\n      _this.dimensionKeys().forEach(function (key) {\n        promises.push(dataSourceBrowser.findDataField(entry.definition.dataSource, entry.definition.dataMember, key.definition.dataMember()).done(function (field) {\n          var type = field && _item_filter_items_provider_1.getRealDimensionType(key.definition, field) || 'Unknown';\n          dimensionEditors.push({\n            dimensionKey: key,\n            valueType: type\n          });\n        }));\n      });\n\n      _jquery_helpers_1.jqueryWhenArray(promises).done(function (fields) {\n        _this.dimensionEditors(dimensionEditors);\n\n        _this.visible(true);\n      });\n    };\n\n    this.close = function () {\n      _this.visible(false);\n\n      _this.invalidate();\n    };\n\n    this.validate = function () {\n      var validationGroup = validation_engine_1.default.getGroupConfig(_this._validationGroupName);\n\n      if (!!validationGroup && validationGroup.validate().isValid) {\n        _this.dimensionKeys().forEach(function (key, index) {\n          return _this.entryToEdit().dimensionKeys()[index].value.value(key.value.value());\n        });\n\n        _this.entryToEdit().measureKeys(_this.measureKeys().map(function (key) {\n          return _color_scheme_entry_creator_1.ColorSchemeEntryCreator.createMeasureDefinitionCopy(key);\n        }));\n\n        _this.entryToEdit().paletteIndex(null);\n\n        _this.entryToEdit().color(color_1.Color.fromRgbaString(_this.color()));\n\n        _this.updateEntry(_this.entryToEdit());\n      }\n    };\n\n    this.invalidate = function () {\n      _this._subscriptions.forEach(function (s) {\n        return s.dispose();\n      });\n\n      _this._subscriptions = [];\n\n      _this.entryToEdit(null);\n\n      _this.isAutogenerated(false);\n\n      _this.measuresValidationRules = [];\n\n      _this.dimensionKeys([]);\n\n      _this.measureKeys([]);\n    };\n\n    this.visible = ko.observable(false);\n    this.entryToEdit = ko.observable();\n    this.isAutogenerated = ko.observable(false);\n    this.hasMeasures = ko.observable();\n    this.availableMeasures = ko.observableArray();\n    this.measuresValidationRules = [];\n    this.dimensionEditors = ko.observableArray();\n    this.dimensionKeys = ko.observableArray();\n    this.measureKeys = ko.observableArray();\n    this.selectedMeasuresIds = ko.computed({\n      read: function () {\n        return _this.measureKeys().map(function (md) {\n          return md._id;\n        });\n      },\n      write: function (selectedIds) {\n        _this.measureKeys(_this.availableMeasures().filter(function (md) {\n          return selectedIds.some(function (id) {\n            return id === md._id;\n          });\n        }));\n      }\n    });\n    this.color = ko.observable();\n    this._subscriptions = [];\n    this._validationGroupName = 'newEntry';\n  }\n\n  EntryEditorViewModel.prototype.subscribeObservables = function () {\n    var _this = this;\n\n    this.entryToEdit().dimensionKeys().forEach(function (key) {\n      return _this.dimensionKeys.push(_color_scheme_entry_creator_1.ColorSchemeEntryCreator.createDimensionKey(key.definition.dataMember(), key.definition.dateTimeGroupInterval(), key.value.type(), key.value.value()));\n    });\n    this.measureKeys(this.entryToEdit().measureKeys().map(function (key) {\n      return _color_scheme_entry_creator_1.ColorSchemeEntryCreator.createMeasureDefinitionCopy(key);\n    }));\n    var computedColor = this.entryToEdit().paletteIndex() === null ? this.entryToEdit().color() : this.colorPalette()[this.entryToEdit().paletteIndex()];\n    this.color(computedColor ? computedColor.toHex() : '');\n    this.dimensionKeys().forEach(function (key) {\n      _this._subscriptions.push(key.value.value.subscribe(_this.validate));\n    });\n\n    this._subscriptions.push(this.measureKeys.subscribe(this.validate));\n\n    this._subscriptions.push(this.color.subscribe(this.validate));\n  };\n\n  return EntryEditorViewModel;\n}();\n\nexports.EntryEditorViewModel = EntryEditorViewModel;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/color-scheme-editor-extension/internal/_entry-editor-model.js"],"names":["Object","defineProperty","exports","value","EntryEditorViewModel","validation_engine_1","require","ko","_default_1","_jquery_helpers_1","color_1","_item_filter_items_provider_1","_color_scheme_entry_creator_1","colorPalette","_this","editEntry","dataSourceBrowser","entry","colorByMeasures","availableMeasures","updateEntry","isAutoGenerated","invalidate","isAutogenerated","hasMeasures","entryToEdit","clone","subscribeObservables","measuresValidationRules","type","validationCallback","measureKeys","length","message","getLocalizationById","dimensionEditors","promises","dimensionKeys","forEach","key","push","findDataField","definition","dataSource","dataMember","done","field","getRealDimensionType","dimensionKey","valueType","jqueryWhenArray","fields","visible","close","validate","validationGroup","default","getGroupConfig","_validationGroupName","isValid","index","map","ColorSchemeEntryCreator","createMeasureDefinitionCopy","paletteIndex","color","Color","fromRgbaString","_subscriptions","s","dispose","observable","observableArray","selectedMeasuresIds","computed","read","md","_id","write","selectedIds","filter","some","id","prototype","createDimensionKey","dateTimeGroupInterval","computedColor","toHex","subscribe"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_entry-editor-model.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EntryEditorViewModel = void 0;\nvar validation_engine_1 = require(\"devextreme/ui/validation_engine\");\nvar ko = require(\"knockout\");\nvar _default_1 = require(\"../../../data/localization/_default\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar color_1 = require(\"../../../model/color\");\nvar _item_filter_items_provider_1 = require(\"../../filtering/_item-filter-items-provider\");\nvar _color_scheme_entry_creator_1 = require(\"./_color-scheme-entry-creator\");\nvar EntryEditorViewModel = (function () {\n    function EntryEditorViewModel(colorPalette) {\n        var _this = this;\n        this.colorPalette = colorPalette;\n        this.editEntry = function (dataSourceBrowser, entry, colorByMeasures, availableMeasures, updateEntry, isAutoGenerated) {\n            _this.invalidate();\n            _this.isAutogenerated(isAutoGenerated);\n            _this.updateEntry = updateEntry;\n            _this.hasMeasures(colorByMeasures);\n            _this.availableMeasures(availableMeasures);\n            _this.entryToEdit(entry.clone());\n            _this.subscribeObservables();\n            if (colorByMeasures) {\n                _this.measuresValidationRules = [{\n                        type: 'custom',\n                        validationCallback: function () {\n                            return _this.measureKeys().length > 0;\n                        },\n                        message: _default_1.getLocalizationById('DashboardWebStringId.Colorization.ValidationSelectMeasure')\n                    }];\n            }\n            var dimensionEditors = [];\n            var promises = [];\n            _this.dimensionKeys().forEach(function (key) {\n                promises.push(dataSourceBrowser\n                    .findDataField(entry.definition.dataSource, entry.definition.dataMember, key.definition.dataMember())\n                    .done(function (field) {\n                    var type = field && _item_filter_items_provider_1.getRealDimensionType(key.definition, field) || 'Unknown';\n                    dimensionEditors.push({\n                        dimensionKey: key,\n                        valueType: type\n                    });\n                }));\n            });\n            _jquery_helpers_1.jqueryWhenArray(promises).done(function (fields) {\n                _this.dimensionEditors(dimensionEditors);\n                _this.visible(true);\n            });\n        };\n        this.close = function () {\n            _this.visible(false);\n            _this.invalidate();\n        };\n        this.validate = function () {\n            var validationGroup = validation_engine_1.default.getGroupConfig(_this._validationGroupName);\n            if (!!validationGroup && validationGroup.validate().isValid) {\n                _this.dimensionKeys().forEach(function (key, index) { return _this.entryToEdit().dimensionKeys()[index].value.value(key.value.value()); });\n                _this.entryToEdit().measureKeys(_this.measureKeys().map(function (key) { return _color_scheme_entry_creator_1.ColorSchemeEntryCreator.createMeasureDefinitionCopy(key); }));\n                _this.entryToEdit().paletteIndex(null);\n                _this.entryToEdit().color(color_1.Color.fromRgbaString(_this.color()));\n                _this.updateEntry(_this.entryToEdit());\n            }\n        };\n        this.invalidate = function () {\n            _this._subscriptions.forEach(function (s) { return s.dispose(); });\n            _this._subscriptions = [];\n            _this.entryToEdit(null);\n            _this.isAutogenerated(false);\n            _this.measuresValidationRules = [];\n            _this.dimensionKeys([]);\n            _this.measureKeys([]);\n        };\n        this.visible = ko.observable(false);\n        this.entryToEdit = ko.observable();\n        this.isAutogenerated = ko.observable(false);\n        this.hasMeasures = ko.observable();\n        this.availableMeasures = ko.observableArray();\n        this.measuresValidationRules = [];\n        this.dimensionEditors = ko.observableArray();\n        this.dimensionKeys = ko.observableArray();\n        this.measureKeys = ko.observableArray();\n        this.selectedMeasuresIds = ko.computed({\n            read: function () {\n                return _this.measureKeys().map(function (md) { return md._id; });\n            },\n            write: function (selectedIds) {\n                _this.measureKeys(_this.availableMeasures().filter(function (md) { return selectedIds.some(function (id) { return id === md._id; }); }));\n            }\n        });\n        this.color = ko.observable();\n        this._subscriptions = [];\n        this._validationGroupName = 'newEntry';\n    }\n    EntryEditorViewModel.prototype.subscribeObservables = function () {\n        var _this = this;\n        this.entryToEdit().dimensionKeys().forEach(function (key) { return _this.dimensionKeys.push(_color_scheme_entry_creator_1.ColorSchemeEntryCreator.createDimensionKey(key.definition.dataMember(), key.definition.dateTimeGroupInterval(), key.value.type(), key.value.value())); });\n        this.measureKeys(this.entryToEdit().measureKeys().map(function (key) { return _color_scheme_entry_creator_1.ColorSchemeEntryCreator.createMeasureDefinitionCopy(key); }));\n        var computedColor = this.entryToEdit().paletteIndex() === null ? this.entryToEdit().color() : this.colorPalette()[this.entryToEdit().paletteIndex()];\n        this.color(computedColor ? computedColor.toHex() : '');\n        this.dimensionKeys().forEach(function (key) {\n            _this._subscriptions.push(key.value.value.subscribe(_this.validate));\n        });\n        this._subscriptions.push(this.measureKeys.subscribe(this.validate));\n        this._subscriptions.push(this.color.subscribe(this.validate));\n    };\n    return EntryEditorViewModel;\n}());\nexports.EntryEditorViewModel = EntryEditorViewModel;\n"]},"metadata":{},"sourceType":"script"}