{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_chart-item-properties-composer.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ChartItemPropertiesComposer = void 0;\n\nvar ko = require(\"knockout\");\n\nvar _default_1 = require(\"../../../data/localization/_default\");\n\nvar _data_field_1 = require(\"../../../model/data-sources/_data-field\");\n\nvar _chart_axis_1 = require(\"../../../model/items/chart/metadata/_chart-axis\");\n\nvar _chart_item_1 = require(\"../../../model/items/chart/metadata/_chart-item\");\n\nvar _accordion_tab_1 = require(\"../../properties-controller/_accordion-tab\");\n\nvar _display_name_provider_1 = require(\"../../_display-name-provider\");\n\nvar _base_properties_composer_1 = require(\"./_base-properties-composer\");\n\nvar _data_item_properties_composer_1 = require(\"./_data-item-properties-composer\");\n\nvar _shared_composers_1 = require(\"./_shared-composers\");\n\nvar ChartItemPropertiesComposer = function (_super) {\n  __extends(ChartItemPropertiesComposer, _super);\n\n  function ChartItemPropertiesComposer(customizeHandler, editCFRuleHandler, createCFRuleDelegate) {\n    var _this = _super.call(this, customizeHandler) || this;\n\n    _this.editCFRuleHandler = editCFRuleHandler;\n    _this.createCFRuleDelegate = createCFRuleDelegate;\n    return _this;\n  }\n\n  ChartItemPropertiesComposer.prototype._getAxisXTabModel = function (model, dataSourceBrowser, argumentDataField) {\n    var groupInterval = model.arguments()[0] ? model.arguments()[0].dateTimeGroupInterval() : 'None';\n\n    var isOlap = argumentDataField && _data_field_1.DataField.isOlap(argumentDataField.dataMember());\n\n    return _shared_composers_1.SharedComposers.getAxisWrapper(model.axisX, ko.pureComputed(function () {\n      var argumentsNumber = model.arguments().length;\n\n      if (!argumentsNumber) {\n        return '';\n      } else if (argumentsNumber === 1) {\n        return model.arguments()[0] && _display_name_provider_1.getDataItemDisplayName(dataSourceBrowser, model, model.arguments()[0]);\n      } else return 'Arguments';\n    }), null, _data_field_1.DataField.isDateTime(argumentDataField) && !isOlap, _data_field_1.DataField.isNumeric(argumentDataField) && !isOlap, groupInterval);\n  };\n\n  ChartItemPropertiesComposer.prototype._composeTabsCore = function (model, args) {\n    var _this = this;\n\n    var argumentDataField = ko.observable();\n\n    if (model.arguments().length == 1) {\n      var dimension = model.arguments()[0];\n      args.dataSourceBrowser.findDataField(model.dataSource(), model.dataMember(), dimension.dataMember()).done(function (dataField) {\n        argumentDataField(dataField);\n      });\n    }\n\n    var result = [new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.Common, 'DashboardWebStringId.AccordionTab.Common', _shared_composers_1.SharedComposers.getCommonWrapper(model, [_chart_item_1.chartRotated]))];\n    var axisXTab = new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.AxisX, 'DashboardWebStringId.Chart.AxisX');\n    axisXTab.tabModel(this._getAxisXTabModel(model, args.dataSourceBrowser, argumentDataField()));\n    argumentDataField.subscribe(function (dataField) {\n      axisXTab.tabModel(_this._getAxisXTabModel(model, args.dataSourceBrowser, dataField));\n    });\n    result.push(axisXTab);\n\n    if (model) {\n      model.panes().forEach(function (pane) {\n        var numberPostfix = model.panes().length === 1 ? '' : ' (' + pane.name() + ')';\n        result.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.AxisY + numberPostfix, _default_1.getLocalizationById('DashboardWebStringId.Chart.AxisY') + numberPostfix, _shared_composers_1.SharedComposers.getAxisWrapper(pane.primaryAxisY, ko.pureComputed(function () {\n          var series = pane.series().filter(function (s) {\n            return !s.plotOnSecondaryAxis();\n          });\n\n          if (!series.length) {\n            return '';\n          }\n\n          var dataItems = series.reduce(function (array, singleSeries) {\n            return array.concat(singleSeries._getBindingModel().map(function (b) {\n              return singleSeries[b.propertyName];\n            }).filter(function (dil) {\n              return !!dil.dataItem();\n            }).map(function (dil) {\n              return dil.dataItem();\n            }));\n          }, []);\n\n          if (dataItems.length === 1) {\n            return _display_name_provider_1.getDataItemDisplayName(args.dataSourceBrowser, model, dataItems[0]);\n          } else return 'Values';\n        }), _chart_axis_1.chartAlwaysShowZeroLevel)));\n\n        if (pane.series().filter(function (s) {\n          return s.plotOnSecondaryAxis();\n        }).length > 0) {\n          result.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.AxisY + 'secondary' + numberPostfix, _default_1.getLocalizationById('DashboardWebStringId.Chart.AxisYSecondary') + numberPostfix, _shared_composers_1.SharedComposers.getAxisWrapper(pane.secondaryAxisY, ko.pureComputed(function () {\n            var series = pane.series().filter(function (s) {\n              return s.plotOnSecondaryAxis();\n            });\n\n            if (!series.length) {\n              return '';\n            } else if (series.length === 1) {\n              return _display_name_provider_1.getDataItemContainerDisplayName(args.dataSourceBrowser, model, series[0]);\n            } else return 'Values';\n          }), _chart_axis_1.chartAlwaysShowZeroLevel)));\n        }\n      });\n    }\n\n    result.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.Legend, 'DashboardWebStringId.AccordionTab.ChartLegend', _shared_composers_1.SharedComposers.getLegendWrapper(model)));\n    result.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.ConditionalFormatting, 'DashboardWebStringId.ConditionalFormatting', _data_item_properties_composer_1.DataItemsPropertiesComposer.getFormatRulesWrapper(model, function () {\n      return _this.createCFRuleDelegate();\n    }, function () {\n      return true;\n    }, this.editCFRuleHandler)));\n    return result;\n  };\n\n  return ChartItemPropertiesComposer;\n}(_base_properties_composer_1.DashboardItemPropertiesComposer);\n\nexports.ChartItemPropertiesComposer = ChartItemPropertiesComposer;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/items/properties-composers/_chart-item-properties-composer.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","ChartItemPropertiesComposer","ko","require","_default_1","_data_field_1","_chart_axis_1","_chart_item_1","_accordion_tab_1","_display_name_provider_1","_base_properties_composer_1","_data_item_properties_composer_1","_shared_composers_1","_super","customizeHandler","editCFRuleHandler","createCFRuleDelegate","_this","_getAxisXTabModel","model","dataSourceBrowser","argumentDataField","groupInterval","arguments","dateTimeGroupInterval","isOlap","DataField","dataMember","SharedComposers","getAxisWrapper","axisX","pureComputed","argumentsNumber","length","getDataItemDisplayName","isDateTime","isNumeric","_composeTabsCore","args","observable","dimension","findDataField","dataSource","done","dataField","result","AccordionTab","KnownTabs","Common","getCommonWrapper","chartRotated","axisXTab","AxisX","tabModel","subscribe","push","panes","forEach","pane","numberPostfix","name","AxisY","getLocalizationById","primaryAxisY","series","filter","s","plotOnSecondaryAxis","dataItems","reduce","array","singleSeries","concat","_getBindingModel","map","propertyName","dil","dataItem","chartAlwaysShowZeroLevel","secondaryAxisY","getDataItemContainerDisplayName","Legend","getLegendWrapper","ConditionalFormatting","DataItemsPropertiesComposer","getFormatRulesWrapper","DashboardItemPropertiesComposer"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_chart-item-properties-composer.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChartItemPropertiesComposer = void 0;\nvar ko = require(\"knockout\");\nvar _default_1 = require(\"../../../data/localization/_default\");\nvar _data_field_1 = require(\"../../../model/data-sources/_data-field\");\nvar _chart_axis_1 = require(\"../../../model/items/chart/metadata/_chart-axis\");\nvar _chart_item_1 = require(\"../../../model/items/chart/metadata/_chart-item\");\nvar _accordion_tab_1 = require(\"../../properties-controller/_accordion-tab\");\nvar _display_name_provider_1 = require(\"../../_display-name-provider\");\nvar _base_properties_composer_1 = require(\"./_base-properties-composer\");\nvar _data_item_properties_composer_1 = require(\"./_data-item-properties-composer\");\nvar _shared_composers_1 = require(\"./_shared-composers\");\nvar ChartItemPropertiesComposer = (function (_super) {\n    __extends(ChartItemPropertiesComposer, _super);\n    function ChartItemPropertiesComposer(customizeHandler, editCFRuleHandler, createCFRuleDelegate) {\n        var _this = _super.call(this, customizeHandler) || this;\n        _this.editCFRuleHandler = editCFRuleHandler;\n        _this.createCFRuleDelegate = createCFRuleDelegate;\n        return _this;\n    }\n    ChartItemPropertiesComposer.prototype._getAxisXTabModel = function (model, dataSourceBrowser, argumentDataField) {\n        var groupInterval = model.arguments()[0] ? model.arguments()[0].dateTimeGroupInterval() : 'None';\n        var isOlap = argumentDataField && _data_field_1.DataField.isOlap(argumentDataField.dataMember());\n        return _shared_composers_1.SharedComposers.getAxisWrapper(model.axisX, ko.pureComputed(function () {\n            var argumentsNumber = model.arguments().length;\n            if (!argumentsNumber) {\n                return '';\n            }\n            else if (argumentsNumber === 1) {\n                return model.arguments()[0] && _display_name_provider_1.getDataItemDisplayName(dataSourceBrowser, model, model.arguments()[0]);\n            }\n            else\n                return 'Arguments';\n        }), null, _data_field_1.DataField.isDateTime(argumentDataField) && !isOlap, _data_field_1.DataField.isNumeric(argumentDataField) && !isOlap, groupInterval);\n    };\n    ChartItemPropertiesComposer.prototype._composeTabsCore = function (model, args) {\n        var _this = this;\n        var argumentDataField = ko.observable();\n        if (model.arguments().length == 1) {\n            var dimension = model.arguments()[0];\n            args.dataSourceBrowser.findDataField(model.dataSource(), model.dataMember(), dimension.dataMember()).done(function (dataField) {\n                argumentDataField(dataField);\n            });\n        }\n        var result = [\n            new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.Common, 'DashboardWebStringId.AccordionTab.Common', _shared_composers_1.SharedComposers.getCommonWrapper(model, [_chart_item_1.chartRotated])),\n        ];\n        var axisXTab = new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.AxisX, 'DashboardWebStringId.Chart.AxisX');\n        axisXTab.tabModel(this._getAxisXTabModel(model, args.dataSourceBrowser, argumentDataField()));\n        argumentDataField.subscribe(function (dataField) { axisXTab.tabModel(_this._getAxisXTabModel(model, args.dataSourceBrowser, dataField)); });\n        result.push(axisXTab);\n        if (model) {\n            model.panes().forEach(function (pane) {\n                var numberPostfix = model.panes().length === 1 ? '' : ' (' + pane.name() + ')';\n                result.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.AxisY + numberPostfix, _default_1.getLocalizationById('DashboardWebStringId.Chart.AxisY') + numberPostfix, _shared_composers_1.SharedComposers.getAxisWrapper(pane.primaryAxisY, ko.pureComputed(function () {\n                    var series = pane.series().filter(function (s) { return !s.plotOnSecondaryAxis(); });\n                    if (!series.length) {\n                        return '';\n                    }\n                    var dataItems = series.reduce(function (array, singleSeries) {\n                        return array.concat(singleSeries\n                            ._getBindingModel()\n                            .map(function (b) { return singleSeries[b.propertyName]; })\n                            .filter(function (dil) { return !!dil.dataItem(); })\n                            .map(function (dil) { return dil.dataItem(); }));\n                    }, []);\n                    if (dataItems.length === 1) {\n                        return _display_name_provider_1.getDataItemDisplayName(args.dataSourceBrowser, model, dataItems[0]);\n                    }\n                    else\n                        return 'Values';\n                }), _chart_axis_1.chartAlwaysShowZeroLevel)));\n                if (pane.series().filter(function (s) { return s.plotOnSecondaryAxis(); }).length > 0) {\n                    result.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.AxisY + 'secondary' + numberPostfix, _default_1.getLocalizationById('DashboardWebStringId.Chart.AxisYSecondary') + numberPostfix, _shared_composers_1.SharedComposers.getAxisWrapper(pane.secondaryAxisY, ko.pureComputed(function () {\n                        var series = pane.series().filter(function (s) { return s.plotOnSecondaryAxis(); });\n                        if (!series.length) {\n                            return '';\n                        }\n                        else if (series.length === 1) {\n                            return _display_name_provider_1.getDataItemContainerDisplayName(args.dataSourceBrowser, model, series[0]);\n                        }\n                        else\n                            return 'Values';\n                    }), _chart_axis_1.chartAlwaysShowZeroLevel)));\n                }\n            });\n        }\n        result.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.Legend, 'DashboardWebStringId.AccordionTab.ChartLegend', _shared_composers_1.SharedComposers.getLegendWrapper(model)));\n        result.push(new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.ConditionalFormatting, 'DashboardWebStringId.ConditionalFormatting', _data_item_properties_composer_1.DataItemsPropertiesComposer.getFormatRulesWrapper(model, function () { return _this.createCFRuleDelegate(); }, function () { return true; }, this.editCFRuleHandler)));\n        return result;\n    };\n    return ChartItemPropertiesComposer;\n}(_base_properties_composer_1.DashboardItemPropertiesComposer));\nexports.ChartItemPropertiesComposer = ChartItemPropertiesComposer;\n"]},"metadata":{},"sourceType":"script"}