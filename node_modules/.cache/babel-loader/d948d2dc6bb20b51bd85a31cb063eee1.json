{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_item-viewer-adapter-base.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ItemViewerAdapterBase = void 0;\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar disposable_object_1 = require(\"../../../model/disposable-object\");\n\nvar _date_utils_1 = require(\"../../../model/internal/_date-utils\");\n\nvar custom_item_1 = require(\"../../../model/items/custom-item/custom-item\");\n\nvar _base_item_1 = require(\"../../../viewer-parts/viewer-items/_base-item\");\n\nvar _viewer_item_factory_1 = require(\"../../../viewer-parts/_viewer-item-factory\");\n\nvar custom_viewer_item_1 = require(\"../../custom-viewer-item/custom-viewer-item\");\n\nvar ItemViewerAdapterBase = function (_super) {\n  __extends(ItemViewerAdapterBase, _super);\n\n  function ItemViewerAdapterBase(dashboardItem, element, context, localContext, beforeRender, onDisposed) {\n    if (beforeRender === void 0) {\n      beforeRender = function (item) {};\n    }\n\n    if (onDisposed === void 0) {\n      onDisposed = function () {};\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.dashboardItem = dashboardItem;\n    _this.element = element;\n    _this.context = context;\n    _this.localContext = localContext;\n    _this.beforeRender = beforeRender;\n    _this.onDisposed = onDisposed;\n    _this.modelSubscriptions = [];\n\n    _this.itemUpdated = function (item) {};\n\n    _this.updateServerContentHandler = function (newContent) {\n      if (newContent) {\n        _this.ensureViewerItem(!_this.item, newContent);\n\n        _this.item.hideLoadingPanel();\n      } else if (!!_this.item) {\n        _this.item.showLoadingPanel();\n      }\n\n      _this.itemUpdated(_this.item);\n    };\n\n    return _this;\n  }\n\n  Object.defineProperty(ItemViewerAdapterBase.prototype, \"name\", {\n    get: function () {\n      return this.dashboardItem.componentName();\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ItemViewerAdapterBase.prototype, \"_isDesignMode\", {\n    get: function () {\n      var ignoreDesignMode = this.localContext && this.localContext.ignoreDesignMode || false;\n\n      if (ignoreDesignMode) {\n        return false;\n      } else {\n        return this.context.isDesignMode();\n      }\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ItemViewerAdapterBase.prototype.ensureViewerItem = function (onlyCreation, content) {\n    this.ensureViewerItemCore(onlyCreation, content);\n  };\n\n  ItemViewerAdapterBase.prototype.initialize = function () {\n    var content = this.dashboardItem._getFullServerContent();\n\n    if (content) {\n      this.ensureViewerItem(true, content);\n      this.itemUpdated(this.item);\n    }\n\n    this.modelSubscriptions.push(this.dashboardItem._subcribeServerContent(this.updateServerContentHandler));\n  };\n\n  ItemViewerAdapterBase.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n\n    this.modelSubscriptions.forEach(function (subscription) {\n      return subscription.dispose();\n    });\n\n    if (this.item) {\n      if (!!this.context.viewerItemDispose) {\n        this.context.viewerItemDispose.fire(this.dashboardItem, this.item);\n      }\n\n      if (this.localContext) {\n        this.localContext.viewerItemDispose.fire(this.dashboardItem, this.item);\n      }\n\n      this.detachFromModel(this.item, this.dashboardItem);\n      this.item.dispose();\n    }\n\n    this.item = null;\n    this.onDisposed();\n  };\n\n  ItemViewerAdapterBase.prototype.resume = function () {\n    this.modelSubscriptions.push(this.dashboardItem._subcribeServerContent(this.updateServerContentHandler));\n    this.attachToModel(this.item, this.dashboardItem);\n    this.ensureViewerItemCore(false, this.dashboardItem._getFullServerContent());\n  };\n\n  ItemViewerAdapterBase.prototype.suspend = function () {\n    if (!!this.item) {\n      this.detachFromModel(this.item, this.dashboardItem);\n    }\n  };\n\n  ItemViewerAdapterBase.prototype.ensureViewerItemCore = function (onlyCreation, content, additionalData) {\n    if (!!this.context.beforeApplyViewerItemOptions) {\n      this.context.beforeApplyViewerItemOptions.fire(this.dashboardItem, content, onlyCreation, additionalData);\n    }\n\n    if (!!this.localContext) {\n      this.localContext.beforeApplyViewerItemOptions.fire(this.dashboardItem, content, onlyCreation);\n    }\n\n    if (onlyCreation) {\n      this.dashboardItem._viewerItemCreated(true);\n\n      this.item = this.createDashboardViewerItem(this.element, content, this.dashboardItem);\n    } else {\n      this.updateItemContent(content);\n    }\n  };\n\n  ItemViewerAdapterBase.prototype.updateItemContent = function (content) {\n    this.item.updateContent(content);\n  };\n\n  ItemViewerAdapterBase.prototype.createDashboardViewerItem = function (element, content, dashboardItem) {\n    var _this = this;\n\n    element.innerHTML = '';\n    content.parentContainer = _jquery_helpers_1.closest(element, '.dx-dashboard-container');\n    content.controlContainer = _base_item_1.getControlContainer(element);\n\n    if (this.localContext && this.localContext.boundaryContainer) {\n      content.boundaryContainer = this.localContext.boundaryContainer;\n    }\n\n    var visualMode = this.localContext && this.localContext.visualMode && this.localContext.visualMode() || null;\n    var viewerItem;\n\n    if (this.dashboardItem instanceof custom_item_1.CustomItem) {\n      if (visualMode === 'caption') {\n        viewerItem = new custom_viewer_item_1.CustomItemViewer(this.dashboardItem, _jquery_helpers_1.wrapPublicElement(element), content);\n      } else {\n        var viewerItemCreator = this.context.viewerItemCreator[this.dashboardItem.customItemType()];\n\n        if (!!viewerItemCreator) {\n          viewerItem = viewerItemCreator(this.dashboardItem, _jquery_helpers_1.wrapPublicElement(element), content);\n        }\n      }\n    }\n\n    if (!viewerItem) {\n      var viewerItemFactory = this.localContext && this.localContext.itemFactory || _viewer_item_factory_1.defaultViewerItemFactory;\n      viewerItem = viewerItemFactory.createItem(element, content);\n    }\n\n    if (!viewerItem) {\n      throw new Error('ViewerItem is not created.');\n    }\n\n    if (!!this.context.viewerItemCreated) {\n      this.context.viewerItemCreated.fire(this.dashboardItem, viewerItem);\n    }\n\n    if (this.localContext) {\n      if (this.localContext.visualMode) {\n        viewerItem.visualMode = this.localContext.visualMode();\n      }\n\n      this.localContext.viewerItemCreated.fire(this.dashboardItem, viewerItem);\n\n      viewerItem.addContextCaptionToolbarOptions = function (toolbarOptions) {\n        _this.context.addContextToolbarItems.fire(toolbarOptions, _this.dashboardItem);\n\n        _this.localContext.addContextToolbarItems.fire(toolbarOptions, _this.dashboardItem);\n      };\n\n      if (this.localContext.createCaptionToolbar) {\n        viewerItem.createCaptionToolbar = this.localContext.createCaptionToolbar;\n      }\n    }\n\n    this.attachToModel(viewerItem, dashboardItem);\n    this.beforeRender(viewerItem);\n    viewerItem.dateToString = _date_utils_1.fromUtcDateToString;\n    viewerItem.render();\n    return viewerItem;\n  };\n\n  ItemViewerAdapterBase.prototype.attachToModel = function (viewerItem, dashboardItem) {\n    viewerItem.allowMultiselection = dashboardItem._allowMultiselection();\n    this.modelSubscriptions.push(dashboardItem._allowMultiselection.subscribe(function (newValue) {\n      viewerItem.allowMultiselection = newValue;\n      viewerItem.forceUpdateInteractivity();\n    }));\n\n    viewerItem.allowMultiselectionChanged = function (allowed) {\n      dashboardItem._allowMultiselection(allowed);\n    };\n  };\n\n  ItemViewerAdapterBase.prototype.detachFromModel = function (viewerItem, dashboardItem) {\n    this.modelSubscriptions.forEach(function (subscription) {\n      return subscription.dispose();\n    });\n\n    viewerItem.allowMultiselectionChanged = function () {};\n  };\n\n  return ItemViewerAdapterBase;\n}(disposable_object_1.DisposableObject);\n\nexports.ItemViewerAdapterBase = ItemViewerAdapterBase;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/viewer/adapters/_item-viewer-adapter-base.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","ItemViewerAdapterBase","_jquery_helpers_1","require","disposable_object_1","_date_utils_1","custom_item_1","_base_item_1","_viewer_item_factory_1","custom_viewer_item_1","_super","dashboardItem","element","context","localContext","beforeRender","onDisposed","item","_this","modelSubscriptions","itemUpdated","updateServerContentHandler","newContent","ensureViewerItem","hideLoadingPanel","showLoadingPanel","get","componentName","enumerable","configurable","ignoreDesignMode","isDesignMode","onlyCreation","content","ensureViewerItemCore","initialize","_getFullServerContent","push","_subcribeServerContent","dispose","forEach","subscription","viewerItemDispose","fire","detachFromModel","resume","attachToModel","suspend","additionalData","beforeApplyViewerItemOptions","_viewerItemCreated","createDashboardViewerItem","updateItemContent","updateContent","innerHTML","parentContainer","closest","controlContainer","getControlContainer","boundaryContainer","visualMode","viewerItem","CustomItem","CustomItemViewer","wrapPublicElement","viewerItemCreator","customItemType","viewerItemFactory","itemFactory","defaultViewerItemFactory","createItem","Error","viewerItemCreated","addContextCaptionToolbarOptions","toolbarOptions","addContextToolbarItems","createCaptionToolbar","dateToString","fromUtcDateToString","render","allowMultiselection","_allowMultiselection","subscribe","newValue","forceUpdateInteractivity","allowMultiselectionChanged","allowed","DisposableObject"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_item-viewer-adapter-base.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ItemViewerAdapterBase = void 0;\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar disposable_object_1 = require(\"../../../model/disposable-object\");\nvar _date_utils_1 = require(\"../../../model/internal/_date-utils\");\nvar custom_item_1 = require(\"../../../model/items/custom-item/custom-item\");\nvar _base_item_1 = require(\"../../../viewer-parts/viewer-items/_base-item\");\nvar _viewer_item_factory_1 = require(\"../../../viewer-parts/_viewer-item-factory\");\nvar custom_viewer_item_1 = require(\"../../custom-viewer-item/custom-viewer-item\");\nvar ItemViewerAdapterBase = (function (_super) {\n    __extends(ItemViewerAdapterBase, _super);\n    function ItemViewerAdapterBase(dashboardItem, element, context, localContext, beforeRender, onDisposed) {\n        if (beforeRender === void 0) { beforeRender = function (item) { }; }\n        if (onDisposed === void 0) { onDisposed = function () { }; }\n        var _this = _super.call(this) || this;\n        _this.dashboardItem = dashboardItem;\n        _this.element = element;\n        _this.context = context;\n        _this.localContext = localContext;\n        _this.beforeRender = beforeRender;\n        _this.onDisposed = onDisposed;\n        _this.modelSubscriptions = [];\n        _this.itemUpdated = function (item) { };\n        _this.updateServerContentHandler = function (newContent) {\n            if (newContent) {\n                _this.ensureViewerItem(!_this.item, newContent);\n                _this.item.hideLoadingPanel();\n            }\n            else if (!!_this.item) {\n                _this.item.showLoadingPanel();\n            }\n            _this.itemUpdated(_this.item);\n        };\n        return _this;\n    }\n    Object.defineProperty(ItemViewerAdapterBase.prototype, \"name\", {\n        get: function () {\n            return this.dashboardItem.componentName();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ItemViewerAdapterBase.prototype, \"_isDesignMode\", {\n        get: function () {\n            var ignoreDesignMode = this.localContext && this.localContext.ignoreDesignMode || false;\n            if (ignoreDesignMode) {\n                return false;\n            }\n            else {\n                return this.context.isDesignMode();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ItemViewerAdapterBase.prototype.ensureViewerItem = function (onlyCreation, content) {\n        this.ensureViewerItemCore(onlyCreation, content);\n    };\n    ItemViewerAdapterBase.prototype.initialize = function () {\n        var content = this.dashboardItem._getFullServerContent();\n        if (content) {\n            this.ensureViewerItem(true, content);\n            this.itemUpdated(this.item);\n        }\n        this.modelSubscriptions.push(this.dashboardItem._subcribeServerContent(this.updateServerContentHandler));\n    };\n    ItemViewerAdapterBase.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.modelSubscriptions.forEach(function (subscription) { return subscription.dispose(); });\n        if (this.item) {\n            if (!!this.context.viewerItemDispose) {\n                this.context.viewerItemDispose.fire(this.dashboardItem, this.item);\n            }\n            if (this.localContext) {\n                this.localContext.viewerItemDispose.fire(this.dashboardItem, this.item);\n            }\n            this.detachFromModel(this.item, this.dashboardItem);\n            this.item.dispose();\n        }\n        this.item = null;\n        this.onDisposed();\n    };\n    ItemViewerAdapterBase.prototype.resume = function () {\n        this.modelSubscriptions.push(this.dashboardItem._subcribeServerContent(this.updateServerContentHandler));\n        this.attachToModel(this.item, this.dashboardItem);\n        this.ensureViewerItemCore(false, this.dashboardItem._getFullServerContent());\n    };\n    ItemViewerAdapterBase.prototype.suspend = function () {\n        if (!!this.item) {\n            this.detachFromModel(this.item, this.dashboardItem);\n        }\n    };\n    ItemViewerAdapterBase.prototype.ensureViewerItemCore = function (onlyCreation, content, additionalData) {\n        if (!!this.context.beforeApplyViewerItemOptions) {\n            this.context.beforeApplyViewerItemOptions.fire(this.dashboardItem, content, onlyCreation, additionalData);\n        }\n        if (!!this.localContext) {\n            this.localContext.beforeApplyViewerItemOptions.fire(this.dashboardItem, content, onlyCreation);\n        }\n        if (onlyCreation) {\n            this.dashboardItem._viewerItemCreated(true);\n            this.item = this.createDashboardViewerItem(this.element, content, this.dashboardItem);\n        }\n        else {\n            this.updateItemContent(content);\n        }\n    };\n    ItemViewerAdapterBase.prototype.updateItemContent = function (content) {\n        this.item.updateContent(content);\n    };\n    ItemViewerAdapterBase.prototype.createDashboardViewerItem = function (element, content, dashboardItem) {\n        var _this = this;\n        element.innerHTML = '';\n        content.parentContainer = _jquery_helpers_1.closest(element, '.dx-dashboard-container');\n        content.controlContainer = _base_item_1.getControlContainer(element);\n        if (this.localContext && this.localContext.boundaryContainer) {\n            content.boundaryContainer = this.localContext.boundaryContainer;\n        }\n        var visualMode = this.localContext && this.localContext.visualMode && this.localContext.visualMode() || null;\n        var viewerItem;\n        if (this.dashboardItem instanceof custom_item_1.CustomItem) {\n            if (visualMode === 'caption') {\n                viewerItem = new custom_viewer_item_1.CustomItemViewer(this.dashboardItem, _jquery_helpers_1.wrapPublicElement(element), content);\n            }\n            else {\n                var viewerItemCreator = this.context.viewerItemCreator[this.dashboardItem.customItemType()];\n                if (!!viewerItemCreator) {\n                    viewerItem = viewerItemCreator(this.dashboardItem, _jquery_helpers_1.wrapPublicElement(element), content);\n                }\n            }\n        }\n        if (!viewerItem) {\n            var viewerItemFactory = (this.localContext && this.localContext.itemFactory) || _viewer_item_factory_1.defaultViewerItemFactory;\n            viewerItem = viewerItemFactory.createItem(element, content);\n        }\n        if (!viewerItem) {\n            throw new Error('ViewerItem is not created.');\n        }\n        if (!!this.context.viewerItemCreated) {\n            this.context.viewerItemCreated.fire(this.dashboardItem, viewerItem);\n        }\n        if (this.localContext) {\n            if (this.localContext.visualMode) {\n                viewerItem.visualMode = this.localContext.visualMode();\n            }\n            this.localContext.viewerItemCreated.fire(this.dashboardItem, viewerItem);\n            viewerItem.addContextCaptionToolbarOptions = function (toolbarOptions) {\n                _this.context.addContextToolbarItems.fire(toolbarOptions, _this.dashboardItem);\n                _this.localContext.addContextToolbarItems.fire(toolbarOptions, _this.dashboardItem);\n            };\n            if (this.localContext.createCaptionToolbar) {\n                viewerItem.createCaptionToolbar = this.localContext.createCaptionToolbar;\n            }\n        }\n        this.attachToModel(viewerItem, dashboardItem);\n        this.beforeRender(viewerItem);\n        viewerItem.dateToString = _date_utils_1.fromUtcDateToString;\n        viewerItem.render();\n        return viewerItem;\n    };\n    ItemViewerAdapterBase.prototype.attachToModel = function (viewerItem, dashboardItem) {\n        viewerItem.allowMultiselection = dashboardItem._allowMultiselection();\n        this.modelSubscriptions.push(dashboardItem._allowMultiselection.subscribe(function (newValue) {\n            viewerItem.allowMultiselection = newValue;\n            viewerItem.forceUpdateInteractivity();\n        }));\n        viewerItem.allowMultiselectionChanged = function (allowed) {\n            dashboardItem._allowMultiselection(allowed);\n        };\n    };\n    ItemViewerAdapterBase.prototype.detachFromModel = function (viewerItem, dashboardItem) {\n        this.modelSubscriptions.forEach(function (subscription) { return subscription.dispose(); });\n        viewerItem.allowMultiselectionChanged = function () { };\n    };\n    return ItemViewerAdapterBase;\n}(disposable_object_1.DisposableObject));\nexports.ItemViewerAdapterBase = ItemViewerAdapterBase;\n"]},"metadata":{},"sourceType":"script"}