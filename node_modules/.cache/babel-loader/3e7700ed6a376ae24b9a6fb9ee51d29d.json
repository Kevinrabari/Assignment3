{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_data-controller-base.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dataControllerBase = exports.DEFAULT_SUBTITLE_SEPARATOR = exports.DATA_POSTFIX = void 0;\n\nvar _render_helper_1 = require(\"../../viewer-parts/widgets/_render-helper\");\n\nvar _localization_ids_1 = require(\"../_localization-ids\");\n\nvar _localizer_1 = require(\"../_localizer\");\n\nvar _utils_1 = require(\"../_utils\");\n\nvar _z_index_1 = require(\"../_z-index\");\n\nexports.DATA_POSTFIX = '_Data';\nexports.DEFAULT_SUBTITLE_SEPARATOR = ' - ';\n\nvar dataControllerBase = function () {\n  function dataControllerBase(options) {\n    this.deltaIndicatorTypes = ['none', 'up', 'down', 'warning'];\n    this.multiData = options ? options.multiData : undefined;\n    this.viewModel = options ? options.viewModel : undefined;\n    this.cfModel = options ? options.cfModel : undefined;\n    this.drillDownState = options ? options.drillDownState : undefined;\n    this.useNeutralFilterMode = options ? options.useNeutralFilterMode : undefined;\n  }\n\n  dataControllerBase.prototype.isMultiselectable = function () {\n    return false;\n  };\n\n  dataControllerBase.prototype.update = function (selectedValues, encodeHtml) {};\n\n  dataControllerBase.prototype.getTitle = function (axisPoint, separator, saveOrder) {\n    var axisName = axisPoint.getAxisName(),\n        values;\n\n    if (this.drillDownState[axisName]) {\n      var text = axisPoint.getDisplayText();\n      return text == undefined ? '' : text;\n    } else {\n      values = axisPoint.getDisplayPath();\n\n      if (!saveOrder) {\n        values = values.reverse();\n      }\n\n      return values.join(separator ? separator : exports.DEFAULT_SUBTITLE_SEPARATOR);\n    }\n  };\n\n  dataControllerBase.prototype._getMeasureValueByAxisPoints = function (axisPoints, cfMeasureId) {\n    var slice = this._getSlice(axisPoints);\n\n    return slice.getConditionalFormattingMeasureValue(cfMeasureId);\n  };\n\n  dataControllerBase.prototype._getSlice = function (axisPoints) {\n    var slice = this.multiData;\n    axisPoints.forEach(function (axisPoint) {\n      slice = slice.getSlice(axisPoint);\n    });\n    return slice;\n  };\n\n  dataControllerBase.prototype._getZeroPosition = function (zeroPositionMeasureId, columnAxisName, rowAxisName) {\n    var that = this,\n        currentZeroPosition,\n        zeroPosition,\n        columnRootPoint,\n        rowRootPoint;\n    columnRootPoint = that.multiData.getAxis(columnAxisName).getRootPoint();\n    rowRootPoint = that.multiData.getAxis(rowAxisName).getRootPoint();\n    currentZeroPosition = that._getMeasureValueByAxisPoints([columnRootPoint, rowRootPoint], zeroPositionMeasureId);\n    if (currentZeroPosition !== undefined && currentZeroPosition !== null) zeroPosition = currentZeroPosition;\n    return zeroPosition;\n  };\n\n  dataControllerBase.prototype._getStyleIndexes = function (rule, cellInfo, points) {\n    return null;\n  };\n\n  dataControllerBase.prototype._getStyleSettingsInfoCore = function (cellInfo, rules, columnAxisName, rowAxisName) {\n    var that = this,\n        currentStyleIndexes = [],\n        uniqueIndexes = [],\n        styleAndRuleMappingTable = {},\n        ruleIndex,\n        currentNormalizedValue,\n        normalizedValue,\n        zeroPosition,\n        styleSettingsInfo,\n        points = [];\n\n    if (rules.length > 0) {\n      rules.forEach(function (rule) {\n        currentStyleIndexes = that._getStyleIndexes(rule, cellInfo, points);\n\n        if (currentStyleIndexes && currentStyleIndexes.length > 0) {\n          ruleIndex = that.cfModel.RuleModels ? that.cfModel.RuleModels.indexOf(rule) : -1;\n          currentStyleIndexes.forEach(function (styleIndex) {\n            if (uniqueIndexes[styleIndex] === undefined) {\n              uniqueIndexes.push(styleIndex);\n              styleAndRuleMappingTable[styleIndex] = ruleIndex;\n            }\n          });\n        }\n\n        currentNormalizedValue = that._getMeasureValueByAxisPoints(points, rule.NormalizedValueMeasureId);\n\n        if (currentNormalizedValue !== undefined && currentNormalizedValue !== null) {\n          normalizedValue = currentNormalizedValue;\n          zeroPosition = that._getZeroPosition(rule.ZeroPositionMeasureId, columnAxisName, rowAxisName);\n        }\n      });\n      styleSettingsInfo = {\n        styleIndexes: uniqueIndexes,\n        styleAndRuleMappingTable: styleAndRuleMappingTable\n      };\n\n      if (normalizedValue !== undefined && zeroPosition !== undefined) {\n        styleSettingsInfo.normalizedValue = normalizedValue;\n        styleSettingsInfo.zeroPosition = zeroPosition;\n      }\n    }\n\n    return styleSettingsInfo;\n  };\n\n  dataControllerBase.prototype._generateSparklineOptions = function (data, options, format) {\n    return {\n      dataSource: data,\n      type: options.ViewType.toLowerCase(),\n      onIncidentOccurred: _render_helper_1.RenderHelper.widgetIncidentOccurred,\n      showMinMax: options.HighlightMinMaxPoints,\n      showFirstLast: options.HighlightStartEndPoints,\n      tooltip: {\n        _justify: true,\n        container: _utils_1.tooltipContainerSelector,\n        customizeTooltip: function () {\n          var startText = _localizer_1.localizer.getString(_localization_ids_1.localizationId.sparkline.TooltipStartValue),\n              endText = _localizer_1.localizer.getString(_localization_ids_1.localizationId.sparkline.TooltipEndValue),\n              minText = _localizer_1.localizer.getString(_localization_ids_1.localizationId.sparkline.TooltipMinValue),\n              maxText = _localizer_1.localizer.getString(_localization_ids_1.localizationId.sparkline.TooltipMaxValue),\n              html = \"<table style='border-spacing:0px;'>\",\n              template = \"</td><td style='width: 15px'></td><td style='text-align: right'>\";\n\n          html += '<tr><td>' + startText + template + format(this.originalFirstValue) + '</td></tr>';\n          html += '<tr><td>' + endText + template + format(this.originalLastValue) + '</td></tr>';\n          html += '<tr><td>' + minText + template + format(this.originalMinValue) + '</td></tr>';\n          html += '<tr><td>' + maxText + template + format(this.originalMaxValue) + '</td></tr>';\n          html += '</table>';\n          return {\n            html: html\n          };\n        },\n        zIndex: _z_index_1.zIndex.dashboardItemTooltips\n      }\n    };\n  };\n\n  dataControllerBase.prototype._convertIndicatorType = function (type) {\n    return this.deltaIndicatorTypes[type];\n  };\n\n  dataControllerBase.prototype._findAxisPoint = function (dataId, axisPoint) {\n    if (axisPoint) {\n      while (axisPoint.getDimension() && axisPoint.getDimension().id !== dataId) {\n        axisPoint = axisPoint.getParent();\n      }\n    }\n\n    return axisPoint && axisPoint.getParent() ? axisPoint : null;\n  };\n\n  return dataControllerBase;\n}();\n\nexports.dataControllerBase = dataControllerBase;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/data/data-controllers/_data-controller-base.js"],"names":["Object","defineProperty","exports","value","dataControllerBase","DEFAULT_SUBTITLE_SEPARATOR","DATA_POSTFIX","_render_helper_1","require","_localization_ids_1","_localizer_1","_utils_1","_z_index_1","options","deltaIndicatorTypes","multiData","undefined","viewModel","cfModel","drillDownState","useNeutralFilterMode","prototype","isMultiselectable","update","selectedValues","encodeHtml","getTitle","axisPoint","separator","saveOrder","axisName","getAxisName","values","text","getDisplayText","getDisplayPath","reverse","join","_getMeasureValueByAxisPoints","axisPoints","cfMeasureId","slice","_getSlice","getConditionalFormattingMeasureValue","forEach","getSlice","_getZeroPosition","zeroPositionMeasureId","columnAxisName","rowAxisName","that","currentZeroPosition","zeroPosition","columnRootPoint","rowRootPoint","getAxis","getRootPoint","_getStyleIndexes","rule","cellInfo","points","_getStyleSettingsInfoCore","rules","currentStyleIndexes","uniqueIndexes","styleAndRuleMappingTable","ruleIndex","currentNormalizedValue","normalizedValue","styleSettingsInfo","length","RuleModels","indexOf","styleIndex","push","NormalizedValueMeasureId","ZeroPositionMeasureId","styleIndexes","_generateSparklineOptions","data","format","dataSource","type","ViewType","toLowerCase","onIncidentOccurred","RenderHelper","widgetIncidentOccurred","showMinMax","HighlightMinMaxPoints","showFirstLast","HighlightStartEndPoints","tooltip","_justify","container","tooltipContainerSelector","customizeTooltip","startText","localizer","getString","localizationId","sparkline","TooltipStartValue","endText","TooltipEndValue","minText","TooltipMinValue","maxText","TooltipMaxValue","html","template","originalFirstValue","originalLastValue","originalMinValue","originalMaxValue","zIndex","dashboardItemTooltips","_convertIndicatorType","_findAxisPoint","dataId","getDimension","id","getParent"],"mappings":"AAAA;;;;;;;AAOA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6BF,OAAO,CAACG,0BAAR,GAAqCH,OAAO,CAACI,YAAR,GAAuB,KAAK,CAA9F;;AACA,IAAIC,gBAAgB,GAAGC,OAAO,CAAC,2CAAD,CAA9B;;AACA,IAAIC,mBAAmB,GAAGD,OAAO,CAAC,sBAAD,CAAjC;;AACA,IAAIE,YAAY,GAAGF,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAIG,QAAQ,GAAGH,OAAO,CAAC,WAAD,CAAtB;;AACA,IAAII,UAAU,GAAGJ,OAAO,CAAC,aAAD,CAAxB;;AACAN,OAAO,CAACI,YAAR,GAAuB,OAAvB;AACAJ,OAAO,CAACG,0BAAR,GAAqC,KAArC;;AACA,IAAID,kBAAkB,GAAI,YAAY;AAClC,WAASA,kBAAT,CAA4BS,OAA5B,EAAqC;AACjC,SAAKC,mBAAL,GAA2B,CAAC,MAAD,EAAS,IAAT,EAAe,MAAf,EAAuB,SAAvB,CAA3B;AACA,SAAKC,SAAL,GAAiBF,OAAO,GAAGA,OAAO,CAACE,SAAX,GAAuBC,SAA/C;AACA,SAAKC,SAAL,GAAiBJ,OAAO,GAAGA,OAAO,CAACI,SAAX,GAAuBD,SAA/C;AACA,SAAKE,OAAL,GAAeL,OAAO,GAAGA,OAAO,CAACK,OAAX,GAAqBF,SAA3C;AACA,SAAKG,cAAL,GAAsBN,OAAO,GAAGA,OAAO,CAACM,cAAX,GAA4BH,SAAzD;AACA,SAAKI,oBAAL,GAA4BP,OAAO,GAAGA,OAAO,CAACO,oBAAX,GAAkCJ,SAArE;AACH;;AACDZ,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BC,iBAA7B,GAAiD,YAAY;AACzD,WAAO,KAAP;AACH,GAFD;;AAGAlB,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BE,MAA7B,GAAsC,UAAUC,cAAV,EAA0BC,UAA1B,EAAsC,CAC3E,CADD;;AAEArB,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BK,QAA7B,GAAwC,UAAUC,SAAV,EAAqBC,SAArB,EAAgCC,SAAhC,EAA2C;AAC/E,QAAIC,QAAQ,GAAGH,SAAS,CAACI,WAAV,EAAf;AAAA,QAAwCC,MAAxC;;AACA,QAAI,KAAKb,cAAL,CAAoBW,QAApB,CAAJ,EAAmC;AAC/B,UAAIG,IAAI,GAAGN,SAAS,CAACO,cAAV,EAAX;AACA,aAAOD,IAAI,IAAIjB,SAAR,GAAoB,EAApB,GAAyBiB,IAAhC;AACH,KAHD,MAIK;AACDD,MAAAA,MAAM,GAAGL,SAAS,CAACQ,cAAV,EAAT;;AACA,UAAI,CAACN,SAAL,EAAgB;AACZG,QAAAA,MAAM,GAAGA,MAAM,CAACI,OAAP,EAAT;AACH;;AACD,aAAOJ,MAAM,CAACK,IAAP,CAAYT,SAAS,GAAGA,SAAH,GAAe1B,OAAO,CAACG,0BAA5C,CAAP;AACH;AACJ,GAbD;;AAcAD,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BiB,4BAA7B,GAA4D,UAAUC,UAAV,EAAsBC,WAAtB,EAAmC;AAC3F,QAAIC,KAAK,GAAG,KAAKC,SAAL,CAAeH,UAAf,CAAZ;;AACA,WAAOE,KAAK,CAACE,oCAAN,CAA2CH,WAA3C,CAAP;AACH,GAHD;;AAIApC,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BqB,SAA7B,GAAyC,UAAUH,UAAV,EAAsB;AAC3D,QAAIE,KAAK,GAAG,KAAK1B,SAAjB;AACAwB,IAAAA,UAAU,CAACK,OAAX,CAAmB,UAAUjB,SAAV,EAAqB;AACpCc,MAAAA,KAAK,GAAGA,KAAK,CAACI,QAAN,CAAelB,SAAf,CAAR;AACH,KAFD;AAGA,WAAOc,KAAP;AACH,GAND;;AAOArC,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6ByB,gBAA7B,GAAgD,UAAUC,qBAAV,EAAiCC,cAAjC,EAAiDC,WAAjD,EAA8D;AAC1G,QAAIC,IAAI,GAAG,IAAX;AAAA,QAAiBC,mBAAjB;AAAA,QAAsCC,YAAtC;AAAA,QAAoDC,eAApD;AAAA,QAAqEC,YAArE;AACAD,IAAAA,eAAe,GAAGH,IAAI,CAACnC,SAAL,CAAewC,OAAf,CAAuBP,cAAvB,EAAuCQ,YAAvC,EAAlB;AACAF,IAAAA,YAAY,GAAGJ,IAAI,CAACnC,SAAL,CAAewC,OAAf,CAAuBN,WAAvB,EAAoCO,YAApC,EAAf;AACAL,IAAAA,mBAAmB,GAAGD,IAAI,CAACZ,4BAAL,CAAkC,CAACe,eAAD,EAAkBC,YAAlB,CAAlC,EAAmEP,qBAAnE,CAAtB;AACA,QAAII,mBAAmB,KAAKnC,SAAxB,IAAqCmC,mBAAmB,KAAK,IAAjE,EACIC,YAAY,GAAGD,mBAAf;AACJ,WAAOC,YAAP;AACH,GARD;;AASAhD,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BoC,gBAA7B,GAAgD,UAAUC,IAAV,EAAgBC,QAAhB,EAA0BC,MAA1B,EAAkC;AAC9E,WAAO,IAAP;AACH,GAFD;;AAGAxD,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BwC,yBAA7B,GAAyD,UAAUF,QAAV,EAAoBG,KAApB,EAA2Bd,cAA3B,EAA2CC,WAA3C,EAAwD;AAC7G,QAAIC,IAAI,GAAG,IAAX;AAAA,QAAiBa,mBAAmB,GAAG,EAAvC;AAAA,QAA2CC,aAAa,GAAG,EAA3D;AAAA,QAA+DC,wBAAwB,GAAG,EAA1F;AAAA,QAA8FC,SAA9F;AAAA,QAAyGC,sBAAzG;AAAA,QAAiIC,eAAjI;AAAA,QAAkJhB,YAAlJ;AAAA,QAAgKiB,iBAAhK;AAAA,QAAmLT,MAAM,GAAG,EAA5L;;AACA,QAAIE,KAAK,CAACQ,MAAN,GAAe,CAAnB,EAAsB;AAClBR,MAAAA,KAAK,CAAClB,OAAN,CAAc,UAAUc,IAAV,EAAgB;AAC1BK,QAAAA,mBAAmB,GAAGb,IAAI,CAACO,gBAAL,CAAsBC,IAAtB,EAA4BC,QAA5B,EAAsCC,MAAtC,CAAtB;;AACA,YAAIG,mBAAmB,IAAIA,mBAAmB,CAACO,MAApB,GAA6B,CAAxD,EAA2D;AACvDJ,UAAAA,SAAS,GAAGhB,IAAI,CAAChC,OAAL,CAAaqD,UAAb,GAA0BrB,IAAI,CAAChC,OAAL,CAAaqD,UAAb,CAAwBC,OAAxB,CAAgCd,IAAhC,CAA1B,GAAkE,CAAC,CAA/E;AACAK,UAAAA,mBAAmB,CAACnB,OAApB,CAA4B,UAAU6B,UAAV,EAAsB;AAC9C,gBAAIT,aAAa,CAACS,UAAD,CAAb,KAA8BzD,SAAlC,EAA6C;AACzCgD,cAAAA,aAAa,CAACU,IAAd,CAAmBD,UAAnB;AACAR,cAAAA,wBAAwB,CAACQ,UAAD,CAAxB,GAAuCP,SAAvC;AACH;AACJ,WALD;AAMH;;AACDC,QAAAA,sBAAsB,GAAGjB,IAAI,CAACZ,4BAAL,CAAkCsB,MAAlC,EAA0CF,IAAI,CAACiB,wBAA/C,CAAzB;;AACA,YAAIR,sBAAsB,KAAKnD,SAA3B,IAAwCmD,sBAAsB,KAAK,IAAvE,EAA6E;AACzEC,UAAAA,eAAe,GAAGD,sBAAlB;AACAf,UAAAA,YAAY,GAAGF,IAAI,CAACJ,gBAAL,CAAsBY,IAAI,CAACkB,qBAA3B,EAAkD5B,cAAlD,EAAkEC,WAAlE,CAAf;AACH;AACJ,OAhBD;AAiBAoB,MAAAA,iBAAiB,GAAG;AAChBQ,QAAAA,YAAY,EAAEb,aADE;AAEhBC,QAAAA,wBAAwB,EAAEA;AAFV,OAApB;;AAIA,UAAIG,eAAe,KAAKpD,SAApB,IAAiCoC,YAAY,KAAKpC,SAAtD,EAAiE;AAC7DqD,QAAAA,iBAAiB,CAACD,eAAlB,GAAoCA,eAApC;AACAC,QAAAA,iBAAiB,CAACjB,YAAlB,GAAiCA,YAAjC;AACH;AACJ;;AACD,WAAOiB,iBAAP;AACH,GA9BD;;AA+BAjE,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6ByD,yBAA7B,GAAyD,UAAUC,IAAV,EAAgBlE,OAAhB,EAAyBmE,MAAzB,EAAiC;AACtF,WAAO;AACHC,MAAAA,UAAU,EAAEF,IADT;AAEHG,MAAAA,IAAI,EAAErE,OAAO,CAACsE,QAAR,CAAiBC,WAAjB,EAFH;AAGHC,MAAAA,kBAAkB,EAAE9E,gBAAgB,CAAC+E,YAAjB,CAA8BC,sBAH/C;AAIHC,MAAAA,UAAU,EAAE3E,OAAO,CAAC4E,qBAJjB;AAKHC,MAAAA,aAAa,EAAE7E,OAAO,CAAC8E,uBALpB;AAMHC,MAAAA,OAAO,EAAE;AACLC,QAAAA,QAAQ,EAAE,IADL;AAELC,QAAAA,SAAS,EAAEnF,QAAQ,CAACoF,wBAFf;AAGLC,QAAAA,gBAAgB,EAAE,YAAY;AAC1B,cAAIC,SAAS,GAAGvF,YAAY,CAACwF,SAAb,CAAuBC,SAAvB,CAAiC1F,mBAAmB,CAAC2F,cAApB,CAAmCC,SAAnC,CAA6CC,iBAA9E,CAAhB;AAAA,cAAkHC,OAAO,GAAG7F,YAAY,CAACwF,SAAb,CAAuBC,SAAvB,CAAiC1F,mBAAmB,CAAC2F,cAApB,CAAmCC,SAAnC,CAA6CG,eAA9E,CAA5H;AAAA,cAA4NC,OAAO,GAAG/F,YAAY,CAACwF,SAAb,CAAuBC,SAAvB,CAAiC1F,mBAAmB,CAAC2F,cAApB,CAAmCC,SAAnC,CAA6CK,eAA9E,CAAtO;AAAA,cAAsUC,OAAO,GAAGjG,YAAY,CAACwF,SAAb,CAAuBC,SAAvB,CAAiC1F,mBAAmB,CAAC2F,cAApB,CAAmCC,SAAnC,CAA6CO,eAA9E,CAAhV;AAAA,cAAgbC,IAAI,GAAG,qCAAvb;AAAA,cAA8dC,QAAQ,GAAG,kEAAze;;AACAD,UAAAA,IAAI,IAAI,aAAaZ,SAAb,GAAyBa,QAAzB,GAAoC9B,MAAM,CAAC,KAAK+B,kBAAN,CAA1C,GAAsE,YAA9E;AACAF,UAAAA,IAAI,IAAI,aAAaN,OAAb,GAAuBO,QAAvB,GAAkC9B,MAAM,CAAC,KAAKgC,iBAAN,CAAxC,GAAmE,YAA3E;AACAH,UAAAA,IAAI,IAAI,aAAaJ,OAAb,GAAuBK,QAAvB,GAAkC9B,MAAM,CAAC,KAAKiC,gBAAN,CAAxC,GAAkE,YAA1E;AACAJ,UAAAA,IAAI,IAAI,aAAaF,OAAb,GAAuBG,QAAvB,GAAkC9B,MAAM,CAAC,KAAKkC,gBAAN,CAAxC,GAAkE,YAA1E;AACAL,UAAAA,IAAI,IAAI,UAAR;AACA,iBAAO;AAAEA,YAAAA,IAAI,EAAEA;AAAR,WAAP;AACH,SAXI;AAYLM,QAAAA,MAAM,EAAEvG,UAAU,CAACuG,MAAX,CAAkBC;AAZrB;AANN,KAAP;AAqBH,GAtBD;;AAuBAhH,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BgG,qBAA7B,GAAqD,UAAUnC,IAAV,EAAgB;AACjE,WAAO,KAAKpE,mBAAL,CAAyBoE,IAAzB,CAAP;AACH,GAFD;;AAGA9E,EAAAA,kBAAkB,CAACiB,SAAnB,CAA6BiG,cAA7B,GAA8C,UAAUC,MAAV,EAAkB5F,SAAlB,EAA6B;AACvE,QAAIA,SAAJ,EAAe;AACX,aAAOA,SAAS,CAAC6F,YAAV,MAA4B7F,SAAS,CAAC6F,YAAV,GAAyBC,EAAzB,KAAgCF,MAAnE,EAA2E;AACvE5F,QAAAA,SAAS,GAAGA,SAAS,CAAC+F,SAAV,EAAZ;AACH;AACJ;;AACD,WAAO/F,SAAS,IAAIA,SAAS,CAAC+F,SAAV,EAAb,GAAqC/F,SAArC,GAAiD,IAAxD;AACH,GAPD;;AAQA,SAAOvB,kBAAP;AACH,CArHyB,EAA1B;;AAsHAF,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B","sourcesContent":["/**\r\n* DevExpress Dashboard (_data-controller-base.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dataControllerBase = exports.DEFAULT_SUBTITLE_SEPARATOR = exports.DATA_POSTFIX = void 0;\nvar _render_helper_1 = require(\"../../viewer-parts/widgets/_render-helper\");\nvar _localization_ids_1 = require(\"../_localization-ids\");\nvar _localizer_1 = require(\"../_localizer\");\nvar _utils_1 = require(\"../_utils\");\nvar _z_index_1 = require(\"../_z-index\");\nexports.DATA_POSTFIX = '_Data';\nexports.DEFAULT_SUBTITLE_SEPARATOR = ' - ';\nvar dataControllerBase = (function () {\n    function dataControllerBase(options) {\n        this.deltaIndicatorTypes = ['none', 'up', 'down', 'warning'];\n        this.multiData = options ? options.multiData : undefined;\n        this.viewModel = options ? options.viewModel : undefined;\n        this.cfModel = options ? options.cfModel : undefined;\n        this.drillDownState = options ? options.drillDownState : undefined;\n        this.useNeutralFilterMode = options ? options.useNeutralFilterMode : undefined;\n    }\n    dataControllerBase.prototype.isMultiselectable = function () {\n        return false;\n    };\n    dataControllerBase.prototype.update = function (selectedValues, encodeHtml) {\n    };\n    dataControllerBase.prototype.getTitle = function (axisPoint, separator, saveOrder) {\n        var axisName = axisPoint.getAxisName(), values;\n        if (this.drillDownState[axisName]) {\n            var text = axisPoint.getDisplayText();\n            return text == undefined ? '' : text;\n        }\n        else {\n            values = axisPoint.getDisplayPath();\n            if (!saveOrder) {\n                values = values.reverse();\n            }\n            return values.join(separator ? separator : exports.DEFAULT_SUBTITLE_SEPARATOR);\n        }\n    };\n    dataControllerBase.prototype._getMeasureValueByAxisPoints = function (axisPoints, cfMeasureId) {\n        var slice = this._getSlice(axisPoints);\n        return slice.getConditionalFormattingMeasureValue(cfMeasureId);\n    };\n    dataControllerBase.prototype._getSlice = function (axisPoints) {\n        var slice = this.multiData;\n        axisPoints.forEach(function (axisPoint) {\n            slice = slice.getSlice(axisPoint);\n        });\n        return slice;\n    };\n    dataControllerBase.prototype._getZeroPosition = function (zeroPositionMeasureId, columnAxisName, rowAxisName) {\n        var that = this, currentZeroPosition, zeroPosition, columnRootPoint, rowRootPoint;\n        columnRootPoint = that.multiData.getAxis(columnAxisName).getRootPoint();\n        rowRootPoint = that.multiData.getAxis(rowAxisName).getRootPoint();\n        currentZeroPosition = that._getMeasureValueByAxisPoints([columnRootPoint, rowRootPoint], zeroPositionMeasureId);\n        if (currentZeroPosition !== undefined && currentZeroPosition !== null)\n            zeroPosition = currentZeroPosition;\n        return zeroPosition;\n    };\n    dataControllerBase.prototype._getStyleIndexes = function (rule, cellInfo, points) {\n        return null;\n    };\n    dataControllerBase.prototype._getStyleSettingsInfoCore = function (cellInfo, rules, columnAxisName, rowAxisName) {\n        var that = this, currentStyleIndexes = [], uniqueIndexes = [], styleAndRuleMappingTable = {}, ruleIndex, currentNormalizedValue, normalizedValue, zeroPosition, styleSettingsInfo, points = [];\n        if (rules.length > 0) {\n            rules.forEach(function (rule) {\n                currentStyleIndexes = that._getStyleIndexes(rule, cellInfo, points);\n                if (currentStyleIndexes && currentStyleIndexes.length > 0) {\n                    ruleIndex = that.cfModel.RuleModels ? that.cfModel.RuleModels.indexOf(rule) : -1;\n                    currentStyleIndexes.forEach(function (styleIndex) {\n                        if (uniqueIndexes[styleIndex] === undefined) {\n                            uniqueIndexes.push(styleIndex);\n                            styleAndRuleMappingTable[styleIndex] = ruleIndex;\n                        }\n                    });\n                }\n                currentNormalizedValue = that._getMeasureValueByAxisPoints(points, rule.NormalizedValueMeasureId);\n                if (currentNormalizedValue !== undefined && currentNormalizedValue !== null) {\n                    normalizedValue = currentNormalizedValue;\n                    zeroPosition = that._getZeroPosition(rule.ZeroPositionMeasureId, columnAxisName, rowAxisName);\n                }\n            });\n            styleSettingsInfo = {\n                styleIndexes: uniqueIndexes,\n                styleAndRuleMappingTable: styleAndRuleMappingTable\n            };\n            if (normalizedValue !== undefined && zeroPosition !== undefined) {\n                styleSettingsInfo.normalizedValue = normalizedValue;\n                styleSettingsInfo.zeroPosition = zeroPosition;\n            }\n        }\n        return styleSettingsInfo;\n    };\n    dataControllerBase.prototype._generateSparklineOptions = function (data, options, format) {\n        return {\n            dataSource: data,\n            type: options.ViewType.toLowerCase(),\n            onIncidentOccurred: _render_helper_1.RenderHelper.widgetIncidentOccurred,\n            showMinMax: options.HighlightMinMaxPoints,\n            showFirstLast: options.HighlightStartEndPoints,\n            tooltip: {\n                _justify: true,\n                container: _utils_1.tooltipContainerSelector,\n                customizeTooltip: function () {\n                    var startText = _localizer_1.localizer.getString(_localization_ids_1.localizationId.sparkline.TooltipStartValue), endText = _localizer_1.localizer.getString(_localization_ids_1.localizationId.sparkline.TooltipEndValue), minText = _localizer_1.localizer.getString(_localization_ids_1.localizationId.sparkline.TooltipMinValue), maxText = _localizer_1.localizer.getString(_localization_ids_1.localizationId.sparkline.TooltipMaxValue), html = \"<table style='border-spacing:0px;'>\", template = \"</td><td style='width: 15px'></td><td style='text-align: right'>\";\n                    html += '<tr><td>' + startText + template + format(this.originalFirstValue) + '</td></tr>';\n                    html += '<tr><td>' + endText + template + format(this.originalLastValue) + '</td></tr>';\n                    html += '<tr><td>' + minText + template + format(this.originalMinValue) + '</td></tr>';\n                    html += '<tr><td>' + maxText + template + format(this.originalMaxValue) + '</td></tr>';\n                    html += '</table>';\n                    return { html: html };\n                },\n                zIndex: _z_index_1.zIndex.dashboardItemTooltips\n            }\n        };\n    };\n    dataControllerBase.prototype._convertIndicatorType = function (type) {\n        return this.deltaIndicatorTypes[type];\n    };\n    dataControllerBase.prototype._findAxisPoint = function (dataId, axisPoint) {\n        if (axisPoint) {\n            while (axisPoint.getDimension() && axisPoint.getDimension().id !== dataId) {\n                axisPoint = axisPoint.getParent();\n            }\n        }\n        return axisPoint && axisPoint.getParent() ? axisPoint : null;\n    };\n    return dataControllerBase;\n}());\nexports.dataControllerBase = dataControllerBase;\n"]},"metadata":{},"sourceType":"script"}