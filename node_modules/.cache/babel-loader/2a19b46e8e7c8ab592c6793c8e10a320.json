{"ast":null,"code":"/**\n* DevExpress Analytics (core\\utils\\_utils.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar _this = this;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createPasswordSerializationInfo = exports.getResizableOptions = exports.parseZoom = exports.localizeNoneString = exports.createActionWrappingFunction = exports.generateDefaultParts = exports.DesignerBaseElements = exports.cutRefs = exports.setAjax = exports.ajax = exports._ajaxWithOptions = exports._ajax = exports.appendStaticContextToRootViewModel = exports._defaultStaticContext = exports.staticContext = exports.getSizeFactor = exports.loadTemplates = exports.getFullPath = exports.cssTransform = exports.compareObjects = exports.collectGroupsFromFlatList = exports._wrapModelInObservable = exports.copyObservables = void 0;\n\nvar _internal_1 = require(\"../../accessibility/_internal\");\n\nvar $ = require(\"jquery\");\n\nvar ko = require(\"knockout\");\n\nvar localization_utils_1 = require(\"../../property-grid/localization/localization_utils\");\n\nvar _localization_1 = require(\"../../property-grid/localization/_localization\");\n\nvar _internal_2 = require(\"../../serializer/_internal\");\n\nvar _utils_1 = require(\"../../serializer/_utils\");\n\nvar _utils_2 = require(\"../../widgets/_utils\");\n\nvar ajaxSetup_1 = require(\"../internal/ajaxSetup\");\n\nvar _processError_1 = require(\"../internal/_processError\");\n\nvar _infoMessageHelpers_1 = require(\"./_infoMessageHelpers\");\n\nvar _visitors_1 = require(\"./_visitors\");\n\nvar editorsInfo_1 = require(\"../../property-grid/widgets/editorsInfo\");\n\nvar dx_versions_1 = require(\"../internal/dx-versions\");\n\nfunction copyObservables(from, to) {\n  Object.keys(from || {}).forEach(function (name) {\n    if (ko.isObservable(from[name])) {\n      to[name](from[name]());\n    } else if (!$.isFunction(from[name])) {\n      copyObservables(from[name], to[name]);\n    }\n  });\n}\n\nexports.copyObservables = copyObservables;\n\nfunction _wrapModelInObservable(model) {\n  return ko.isWritableObservable(model) ? model : ko.observable(null);\n}\n\nexports._wrapModelInObservable = _wrapModelInObservable;\n\nfunction collectGroupsFromFlatList(list, getGroupId) {\n  var temp = {};\n  return list.reduce(function (res, val) {\n    var groupId = getGroupId(val);\n\n    if (groupId) {\n      if (temp[groupId]) temp[groupId].push(val);else {\n        var group = {\n          group: groupId,\n          items: [val]\n        };\n        res.push(group);\n        temp[groupId] = group.items;\n      }\n    }\n\n    return res;\n  }, []);\n}\n\nexports.collectGroupsFromFlatList = collectGroupsFromFlatList;\n\nfunction compareObjects(a, b) {\n  var result = a && b && !(a instanceof Array) && !(b instanceof Array);\n  result = result && Object.getOwnPropertyNames(a).length === Object.getOwnPropertyNames(b).length;\n\n  if (result) {\n    Object.keys(a || {}).some(function (name) {\n      if (name.indexOf('_') !== 0 && (typeof a[name] !== 'function' || ko.isObservable(a[name]))) {\n        if (ko.isObservable(a[name])) {\n          result = ko.unwrap(a[name]) === ko.unwrap(b[name]);\n        } else if (a[name] instanceof Array) {\n          if (b[name] instanceof Array && a[name].length === b[name].length) {\n            for (var i = 0; i < a[name].length; i++) {\n              result = compareObjects(a[name][i], b[name][i]);\n              if (result === false) break;\n            }\n          } else {\n            result = false;\n          }\n        } else if (a[name] instanceof Object) {\n          result = compareObjects(a[name], b[name]);\n        } else {\n          result = a[name] === b[name];\n        }\n\n        return !result;\n      }\n    });\n  }\n\n  return result;\n}\n\nexports.compareObjects = compareObjects;\nexports.cssTransform = ['-webkit-transform', '-moz-transform', '-ms-transform', '-o-transform', 'transform'];\n\nfunction getFullPath(path, dataMember) {\n  return path + (dataMember ? '.' + dataMember : '');\n}\n\nexports.getFullPath = getFullPath;\n\nfunction loadTemplates() {\n  var promises = $(\"script[type='text/html']\").map(function (_, script) {\n    if (script.src) {\n      var deffered = $.Deferred();\n      $.get(script.src).done(function (tmpl) {\n        script.text = tmpl;\n\n        if (tmpl.indexOf('type=\"text/html\"') !== -1 || tmpl.indexOf(\"type='text/html'\") !== -1) {\n          $(document.body).append(tmpl);\n        }\n\n        deffered.resolve();\n      }).fail(function (jqXHR, textStatus, errorThrown) {\n        deffered.reject();\n      });\n      return deffered.promise();\n    }\n  });\n  return $.when.apply($.when, promises);\n}\n\nexports.loadTemplates = loadTemplates;\n\nfunction getSizeFactor(width) {\n  if (width < 768) {\n    return 'xs';\n  } else if (width < 992) {\n    return 'sm';\n  } else if (width < 1200) {\n    return 'md';\n  } else if (width < 1380) {\n    return 'lg';\n  } else {\n    return 'xl';\n  }\n}\n\nexports.getSizeFactor = getSizeFactor;\nexports.staticContext = {\n  _static: {\n    searchPlaceholder: function () {\n      return _localization_1.searchPlaceholder();\n    },\n    selectPlaceholder: function () {\n      return _localization_1.selectPlaceholder();\n    },\n    noDataText: function () {\n      return _localization_1.noDataText();\n    },\n    ajaxSetup: ajaxSetup_1.ajaxSetup\n  }\n};\nexports._defaultStaticContext = _internal_2.createGlobalModuleVariableFunc({});\n\nfunction appendStaticContextToRootViewModel(root, dx, className) {\n  if (dx === void 0) {\n    dx = exports.staticContext;\n  }\n\n  if (dx) root.dx = __assign(__assign({}, dx), exports._defaultStaticContext());\n\n  root.getLocalization = function () {\n    return localization_utils_1.getLocalization.apply(root, arguments);\n  };\n\n  root.getPopupContainer = _utils_2.getParentContainer;\n  root.calculateWithZoomFactor = _internal_1.calculateWithZoomFactor;\n\n  root.surfaceClass = function (el) {\n    return 'dx-designer-viewport dx-designer-viewport-' + getSizeFactor(el.clientWidth) + ' ' + (!_utils_2.getParentContainer(el, '.dx-theme-generic').length ? ' dx-theme-generic' : '') + (className ? ' ' + className : '');\n  };\n}\n\nexports.appendStaticContextToRootViewModel = appendStaticContextToRootViewModel;\n\nfunction _ajax(uri, action, arg, processErrorCallback, ignoreError, customOptions, isError, getErrorMessage) {\n  if (isError === void 0) {\n    isError = function (data) {\n      return !data.success;\n    };\n  }\n\n  if (getErrorMessage === void 0) {\n    getErrorMessage = _infoMessageHelpers_1.getErrorMessage;\n  }\n\n  var deferred = $.Deferred();\n  var requestData;\n\n  if (action !== undefined && arg !== undefined) {\n    requestData = {\n      actionKey: action,\n      arg: arg,\n      dxversions: JSON.stringify(dx_versions_1.dxversions)\n    };\n  }\n\n  ajaxSetup_1.ajaxSetup.sendRequest(_utils_1.extend({}, {\n    type: 'POST',\n    data: requestData,\n    url: uri\n  }, customOptions)).fail(function (jqXHR, textStatus, errorThrown) {\n    if (ignoreError && ignoreError()) {\n      deferred.reject();\n      return;\n    }\n\n    _processError_1._errorProcessor.call({\n      jqXHR: jqXHR,\n      textStatus: textStatus,\n      errorThrown: errorThrown,\n      getRequestDetails: function () {\n        return requestData || uri;\n      }\n    });\n\n    _processError_1._processError(errorThrown, deferred, jqXHR, textStatus, processErrorCallback);\n  }).done(function (data, textStatus, jqXHR) {\n    if (!data) {\n      deferred.reject();\n      return;\n    }\n\n    if (!isError(data)) {\n      deferred.resolve(data.result);\n    } else {\n      if (ignoreError && ignoreError()) {\n        deferred.reject();\n        return;\n      }\n\n      _processError_1._errorProcessor.call({\n        jqXHR: jqXHR,\n        textStatus: textStatus,\n        data: data,\n        errorThrown: getErrorMessage(jqXHR),\n        getRequestDetails: function () {\n          return requestData || uri;\n        }\n      });\n\n      _processError_1._processError('Internal Server Error', deferred, jqXHR, textStatus, processErrorCallback);\n    }\n  });\n  return deferred.promise();\n}\n\nexports._ajax = _ajax;\n\nfunction _ajaxWithOptions(options) {\n  return _ajax(options.uri, options.action, options.arg, options.processErrorCallback, options.ignoreError, options.customOptions, options.isError, options.getErrorMessage);\n}\n\nexports._ajaxWithOptions = _ajaxWithOptions;\n\nvar ajax = function () {\n  var params = [];\n\n  for (var _i = 0; _i < arguments.length; _i++) {\n    params[_i] = arguments[_i];\n  }\n\n  if (params.length > 1) {\n    return _ajax.apply(_this, params);\n  } else {\n    return _ajaxWithOptions(params[0]);\n  }\n};\n\nexports.ajax = ajax;\n\nfunction setAjax(newFunc) {\n  exports.ajax = newFunc;\n}\n\nexports.setAjax = setAjax;\n\nfunction cutRefs(model) {\n  _visitors_1.objectsVisitor(model, function (target) {\n    delete target['@Ref'];\n  });\n\n  return model;\n}\n\nexports.cutRefs = cutRefs;\nexports.DesignerBaseElements = {\n  MenuButton: 'dxrd-menubutton-template-base',\n  Toolbar: 'dxrd-toolbar-template-base',\n  Toolbox: 'dxrd-toolbox-template-base',\n  GroupedToolbox: 'dxrd-grouped-toolbox-template-base',\n  Surface: 'dxrd-surface-template-base',\n  RightPanel: 'dxrd-right-panel-template-base'\n};\n\nfunction generateDefaultParts(model) {\n  return [{\n    id: exports.DesignerBaseElements.MenuButton,\n    templateName: exports.DesignerBaseElements.MenuButton,\n    model: model\n  }, {\n    id: exports.DesignerBaseElements.Toolbar,\n    templateName: exports.DesignerBaseElements.Toolbar,\n    model: model\n  }, {\n    id: exports.DesignerBaseElements.Toolbox,\n    templateName: exports.DesignerBaseElements.Toolbox,\n    model: model\n  }, {\n    id: exports.DesignerBaseElements.Surface,\n    templateName: exports.DesignerBaseElements.Surface,\n    model: model\n  }, {\n    id: exports.DesignerBaseElements.RightPanel,\n    templateName: exports.DesignerBaseElements.RightPanel,\n    model: model\n  }];\n}\n\nexports.generateDefaultParts = generateDefaultParts;\n\nfunction createActionWrappingFunction(wrapperName, func) {\n  return function (actions) {\n    actions.forEach(function (action) {\n      if (!action['wrappedWith'] || action['wrappedWith'].indexOf(wrapperName) === -1) {\n        var oldClickHandler = action.clickAction;\n\n        action.clickAction = function (model) {\n          return func(model, oldClickHandler);\n        };\n\n        action['wrappedWith'] = action['wrappedWith'] || [];\n        action['wrappedWith'].push(wrapperName);\n      }\n    });\n  };\n}\n\nexports.createActionWrappingFunction = createActionWrappingFunction;\n\nfunction localizeNoneString(noneValue) {\n  var value = ko.unwrap(noneValue);\n\n  if (value === 'none') {\n    return localization_utils_1.getLocalization('none', 'DataAccessStringId.ParameterListEmpty');\n  } else if (value === '(none)') {\n    return localization_utils_1.getLocalization('(none)', 'DxDesignerStringId.None') !== '(none)' ? localization_utils_1.getLocalization('(none)', 'DxDesignerStringId.None') : '(' + localization_utils_1.getLocalization('none', 'DataAccessStringId.ParameterListEmpty') + ')';\n  }\n\n  return value;\n}\n\nexports.localizeNoneString = localizeNoneString;\n\nfunction parseZoom(val) {\n  var _value = Math.round(parseInt(val.replace('%', ''))) / 100;\n\n  if (!_value) return 1;\n  if (_value >= 5) return 5;\n  if (_value <= 0.1) return 0.1;\n  return _value;\n}\n\nexports.parseZoom = parseZoom;\n\nfunction getResizableOptions($element, panelOffset, minWidth, position, startPosition, width, disabled) {\n  return {\n    starting: function () {\n      $($element).css(position === startPosition ? 'right' : 'left', '');\n    },\n    handles: position === startPosition ? 'e' : 'w',\n    stopped: $.noop,\n    stop: $.noop,\n    resize: function () {\n      $($element).css({\n        left: position === startPosition ? panelOffset + 'px' : '',\n        right: position === startPosition ? '' : panelOffset + 'px'\n      });\n      width && ko.isObservable(width) && width($($element).width());\n    },\n    disabled: disabled || false,\n    zoom: 1,\n    minimumWidth: minWidth,\n    maximumWidth: 1000,\n    $element: $element\n  };\n}\n\nexports.getResizableOptions = getResizableOptions;\n\nfunction createPasswordSerializationInfo(info, isNew) {\n  if (isNew === void 0) {\n    isNew = true;\n  }\n\n  info.editor = editorsInfo_1.editorTemplates.getEditor('text');\n  info.editorOptions = {\n    mode: 'password'\n  };\n  if (isNew) info.editorOptions.inputAttr = {\n    autocomplete: 'new-password'\n  };\n  return info;\n}\n\nexports.createPasswordSerializationInfo = createPasswordSerializationInfo;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/core/utils/_utils.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","_this","defineProperty","exports","value","createPasswordSerializationInfo","getResizableOptions","parseZoom","localizeNoneString","createActionWrappingFunction","generateDefaultParts","DesignerBaseElements","cutRefs","setAjax","ajax","_ajaxWithOptions","_ajax","appendStaticContextToRootViewModel","_defaultStaticContext","staticContext","getSizeFactor","loadTemplates","getFullPath","cssTransform","compareObjects","collectGroupsFromFlatList","_wrapModelInObservable","copyObservables","_internal_1","require","$","ko","localization_utils_1","_localization_1","_internal_2","_utils_1","_utils_2","ajaxSetup_1","_processError_1","_infoMessageHelpers_1","_visitors_1","editorsInfo_1","dx_versions_1","from","to","keys","forEach","name","isObservable","isFunction","model","isWritableObservable","observable","list","getGroupId","temp","reduce","res","val","groupId","push","group","items","a","b","result","Array","getOwnPropertyNames","some","indexOf","unwrap","path","dataMember","promises","map","_","script","src","deffered","Deferred","get","done","tmpl","text","document","body","append","resolve","fail","jqXHR","textStatus","errorThrown","reject","promise","when","width","_static","searchPlaceholder","selectPlaceholder","noDataText","ajaxSetup","createGlobalModuleVariableFunc","root","dx","className","getLocalization","getPopupContainer","getParentContainer","calculateWithZoomFactor","surfaceClass","el","clientWidth","uri","action","arg","processErrorCallback","ignoreError","customOptions","isError","getErrorMessage","data","success","deferred","requestData","undefined","actionKey","dxversions","JSON","stringify","sendRequest","extend","type","url","_errorProcessor","getRequestDetails","_processError","options","params","_i","newFunc","objectsVisitor","target","MenuButton","Toolbar","Toolbox","GroupedToolbox","Surface","RightPanel","id","templateName","wrapperName","func","actions","oldClickHandler","clickAction","noneValue","_value","Math","round","parseInt","replace","$element","panelOffset","minWidth","position","startPosition","disabled","starting","css","handles","stopped","noop","stop","resize","left","right","zoom","minimumWidth","maximumWidth","info","isNew","editor","editorTemplates","getEditor","editorOptions","mode","inputAttr","autocomplete"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (core\\utils\\_utils.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createPasswordSerializationInfo = exports.getResizableOptions = exports.parseZoom = exports.localizeNoneString = exports.createActionWrappingFunction = exports.generateDefaultParts = exports.DesignerBaseElements = exports.cutRefs = exports.setAjax = exports.ajax = exports._ajaxWithOptions = exports._ajax = exports.appendStaticContextToRootViewModel = exports._defaultStaticContext = exports.staticContext = exports.getSizeFactor = exports.loadTemplates = exports.getFullPath = exports.cssTransform = exports.compareObjects = exports.collectGroupsFromFlatList = exports._wrapModelInObservable = exports.copyObservables = void 0;\nvar _internal_1 = require(\"../../accessibility/_internal\");\nvar $ = require(\"jquery\");\nvar ko = require(\"knockout\");\nvar localization_utils_1 = require(\"../../property-grid/localization/localization_utils\");\nvar _localization_1 = require(\"../../property-grid/localization/_localization\");\nvar _internal_2 = require(\"../../serializer/_internal\");\nvar _utils_1 = require(\"../../serializer/_utils\");\nvar _utils_2 = require(\"../../widgets/_utils\");\nvar ajaxSetup_1 = require(\"../internal/ajaxSetup\");\nvar _processError_1 = require(\"../internal/_processError\");\nvar _infoMessageHelpers_1 = require(\"./_infoMessageHelpers\");\nvar _visitors_1 = require(\"./_visitors\");\nvar editorsInfo_1 = require(\"../../property-grid/widgets/editorsInfo\");\nvar dx_versions_1 = require(\"../internal/dx-versions\");\nfunction copyObservables(from, to) {\n    Object.keys(from || {}).forEach(function (name) {\n        if (ko.isObservable(from[name])) {\n            to[name](from[name]());\n        }\n        else if (!$.isFunction(from[name])) {\n            copyObservables(from[name], to[name]);\n        }\n    });\n}\nexports.copyObservables = copyObservables;\nfunction _wrapModelInObservable(model) {\n    return ko.isWritableObservable(model) ? model : ko.observable(null);\n}\nexports._wrapModelInObservable = _wrapModelInObservable;\nfunction collectGroupsFromFlatList(list, getGroupId) {\n    var temp = {};\n    return list.reduce(function (res, val) {\n        var groupId = getGroupId(val);\n        if (groupId) {\n            if (temp[groupId])\n                temp[groupId].push(val);\n            else {\n                var group = { group: groupId, items: [val] };\n                res.push(group);\n                temp[groupId] = group.items;\n            }\n        }\n        return res;\n    }, []);\n}\nexports.collectGroupsFromFlatList = collectGroupsFromFlatList;\nfunction compareObjects(a, b) {\n    var result = a && b && !(a instanceof Array) && !(b instanceof Array);\n    result = result && (Object.getOwnPropertyNames(a).length === Object.getOwnPropertyNames(b).length);\n    if (result) {\n        Object.keys(a || {}).some(function (name) {\n            if (name.indexOf('_') !== 0 && (typeof a[name] !== 'function' || ko.isObservable(a[name]))) {\n                if (ko.isObservable(a[name])) {\n                    result = ko.unwrap(a[name]) === ko.unwrap(b[name]);\n                }\n                else if (a[name] instanceof Array) {\n                    if ((b[name] instanceof Array) && a[name].length === b[name].length) {\n                        for (var i = 0; i < a[name].length; i++) {\n                            result = compareObjects(a[name][i], b[name][i]);\n                            if (result === false)\n                                break;\n                        }\n                    }\n                    else {\n                        result = false;\n                    }\n                }\n                else if (a[name] instanceof Object) {\n                    result = compareObjects(a[name], b[name]);\n                }\n                else {\n                    result = a[name] === b[name];\n                }\n                return !result;\n            }\n        });\n    }\n    return result;\n}\nexports.compareObjects = compareObjects;\nexports.cssTransform = ['-webkit-transform', '-moz-transform', '-ms-transform', '-o-transform', 'transform'];\nfunction getFullPath(path, dataMember) {\n    return path + (dataMember ? '.' + dataMember : '');\n}\nexports.getFullPath = getFullPath;\nfunction loadTemplates() {\n    var promises = $(\"script[type='text/html']\").map(function (_, script) {\n        if (script.src) {\n            var deffered = $.Deferred();\n            $.get(script.src)\n                .done(function (tmpl) {\n                script.text = tmpl;\n                if (tmpl.indexOf('type=\"text/html\"') !== -1 || tmpl.indexOf(\"type='text/html'\") !== -1) {\n                    $(document.body).append(tmpl);\n                }\n                deffered.resolve();\n            })\n                .fail(function (jqXHR, textStatus, errorThrown) {\n                deffered.reject();\n            });\n            return deffered.promise();\n        }\n    });\n    return $.when.apply($.when, promises);\n}\nexports.loadTemplates = loadTemplates;\nfunction getSizeFactor(width) {\n    if (width < 768) {\n        return 'xs';\n    }\n    else if (width < 992) {\n        return 'sm';\n    }\n    else if (width < 1200) {\n        return 'md';\n    }\n    else if (width < 1380) {\n        return 'lg';\n    }\n    else {\n        return 'xl';\n    }\n}\nexports.getSizeFactor = getSizeFactor;\nexports.staticContext = {\n    _static: {\n        searchPlaceholder: function () { return _localization_1.searchPlaceholder(); },\n        selectPlaceholder: function () { return _localization_1.selectPlaceholder(); },\n        noDataText: function () { return _localization_1.noDataText(); },\n        ajaxSetup: ajaxSetup_1.ajaxSetup\n    }\n};\nexports._defaultStaticContext = _internal_2.createGlobalModuleVariableFunc({});\nfunction appendStaticContextToRootViewModel(root, dx, className) {\n    if (dx === void 0) { dx = exports.staticContext; }\n    if (dx)\n        root.dx = __assign(__assign({}, dx), exports._defaultStaticContext());\n    root.getLocalization = function () {\n        return localization_utils_1.getLocalization.apply(root, arguments);\n    };\n    root.getPopupContainer = _utils_2.getParentContainer;\n    root.calculateWithZoomFactor = _internal_1.calculateWithZoomFactor;\n    root.surfaceClass = function (el) {\n        return 'dx-designer-viewport dx-designer-viewport-' + getSizeFactor(el.clientWidth) +\n            ' ' + (!_utils_2.getParentContainer(el, '.dx-theme-generic').length ? ' dx-theme-generic' : '') +\n            (className ? ' ' + className : '');\n    };\n}\nexports.appendStaticContextToRootViewModel = appendStaticContextToRootViewModel;\nfunction _ajax(uri, action, arg, processErrorCallback, ignoreError, customOptions, isError, getErrorMessage) {\n    if (isError === void 0) { isError = function (data) { return !data.success; }; }\n    if (getErrorMessage === void 0) { getErrorMessage = _infoMessageHelpers_1.getErrorMessage; }\n    var deferred = $.Deferred();\n    var requestData;\n    if (action !== undefined && arg !== undefined) {\n        requestData = {\n            actionKey: action,\n            arg: arg,\n            dxversions: JSON.stringify(dx_versions_1.dxversions)\n        };\n    }\n    ajaxSetup_1.ajaxSetup.sendRequest(_utils_1.extend({}, {\n        type: 'POST',\n        data: requestData,\n        url: uri\n    }, customOptions)).fail(function (jqXHR, textStatus, errorThrown) {\n        if (ignoreError && ignoreError()) {\n            deferred.reject();\n            return;\n        }\n        _processError_1._errorProcessor.call({ jqXHR: jqXHR, textStatus: textStatus, errorThrown: errorThrown, getRequestDetails: function () { return requestData || uri; } });\n        _processError_1._processError(errorThrown, deferred, jqXHR, textStatus, processErrorCallback);\n    })\n        .done(function (data, textStatus, jqXHR) {\n        if (!data) {\n            deferred.reject();\n            return;\n        }\n        if (!isError(data)) {\n            deferred.resolve(data.result);\n        }\n        else {\n            if (ignoreError && ignoreError()) {\n                deferred.reject();\n                return;\n            }\n            _processError_1._errorProcessor.call({ jqXHR: jqXHR, textStatus: textStatus, data: data, errorThrown: getErrorMessage(jqXHR), getRequestDetails: function () { return requestData || uri; } });\n            _processError_1._processError('Internal Server Error', deferred, jqXHR, textStatus, processErrorCallback);\n        }\n    });\n    return deferred.promise();\n}\nexports._ajax = _ajax;\nfunction _ajaxWithOptions(options) {\n    return _ajax(options.uri, options.action, options.arg, options.processErrorCallback, options.ignoreError, options.customOptions, options.isError, options.getErrorMessage);\n}\nexports._ajaxWithOptions = _ajaxWithOptions;\nvar ajax = function () {\n    var params = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        params[_i] = arguments[_i];\n    }\n    if (params.length > 1) {\n        return _ajax.apply(_this, params);\n    }\n    else {\n        return _ajaxWithOptions(params[0]);\n    }\n};\nexports.ajax = ajax;\nfunction setAjax(newFunc) {\n    exports.ajax = newFunc;\n}\nexports.setAjax = setAjax;\nfunction cutRefs(model) {\n    _visitors_1.objectsVisitor(model, function (target) {\n        delete target['@Ref'];\n    });\n    return model;\n}\nexports.cutRefs = cutRefs;\nexports.DesignerBaseElements = {\n    MenuButton: 'dxrd-menubutton-template-base',\n    Toolbar: 'dxrd-toolbar-template-base',\n    Toolbox: 'dxrd-toolbox-template-base',\n    GroupedToolbox: 'dxrd-grouped-toolbox-template-base',\n    Surface: 'dxrd-surface-template-base',\n    RightPanel: 'dxrd-right-panel-template-base'\n};\nfunction generateDefaultParts(model) {\n    return [\n        { id: exports.DesignerBaseElements.MenuButton, templateName: exports.DesignerBaseElements.MenuButton, model: model },\n        { id: exports.DesignerBaseElements.Toolbar, templateName: exports.DesignerBaseElements.Toolbar, model: model },\n        { id: exports.DesignerBaseElements.Toolbox, templateName: exports.DesignerBaseElements.Toolbox, model: model },\n        { id: exports.DesignerBaseElements.Surface, templateName: exports.DesignerBaseElements.Surface, model: model },\n        { id: exports.DesignerBaseElements.RightPanel, templateName: exports.DesignerBaseElements.RightPanel, model: model }\n    ];\n}\nexports.generateDefaultParts = generateDefaultParts;\nfunction createActionWrappingFunction(wrapperName, func) {\n    return function (actions) {\n        actions.forEach(function (action) {\n            if (!action['wrappedWith'] || action['wrappedWith'].indexOf(wrapperName) === -1) {\n                var oldClickHandler = action.clickAction;\n                action.clickAction = function (model) {\n                    return func(model, oldClickHandler);\n                };\n                action['wrappedWith'] = action['wrappedWith'] || [];\n                action['wrappedWith'].push(wrapperName);\n            }\n        });\n    };\n}\nexports.createActionWrappingFunction = createActionWrappingFunction;\nfunction localizeNoneString(noneValue) {\n    var value = ko.unwrap(noneValue);\n    if (value === 'none') {\n        return localization_utils_1.getLocalization('none', 'DataAccessStringId.ParameterListEmpty');\n    }\n    else if (value === '(none)') {\n        return (localization_utils_1.getLocalization('(none)', 'DxDesignerStringId.None') !== '(none)') ? localization_utils_1.getLocalization('(none)', 'DxDesignerStringId.None') : ('(' + localization_utils_1.getLocalization('none', 'DataAccessStringId.ParameterListEmpty') + ')');\n    }\n    return value;\n}\nexports.localizeNoneString = localizeNoneString;\nfunction parseZoom(val) {\n    var _value = Math.round(parseInt(val.replace('%', ''))) / 100;\n    if (!_value)\n        return 1;\n    if (_value >= 5)\n        return 5;\n    if (_value <= 0.1)\n        return 0.1;\n    return _value;\n}\nexports.parseZoom = parseZoom;\nfunction getResizableOptions($element, panelOffset, minWidth, position, startPosition, width, disabled) {\n    return {\n        starting: function () {\n            $($element).css(position === startPosition ? 'right' : 'left', '');\n        },\n        handles: position === startPosition ? 'e' : 'w',\n        stopped: $.noop,\n        stop: $.noop,\n        resize: function () {\n            $($element).css({ left: position === startPosition ? panelOffset + 'px' : '', right: position === startPosition ? '' : panelOffset + 'px' });\n            width && ko.isObservable(width) && width($($element).width());\n        },\n        disabled: disabled || false,\n        zoom: 1,\n        minimumWidth: minWidth,\n        maximumWidth: 1000,\n        $element: $element\n    };\n}\nexports.getResizableOptions = getResizableOptions;\nfunction createPasswordSerializationInfo(info, isNew) {\n    if (isNew === void 0) { isNew = true; }\n    info.editor = editorsInfo_1.editorTemplates.getEditor('text');\n    info.editorOptions = { mode: 'password' };\n    if (isNew)\n        info.editorOptions.inputAttr = { autocomplete: 'new-password' };\n    return info;\n}\nexports.createPasswordSerializationInfo = createPasswordSerializationInfo;\n"]},"metadata":{},"sourceType":"script"}