{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_service-client.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DesignerDataServiceClient = exports.ViewerDataServiceClient = void 0;\n\nvar analytics_utils_1 = require(\"@devexpress/analytics-core/analytics-utils\");\n\nvar ko = require(\"knockout\");\n\nvar _default_1 = require(\"../data/localization/_default\");\n\nvar _jquery_helpers_1 = require(\"../data/_jquery-helpers\");\n\nvar data_dashboard_item_1 = require(\"../model/items/data-dashboard-item\");\n\nvar parameter_1 = require(\"../model/parameters/parameter\");\n\nvar ViewerDataServiceClient = function () {\n  function ViewerDataServiceClient(_dashboardContainer, _errorHandler, _dataServiceUrls, _remoteService) {\n    var _this = this;\n\n    this._dashboardContainer = _dashboardContainer;\n    this._errorHandler = _errorHandler;\n    this._dataServiceUrls = _dataServiceUrls;\n    this._remoteService = _remoteService;\n\n    this.getColoringScheme = function (itemName) {\n      if (itemName === void 0) {\n        itemName = '';\n      }\n\n      throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n    };\n\n    this.getDashboardPalette = function () {\n      throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n    };\n\n    this.getItemData = function (item, isModeAllowsToReduceData) {\n      return _this._performRequest(_this._dataServiceUrls.DashboardItemGetAction, {\n        itemId: item.componentName(),\n        query: _this._getItemDataQuery(item, isModeAllowsToReduceData)\n      });\n    };\n\n    this.getBatchItemData = function (items, isModeAllowsToReduceData) {\n      return _this._performRequest(_this._dataServiceUrls.DashboardItemBatchGetAction, {\n        items: items.reduce(function (acc, item) {\n          acc[item.componentName()] = _this._getItemDataQuery(item, isModeAllowsToReduceData);\n          return acc;\n        }, {})\n      });\n    };\n\n    this.getMapShapeFile = function (itemName) {\n      return _this._performRequest(_this._dataServiceUrls.GetMapShapeFileAction, {\n        itemId: itemName\n      });\n    };\n\n    this.getUnderlyingData = function (itemName, columnValues, rowValues, columnNames, dataQueryParams) {\n      return _this._performRequest(_this._dataServiceUrls.GetUnderlyingDataAction, {\n        itemId: itemName,\n        query: dataQueryParams,\n        columnValues: columnValues,\n        rowValues: rowValues,\n        columnNames: columnNames\n      });\n    };\n\n    this.markDataSourcesForReload = function () {\n      return _this._remoteService.postToServer(_this._dataServiceUrls.MarkDataSourcesForReloadAction, {\n        dashboardId: _this._dashboardContainer.id\n      });\n    };\n  }\n\n  ViewerDataServiceClient.prototype.getParameterValues = function (dataSourceId, dataSource, dataMember, valueMember, displayMember, sortOrder, sortByMember, parameterType) {\n    var _this = this;\n\n    return this._performRequest(this._dataServiceUrls.ParameterValuesAction, {\n      dataSourceId: dataSourceId,\n      dataMember: dataMember,\n      valueMember: valueMember,\n      displayMember: displayMember,\n      sortOrder: sortOrder,\n      sortByMember: sortByMember,\n      parameterType: parameterType\n    }).fail(function (request) {\n      return _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadParameterValues') + (dataSource && dataSource.name() || dataSourceId), request);\n    });\n  };\n\n  ViewerDataServiceClient.prototype.performExport = function (exportInfo, exportModels) {\n    var commonArgs = this._createCommonArgs();\n\n    var args = JSON.stringify(__assign(__assign({\n      model: exportModels\n    }, exportInfo), commonArgs));\n\n    this._remoteService.performPostback(this._dataServiceUrls.PerformExportAction, args);\n\n    return;\n  };\n\n  ViewerDataServiceClient.prototype.getDimensionUniqueValues = function (dataSource, dataMember, dimension) {\n    throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n  };\n\n  ViewerDataServiceClient.prototype.getDimensionFilterItems = function (dashboardItem, dimensionDataMember, previousState, branch) {\n    throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n  };\n\n  ViewerDataServiceClient.prototype.getDimensionFilterString = function (dashboardItem, dimensionDataMember, previousState) {\n    throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n  };\n\n  ViewerDataServiceClient.prototype.getFieldList = function (dataSource, dataMember, fieldPath) {\n    throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n  };\n\n  ViewerDataServiceClient.prototype.convertItem = function (item, destinationItemTypeName) {\n    throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n  };\n\n  ViewerDataServiceClient.prototype._getItemDataQuery = function (item, isModeAllowsToReduceData) {\n    var dataQueryParams = _jquery_helpers_1.deepExtend({}, item._getDataQueryParams());\n\n    var isDataItem = item instanceof data_dashboard_item_1.DataDashboardItem;\n\n    if (isDataItem && isModeAllowsToReduceData && item._limitDataState.enabled) {\n      dataQueryParams.LimitVisibleData = true;\n    }\n\n    return dataQueryParams;\n  };\n\n  ViewerDataServiceClient.prototype._queryParamsToQueryString = function (dataQueryParams) {\n    var urlQuery = {};\n\n    if (dataQueryParams) {\n      Object.keys(dataQueryParams).forEach(function (name) {\n        var value = ko.unwrap(dataQueryParams[name]);\n\n        if (!!value) {\n          if (typeof value === 'object') {\n            if (Object.keys(value).length > 0) {\n              urlQuery[name] = JSON.stringify(value);\n            }\n          } else {\n            urlQuery[name] = value;\n          }\n        }\n      });\n    }\n\n    return Object.keys(urlQuery).length === 0 ? '' : _jquery_helpers_1.jqueryQueryParam(urlQuery);\n  };\n\n  ViewerDataServiceClient.prototype._createCommonArgs = function () {\n    return {\n      dashboardId: this._dashboardContainer.id,\n      parameters: parameter_1._getParametersQuery(this._dashboardContainer.dashboard.parameters())\n    };\n  };\n\n  ViewerDataServiceClient.prototype._performRequest = function (url, requestArgs) {\n    var commonArgs = this._createCommonArgs();\n\n    Object.keys(requestArgs).forEach(function (argsKey) {\n      if (commonArgs[argsKey]) {\n        throw Error(\"The '\" + argsKey + \"' request argument key is reserved for common event args\");\n      } else {\n        commonArgs[argsKey] = requestArgs[argsKey];\n      }\n    });\n    return this._performRequestCore(url, commonArgs);\n  };\n\n  ViewerDataServiceClient.prototype._performRequestCore = function (url, params) {\n    var queryString = this._queryParamsToQueryString(params);\n\n    if (queryString) {\n      var urlSeparator = url.indexOf('?') == -1 ? '?' : '&';\n      queryString = urlSeparator + queryString;\n    }\n\n    var fullUrl = url + queryString;\n\n    if (fullUrl.length < ViewerDataServiceClient.maxQueryStringLength) {\n      return this._remoteService.getFromServer(fullUrl);\n    } else {\n      return this._remoteService.postToServer(url, params);\n    }\n  };\n\n  ViewerDataServiceClient.maxQueryStringLength = 2000;\n  return ViewerDataServiceClient;\n}();\n\nexports.ViewerDataServiceClient = ViewerDataServiceClient;\n\nvar DesignerDataServiceClient = function (_super) {\n  __extends(DesignerDataServiceClient, _super);\n\n  function DesignerDataServiceClient(_dashboardContainer, _errorHandler, _dataServiceUrls, _remoteService) {\n    var _this = _super.call(this, _dashboardContainer, _errorHandler, _dataServiceUrls, _remoteService) || this;\n\n    _this.getColoringScheme = function (itemName) {\n      if (itemName === void 0) {\n        itemName = '';\n      }\n\n      return _this._performRequest(_this._dataServiceUrls.GetColoringSchemeAction, {\n        itemId: itemName,\n        query: itemName ? _this._dashboardContainer.dashboard._findDataItem(itemName)._getDataQueryParams() : {}\n      }).fail(function (request) {\n        _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToGetColorScheme'), request);\n      });\n    };\n\n    _this.getDashboardPalette = function () {\n      return _this._remoteService.postToServer(_this._dataServiceUrls.GetDashboardPaletteAction, {\n        dashboardId: _this._dashboardContainer.id\n      });\n    };\n\n    return _this;\n  }\n\n  DesignerDataServiceClient.prototype.convertItem = function (item, destinationItemTypeName) {\n    var _this = this;\n\n    return this._performRequest(this._dataServiceUrls.ConvertItemAction, {\n      itemId: item.componentName(),\n      destinationItemTypeName: destinationItemTypeName\n    }).fail(function (request) {\n      _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToConvertItemToType') + destinationItemTypeName, request);\n    });\n  };\n\n  DesignerDataServiceClient.prototype.getDimensionUniqueValues = function (dataSource, dataMember, dimension) {\n    var _this = this;\n\n    return this._performRequest(this._dataServiceUrls.DimensionUniqueValuesAction, {\n      dataSourceId: dataSource.componentName(),\n      dimension: new analytics_utils_1.ModelSerializer({\n        useRefs: false\n      }).serialize(dimension),\n      dataMember: dataMember\n    }).fail(function (request) {\n      _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadDimensionUniqueValues') + dataSource.name(), request);\n    });\n  };\n\n  DesignerDataServiceClient.prototype.getDimensionFilterItems = function (item, dimensionDataMember, previousState, branch) {\n    return this._performRequest(this._dataServiceUrls.DimensionFilterItemsAction, {\n      itemId: item.componentName(),\n      query: item._getDataQueryParams(),\n      dimensionDataMember: dimensionDataMember,\n      previousState: previousState,\n      branch: branch\n    });\n  };\n\n  DesignerDataServiceClient.prototype.getDimensionFilterString = function (item, dimensionDataMember, previousState) {\n    return this._performRequest(this._dataServiceUrls.DimensionFilterStringAction, {\n      itemId: item.componentName(),\n      query: item._getDataQueryParams(),\n      dimensionDataMember: dimensionDataMember,\n      previousState: previousState,\n      branch: null\n    });\n  };\n\n  DesignerDataServiceClient.prototype.getFieldList = function (dataSource, dataMember, fieldPath) {\n    var _this = this;\n\n    return this._performRequest(this._dataServiceUrls.FieldListAction, {\n      dataSourceId: dataSource.componentName(),\n      dataMember: dataMember,\n      fieldPath: fieldPath\n    }).fail(function (request) {\n      _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadFieldListForDataSource') + dataSource.name(), request);\n    });\n  };\n\n  DesignerDataServiceClient.prototype._createCommonArgs = function () {\n    return {\n      dashboardId: this._dashboardContainer.id,\n      dashboard: this._dashboardContainer.dashboard.getJSON(),\n      parameters: parameter_1._getParametersQuery(this._dashboardContainer.dashboard.parameters())\n    };\n  };\n\n  DesignerDataServiceClient.prototype._performRequestCore = function (url, data) {\n    return this._remoteService.postToServer(url, data);\n  };\n\n  return DesignerDataServiceClient;\n}(ViewerDataServiceClient);\n\nexports.DesignerDataServiceClient = DesignerDataServiceClient;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/_service-client.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","defineProperty","exports","value","DesignerDataServiceClient","ViewerDataServiceClient","analytics_utils_1","require","ko","_default_1","_jquery_helpers_1","data_dashboard_item_1","parameter_1","_dashboardContainer","_errorHandler","_dataServiceUrls","_remoteService","_this","getColoringScheme","itemName","Error","getLocalizationById","getDashboardPalette","getItemData","item","isModeAllowsToReduceData","_performRequest","DashboardItemGetAction","itemId","componentName","query","_getItemDataQuery","getBatchItemData","items","DashboardItemBatchGetAction","reduce","acc","getMapShapeFile","GetMapShapeFileAction","getUnderlyingData","columnValues","rowValues","columnNames","dataQueryParams","GetUnderlyingDataAction","markDataSourcesForReload","postToServer","MarkDataSourcesForReloadAction","dashboardId","id","getParameterValues","dataSourceId","dataSource","dataMember","valueMember","displayMember","sortOrder","sortByMember","parameterType","ParameterValuesAction","fail","request","showError","name","performExport","exportInfo","exportModels","commonArgs","_createCommonArgs","args","JSON","stringify","model","performPostback","PerformExportAction","getDimensionUniqueValues","dimension","getDimensionFilterItems","dashboardItem","dimensionDataMember","previousState","branch","getDimensionFilterString","getFieldList","fieldPath","convertItem","destinationItemTypeName","deepExtend","_getDataQueryParams","isDataItem","DataDashboardItem","_limitDataState","enabled","LimitVisibleData","_queryParamsToQueryString","urlQuery","keys","forEach","unwrap","jqueryQueryParam","parameters","_getParametersQuery","dashboard","url","requestArgs","argsKey","_performRequestCore","params","queryString","urlSeparator","indexOf","fullUrl","maxQueryStringLength","getFromServer","_super","GetColoringSchemeAction","_findDataItem","GetDashboardPaletteAction","ConvertItemAction","DimensionUniqueValuesAction","ModelSerializer","useRefs","serialize","DimensionFilterItemsAction","DimensionFilterStringAction","FieldListAction","getJSON","data"],"mappings":"AAAA;;;;;;;AAOA;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAFrG;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnB,QAAI,OAAOA,CAAP,KAAa,UAAb,IAA2BA,CAAC,KAAK,IAArC,EACI,MAAM,IAAIS,SAAJ,CAAc,yBAAyBC,MAAM,CAACV,CAAD,CAA/B,GAAqC,+BAAnD,CAAN;AACJF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASW,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBb,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACY,MAAP,CAAcb,CAAd,CAAb,IAAiCW,EAAE,CAACL,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIK,EAAJ,EAA7D,CAAd;AACH,GAND;AAOH,CAd2C,EAA5C;;AAeA,IAAIG,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGb,MAAM,CAACc,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAIb,CAAT,IAAcY,CAAd,EAAiB,IAAIhB,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCS,CAArC,EAAwCZ,CAAxC,CAAJ,EACbW,CAAC,CAACX,CAAD,CAAD,GAAOY,CAAC,CAACZ,CAAD,CAAR;AACP;;AACD,WAAOW,CAAP;AACH,GAPD;;AAQA,SAAOF,QAAQ,CAACQ,KAAT,CAAe,IAAf,EAAqBF,SAArB,CAAP;AACH,CAVD;;AAWAnB,MAAM,CAACsB,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,yBAAR,GAAoCF,OAAO,CAACG,uBAAR,GAAkC,KAAK,CAA3E;;AACA,IAAIC,iBAAiB,GAAGC,OAAO,CAAC,4CAAD,CAA/B;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,UAAD,CAAhB;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,+BAAD,CAAxB;;AACA,IAAIG,iBAAiB,GAAGH,OAAO,CAAC,yBAAD,CAA/B;;AACA,IAAII,qBAAqB,GAAGJ,OAAO,CAAC,oCAAD,CAAnC;;AACA,IAAIK,WAAW,GAAGL,OAAO,CAAC,+BAAD,CAAzB;;AACA,IAAIF,uBAAuB,GAAI,YAAY;AACvC,WAASA,uBAAT,CAAiCQ,mBAAjC,EAAsDC,aAAtD,EAAqEC,gBAArE,EAAuFC,cAAvF,EAAuG;AACnG,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAKJ,mBAAL,GAA2BA,mBAA3B;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACA,SAAKC,gBAAL,GAAwBA,gBAAxB;AACA,SAAKC,cAAL,GAAsBA,cAAtB;;AACA,SAAKE,iBAAL,GAAyB,UAAUC,QAAV,EAAoB;AACzC,UAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,QAAAA,QAAQ,GAAG,EAAX;AAAgB;;AAC3C,YAAM,IAAIC,KAAJ,CAAUX,UAAU,CAACY,mBAAX,CAA+B,kEAA/B,CAAV,CAAN;AACH,KAHD;;AAIA,SAAKC,mBAAL,GAA2B,YAAY;AACnC,YAAM,IAAIF,KAAJ,CAAUX,UAAU,CAACY,mBAAX,CAA+B,kEAA/B,CAAV,CAAN;AACH,KAFD;;AAGA,SAAKE,WAAL,GAAmB,UAAUC,IAAV,EAAgBC,wBAAhB,EAA0C;AACzD,aAAOR,KAAK,CAACS,eAAN,CAAsBT,KAAK,CAACF,gBAAN,CAAuBY,sBAA7C,EAAqE;AACxEC,QAAAA,MAAM,EAAEJ,IAAI,CAACK,aAAL,EADgE;AAExEC,QAAAA,KAAK,EAAEb,KAAK,CAACc,iBAAN,CAAwBP,IAAxB,EAA8BC,wBAA9B;AAFiE,OAArE,CAAP;AAIH,KALD;;AAMA,SAAKO,gBAAL,GAAwB,UAAUC,KAAV,EAAiBR,wBAAjB,EAA2C;AAC/D,aAAOR,KAAK,CAACS,eAAN,CAAsBT,KAAK,CAACF,gBAAN,CAAuBmB,2BAA7C,EAA0E;AAC7ED,QAAAA,KAAK,EAAEA,KAAK,CAACE,MAAN,CAAa,UAAUC,GAAV,EAAeZ,IAAf,EAAqB;AACrCY,UAAAA,GAAG,CAACZ,IAAI,CAACK,aAAL,EAAD,CAAH,GAA4BZ,KAAK,CAACc,iBAAN,CAAwBP,IAAxB,EAA8BC,wBAA9B,CAA5B;AACA,iBAAOW,GAAP;AACH,SAHM,EAGJ,EAHI;AADsE,OAA1E,CAAP;AAMH,KAPD;;AAQA,SAAKC,eAAL,GAAuB,UAAUlB,QAAV,EAAoB;AACvC,aAAOF,KAAK,CAACS,eAAN,CAAsBT,KAAK,CAACF,gBAAN,CAAuBuB,qBAA7C,EAAoE;AACvEV,QAAAA,MAAM,EAAET;AAD+D,OAApE,CAAP;AAGH,KAJD;;AAKA,SAAKoB,iBAAL,GAAyB,UAAUpB,QAAV,EAAoBqB,YAApB,EAAkCC,SAAlC,EAA6CC,WAA7C,EAA0DC,eAA1D,EAA2E;AAChG,aAAO1B,KAAK,CAACS,eAAN,CAAsBT,KAAK,CAACF,gBAAN,CAAuB6B,uBAA7C,EAAsE;AACzEhB,QAAAA,MAAM,EAAET,QADiE;AAEzEW,QAAAA,KAAK,EAAEa,eAFkE;AAGzEH,QAAAA,YAAY,EAAEA,YAH2D;AAIzEC,QAAAA,SAAS,EAAEA,SAJ8D;AAKzEC,QAAAA,WAAW,EAAEA;AAL4D,OAAtE,CAAP;AAOH,KARD;;AASA,SAAKG,wBAAL,GAAgC,YAAY;AACxC,aAAO5B,KAAK,CAACD,cAAN,CAAqB8B,YAArB,CAAkC7B,KAAK,CAACF,gBAAN,CAAuBgC,8BAAzD,EAAyF;AAC5FC,QAAAA,WAAW,EAAE/B,KAAK,CAACJ,mBAAN,CAA0BoC;AADqD,OAAzF,CAAP;AAGH,KAJD;AAKH;;AACD5C,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkCkE,kBAAlC,GAAuD,UAAUC,YAAV,EAAwBC,UAAxB,EAAoCC,UAApC,EAAgDC,WAAhD,EAA6DC,aAA7D,EAA4EC,SAA5E,EAAuFC,YAAvF,EAAqGC,aAArG,EAAoH;AACvK,QAAIzC,KAAK,GAAG,IAAZ;;AACA,WAAO,KAAKS,eAAL,CAAqB,KAAKX,gBAAL,CAAsB4C,qBAA3C,EAAkE;AACrER,MAAAA,YAAY,EAAEA,YADuD;AAErEE,MAAAA,UAAU,EAAEA,UAFyD;AAGrEC,MAAAA,WAAW,EAAEA,WAHwD;AAIrEC,MAAAA,aAAa,EAAEA,aAJsD;AAKrEC,MAAAA,SAAS,EAAEA,SAL0D;AAMrEC,MAAAA,YAAY,EAAEA,YANuD;AAOrEC,MAAAA,aAAa,EAAEA;AAPsD,KAAlE,EASFE,IATE,CASG,UAAUC,OAAV,EAAmB;AAAE,aAAO5C,KAAK,CAACH,aAAN,CAAoBgD,SAApB,CAA8BrD,UAAU,CAACY,mBAAX,CAA+B,gEAA/B,KAAoG+B,UAAU,IAAIA,UAAU,CAACW,IAAX,EAAd,IAAmCZ,YAAvI,CAA9B,EAAoLU,OAApL,CAAP;AAAsM,KAT9N,CAAP;AAUH,GAZD;;AAaAxD,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkCgF,aAAlC,GAAkD,UAAUC,UAAV,EAAsBC,YAAtB,EAAoC;AAClF,QAAIC,UAAU,GAAG,KAAKC,iBAAL,EAAjB;;AACA,QAAIC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe/E,QAAQ,CAACA,QAAQ,CAAC;AAAEgF,MAAAA,KAAK,EAAEN;AAAT,KAAD,EAA0BD,UAA1B,CAAT,EAAgDE,UAAhD,CAAvB,CAAX;;AACA,SAAKnD,cAAL,CAAoByD,eAApB,CAAoC,KAAK1D,gBAAL,CAAsB2D,mBAA1D,EAA+EL,IAA/E;;AACA;AACH,GALD;;AAMAhE,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkC2F,wBAAlC,GAA6D,UAAUvB,UAAV,EAAsBC,UAAtB,EAAkCuB,SAAlC,EAA6C;AACtG,UAAM,IAAIxD,KAAJ,CAAUX,UAAU,CAACY,mBAAX,CAA+B,kEAA/B,CAAV,CAAN;AACH,GAFD;;AAGAhB,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkC6F,uBAAlC,GAA4D,UAAUC,aAAV,EAAyBC,mBAAzB,EAA8CC,aAA9C,EAA6DC,MAA7D,EAAqE;AAC7H,UAAM,IAAI7D,KAAJ,CAAUX,UAAU,CAACY,mBAAX,CAA+B,kEAA/B,CAAV,CAAN;AACH,GAFD;;AAGAhB,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkCkG,wBAAlC,GAA6D,UAAUJ,aAAV,EAAyBC,mBAAzB,EAA8CC,aAA9C,EAA6D;AACtH,UAAM,IAAI5D,KAAJ,CAAUX,UAAU,CAACY,mBAAX,CAA+B,kEAA/B,CAAV,CAAN;AACH,GAFD;;AAGAhB,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkCmG,YAAlC,GAAiD,UAAU/B,UAAV,EAAsBC,UAAtB,EAAkC+B,SAAlC,EAA6C;AAC1F,UAAM,IAAIhE,KAAJ,CAAUX,UAAU,CAACY,mBAAX,CAA+B,kEAA/B,CAAV,CAAN;AACH,GAFD;;AAGAhB,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkCqG,WAAlC,GAAgD,UAAU7D,IAAV,EAAgB8D,uBAAhB,EAAyC;AACrF,UAAM,IAAIlE,KAAJ,CAAUX,UAAU,CAACY,mBAAX,CAA+B,kEAA/B,CAAV,CAAN;AACH,GAFD;;AAGAhB,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkC+C,iBAAlC,GAAsD,UAAUP,IAAV,EAAgBC,wBAAhB,EAA0C;AAC5F,QAAIkB,eAAe,GAAGjC,iBAAiB,CAAC6E,UAAlB,CAA6B,EAA7B,EAAiC/D,IAAI,CAACgE,mBAAL,EAAjC,CAAtB;;AACA,QAAIC,UAAU,GAAGjE,IAAI,YAAYb,qBAAqB,CAAC+E,iBAAvD;;AACA,QAAID,UAAU,IAAIhE,wBAAd,IAA0CD,IAAI,CAACmE,eAAL,CAAqBC,OAAnE,EAA4E;AACxEjD,MAAAA,eAAe,CAACkD,gBAAhB,GAAmC,IAAnC;AACH;;AACD,WAAOlD,eAAP;AACH,GAPD;;AAQAtC,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkC8G,yBAAlC,GAA8D,UAAUnD,eAAV,EAA2B;AACrF,QAAIoD,QAAQ,GAAG,EAAf;;AACA,QAAIpD,eAAJ,EAAqB;AACjBhE,MAAAA,MAAM,CAACqH,IAAP,CAAYrD,eAAZ,EAA6BsD,OAA7B,CAAqC,UAAUlC,IAAV,EAAgB;AACjD,YAAI5D,KAAK,GAAGK,EAAE,CAAC0F,MAAH,CAAUvD,eAAe,CAACoB,IAAD,CAAzB,CAAZ;;AACA,YAAI,CAAC,CAAC5D,KAAN,EAAa;AACT,cAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,gBAAIxB,MAAM,CAACqH,IAAP,CAAY7F,KAAZ,EAAmBJ,MAAnB,GAA4B,CAAhC,EAAmC;AAC/BgG,cAAAA,QAAQ,CAAChC,IAAD,CAAR,GAAiBO,IAAI,CAACC,SAAL,CAAepE,KAAf,CAAjB;AACH;AACJ,WAJD,MAKK;AACD4F,YAAAA,QAAQ,CAAChC,IAAD,CAAR,GAAiB5D,KAAjB;AACH;AACJ;AACJ,OAZD;AAaH;;AACD,WAAOxB,MAAM,CAACqH,IAAP,CAAYD,QAAZ,EAAsBhG,MAAtB,KAAiC,CAAjC,GAAqC,EAArC,GAA0CW,iBAAiB,CAACyF,gBAAlB,CAAmCJ,QAAnC,CAAjD;AACH,GAlBD;;AAmBA1F,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkCoF,iBAAlC,GAAsD,YAAY;AAC9D,WAAO;AACHpB,MAAAA,WAAW,EAAE,KAAKnC,mBAAL,CAAyBoC,EADnC;AAEHmD,MAAAA,UAAU,EAAExF,WAAW,CAACyF,mBAAZ,CAAgC,KAAKxF,mBAAL,CAAyByF,SAAzB,CAAmCF,UAAnC,EAAhC;AAFT,KAAP;AAIH,GALD;;AAMA/F,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkC0C,eAAlC,GAAoD,UAAU6E,GAAV,EAAeC,WAAf,EAA4B;AAC5E,QAAIrC,UAAU,GAAG,KAAKC,iBAAL,EAAjB;;AACAzF,IAAAA,MAAM,CAACqH,IAAP,CAAYQ,WAAZ,EAAyBP,OAAzB,CAAiC,UAAUQ,OAAV,EAAmB;AAChD,UAAItC,UAAU,CAACsC,OAAD,CAAd,EAAyB;AACrB,cAAMrF,KAAK,CAAC,UAAUqF,OAAV,GAAoB,0DAArB,CAAX;AACH,OAFD,MAGK;AACDtC,QAAAA,UAAU,CAACsC,OAAD,CAAV,GAAsBD,WAAW,CAACC,OAAD,CAAjC;AACH;AACJ,KAPD;AAQA,WAAO,KAAKC,mBAAL,CAAyBH,GAAzB,EAA8BpC,UAA9B,CAAP;AACH,GAXD;;AAYA9D,EAAAA,uBAAuB,CAACrB,SAAxB,CAAkC0H,mBAAlC,GAAwD,UAAUH,GAAV,EAAeI,MAAf,EAAuB;AAC3E,QAAIC,WAAW,GAAG,KAAKd,yBAAL,CAA+Ba,MAA/B,CAAlB;;AACA,QAAIC,WAAJ,EAAiB;AACb,UAAIC,YAAY,GAAGN,GAAG,CAACO,OAAJ,CAAY,GAAZ,KAAoB,CAAC,CAArB,GAAyB,GAAzB,GAA+B,GAAlD;AACAF,MAAAA,WAAW,GAAGC,YAAY,GAAGD,WAA7B;AACH;;AACD,QAAIG,OAAO,GAAGR,GAAG,GAAGK,WAApB;;AACA,QAAIG,OAAO,CAAChH,MAAR,GAAiBM,uBAAuB,CAAC2G,oBAA7C,EAAmE;AAC/D,aAAO,KAAKhG,cAAL,CAAoBiG,aAApB,CAAkCF,OAAlC,CAAP;AACH,KAFD,MAGK;AACD,aAAO,KAAK/F,cAAL,CAAoB8B,YAApB,CAAiCyD,GAAjC,EAAsCI,MAAtC,CAAP;AACH;AACJ,GAbD;;AAcAtG,EAAAA,uBAAuB,CAAC2G,oBAAxB,GAA+C,IAA/C;AACA,SAAO3G,uBAAP;AACH,CA/I8B,EAA/B;;AAgJAH,OAAO,CAACG,uBAAR,GAAkCA,uBAAlC;;AACA,IAAID,yBAAyB,GAAI,UAAU8G,MAAV,EAAkB;AAC/C3I,EAAAA,SAAS,CAAC6B,yBAAD,EAA4B8G,MAA5B,CAAT;;AACA,WAAS9G,yBAAT,CAAmCS,mBAAnC,EAAwDC,aAAxD,EAAuEC,gBAAvE,EAAyFC,cAAzF,EAAyG;AACrG,QAAIC,KAAK,GAAGiG,MAAM,CAAChI,IAAP,CAAY,IAAZ,EAAkB2B,mBAAlB,EAAuCC,aAAvC,EAAsDC,gBAAtD,EAAwEC,cAAxE,KAA2F,IAAvG;;AACAC,IAAAA,KAAK,CAACC,iBAAN,GAA0B,UAAUC,QAAV,EAAoB;AAC1C,UAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;AAAEA,QAAAA,QAAQ,GAAG,EAAX;AAAgB;;AAC3C,aAAOF,KAAK,CAACS,eAAN,CAAsBT,KAAK,CAACF,gBAAN,CAAuBoG,uBAA7C,EAAsE;AACzEvF,QAAAA,MAAM,EAAET,QADiE;AAEzEW,QAAAA,KAAK,EAAEX,QAAQ,GAAGF,KAAK,CAACJ,mBAAN,CAA0ByF,SAA1B,CAAoCc,aAApC,CAAkDjG,QAAlD,EAA4DqE,mBAA5D,EAAH,GAAuF;AAF7B,OAAtE,EAIF5B,IAJE,CAIG,UAAUC,OAAV,EAAmB;AAAE5C,QAAAA,KAAK,CAACH,aAAN,CAAoBgD,SAApB,CAA8BrD,UAAU,CAACY,mBAAX,CAA+B,2DAA/B,CAA9B,EAA2HwC,OAA3H;AAAsI,OAJ9J,CAAP;AAKH,KAPD;;AAQA5C,IAAAA,KAAK,CAACK,mBAAN,GAA4B,YAAY;AACpC,aAAOL,KAAK,CAACD,cAAN,CAAqB8B,YAArB,CAAkC7B,KAAK,CAACF,gBAAN,CAAuBsG,yBAAzD,EAAoF;AACvFrE,QAAAA,WAAW,EAAE/B,KAAK,CAACJ,mBAAN,CAA0BoC;AADgD,OAApF,CAAP;AAGH,KAJD;;AAKA,WAAOhC,KAAP;AACH;;AACDb,EAAAA,yBAAyB,CAACpB,SAA1B,CAAoCqG,WAApC,GAAkD,UAAU7D,IAAV,EAAgB8D,uBAAhB,EAAyC;AACvF,QAAIrE,KAAK,GAAG,IAAZ;;AACA,WAAO,KAAKS,eAAL,CAAqB,KAAKX,gBAAL,CAAsBuG,iBAA3C,EAA8D;AACjE1F,MAAAA,MAAM,EAAEJ,IAAI,CAACK,aAAL,EADyD;AAEjEyD,MAAAA,uBAAuB,EAAEA;AAFwC,KAA9D,EAIF1B,IAJE,CAIG,UAAUC,OAAV,EAAmB;AAAE5C,MAAAA,KAAK,CAACH,aAAN,CAAoBgD,SAApB,CAA8BrD,UAAU,CAACY,mBAAX,CAA+B,8DAA/B,IAAiGiE,uBAA/H,EAAwJzB,OAAxJ;AAAmK,KAJ3L,CAAP;AAKH,GAPD;;AAQAzD,EAAAA,yBAAyB,CAACpB,SAA1B,CAAoC2F,wBAApC,GAA+D,UAAUvB,UAAV,EAAsBC,UAAtB,EAAkCuB,SAAlC,EAA6C;AACxG,QAAI3D,KAAK,GAAG,IAAZ;;AACA,WAAO,KAAKS,eAAL,CAAqB,KAAKX,gBAAL,CAAsBwG,2BAA3C,EAAwE;AAC3EpE,MAAAA,YAAY,EAAEC,UAAU,CAACvB,aAAX,EAD6D;AAE3E+C,MAAAA,SAAS,EAAE,IAAItE,iBAAiB,CAACkH,eAAtB,CAAsC;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAtC,EAA0DC,SAA1D,CAAoE9C,SAApE,CAFgE;AAG3EvB,MAAAA,UAAU,EAAEA;AAH+D,KAAxE,EAKFO,IALE,CAKG,UAAUC,OAAV,EAAmB;AAAE5C,MAAAA,KAAK,CAACH,aAAN,CAAoBgD,SAApB,CAA8BrD,UAAU,CAACY,mBAAX,CAA+B,sEAA/B,IAAyG+B,UAAU,CAACW,IAAX,EAAvI,EAA0JF,OAA1J;AAAqK,KAL7L,CAAP;AAMH,GARD;;AASAzD,EAAAA,yBAAyB,CAACpB,SAA1B,CAAoC6F,uBAApC,GAA8D,UAAUrD,IAAV,EAAgBuD,mBAAhB,EAAqCC,aAArC,EAAoDC,MAApD,EAA4D;AACtH,WAAO,KAAKvD,eAAL,CAAqB,KAAKX,gBAAL,CAAsB4G,0BAA3C,EAAuE;AAC1E/F,MAAAA,MAAM,EAAEJ,IAAI,CAACK,aAAL,EADkE;AAE1EC,MAAAA,KAAK,EAAEN,IAAI,CAACgE,mBAAL,EAFmE;AAG1ET,MAAAA,mBAAmB,EAAEA,mBAHqD;AAI1EC,MAAAA,aAAa,EAAEA,aAJ2D;AAK1EC,MAAAA,MAAM,EAAEA;AALkE,KAAvE,CAAP;AAOH,GARD;;AASA7E,EAAAA,yBAAyB,CAACpB,SAA1B,CAAoCkG,wBAApC,GAA+D,UAAU1D,IAAV,EAAgBuD,mBAAhB,EAAqCC,aAArC,EAAoD;AAC/G,WAAO,KAAKtD,eAAL,CAAqB,KAAKX,gBAAL,CAAsB6G,2BAA3C,EAAwE;AAC3EhG,MAAAA,MAAM,EAAEJ,IAAI,CAACK,aAAL,EADmE;AAE3EC,MAAAA,KAAK,EAAEN,IAAI,CAACgE,mBAAL,EAFoE;AAG3ET,MAAAA,mBAAmB,EAAEA,mBAHsD;AAI3EC,MAAAA,aAAa,EAAEA,aAJ4D;AAK3EC,MAAAA,MAAM,EAAE;AALmE,KAAxE,CAAP;AAOH,GARD;;AASA7E,EAAAA,yBAAyB,CAACpB,SAA1B,CAAoCmG,YAApC,GAAmD,UAAU/B,UAAV,EAAsBC,UAAtB,EAAkC+B,SAAlC,EAA6C;AAC5F,QAAInE,KAAK,GAAG,IAAZ;;AACA,WAAO,KAAKS,eAAL,CAAqB,KAAKX,gBAAL,CAAsB8G,eAA3C,EAA4D;AAC/D1E,MAAAA,YAAY,EAAEC,UAAU,CAACvB,aAAX,EADiD;AAE/DwB,MAAAA,UAAU,EAAEA,UAFmD;AAG/D+B,MAAAA,SAAS,EAAEA;AAHoD,KAA5D,EAKFxB,IALE,CAKG,UAAUC,OAAV,EAAmB;AAAE5C,MAAAA,KAAK,CAACH,aAAN,CAAoBgD,SAApB,CAA8BrD,UAAU,CAACY,mBAAX,CAA+B,uEAA/B,IAA0G+B,UAAU,CAACW,IAAX,EAAxI,EAA2JF,OAA3J;AAAsK,KAL9L,CAAP;AAMH,GARD;;AASAzD,EAAAA,yBAAyB,CAACpB,SAA1B,CAAoCoF,iBAApC,GAAwD,YAAY;AAChE,WAAO;AACHpB,MAAAA,WAAW,EAAE,KAAKnC,mBAAL,CAAyBoC,EADnC;AAEHqD,MAAAA,SAAS,EAAE,KAAKzF,mBAAL,CAAyByF,SAAzB,CAAmCwB,OAAnC,EAFR;AAGH1B,MAAAA,UAAU,EAAExF,WAAW,CAACyF,mBAAZ,CAAgC,KAAKxF,mBAAL,CAAyByF,SAAzB,CAAmCF,UAAnC,EAAhC;AAHT,KAAP;AAKH,GAND;;AAOAhG,EAAAA,yBAAyB,CAACpB,SAA1B,CAAoC0H,mBAApC,GAA0D,UAAUH,GAAV,EAAewB,IAAf,EAAqB;AAC3E,WAAO,KAAK/G,cAAL,CAAoB8B,YAApB,CAAiCyD,GAAjC,EAAsCwB,IAAtC,CAAP;AACH,GAFD;;AAGA,SAAO3H,yBAAP;AACH,CA1EgC,CA0E/BC,uBA1E+B,CAAjC;;AA2EAH,OAAO,CAACE,yBAAR,GAAoCA,yBAApC","sourcesContent":["/**\r\n* DevExpress Dashboard (_service-client.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DesignerDataServiceClient = exports.ViewerDataServiceClient = void 0;\nvar analytics_utils_1 = require(\"@devexpress/analytics-core/analytics-utils\");\nvar ko = require(\"knockout\");\nvar _default_1 = require(\"../data/localization/_default\");\nvar _jquery_helpers_1 = require(\"../data/_jquery-helpers\");\nvar data_dashboard_item_1 = require(\"../model/items/data-dashboard-item\");\nvar parameter_1 = require(\"../model/parameters/parameter\");\nvar ViewerDataServiceClient = (function () {\n    function ViewerDataServiceClient(_dashboardContainer, _errorHandler, _dataServiceUrls, _remoteService) {\n        var _this = this;\n        this._dashboardContainer = _dashboardContainer;\n        this._errorHandler = _errorHandler;\n        this._dataServiceUrls = _dataServiceUrls;\n        this._remoteService = _remoteService;\n        this.getColoringScheme = function (itemName) {\n            if (itemName === void 0) { itemName = ''; }\n            throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n        };\n        this.getDashboardPalette = function () {\n            throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n        };\n        this.getItemData = function (item, isModeAllowsToReduceData) {\n            return _this._performRequest(_this._dataServiceUrls.DashboardItemGetAction, {\n                itemId: item.componentName(),\n                query: _this._getItemDataQuery(item, isModeAllowsToReduceData)\n            });\n        };\n        this.getBatchItemData = function (items, isModeAllowsToReduceData) {\n            return _this._performRequest(_this._dataServiceUrls.DashboardItemBatchGetAction, {\n                items: items.reduce(function (acc, item) {\n                    acc[item.componentName()] = _this._getItemDataQuery(item, isModeAllowsToReduceData);\n                    return acc;\n                }, {})\n            });\n        };\n        this.getMapShapeFile = function (itemName) {\n            return _this._performRequest(_this._dataServiceUrls.GetMapShapeFileAction, {\n                itemId: itemName\n            });\n        };\n        this.getUnderlyingData = function (itemName, columnValues, rowValues, columnNames, dataQueryParams) {\n            return _this._performRequest(_this._dataServiceUrls.GetUnderlyingDataAction, {\n                itemId: itemName,\n                query: dataQueryParams,\n                columnValues: columnValues,\n                rowValues: rowValues,\n                columnNames: columnNames\n            });\n        };\n        this.markDataSourcesForReload = function () {\n            return _this._remoteService.postToServer(_this._dataServiceUrls.MarkDataSourcesForReloadAction, {\n                dashboardId: _this._dashboardContainer.id\n            });\n        };\n    }\n    ViewerDataServiceClient.prototype.getParameterValues = function (dataSourceId, dataSource, dataMember, valueMember, displayMember, sortOrder, sortByMember, parameterType) {\n        var _this = this;\n        return this._performRequest(this._dataServiceUrls.ParameterValuesAction, {\n            dataSourceId: dataSourceId,\n            dataMember: dataMember,\n            valueMember: valueMember,\n            displayMember: displayMember,\n            sortOrder: sortOrder,\n            sortByMember: sortByMember,\n            parameterType: parameterType\n        })\n            .fail(function (request) { return _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadParameterValues') + (dataSource && dataSource.name() || dataSourceId), request); });\n    };\n    ViewerDataServiceClient.prototype.performExport = function (exportInfo, exportModels) {\n        var commonArgs = this._createCommonArgs();\n        var args = JSON.stringify(__assign(__assign({ model: exportModels }, exportInfo), commonArgs));\n        this._remoteService.performPostback(this._dataServiceUrls.PerformExportAction, args);\n        return;\n    };\n    ViewerDataServiceClient.prototype.getDimensionUniqueValues = function (dataSource, dataMember, dimension) {\n        throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n    };\n    ViewerDataServiceClient.prototype.getDimensionFilterItems = function (dashboardItem, dimensionDataMember, previousState, branch) {\n        throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n    };\n    ViewerDataServiceClient.prototype.getDimensionFilterString = function (dashboardItem, dimensionDataMember, previousState) {\n        throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n    };\n    ViewerDataServiceClient.prototype.getFieldList = function (dataSource, dataMember, fieldPath) {\n        throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n    };\n    ViewerDataServiceClient.prototype.convertItem = function (item, destinationItemTypeName) {\n        throw new Error(_default_1.getLocalizationById('DashboardWebStringId.Notification.MethodIsNotAllowedInViewerMode'));\n    };\n    ViewerDataServiceClient.prototype._getItemDataQuery = function (item, isModeAllowsToReduceData) {\n        var dataQueryParams = _jquery_helpers_1.deepExtend({}, item._getDataQueryParams());\n        var isDataItem = item instanceof data_dashboard_item_1.DataDashboardItem;\n        if (isDataItem && isModeAllowsToReduceData && item._limitDataState.enabled) {\n            dataQueryParams.LimitVisibleData = true;\n        }\n        return dataQueryParams;\n    };\n    ViewerDataServiceClient.prototype._queryParamsToQueryString = function (dataQueryParams) {\n        var urlQuery = {};\n        if (dataQueryParams) {\n            Object.keys(dataQueryParams).forEach(function (name) {\n                var value = ko.unwrap(dataQueryParams[name]);\n                if (!!value) {\n                    if (typeof value === 'object') {\n                        if (Object.keys(value).length > 0) {\n                            urlQuery[name] = JSON.stringify(value);\n                        }\n                    }\n                    else {\n                        urlQuery[name] = value;\n                    }\n                }\n            });\n        }\n        return Object.keys(urlQuery).length === 0 ? '' : _jquery_helpers_1.jqueryQueryParam(urlQuery);\n    };\n    ViewerDataServiceClient.prototype._createCommonArgs = function () {\n        return {\n            dashboardId: this._dashboardContainer.id,\n            parameters: parameter_1._getParametersQuery(this._dashboardContainer.dashboard.parameters())\n        };\n    };\n    ViewerDataServiceClient.prototype._performRequest = function (url, requestArgs) {\n        var commonArgs = this._createCommonArgs();\n        Object.keys(requestArgs).forEach(function (argsKey) {\n            if (commonArgs[argsKey]) {\n                throw Error(\"The '\" + argsKey + \"' request argument key is reserved for common event args\");\n            }\n            else {\n                commonArgs[argsKey] = requestArgs[argsKey];\n            }\n        });\n        return this._performRequestCore(url, commonArgs);\n    };\n    ViewerDataServiceClient.prototype._performRequestCore = function (url, params) {\n        var queryString = this._queryParamsToQueryString(params);\n        if (queryString) {\n            var urlSeparator = url.indexOf('?') == -1 ? '?' : '&';\n            queryString = urlSeparator + queryString;\n        }\n        var fullUrl = url + queryString;\n        if (fullUrl.length < ViewerDataServiceClient.maxQueryStringLength) {\n            return this._remoteService.getFromServer(fullUrl);\n        }\n        else {\n            return this._remoteService.postToServer(url, params);\n        }\n    };\n    ViewerDataServiceClient.maxQueryStringLength = 2000;\n    return ViewerDataServiceClient;\n}());\nexports.ViewerDataServiceClient = ViewerDataServiceClient;\nvar DesignerDataServiceClient = (function (_super) {\n    __extends(DesignerDataServiceClient, _super);\n    function DesignerDataServiceClient(_dashboardContainer, _errorHandler, _dataServiceUrls, _remoteService) {\n        var _this = _super.call(this, _dashboardContainer, _errorHandler, _dataServiceUrls, _remoteService) || this;\n        _this.getColoringScheme = function (itemName) {\n            if (itemName === void 0) { itemName = ''; }\n            return _this._performRequest(_this._dataServiceUrls.GetColoringSchemeAction, {\n                itemId: itemName,\n                query: itemName ? _this._dashboardContainer.dashboard._findDataItem(itemName)._getDataQueryParams() : {}\n            })\n                .fail(function (request) { _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToGetColorScheme'), request); });\n        };\n        _this.getDashboardPalette = function () {\n            return _this._remoteService.postToServer(_this._dataServiceUrls.GetDashboardPaletteAction, {\n                dashboardId: _this._dashboardContainer.id\n            });\n        };\n        return _this;\n    }\n    DesignerDataServiceClient.prototype.convertItem = function (item, destinationItemTypeName) {\n        var _this = this;\n        return this._performRequest(this._dataServiceUrls.ConvertItemAction, {\n            itemId: item.componentName(),\n            destinationItemTypeName: destinationItemTypeName\n        })\n            .fail(function (request) { _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToConvertItemToType') + destinationItemTypeName, request); });\n    };\n    DesignerDataServiceClient.prototype.getDimensionUniqueValues = function (dataSource, dataMember, dimension) {\n        var _this = this;\n        return this._performRequest(this._dataServiceUrls.DimensionUniqueValuesAction, {\n            dataSourceId: dataSource.componentName(),\n            dimension: new analytics_utils_1.ModelSerializer({ useRefs: false }).serialize(dimension),\n            dataMember: dataMember,\n        })\n            .fail(function (request) { _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadDimensionUniqueValues') + dataSource.name(), request); });\n    };\n    DesignerDataServiceClient.prototype.getDimensionFilterItems = function (item, dimensionDataMember, previousState, branch) {\n        return this._performRequest(this._dataServiceUrls.DimensionFilterItemsAction, {\n            itemId: item.componentName(),\n            query: item._getDataQueryParams(),\n            dimensionDataMember: dimensionDataMember,\n            previousState: previousState,\n            branch: branch\n        });\n    };\n    DesignerDataServiceClient.prototype.getDimensionFilterString = function (item, dimensionDataMember, previousState) {\n        return this._performRequest(this._dataServiceUrls.DimensionFilterStringAction, {\n            itemId: item.componentName(),\n            query: item._getDataQueryParams(),\n            dimensionDataMember: dimensionDataMember,\n            previousState: previousState,\n            branch: null\n        });\n    };\n    DesignerDataServiceClient.prototype.getFieldList = function (dataSource, dataMember, fieldPath) {\n        var _this = this;\n        return this._performRequest(this._dataServiceUrls.FieldListAction, {\n            dataSourceId: dataSource.componentName(),\n            dataMember: dataMember,\n            fieldPath: fieldPath\n        })\n            .fail(function (request) { _this._errorHandler.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadFieldListForDataSource') + dataSource.name(), request); });\n    };\n    DesignerDataServiceClient.prototype._createCommonArgs = function () {\n        return {\n            dashboardId: this._dashboardContainer.id,\n            dashboard: this._dashboardContainer.dashboard.getJSON(),\n            parameters: parameter_1._getParametersQuery(this._dashboardContainer.dashboard.parameters())\n        };\n    };\n    DesignerDataServiceClient.prototype._performRequestCore = function (url, data) {\n        return this._remoteService.postToServer(url, data);\n    };\n    return DesignerDataServiceClient;\n}(ViewerDataServiceClient));\nexports.DesignerDataServiceClient = DesignerDataServiceClient;\n"]},"metadata":{},"sourceType":"script"}