{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_cards-viewer.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CardsViewer = void 0;\n\nvar scroll_view_1 = require(\"devextreme/ui/scroll_view\");\n\nvar $ = require(\"jquery\");\n\nvar _jquery_helpers_1 = require(\"../../../../data/_jquery-helpers\");\n\nvar _css_class_names_1 = require(\"../_css-class-names\");\n\nvar _widgets_viewer_base_1 = require(\"../_widgets-viewer-base\");\n\nvar _arrangement_strategy_1 = require(\"./_arrangement-strategy\");\n\nvar _card_arrangement_table_generator_1 = require(\"./_card-arrangement-table-generator\");\n\nvar _card_virtualization_controller_1 = require(\"./_card-virtualization-controller\");\n\nvar _new_card_item_1 = require(\"./_new-card-item\");\n\nvar viewerCount = 0;\n\nvar CardsViewer = function (_super) {\n  __extends(CardsViewer, _super);\n\n  function CardsViewer(element, options) {\n    return _super.call(this, element, options) || this;\n  }\n\n  Object.defineProperty(CardsViewer.prototype, \"_styleSettingsProvider\", {\n    get: function () {\n      return this.option('styleSettingsProvider');\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CardsViewer.prototype.redraw = function () {\n    this._render();\n  };\n\n  CardsViewer.prototype._getDefaultOptions = function () {\n    return {};\n  };\n\n  CardsViewer.prototype.getSelectedItems = function () {\n    return this.itemsList.filter(function (item) {\n      return item.selected();\n    });\n  };\n\n  CardsViewer.prototype.clearSelections = function () {\n    this.itemsList.forEach(function (item) {\n      return item.clearSelection();\n    });\n  };\n\n  CardsViewer.prototype.getSizeParams = function () {\n    return this.virtualizer.getSizeParams();\n  };\n\n  CardsViewer.prototype.clear = function () {\n    this.container.remove();\n  };\n\n  CardsViewer.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n\n    (this.itemsList || []).forEach(function (item) {\n      return item.dispose();\n    });\n    this.clear();\n  };\n\n  CardsViewer.prototype._init = function () {\n    this._viewerID = viewerCount++;\n    this.tableStruct = $('<div>', {\n      'class': _css_class_names_1.cssClassNames.widgetViewerTable + ' ' + _css_class_names_1.cssClassNames.widgetViewerIdPrefix + this._viewerID\n    });\n    this.initContainer();\n    this.container.append(this.tableStruct);\n    this.container.addClass(_css_class_names_1.cssClassNames.widgetViewerContainer);\n    var scrollView = new scroll_view_1.default(_jquery_helpers_1.$unwrap(this.container), {\n      direction: 'both',\n      showScrollbar: 'onHover'\n    });\n    this.virtualizer = new _card_virtualization_controller_1.CardVirtualizationController(this.tableStruct, scrollView);\n    this.createItems();\n    this.createArranger();\n\n    this._render();\n  };\n\n  CardsViewer.prototype._update = function () {\n    this.createItems();\n    this.createArranger();\n\n    this._render();\n  };\n\n  CardsViewer.prototype.initContainer = function () {\n    this.container = $('<div>').appendTo(_jquery_helpers_1.$wrap(this.element()));\n    this.container.addClass(_css_class_names_1.layoutCardCssClassNames.cardScrollableHolder);\n  };\n\n  CardsViewer.prototype.createItems = function () {\n    var that = this,\n        data = that.option('dataSource');\n    var viewer = this.option('viewer');\n    var clickHandler = viewer.onclick,\n        hoverHandler = viewer.onhover,\n        controlContainer = viewer.controlContainer;\n    that.itemsList = [];\n    data.forEach(function (dataItem, index) {\n      that.itemsList.push(new _new_card_item_1.newCardItem(dataItem, index, {\n        clickHandler: clickHandler,\n        hoverHandler: hoverHandler,\n        controlContainer: controlContainer\n      }));\n    });\n  };\n\n  CardsViewer.prototype._render = function (drawOptions) {\n    var _this = this;\n\n    this.virtualizer.updateScrollableContent(function () {\n      _this.invalidateContent();\n\n      _this.drawCards();\n    });\n  };\n\n  CardsViewer.prototype.invalidateContent = function () {\n    this.createItems();\n    this.tableStruct.empty();\n  };\n\n  CardsViewer.prototype.drawCards = function () {\n    var _this = this;\n\n    var parentWidth = this.container.width();\n    var parentHeight = this.container.height();\n    var layouts = this._option.itemOptions.layouts;\n    var ignorePadding = this._option.viewer.ignorePadding;\n    var cardArrangements = this.arranger.arrange(parentHeight, parentWidth, this.itemsList.length, layouts, ignorePadding);\n    this.tableGenerator = new _card_arrangement_table_generator_1.cardArrangementTableGenerator();\n    this.tableGenerator.generateTable(this.tableStruct, cardArrangements);\n    this.virtualizer.init(cardArrangements, function (startIndex, endIndex) {\n      _this.drawCardsByIndices(startIndex, endIndex);\n    });\n  };\n\n  CardsViewer.prototype.drawCardsByIndices = function (startIndex, endIndex) {\n    var _this = this;\n\n    this.tableGenerator.drawCellContent(startIndex, endIndex, function (container, cardArrangements, index) {\n      return _this.itemsList[index].draw(container, cardArrangements, _this._styleSettingsProvider);\n    });\n  };\n\n  CardsViewer.prototype.createArranger = function () {\n    var viewerOptions = this.option('viewer');\n    var method = viewerOptions.method;\n    var count = viewerOptions.count;\n    if (this.shouldRecreateArranger(method, count)) this.arranger = _arrangement_strategy_1.ArrangementStrategy.createInstance(method, count);\n  };\n\n  CardsViewer.prototype.shouldRecreateArranger = function (newArrangement, lineCount) {\n    if (this.arranger != null) {\n      var currentArrangement = this.arranger.getArrangeMethod();\n      if (currentArrangement === 'auto') return newArrangement !== 'auto';else return newArrangement !== currentArrangement || this.arranger.getLineCount() !== lineCount;\n    }\n\n    return true;\n  };\n\n  return CardsViewer;\n}(_widgets_viewer_base_1.WidgetsViewerBase);\n\nexports.CardsViewer = CardsViewer;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/widgets/widgets-viewer/cards/_cards-viewer.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","CardsViewer","scroll_view_1","require","$","_jquery_helpers_1","_css_class_names_1","_widgets_viewer_base_1","_arrangement_strategy_1","_card_arrangement_table_generator_1","_card_virtualization_controller_1","_new_card_item_1","viewerCount","_super","element","options","get","option","enumerable","configurable","redraw","_render","_getDefaultOptions","getSelectedItems","itemsList","filter","item","selected","clearSelections","forEach","clearSelection","getSizeParams","virtualizer","clear","container","remove","dispose","_init","_viewerID","tableStruct","cssClassNames","widgetViewerTable","widgetViewerIdPrefix","initContainer","append","addClass","widgetViewerContainer","scrollView","default","$unwrap","direction","showScrollbar","CardVirtualizationController","createItems","createArranger","_update","appendTo","$wrap","layoutCardCssClassNames","cardScrollableHolder","that","data","viewer","clickHandler","onclick","hoverHandler","onhover","controlContainer","dataItem","index","push","newCardItem","drawOptions","_this","updateScrollableContent","invalidateContent","drawCards","empty","parentWidth","width","parentHeight","height","layouts","_option","itemOptions","ignorePadding","cardArrangements","arranger","arrange","length","tableGenerator","cardArrangementTableGenerator","generateTable","init","startIndex","endIndex","drawCardsByIndices","drawCellContent","draw","_styleSettingsProvider","viewerOptions","method","count","shouldRecreateArranger","ArrangementStrategy","createInstance","newArrangement","lineCount","currentArrangement","getArrangeMethod","getLineCount","WidgetsViewerBase"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_cards-viewer.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CardsViewer = void 0;\nvar scroll_view_1 = require(\"devextreme/ui/scroll_view\");\nvar $ = require(\"jquery\");\nvar _jquery_helpers_1 = require(\"../../../../data/_jquery-helpers\");\nvar _css_class_names_1 = require(\"../_css-class-names\");\nvar _widgets_viewer_base_1 = require(\"../_widgets-viewer-base\");\nvar _arrangement_strategy_1 = require(\"./_arrangement-strategy\");\nvar _card_arrangement_table_generator_1 = require(\"./_card-arrangement-table-generator\");\nvar _card_virtualization_controller_1 = require(\"./_card-virtualization-controller\");\nvar _new_card_item_1 = require(\"./_new-card-item\");\nvar viewerCount = 0;\nvar CardsViewer = (function (_super) {\n    __extends(CardsViewer, _super);\n    function CardsViewer(element, options) {\n        return _super.call(this, element, options) || this;\n    }\n    Object.defineProperty(CardsViewer.prototype, \"_styleSettingsProvider\", {\n        get: function () {\n            return this.option('styleSettingsProvider');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CardsViewer.prototype.redraw = function () {\n        this._render();\n    };\n    CardsViewer.prototype._getDefaultOptions = function () {\n        return {};\n    };\n    CardsViewer.prototype.getSelectedItems = function () {\n        return this.itemsList.filter(function (item) { return item.selected(); });\n    };\n    CardsViewer.prototype.clearSelections = function () {\n        this.itemsList.forEach(function (item) { return item.clearSelection(); });\n    };\n    CardsViewer.prototype.getSizeParams = function () {\n        return this.virtualizer.getSizeParams();\n    };\n    CardsViewer.prototype.clear = function () {\n        this.container.remove();\n    };\n    CardsViewer.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        (this.itemsList || []).forEach(function (item) { return item.dispose(); });\n        this.clear();\n    };\n    CardsViewer.prototype._init = function () {\n        this._viewerID = viewerCount++;\n        this.tableStruct = $('<div>', { 'class': _css_class_names_1.cssClassNames.widgetViewerTable + ' ' + _css_class_names_1.cssClassNames.widgetViewerIdPrefix + this._viewerID });\n        this.initContainer();\n        this.container.append(this.tableStruct);\n        this.container.addClass(_css_class_names_1.cssClassNames.widgetViewerContainer);\n        var scrollView = new scroll_view_1.default(_jquery_helpers_1.$unwrap(this.container), {\n            direction: 'both',\n            showScrollbar: 'onHover'\n        });\n        this.virtualizer = new _card_virtualization_controller_1.CardVirtualizationController(this.tableStruct, scrollView);\n        this.createItems();\n        this.createArranger();\n        this._render();\n    };\n    CardsViewer.prototype._update = function () {\n        this.createItems();\n        this.createArranger();\n        this._render();\n    };\n    CardsViewer.prototype.initContainer = function () {\n        this.container = $('<div>').appendTo(_jquery_helpers_1.$wrap(this.element()));\n        this.container.addClass(_css_class_names_1.layoutCardCssClassNames.cardScrollableHolder);\n    };\n    CardsViewer.prototype.createItems = function () {\n        var that = this, data = that.option('dataSource');\n        var viewer = this.option('viewer');\n        var clickHandler = viewer.onclick, hoverHandler = viewer.onhover, controlContainer = viewer.controlContainer;\n        that.itemsList = [];\n        data.forEach(function (dataItem, index) {\n            that.itemsList.push(new _new_card_item_1.newCardItem(dataItem, index, { clickHandler: clickHandler, hoverHandler: hoverHandler, controlContainer: controlContainer }));\n        });\n    };\n    CardsViewer.prototype._render = function (drawOptions) {\n        var _this = this;\n        this.virtualizer.updateScrollableContent(function () {\n            _this.invalidateContent();\n            _this.drawCards();\n        });\n    };\n    CardsViewer.prototype.invalidateContent = function () {\n        this.createItems();\n        this.tableStruct.empty();\n    };\n    CardsViewer.prototype.drawCards = function () {\n        var _this = this;\n        var parentWidth = this.container.width();\n        var parentHeight = this.container.height();\n        var layouts = this._option.itemOptions.layouts;\n        var ignorePadding = this._option.viewer.ignorePadding;\n        var cardArrangements = this.arranger.arrange(parentHeight, parentWidth, this.itemsList.length, layouts, ignorePadding);\n        this.tableGenerator = new _card_arrangement_table_generator_1.cardArrangementTableGenerator();\n        this.tableGenerator.generateTable(this.tableStruct, cardArrangements);\n        this.virtualizer.init(cardArrangements, function (startIndex, endIndex) { _this.drawCardsByIndices(startIndex, endIndex); });\n    };\n    CardsViewer.prototype.drawCardsByIndices = function (startIndex, endIndex) {\n        var _this = this;\n        this.tableGenerator.drawCellContent(startIndex, endIndex, function (container, cardArrangements, index) {\n            return _this.itemsList[index].draw(container, cardArrangements, _this._styleSettingsProvider);\n        });\n    };\n    CardsViewer.prototype.createArranger = function () {\n        var viewerOptions = this.option('viewer');\n        var method = viewerOptions.method;\n        var count = viewerOptions.count;\n        if (this.shouldRecreateArranger(method, count))\n            this.arranger = _arrangement_strategy_1.ArrangementStrategy.createInstance(method, count);\n    };\n    CardsViewer.prototype.shouldRecreateArranger = function (newArrangement, lineCount) {\n        if (this.arranger != null) {\n            var currentArrangement = this.arranger.getArrangeMethod();\n            if (currentArrangement === 'auto')\n                return newArrangement !== 'auto';\n            else\n                return newArrangement !== currentArrangement || this.arranger.getLineCount() !== lineCount;\n        }\n        return true;\n    };\n    return CardsViewer;\n}(_widgets_viewer_base_1.WidgetsViewerBase));\nexports.CardsViewer = CardsViewer;\n"]},"metadata":{},"sourceType":"script"}