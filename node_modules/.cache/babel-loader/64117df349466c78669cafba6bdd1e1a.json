{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_item-data-manager.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.itemDataManager = void 0;\n\nvar _data_storage_1 = require(\"../../data-storage/_data-storage\");\n\nvar item_data_axis_names_1 = require(\"../item-data-axis-names\");\n\nvar _item_data_1 = require(\"../_item-data\");\n\nvar _item_data_axis_builder_1 = require(\"./_item-data-axis-builder\");\n\nvar _item_data_axis_helper_1 = require(\"./_item-data-axis-helper\");\n\nvar _item_meta_data_1 = require(\"./_item-meta-data\");\n\nvar itemDataManager = function () {\n  function itemDataManager() {}\n\n  itemDataManager.prototype.initialize = function (itemDataDTO) {\n    var metaData = this._createMetaData(itemDataDTO.MetaData),\n        ds = new _data_storage_1.dataStorage(itemDataDTO.DataStorageDTO),\n        items = {};\n\n    var axes = metaData.getAxes();\n    Object.keys(axes).forEach(function (name) {\n      items[name] = _item_data_axis_builder_1.itemDataAxisBuilder.build(name, ds, axes[name], itemDataDTO.SortOrderSlices, metaData);\n    });\n    this._dataStorage = ds;\n    this._metaData = metaData;\n    this._itemData = new _item_data_1.itemData(metaData, ds, items);\n    this._items = items;\n  };\n\n  itemDataManager.prototype.updateExpandedData = function (expandedItemDataDTO, expandInfo) {\n    var that = this,\n        areaNames = item_data_axis_names_1.itemDataAxisNames,\n        sortOrderSlices = expandedItemDataDTO.SortOrderSlices,\n        area = expandInfo.pivotArea == _item_data_axis_builder_1.pivotAreaNames.columns ? areaNames.pivotColumnAxis : areaNames.pivotRowAxis,\n        values = expandInfo.values,\n        metaData = that._metaData,\n        ds = new _data_storage_1.dataStorage(expandedItemDataDTO.DataStorageDTO);\n\n    var iterators = that._dataStorage.insert(ds, sortOrderSlices);\n\n    var expandedAreaNewRootItem = _item_data_axis_builder_1.itemDataAxisBuilder.build(area, that._dataStorage, metaData.getAxes()[area], sortOrderSlices, metaData, iterators);\n\n    if (!!expandedAreaNewRootItem) {\n      var expandedAreaRootItem = that._items[area],\n          expandedItem = _item_data_axis_helper_1.itemDataAxisHelper.findFirstPointByUniqueValues(expandedAreaRootItem, values),\n          expandedNewItem = _item_data_axis_helper_1.itemDataAxisHelper.findFirstPointByUniqueValues(expandedAreaNewRootItem, values);\n\n      if (!!expandedNewItem) {\n        var newChildren = expandedNewItem.getChildren();\n        newChildren.forEach(function (child) {\n          child._setParent(expandedItem);\n        });\n\n        expandedItem._setChildren(newChildren);\n      }\n    }\n  };\n\n  itemDataManager.prototype.updateTotals = function (expandedItemDataDTO) {\n    var totalSliceKeyIds = [];\n    var ds = new _data_storage_1.dataStorage(expandedItemDataDTO.DataStorageDTO);\n\n    this._dataStorage.insertSlice(ds, totalSliceKeyIds);\n  };\n\n  itemDataManager.prototype.getDataStorage = function () {\n    return this._dataStorage;\n  };\n\n  itemDataManager.prototype.getItemData = function () {\n    return this._itemData;\n  };\n\n  itemDataManager.prototype.getMetaData = function () {\n    return this._metaData;\n  };\n\n  itemDataManager.prototype._createMetaData = function (metaDataDTO) {\n    var metaData = new _item_meta_data_1.itemMetaData(metaDataDTO);\n    metaData.initialize();\n    return metaData;\n  };\n\n  return itemDataManager;\n}();\n\nexports.itemDataManager = itemDataManager;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/data/item-data/internal/_item-data-manager.js"],"names":["Object","defineProperty","exports","value","itemDataManager","_data_storage_1","require","item_data_axis_names_1","_item_data_1","_item_data_axis_builder_1","_item_data_axis_helper_1","_item_meta_data_1","prototype","initialize","itemDataDTO","metaData","_createMetaData","MetaData","ds","dataStorage","DataStorageDTO","items","axes","getAxes","keys","forEach","name","itemDataAxisBuilder","build","SortOrderSlices","_dataStorage","_metaData","_itemData","itemData","_items","updateExpandedData","expandedItemDataDTO","expandInfo","that","areaNames","itemDataAxisNames","sortOrderSlices","area","pivotArea","pivotAreaNames","columns","pivotColumnAxis","pivotRowAxis","values","iterators","insert","expandedAreaNewRootItem","expandedAreaRootItem","expandedItem","itemDataAxisHelper","findFirstPointByUniqueValues","expandedNewItem","newChildren","getChildren","child","_setParent","_setChildren","updateTotals","totalSliceKeyIds","insertSlice","getDataStorage","getItemData","getMetaData","metaDataDTO","itemMetaData"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_item-data-manager.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.itemDataManager = void 0;\nvar _data_storage_1 = require(\"../../data-storage/_data-storage\");\nvar item_data_axis_names_1 = require(\"../item-data-axis-names\");\nvar _item_data_1 = require(\"../_item-data\");\nvar _item_data_axis_builder_1 = require(\"./_item-data-axis-builder\");\nvar _item_data_axis_helper_1 = require(\"./_item-data-axis-helper\");\nvar _item_meta_data_1 = require(\"./_item-meta-data\");\nvar itemDataManager = (function () {\n    function itemDataManager() {\n    }\n    itemDataManager.prototype.initialize = function (itemDataDTO) {\n        var metaData = this._createMetaData(itemDataDTO.MetaData), ds = new _data_storage_1.dataStorage(itemDataDTO.DataStorageDTO), items = {};\n        var axes = metaData.getAxes();\n        Object.keys(axes).forEach(function (name) {\n            items[name] = _item_data_axis_builder_1.itemDataAxisBuilder.build(name, ds, axes[name], itemDataDTO.SortOrderSlices, metaData);\n        });\n        this._dataStorage = ds;\n        this._metaData = metaData;\n        this._itemData = new _item_data_1.itemData(metaData, ds, items);\n        this._items = items;\n    };\n    itemDataManager.prototype.updateExpandedData = function (expandedItemDataDTO, expandInfo) {\n        var that = this, areaNames = item_data_axis_names_1.itemDataAxisNames, sortOrderSlices = expandedItemDataDTO.SortOrderSlices, area = expandInfo.pivotArea == _item_data_axis_builder_1.pivotAreaNames.columns ? areaNames.pivotColumnAxis : areaNames.pivotRowAxis, values = expandInfo.values, metaData = that._metaData, ds = new _data_storage_1.dataStorage(expandedItemDataDTO.DataStorageDTO);\n        var iterators = that._dataStorage.insert(ds, sortOrderSlices);\n        var expandedAreaNewRootItem = _item_data_axis_builder_1.itemDataAxisBuilder.build(area, that._dataStorage, metaData.getAxes()[area], sortOrderSlices, metaData, iterators);\n        if (!!expandedAreaNewRootItem) {\n            var expandedAreaRootItem = that._items[area], expandedItem = _item_data_axis_helper_1.itemDataAxisHelper.findFirstPointByUniqueValues(expandedAreaRootItem, values), expandedNewItem = _item_data_axis_helper_1.itemDataAxisHelper.findFirstPointByUniqueValues(expandedAreaNewRootItem, values);\n            if (!!expandedNewItem) {\n                var newChildren = expandedNewItem.getChildren();\n                newChildren.forEach(function (child) {\n                    child._setParent(expandedItem);\n                });\n                expandedItem._setChildren(newChildren);\n            }\n        }\n    };\n    itemDataManager.prototype.updateTotals = function (expandedItemDataDTO) {\n        var totalSliceKeyIds = [];\n        var ds = new _data_storage_1.dataStorage(expandedItemDataDTO.DataStorageDTO);\n        this._dataStorage.insertSlice(ds, totalSliceKeyIds);\n    };\n    itemDataManager.prototype.getDataStorage = function () {\n        return this._dataStorage;\n    };\n    itemDataManager.prototype.getItemData = function () {\n        return this._itemData;\n    };\n    itemDataManager.prototype.getMetaData = function () {\n        return this._metaData;\n    };\n    itemDataManager.prototype._createMetaData = function (metaDataDTO) {\n        var metaData = new _item_meta_data_1.itemMetaData(metaDataDTO);\n        metaData.initialize();\n        return metaData;\n    };\n    return itemDataManager;\n}());\nexports.itemDataManager = itemDataManager;\n"]},"metadata":{},"sourceType":"script"}