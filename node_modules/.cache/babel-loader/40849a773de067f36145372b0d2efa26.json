{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_underlying-data-source.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.generateUnderlyingDataSource = void 0;\n\nvar custom_store_1 = require(\"devextreme/data/custom_store\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar notificator_1 = require(\"../../notification-controller/notificator\");\n\nvar _inspected_data_colum_generator_1 = require(\"./_inspected-data-colum-generator\");\n\nfunction generateUnderlyingDataSource(underlyingDataProvider, dashbordItem) {\n  var DataFieldPrefix = 'DataField';\n\n  var itemData = dashbordItem._getItemData();\n\n  if (underlyingDataProvider && itemData && !itemData.isEmpty()) {\n    var columnsState_1 = {};\n    return {\n      columns: null,\n      customizeColumns: function (columns) {\n        columns.forEach(function (column) {\n          var columnState = columnsState_1[column.dataField];\n\n          if (columnState) {\n            column.name = columnState.dataMember;\n            column.caption = columnState.displayName;\n          }\n        });\n      },\n      data: new custom_store_1.default({\n        loadMode: 'raw',\n        load: function () {\n          return _jquery_helpers_1.$promiseAdapter(underlyingDataProvider.requestUnderlyingData(dashbordItem, {\n            dataMembers: _inspected_data_colum_generator_1.getSortedColumns(itemData)\n          }).then(function (_a) {\n            var DataMembers = _a.DataMembers,\n                DataMembersDisplayNames = _a.DataMembersDisplayNames,\n                Data = _a.Data,\n                ErrorMessage = _a.ErrorMessage;\n\n            if (ErrorMessage) {\n              new Error(ErrorMessage);\n            }\n\n            DataMembers.forEach(function (member, index) {\n              columnsState_1[DataFieldPrefix + index.toString()] = {\n                dataMember: member,\n                displayName: DataMembersDisplayNames[index] || member\n              };\n            });\n            return Data.map(function (row) {\n              return DataMembers.reduce(function (acc, _, index) {\n                acc[DataFieldPrefix + index.toString()] = row[index];\n                return acc;\n              }, {});\n            });\n          }, function (result) {\n            throw new Error(notificator_1.NotificationController._getDetailedErrorMessage(result));\n          }));\n        }\n      })\n    };\n  } else {\n    return {\n      columns: [],\n      customizeColumns: function () {},\n      data: []\n    };\n  }\n}\n\nexports.generateUnderlyingDataSource = generateUnderlyingDataSource;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/extensions/data-inspector-extension/_underlying-data-source.js"],"names":["Object","defineProperty","exports","value","generateUnderlyingDataSource","custom_store_1","require","_jquery_helpers_1","notificator_1","_inspected_data_colum_generator_1","underlyingDataProvider","dashbordItem","DataFieldPrefix","itemData","_getItemData","isEmpty","columnsState_1","columns","customizeColumns","forEach","column","columnState","dataField","name","dataMember","caption","displayName","data","default","loadMode","load","$promiseAdapter","requestUnderlyingData","dataMembers","getSortedColumns","then","_a","DataMembers","DataMembersDisplayNames","Data","ErrorMessage","Error","member","index","toString","map","row","reduce","acc","_","result","NotificationController","_getDetailedErrorMessage"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_underlying-data-source.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUnderlyingDataSource = void 0;\nvar custom_store_1 = require(\"devextreme/data/custom_store\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar notificator_1 = require(\"../../notification-controller/notificator\");\nvar _inspected_data_colum_generator_1 = require(\"./_inspected-data-colum-generator\");\nfunction generateUnderlyingDataSource(underlyingDataProvider, dashbordItem) {\n    var DataFieldPrefix = 'DataField';\n    var itemData = dashbordItem._getItemData();\n    if (underlyingDataProvider && itemData && !itemData.isEmpty()) {\n        var columnsState_1 = {};\n        return {\n            columns: null,\n            customizeColumns: function (columns) {\n                columns.forEach(function (column) {\n                    var columnState = columnsState_1[column.dataField];\n                    if (columnState) {\n                        column.name = columnState.dataMember;\n                        column.caption = columnState.displayName;\n                    }\n                });\n            },\n            data: new custom_store_1.default({\n                loadMode: 'raw',\n                load: function () {\n                    return _jquery_helpers_1.$promiseAdapter(underlyingDataProvider.requestUnderlyingData(dashbordItem, {\n                        dataMembers: _inspected_data_colum_generator_1.getSortedColumns(itemData)\n                    }).then(function (_a) {\n                        var DataMembers = _a.DataMembers, DataMembersDisplayNames = _a.DataMembersDisplayNames, Data = _a.Data, ErrorMessage = _a.ErrorMessage;\n                        if (ErrorMessage) {\n                            new Error(ErrorMessage);\n                        }\n                        DataMembers.forEach(function (member, index) {\n                            columnsState_1[DataFieldPrefix + index.toString()] = {\n                                dataMember: member,\n                                displayName: DataMembersDisplayNames[index] || member,\n                            };\n                        });\n                        return Data.map(function (row) {\n                            return DataMembers.reduce(function (acc, _, index) {\n                                acc[DataFieldPrefix + index.toString()] = row[index];\n                                return acc;\n                            }, {});\n                        });\n                    }, function (result) {\n                        throw new Error(notificator_1.NotificationController._getDetailedErrorMessage(result));\n                    }));\n                }\n            })\n        };\n    }\n    else {\n        return {\n            columns: [],\n            customizeColumns: function () { },\n            data: [],\n        };\n    }\n}\nexports.generateUnderlyingDataSource = generateUnderlyingDataSource;\n"]},"metadata":{},"sourceType":"script"}