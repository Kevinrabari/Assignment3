{"ast":null,"code":"/**\n* DevExpress Analytics (core\\_bindings.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ko = require(\"knockout\");\n\nvar $ = require(\"jquery\");\n\nrequire(\"jquery-ui/ui/widgets/draggable\");\n\nrequire(\"jquery-ui/ui/widgets/resizable\");\n\nrequire(\"jquery-ui/ui/widgets/selectable\");\n\nrequire(\"jquery-ui/ui/widgets/mouse\");\n\nvar _internal_1 = require(\"../serializer/_internal\");\n\nvar _dragDropHandler_1 = require(\"./dragDrop/_dragDropHandler\");\n\nvar _utils_1 = require(\"./utils/_utils\");\n\nvar _keyboardHelper_1 = require(\"./tools/_keyboardHelper\");\n\nvar _utils_2 = require(\"../serializer/_utils\");\n\nvar _utils_3 = require(\"../property-grid/widgets/internal/_utils\");\n\nvar templateUtils_1 = require(\"../property-grid/widgets/templateUtils\");\n\nko.bindingHandlers['cssArray'] = {\n  'update': function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n    var value = ko.utils.unwrapObservable(valueAccessor());\n\n    for (var i = 0; i < value.length; i++) {\n      ko.bindingHandlers['css'].update(element, function () {\n        return value[i];\n      });\n    }\n  }\n};\nko.bindingHandlers['selectable'] = {\n  init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n    var values = valueAccessor(),\n        isUpdate = false,\n        $element = $(element),\n        selection = ko.unwrap(values.selection),\n        options = _utils_2.extend({\n      filter: '.dxd-selectable',\n      distance: 1\n    }, ko.unwrap(values), {\n      selecting: function (event, ui) {\n        var _event = {\n          control: ko.dataFor(ui.selecting),\n          cancel: false,\n          ctrlKey: event.ctrlKey\n        };\n        selection.selecting(_event);\n\n        if (_event.cancel) {\n          $(ui.selecting).removeClass('ui-selecting');\n        }\n      },\n      start: function (event, ui) {\n        selection.clickHandler(null, event);\n        selection.started = true;\n        event.stopPropagation();\n      },\n      stop: function () {\n        selection.started = false;\n        selection.applySelection();\n      },\n      unselecting: function (event, ui) {\n        selection.unselecting(ko.dataFor(ui.unselecting));\n      },\n      classes: {\n        'ui-selectable-helper': 'dxrd-selection-content'\n      }\n    });\n\n    $element['selectable'](options);\n    var subscriptions = [];\n\n    var subscribeProperty = function (property, optionName) {\n      if (property && ko.isSubscribable(property)) {\n        subscriptions.push(property.subscribe(function (newVal) {\n          $element['selectable']('option', optionName, newVal);\n        }));\n      }\n    };\n\n    subscribeProperty(selection.disabled, 'disabled');\n    subscribeProperty(values.zoom, 'zoom');\n\n    _internal_1.addDisposeCallback(element, function () {\n      if ($element.data('ui-selectable')) {\n        $element['selectable']('destroy');\n      }\n\n      $element = null;\n      subscribeProperty = null;\n      subscriptions.forEach(function (x) {\n        return x.dispose();\n      });\n    });\n  }\n};\nko.bindingHandlers['updateTop'] = {\n  init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n    var value = valueAccessor();\n    var $element = $(element);\n\n    var updateTop = function (value) {\n      var scaleY = element.getBoundingClientRect().height / element.offsetHeight;\n      var top = value === 0 || !!value ? value : $element.prev().position().top / scaleY + $element.prev().outerHeight();\n      $element.css('top', top + 'px');\n    };\n\n    var subscription = value.subscribe(function (newVal) {\n      updateTop(newVal);\n    });\n    updateTop(value());\n\n    _internal_1.addDisposeCallback(element, function () {\n      subscription.dispose();\n    });\n  }\n};\nko.bindingHandlers['draggable'] = {\n  init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var values = valueAccessor();\n    if (!values) return;\n\n    var $element = $(element),\n        $parent = values.parent && values.parent() || $element.closest('.dx-designer-viewport'),\n        containment = values.containment || '.dxrd-ghost-container',\n        $viewport,\n        $ghostContainerOffset,\n        $containmentOffset,\n        initialScroll = {\n      left: 0,\n      top: 0\n    },\n        attachDelta = function (ui) {\n      ui['delta'] = {\n        left: ($ghostContainerOffset && $ghostContainerOffset.left || 0) - $containmentOffset.left,\n        top: ($ghostContainerOffset && $ghostContainerOffset.top || 0) - $containmentOffset.top\n      };\n      ui['scroll'] = {\n        left: $viewport.scrollLeft() - initialScroll.left,\n        top: $viewport.scrollTop() - initialScroll.top\n      };\n    },\n        options = _utils_2.extend({}, ko.unwrap(values), {\n      start: function (event, ui) {\n        _dragDropHandler_1.DragDropHandler.started(true);\n\n        var draggable = $element.data('ui-draggable');\n        $viewport = $parent.find('.dxrd-viewport');\n        $ghostContainerOffset = $parent.find('.dxrd-ghost-container').offset();\n        $containmentOffset = $parent.find(containment).offset();\n        initialScroll.left = $viewport.scrollLeft();\n        initialScroll.top = $viewport.scrollTop();\n        values.startDrag && values.startDrag(ko.dataFor(event.currentTarget || event.toElement));\n      },\n      stop: function (event, ui) {\n        attachDelta(ui);\n        values.stopDrag(ui, ko.dataFor(event.target), event);\n\n        _dragDropHandler_1.DragDropHandler.started(false);\n      },\n      drag: function (event, ui) {\n        attachDelta(ui);\n        values.drag && values.drag(event, ui);\n      },\n      helper: function (event) {\n        var $container;\n\n        if (values.helper) {\n          $container = values.helper(ko.dataFor(event.currentTarget || event['toElement']), event);\n          if ($container) return $container;\n        }\n\n        var templateHtml = templateUtils_1.getTemplate(bindingContext.$root.dragHelperContent.template);\n        $container = $(templateHtml).css({\n          'display': values.helper ? 'block' : 'none'\n        });\n        $container.prependTo($parent.find(options.containment));\n        ko.applyBindingsToDescendants(bindingContext.$root.dragHelperContent, $container[0]);\n        return $container;\n      }\n    });\n\n    options.containment = $parent.find(options.containment);\n    $element['draggable'](options);\n\n    _internal_1.addDisposeCallback(element, function () {\n      if ($element.data('ui-draggable')) $element['draggable']('destroy');\n    });\n  }\n};\nvar trackCursorData = 'dxd-track-cursor-data';\nvar trackCursorClass = 'dxd-track-cursor';\nvar trackCursorSelector = '.' + trackCursorClass;\nvar dragHelperLineClass = 'dxrd-drag-helper-item';\nko.bindingHandlers['trackCursor'] = {\n  init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n    var $element = $(element);\n    $element.addClass(trackCursorClass);\n    var value = valueAccessor();\n    var recalculateBounds = false;\n\n    if (value['recalculateBounds']) {\n      recalculateBounds = value['recalculateBounds'];\n      value = value['underCursor'];\n    }\n\n    var bounds = element.getBoundingClientRect(),\n        body = document.body,\n        docElem = document.documentElement,\n        overHandler = function (event) {\n      if (!(bindingContext.$root.selection.started && bindingContext.$root.resizeHandler.started)) {\n        if (!value().isNotDropTarget) {\n          bindingContext.$root.selection.dropTarget = bindingContext.$data;\n          event.stopPropagation();\n        }\n      }\n    },\n        enterHandler = function (event) {\n      value(_utils_2.extend(value(), {\n        isOver: true\n      }));\n\n      if (!(bindingContext.$root.selection.started && bindingContext.$root.resizeHandler.started)) {\n        bounds = element.getBoundingClientRect();\n      }\n    },\n        leaveHandler = function (event) {\n      value(_utils_2.extend(value(), {\n        isOver: false\n      }));\n    },\n        handler = function (event) {\n      if (recalculateBounds) bounds = element.getBoundingClientRect();\n\n      if (!(bindingContext.$root.selection.started && bindingContext.$root.resizeHandler.started)) {\n        var scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop,\n            scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft,\n            clientTop = docElem.clientTop || body.clientTop || 0,\n            clientLeft = docElem.clientLeft || body.clientLeft || 0,\n            y = event.pageY - (bounds.top + scrollTop - clientTop),\n            x = event.pageX - (bounds.left + scrollLeft - clientLeft);\n        value(_utils_2.extend(value(), {\n          x: x,\n          y: y\n        }));\n      }\n    };\n\n    element.addEventListener('mousemove', handler);\n    !recalculateBounds && element.addEventListener('mouseenter', enterHandler);\n    element.addEventListener('mouseover', overHandler);\n    element.addEventListener('mouseleave', leaveHandler);\n    element.addEventListener('dragover', handler);\n\n    _internal_1.addDisposeCallback(element, function () {\n      element.removeEventListener('dragover', handler);\n      element.removeEventListener('mousemove', handler);\n      element.removeEventListener('mouseover', overHandler);\n      element.removeEventListener('mouseleave', leaveHandler);\n      !recalculateBounds && element.removeEventListener('mouseenter', enterHandler);\n      $element.removeClass(trackCursorClass);\n    });\n  }\n};\nko.bindingHandlers['templates'] = {\n  init: function (element, valueAccessor) {\n    var templateHtml = $(valueAccessor()).text(),\n        $templateHtml = $(templateHtml);\n    $(element).append($templateHtml);\n    return {\n      controlsDescendantBindings: true\n    };\n  }\n};\nko.bindingHandlers['zoom'] = {\n  update: function (element, valueAccessor) {\n    var value = ko.unwrap(valueAccessor() || {});\n\n    for (var i = 0; i < _utils_1.cssTransform.length; i++) {\n      element.style[_utils_1.cssTransform[i]] = 'scale(' + value + ')';\n    }\n\n    $(element).addClass('dxrd-transform-origin-left-top');\n  }\n};\n\nko.bindingHandlers['keyDownActions'] = function () {\n  var handlersManager = new _keyboardHelper_1.KeyDownHandlersManager(window);\n  return {\n    init: function (element, valueAccessor) {\n      var actionLists = valueAccessor(),\n          handler = function (e) {\n        actionLists.processShortcut(ko.unwrap(actionLists.toolbarItems), e);\n      };\n\n      if (ko.isSubscribable(actionLists.enabled)) {\n        var subscribe = actionLists.enabled.subscribe(function (newVal) {\n          if (newVal) handlersManager.bindHandler(element, handler);\n        });\n\n        _internal_1.addDisposeCallback(element, function () {\n          return subscribe.dispose();\n        });\n      }\n\n      if (ko.unwrap(actionLists.enabled)) handlersManager.bindHandler(element, handler);\n    }\n  };\n}();\n\nko.bindingHandlers['accessibilityKeyboardHelper'] = function () {\n  return {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n      var handlersManager = valueAccessor();\n\n      if (handlersManager && (bindingContext.$root.accessibilityCompliant || handlersManager.accessibilityCompliantEnabled)) {\n        var subscription = ko.bindingEvent.subscribe(element, 'childrenComplete', function () {\n          handlersManager.bindHandler(element);\n        });\n\n        _internal_1.addDisposeCallback(element, function () {\n          subscription.dispose();\n        });\n      }\n    }\n  };\n}();\n\nko.bindingHandlers['dxAction'] = function () {\n  return {\n    init: function (element, valueAccessor) {\n      var values = valueAccessor();\n\n      var clickHandler = function (e) {\n        values.action.call(values.model, values.model, e);\n      };\n\n      var keyPressHandler = function (e) {\n        if (e.key == _utils_3.KeyboardEnum.Enter || e.key == _utils_3.KeyboardEnum.Space) {\n          values.action.call(values.model, values.model, e);\n        }\n      };\n\n      element.addEventListener('click', clickHandler);\n      element.addEventListener('keydown', keyPressHandler);\n\n      _internal_1.addDisposeCallback(element, function () {\n        element.removeEventListener('click', clickHandler);\n        element.removeEventListener('keydown', keyPressHandler);\n      });\n    }\n  };\n}();\n\nko.extenders.dxdnum = function (target, value) {\n  target.subscribe(function (newValue) {\n    if (value.max) {\n      target(Math.min(newValue, value.max));\n    } else if (value.min) {\n      target(Math.max(newValue, value.min));\n    }\n  });\n  return target;\n};","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/core/_bindings.js"],"names":["Object","defineProperty","exports","value","ko","require","$","_internal_1","_dragDropHandler_1","_utils_1","_keyboardHelper_1","_utils_2","_utils_3","templateUtils_1","bindingHandlers","element","valueAccessor","allBindings","viewModel","bindingContext","utils","unwrapObservable","i","length","update","init","values","isUpdate","$element","selection","unwrap","options","extend","filter","distance","selecting","event","ui","_event","control","dataFor","cancel","ctrlKey","removeClass","start","clickHandler","started","stopPropagation","stop","applySelection","unselecting","classes","subscriptions","subscribeProperty","property","optionName","isSubscribable","push","subscribe","newVal","disabled","zoom","addDisposeCallback","data","forEach","x","dispose","updateTop","scaleY","getBoundingClientRect","height","offsetHeight","top","prev","position","outerHeight","css","subscription","allBindingsAccessor","$parent","parent","closest","containment","$viewport","$ghostContainerOffset","$containmentOffset","initialScroll","left","attachDelta","scrollLeft","scrollTop","DragDropHandler","draggable","find","offset","startDrag","currentTarget","toElement","stopDrag","target","drag","helper","$container","templateHtml","getTemplate","$root","dragHelperContent","template","prependTo","applyBindingsToDescendants","trackCursorData","trackCursorClass","trackCursorSelector","dragHelperLineClass","addClass","recalculateBounds","bounds","body","document","docElem","documentElement","overHandler","resizeHandler","isNotDropTarget","dropTarget","$data","enterHandler","isOver","leaveHandler","handler","window","pageYOffset","pageXOffset","clientTop","clientLeft","y","pageY","pageX","addEventListener","removeEventListener","text","$templateHtml","append","controlsDescendantBindings","cssTransform","style","handlersManager","KeyDownHandlersManager","actionLists","e","processShortcut","toolbarItems","enabled","bindHandler","accessibilityCompliant","accessibilityCompliantEnabled","bindingEvent","action","call","model","keyPressHandler","key","KeyboardEnum","Enter","Space","extenders","dxdnum","newValue","max","Math","min"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (core\\_bindings.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ko = require(\"knockout\");\nvar $ = require(\"jquery\");\nrequire(\"jquery-ui/ui/widgets/draggable\");\nrequire(\"jquery-ui/ui/widgets/resizable\");\nrequire(\"jquery-ui/ui/widgets/selectable\");\nrequire(\"jquery-ui/ui/widgets/mouse\");\nvar _internal_1 = require(\"../serializer/_internal\");\nvar _dragDropHandler_1 = require(\"./dragDrop/_dragDropHandler\");\nvar _utils_1 = require(\"./utils/_utils\");\nvar _keyboardHelper_1 = require(\"./tools/_keyboardHelper\");\nvar _utils_2 = require(\"../serializer/_utils\");\nvar _utils_3 = require(\"../property-grid/widgets/internal/_utils\");\nvar templateUtils_1 = require(\"../property-grid/widgets/templateUtils\");\nko.bindingHandlers['cssArray'] = {\n    'update': function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var value = ko.utils.unwrapObservable(valueAccessor());\n        for (var i = 0; i < value.length; i++) {\n            ko.bindingHandlers['css'].update(element, function () { return value[i]; });\n        }\n    }\n};\nko.bindingHandlers['selectable'] = {\n    init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var values = valueAccessor(), isUpdate = false, $element = $(element), selection = ko.unwrap(values.selection), options = _utils_2.extend({ filter: '.dxd-selectable', distance: 1 }, ko.unwrap(values), {\n            selecting: function (event, ui) {\n                var _event = { control: ko.dataFor(ui.selecting), cancel: false, ctrlKey: event.ctrlKey };\n                selection.selecting(_event);\n                if (_event.cancel) {\n                    $(ui.selecting).removeClass('ui-selecting');\n                }\n            },\n            start: function (event, ui) {\n                selection.clickHandler(null, event);\n                selection.started = true;\n                event.stopPropagation();\n            },\n            stop: function () {\n                selection.started = false;\n                selection.applySelection();\n            },\n            unselecting: function (event, ui) {\n                selection.unselecting(ko.dataFor(ui.unselecting));\n            },\n            classes: {\n                'ui-selectable-helper': 'dxrd-selection-content'\n            }\n        });\n        $element['selectable'](options);\n        var subscriptions = [];\n        var subscribeProperty = function (property, optionName) {\n            if (property && ko.isSubscribable(property)) {\n                subscriptions.push(property.subscribe(function (newVal) {\n                    $element['selectable']('option', optionName, newVal);\n                }));\n            }\n        };\n        subscribeProperty(selection.disabled, 'disabled');\n        subscribeProperty(values.zoom, 'zoom');\n        _internal_1.addDisposeCallback(element, function () {\n            if ($element.data('ui-selectable')) {\n                $element['selectable']('destroy');\n            }\n            $element = null;\n            subscribeProperty = null;\n            subscriptions.forEach(function (x) { return x.dispose(); });\n        });\n    }\n};\nko.bindingHandlers['updateTop'] = {\n    init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var value = valueAccessor();\n        var $element = $(element);\n        var updateTop = function (value) {\n            var scaleY = element.getBoundingClientRect().height / element.offsetHeight;\n            var top = (value === 0 || !!value) ? value : ($element.prev().position().top / scaleY) + $element.prev().outerHeight();\n            $element.css('top', top + 'px');\n        };\n        var subscription = value.subscribe(function (newVal) {\n            updateTop(newVal);\n        });\n        updateTop(value());\n        _internal_1.addDisposeCallback(element, function () {\n            subscription.dispose();\n        });\n    }\n};\nko.bindingHandlers['draggable'] = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var values = valueAccessor();\n        if (!values)\n            return;\n        var $element = $(element), $parent = values.parent && values.parent() || $element.closest('.dx-designer-viewport'), containment = values.containment || '.dxrd-ghost-container', $viewport, $ghostContainerOffset, $containmentOffset, initialScroll = { left: 0, top: 0 }, attachDelta = function (ui) {\n            ui['delta'] = {\n                left: ($ghostContainerOffset && $ghostContainerOffset.left || 0) - $containmentOffset.left,\n                top: ($ghostContainerOffset && $ghostContainerOffset.top || 0) - $containmentOffset.top\n            };\n            ui['scroll'] = {\n                left: $viewport.scrollLeft() - initialScroll.left,\n                top: $viewport.scrollTop() - initialScroll.top\n            };\n        }, options = _utils_2.extend({}, ko.unwrap(values), {\n            start: function (event, ui) {\n                _dragDropHandler_1.DragDropHandler.started(true);\n                var draggable = $element.data('ui-draggable');\n                $viewport = $parent.find('.dxrd-viewport');\n                $ghostContainerOffset = $parent.find('.dxrd-ghost-container').offset();\n                $containmentOffset = $parent.find(containment).offset();\n                initialScroll.left = $viewport.scrollLeft();\n                initialScroll.top = $viewport.scrollTop();\n                values.startDrag && values.startDrag(ko.dataFor(event.currentTarget || event.toElement));\n            },\n            stop: function (event, ui) {\n                attachDelta(ui);\n                values.stopDrag(ui, ko.dataFor(event.target), event);\n                _dragDropHandler_1.DragDropHandler.started(false);\n            },\n            drag: function (event, ui) {\n                attachDelta(ui);\n                values.drag && values.drag(event, ui);\n            },\n            helper: function (event) {\n                var $container;\n                if (values.helper) {\n                    $container = values.helper(ko.dataFor(event.currentTarget || event['toElement']), event);\n                    if ($container)\n                        return $container;\n                }\n                var templateHtml = templateUtils_1.getTemplate(bindingContext.$root.dragHelperContent.template);\n                $container = $(templateHtml).css({ 'display': values.helper ? 'block' : 'none' });\n                $container.prependTo($parent.find(options.containment));\n                ko.applyBindingsToDescendants(bindingContext.$root.dragHelperContent, $container[0]);\n                return $container;\n            }\n        });\n        options.containment = $parent.find(options.containment);\n        $element['draggable'](options);\n        _internal_1.addDisposeCallback(element, function () {\n            if ($element.data('ui-draggable'))\n                $element['draggable']('destroy');\n        });\n    }\n};\nvar trackCursorData = 'dxd-track-cursor-data';\nvar trackCursorClass = 'dxd-track-cursor';\nvar trackCursorSelector = '.' + trackCursorClass;\nvar dragHelperLineClass = 'dxrd-drag-helper-item';\nko.bindingHandlers['trackCursor'] = {\n    init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n        var $element = $(element);\n        $element.addClass(trackCursorClass);\n        var value = valueAccessor();\n        var recalculateBounds = false;\n        if (value['recalculateBounds']) {\n            recalculateBounds = value['recalculateBounds'];\n            value = value['underCursor'];\n        }\n        var bounds = element.getBoundingClientRect(), body = document.body, docElem = document.documentElement, overHandler = function (event) {\n            if (!(bindingContext.$root.selection.started && bindingContext.$root.resizeHandler.started)) {\n                if (!value().isNotDropTarget) {\n                    bindingContext.$root.selection.dropTarget = bindingContext.$data;\n                    event.stopPropagation();\n                }\n            }\n        }, enterHandler = function (event) {\n            value(_utils_2.extend(value(), { isOver: true }));\n            if (!(bindingContext.$root.selection.started && bindingContext.$root.resizeHandler.started)) {\n                bounds = element.getBoundingClientRect();\n            }\n        }, leaveHandler = function (event) {\n            value(_utils_2.extend(value(), { isOver: false }));\n        }, handler = function (event) {\n            if (recalculateBounds)\n                bounds = element.getBoundingClientRect();\n            if (!(bindingContext.$root.selection.started && bindingContext.$root.resizeHandler.started)) {\n                var scrollTop = window.pageYOffset || docElem.scrollTop || body.scrollTop, scrollLeft = window.pageXOffset || docElem.scrollLeft || body.scrollLeft, clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0, y = event.pageY - (bounds.top + scrollTop - clientTop), x = event.pageX - (bounds.left + scrollLeft - clientLeft);\n                value(_utils_2.extend(value(), { x: x, y: y }));\n            }\n        };\n        element.addEventListener('mousemove', handler);\n        !recalculateBounds && element.addEventListener('mouseenter', enterHandler);\n        element.addEventListener('mouseover', overHandler);\n        element.addEventListener('mouseleave', leaveHandler);\n        element.addEventListener('dragover', handler);\n        _internal_1.addDisposeCallback(element, function () {\n            element.removeEventListener('dragover', handler);\n            element.removeEventListener('mousemove', handler);\n            element.removeEventListener('mouseover', overHandler);\n            element.removeEventListener('mouseleave', leaveHandler);\n            !recalculateBounds && element.removeEventListener('mouseenter', enterHandler);\n            $element.removeClass(trackCursorClass);\n        });\n    }\n};\nko.bindingHandlers['templates'] = {\n    init: function (element, valueAccessor) {\n        var templateHtml = $(valueAccessor()).text(), $templateHtml = $(templateHtml);\n        $(element).append($templateHtml);\n        return { controlsDescendantBindings: true };\n    }\n};\nko.bindingHandlers['zoom'] = {\n    update: function (element, valueAccessor) {\n        var value = ko.unwrap(valueAccessor() || {});\n        for (var i = 0; i < _utils_1.cssTransform.length; i++) {\n            element.style[_utils_1.cssTransform[i]] = 'scale(' + (value) + ')';\n        }\n        $(element).addClass('dxrd-transform-origin-left-top');\n    }\n};\nko.bindingHandlers['keyDownActions'] = (function () {\n    var handlersManager = new _keyboardHelper_1.KeyDownHandlersManager(window);\n    return {\n        init: function (element, valueAccessor) {\n            var actionLists = valueAccessor(), handler = function (e) { actionLists.processShortcut(ko.unwrap(actionLists.toolbarItems), e); };\n            if (ko.isSubscribable(actionLists.enabled)) {\n                var subscribe = actionLists.enabled.subscribe(function (newVal) {\n                    if (newVal)\n                        handlersManager.bindHandler(element, handler);\n                });\n                _internal_1.addDisposeCallback(element, function () { return subscribe.dispose(); });\n            }\n            if (ko.unwrap(actionLists.enabled))\n                handlersManager.bindHandler(element, handler);\n        }\n    };\n})();\nko.bindingHandlers['accessibilityKeyboardHelper'] = (function () {\n    return {\n        init: function (element, valueAccessor, allBindingsAccessor, viewModel, bindingContext) {\n            var handlersManager = valueAccessor();\n            if (handlersManager && (bindingContext.$root.accessibilityCompliant || handlersManager.accessibilityCompliantEnabled)) {\n                var subscription = ko.bindingEvent.subscribe(element, 'childrenComplete', function () {\n                    handlersManager.bindHandler(element);\n                });\n                _internal_1.addDisposeCallback(element, function () {\n                    subscription.dispose();\n                });\n            }\n        }\n    };\n})();\nko.bindingHandlers['dxAction'] = (function () {\n    return {\n        init: function (element, valueAccessor) {\n            var values = valueAccessor();\n            var clickHandler = function (e) {\n                values.action.call(values.model, values.model, e);\n            };\n            var keyPressHandler = function (e) {\n                if (e.key == _utils_3.KeyboardEnum.Enter || e.key == _utils_3.KeyboardEnum.Space) {\n                    values.action.call(values.model, values.model, e);\n                }\n            };\n            element.addEventListener('click', clickHandler);\n            element.addEventListener('keydown', keyPressHandler);\n            _internal_1.addDisposeCallback(element, function () {\n                element.removeEventListener('click', clickHandler);\n                element.removeEventListener('keydown', keyPressHandler);\n            });\n        }\n    };\n})();\nko.extenders.dxdnum = function (target, value) {\n    target.subscribe(function (newValue) {\n        if (value.max) {\n            target(Math.min(newValue, value.max));\n        }\n        else if (value.min) {\n            target(Math.max(newValue, value.min));\n        }\n    });\n    return target;\n};\n"]},"metadata":{},"sourceType":"script"}