{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_shared-composers.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SharedComposers = void 0;\n\nvar ko = require(\"knockout\");\n\nvar _default_1 = require(\"../../../data/localization/_default\");\n\nvar model_1 = require(\"../../../model\");\n\nvar _data_item_1 = require(\"../../../model/data-item/metadata/_data-item\");\n\nvar _data_item_format_1 = require(\"../../../model/data-item/metadata/_data-item-format\");\n\nvar _helper_classes_1 = require(\"../../../model/internal/_helper-classes\");\n\nvar _knockout_utils_1 = require(\"../../../model/internal/_knockout-utils\");\n\nvar chart_series_1 = require(\"../../../model/items/chart/chart-series\");\n\nvar _chart_axis_1 = require(\"../../../model/items/chart/metadata/_chart-axis\");\n\nvar _chart_item_1 = require(\"../../../model/items/chart/metadata/_chart-item\");\n\nvar _chart_legend_1 = require(\"../../../model/items/chart/metadata/_chart-legend\");\n\nvar _chart_series_1 = require(\"../../../model/items/chart/metadata/_chart-series\");\n\nvar _point_label_options_1 = require(\"../../../model/items/chart/metadata/_point-label-options\");\n\nvar _map_item_1 = require(\"../../../model/items/map/metadata/_map-item\");\n\nvar _map_legend_1 = require(\"../../../model/items/map/metadata/_map-legend\");\n\nvar _dashboard_item_1 = require(\"../../../model/items/metadata/_dashboard-item\");\n\nvar _delta_options_1 = require(\"../../../model/items/options/metadata/_delta-options\");\n\nvar _sparkline_options_1 = require(\"../../../model/items/options/metadata/_sparkline-options\");\n\nvar date_time_period_1 = require(\"../../../model/items/range-filter/date-time-period\");\n\nvar _range_filter_item_1 = require(\"../../../model/items/range-filter/metadata/_range-filter-item\");\n\nvar _scatter_point_label_options_1 = require(\"../../../model/items/scatter-chart/metadata/_scatter-point-label-options\");\n\nvar scatter_chart_item_1 = require(\"../../../model/items/scatter-chart/scatter-chart-item\");\n\nvar _base_metadata_1 = require(\"../../../model/metadata/_base-metadata\");\n\nvar legacy_settings_1 = require(\"../../../viewer-parts/legacy-settings\");\n\nvar _form_adapter_editors_1 = require(\"../../form-adapter/_form-adapter-editors\");\n\nvar _object_properties_wrapper_1 = require(\"../../form-adapter/_object-properties-wrapper\");\n\nvar _accordion_tab_1 = require(\"../../properties-controller/_accordion-tab\");\n\nvar _collection_editor_viewmodel_1 = require(\"../../ui-widgets/collection-editor/_collection-editor-viewmodel\");\n\nvar _collection_editor_viewmodel_base_1 = require(\"../../ui-widgets/collection-editor/_collection-editor-viewmodel-base\");\n\nvar _map_custom_shapefile_surface_1 = require(\"../surfaces/_map-custom-shapefile-surface\");\n\nvar SharedComposers = function () {\n  function SharedComposers() {}\n\n  SharedComposers.getCommonTab = function (model, properties, disabledRules) {\n    if (properties === void 0) {\n      properties = [];\n    }\n\n    if (disabledRules === void 0) {\n      disabledRules = {};\n    }\n\n    var wrapper = this.getCommonWrapper(model, properties, disabledRules);\n    return new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.Common, 'DashboardWebStringId.AccordionTab.Common', wrapper);\n  };\n\n  SharedComposers.getAllTab = function (model) {\n    return new _accordion_tab_1.AccordionTab('ALL', 'All', new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: []\n    }));\n  };\n\n  SharedComposers.getContentArrangementTab = function (model) {\n    return new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.ContentArrangement, 'DashboardWebStringId.AccordionTab.Layout', this.getContentArrangementWrapper(model));\n  };\n\n  SharedComposers.getCommonWrapper = function (model, specificProperties, specificDisabledRules, specificVisibilityRules) {\n    if (specificProperties === void 0) {\n      specificProperties = [];\n    }\n\n    if (specificDisabledRules === void 0) {\n      specificDisabledRules = {};\n    }\n\n    if (specificVisibilityRules === void 0) {\n      specificVisibilityRules = {};\n    }\n\n    var properties = [_dashboard_item_1.showCaption, _base_metadata_1.name];\n    properties = properties.concat(specificProperties);\n    var disabledRules = {};\n    Object.keys(specificDisabledRules).forEach(function (key) {\n      disabledRules[key] = specificDisabledRules[key];\n    });\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: properties,\n      visibilityFilterRules: specificVisibilityRules,\n      disabledFilterRules: disabledRules\n    });\n  };\n\n  SharedComposers.getCommonMapWrapper = function (model, propertiesController, specificProperties) {\n    if (specificProperties === void 0) {\n      specificProperties = [];\n    }\n\n    var editHandler = function () {\n      var surface = new _map_custom_shapefile_surface_1.MapCustomShapeFileSurface(model.customShapefile, propertiesController);\n      surface.startEditing(new _collection_editor_viewmodel_1.CollectionEditorEditItemArguments());\n    };\n\n    var editorOptions = {\n      dataSource: Object.keys(_map_item_1.area.values),\n      getDisplayText: function (item) {\n        return _default_1.getLocalizationById(_map_item_1.area.values[item]);\n      },\n      enableEditItem: function (item) {\n        return item === 'Custom';\n      },\n      editItemHandler: editHandler,\n      onSelectionChanged: function (item) {\n        if (item === 'Custom' && !model.customShapefile.url() && !model.customShapefile.data.shapeData()) editHandler();\n      }\n    };\n    var properties = [__assign(__assign({}, _map_item_1.area), {\n      formAdapterItem: _form_adapter_editors_1.editableListEditor(editorOptions)\n    })].concat(specificProperties);\n    return SharedComposers.getCommonWrapper(model, properties);\n  };\n\n  SharedComposers.getAxisWrapper = function (model, axisComputedTitle, alwaysShowZeroLevelInfo, isDateField, isNumericField, groupInterval) {\n    if (isDateField === void 0) {\n      isDateField = false;\n    }\n\n    if (isNumericField === void 0) {\n      isNumericField = true;\n    }\n\n    if (groupInterval === void 0) {\n      groupInterval = 'None';\n    }\n\n    var disabledRules = {};\n    var visibilityRules = {};\n    disabledRules[_chart_axis_1.titleVisibleBaseInfo.propertyName] = [_chart_axis_1.axisVisible.propertyName, '=', false];\n    disabledRules[_chart_axis_1.title.propertyName] = [[_chart_axis_1.titleVisibleBaseInfo.propertyName, '=', false], 'or', [_chart_axis_1.axisVisible.propertyName, '=', false]];\n    disabledRules[_chart_axis_1.logarithmicBase.propertyName] = [_chart_axis_1.logarithmic.propertyName, '=', false];\n    disabledRules[_chart_axis_1.limitVisiblePoints.propertyName] = [_chart_axis_1.axisVisible.propertyName, '=', false];\n    disabledRules[_chart_axis_1.visiblePointsCount.propertyName] = [[_chart_axis_1.limitVisiblePoints.propertyName, '=', false], 'or', [_chart_axis_1.axisVisible.propertyName, '=', false]];\n    disabledRules[_data_item_1.numericFormat.propertyName] = [_data_item_1.numericFormat.propertyName, '=', false];\n    disabledRules[_data_item_1.dateTimeFormat.propertyName] = [_data_item_1.dateTimeFormat.propertyName, '=', false];\n    var properties = alwaysShowZeroLevelInfo ? [alwaysShowZeroLevelInfo] : [];\n    properties = properties.concat([_chart_axis_1.reverse, _chart_axis_1.showGridLinesBaseInfo, _chart_axis_1.axisVisible, _chart_axis_1.titleVisibleBaseInfo, __assign({\n      editorOptions: {\n        placeholder: axisComputedTitle\n      }\n    }, _chart_axis_1.title), _chart_axis_1.logarithmic, _chart_axis_1.logarithmicBase, _chart_axis_1.enableZooming, _chart_axis_1.limitVisiblePoints, _chart_axis_1.visiblePointsCount]);\n\n    if (isDateField) {\n      properties.push({\n        container: _data_item_1.dateTimeFormat,\n        properties: [_data_item_format_1.yearFormat, _data_item_format_1.monthFormat, _data_item_format_1.quarterFormat, _data_item_format_1.dayOfWeekFormat, _data_item_format_1.hourFormat, _data_item_format_1.dateFormat, _data_item_format_1.dateHourFormat, _data_item_format_1.dateHourMinuteFormat, _data_item_format_1.dateTimeWithSecondsFormat, _data_item_format_1.exactDateFormat]\n      });\n\n      visibilityRules[_data_item_format_1.yearFormat.propertyName] = function () {\n        return groupInterval === 'Year';\n      };\n\n      visibilityRules[_data_item_format_1.quarterFormat.propertyName] = function () {\n        return groupInterval === 'Quarter';\n      };\n\n      visibilityRules[_data_item_format_1.monthFormat.propertyName] = function () {\n        return groupInterval === 'Month';\n      };\n\n      visibilityRules[_data_item_format_1.hourFormat.propertyName] = function () {\n        return groupInterval === 'Hour';\n      };\n\n      visibilityRules[_data_item_format_1.dayOfWeekFormat.propertyName] = function () {\n        return groupInterval === 'DayOfWeek';\n      };\n\n      visibilityRules[_data_item_format_1.dateFormat.propertyName] = function () {\n        return groupInterval === 'DayMonthYear';\n      };\n\n      visibilityRules[_data_item_format_1.dateHourFormat.propertyName] = function () {\n        return groupInterval === 'DateHour';\n      };\n\n      visibilityRules[_data_item_format_1.dateHourMinuteFormat.propertyName] = function () {\n        return groupInterval === 'DateHourMinute';\n      };\n\n      visibilityRules[_data_item_format_1.dateTimeWithSecondsFormat.propertyName] = function () {\n        return groupInterval === 'DateHourMinuteSecond';\n      };\n\n      visibilityRules[_data_item_format_1.exactDateFormat.propertyName] = function () {\n        return groupInterval === 'None';\n      };\n    }\n\n    if (isNumericField) {\n      properties.push(__assign(__assign({\n        sourceObject: this.getNumericFormatWrapper(model.numericFormat)\n      }, _data_item_1.numericFormat), {\n        displayName: null,\n        formAdapterItem: _form_adapter_editors_1.nestedPropertyGridEditor(_default_1.getLocalizationById(_data_item_1.numericFormat.displayName))\n      }));\n    }\n\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: properties,\n      disabledFilterRules: disabledRules,\n      visibilityFilterRules: visibilityRules\n    });\n  };\n\n  SharedComposers.getLegendWrapper = function (model) {\n    var properties = [_chart_legend_1.chartLegendVisible, _chart_legend_1.isInsideDiagram, _chart_legend_1.insidePosition, _chart_legend_1.outsidePosition];\n    var disabledRules = {};\n    disabledRules[_chart_legend_1.isInsideDiagram.propertyName] = [_chart_legend_1.chartLegendVisible.propertyName, '=', false];\n    disabledRules[_chart_legend_1.insidePosition.propertyName] = [_chart_legend_1.chartLegendVisible.propertyName, '=', false];\n    disabledRules[_chart_legend_1.outsidePosition.propertyName] = [_chart_legend_1.chartLegendVisible.propertyName, '=', false];\n    var visibleRules = {};\n    visibleRules[_chart_legend_1.insidePosition.propertyName] = [_chart_legend_1.isInsideDiagram.propertyName, '=', true];\n    visibleRules[_chart_legend_1.outsidePosition.propertyName] = [_chart_legend_1.isInsideDiagram.propertyName, '=', false];\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: [{\n        container: _chart_item_1.chartLegend,\n        properties: properties\n      }],\n      disabledFilterRules: disabledRules,\n      visibilityFilterRules: visibleRules\n    });\n  };\n\n  SharedComposers.getContentArrangementWrapper = function (model) {\n    var properties = [_base_metadata_1.contentArrangementMode, _base_metadata_1.contentLineCount];\n    var disabledRules = {};\n    disabledRules[_base_metadata_1.contentLineCount.propertyName] = [_base_metadata_1.contentArrangementMode.propertyName, '=', 'Auto'];\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: properties,\n      disabledFilterRules: disabledRules\n    });\n  };\n\n  SharedComposers.getLabelsWrapper = function (model) {\n    if (model) {\n      var simpleSeries = model instanceof chart_series_1.SimpleSeries ? model : null;\n      var properties = [];\n\n      if (model instanceof scatter_chart_item_1.ScatterChartItem) {\n        properties.push(_point_label_options_1.showPointLabels);\n        properties.push(_scatter_point_label_options_1.content);\n      } else {\n        var isFullStackedSeries = simpleSeries && ['FullStackedBar', 'FullStackedLine', 'FullStackedArea', 'FullStackedSplineArea'].indexOf(simpleSeries.seriesType()) >= 0;\n        var avaliablePointLabelContentTypes = isFullStackedSeries ? [{\n          value: model_1.PointLabelContentType.Argument,\n          displayValueId: 'DashboardStringId.PointLabelContentTypeArgument'\n        }, {\n          value: model_1.PointLabelContentType.SeriesName,\n          displayValueId: 'DashboardStringId.PointLabelContentTypeSeriesName'\n        }, {\n          value: model_1.PointLabelContentType.Value,\n          displayValueId: 'DashboardStringId.PointLabelContentTypeValue'\n        }, {\n          value: model_1.PointLabelContentType.Percent,\n          displayValueId: 'DashboardStringId.PointLabelContentTypePercent'\n        }] : [{\n          value: model_1.PointLabelContentType.Argument,\n          displayValueId: 'DashboardStringId.PointLabelContentTypeArgument'\n        }, {\n          value: model_1.PointLabelContentType.SeriesName,\n          displayValueId: 'DashboardStringId.PointLabelContentTypeSeriesName'\n        }, {\n          value: model_1.PointLabelContentType.Value,\n          displayValueId: 'DashboardStringId.PointLabelContentTypeValue'\n        }];\n        properties.push(__assign(__assign({}, _point_label_options_1.contentType), {\n          formAdapterItem: _form_adapter_editors_1.flagsEnumListEditor({\n            values: avaliablePointLabelContentTypes,\n            enumDeclaration: model_1.PointLabelContentType\n          })\n        }));\n      }\n\n      properties = properties.concat([_point_label_options_1.overlappingMode, _point_label_options_1.pointLabelOrientation]);\n\n      if (simpleSeries && simpleSeries.seriesType().indexOf('Bar') > -1) {\n        properties.push(_point_label_options_1.showForZeroValues);\n        properties.push(_point_label_options_1.position);\n      }\n\n      if (model instanceof scatter_chart_item_1.ScatterChartItem) {\n        properties.push(_point_label_options_1.position);\n      }\n\n      return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n        model: model,\n        properties: [{\n          container: _chart_series_1.chartSeriesPointLabelOptions,\n          properties: properties\n        }],\n        summary: ko.computed(function () {\n          return model.pointLabelOptions && model.pointLabelOptions.showPointLabels() ? 'DashboardWebStringId.ButtonOn' : '';\n        })\n      });\n    }\n\n    return null;\n  };\n\n  SharedComposers.getAttributeNamesSerializationInfo = function (model, propertyInfo, includeNoneValue, noneValueCaption) {\n    if (includeNoneValue === void 0) {\n      includeNoneValue = true;\n    }\n\n    if (noneValueCaption === void 0) {\n      noneValueCaption = 'DashboardStringId.MapShapeNoneAttribute';\n    }\n\n    var attributeNames = _knockout_utils_1.safeComputed({\n      attributeNames: model._shapeFilesAttributeNameList\n    }, function (args) {\n      var attributes = args.attributeNames.map(function (attr) {\n        return {\n          value: attr,\n          displayValueId: attr\n        };\n      });\n\n      if (includeNoneValue) {\n        attributes.splice(0, 0, {\n          value: '',\n          displayValueId: noneValueCaption\n        });\n      }\n\n      return attributes;\n    });\n\n    var info = __assign(__assign({}, propertyInfo), {\n      formAdapterItem: _form_adapter_editors_1.dynamicSelectBoxEditor({\n        values: attributeNames\n      })\n    });\n\n    return info;\n  };\n\n  SharedComposers.getShapeTitleSerializationInfo = function (model) {\n    return SharedComposers.getAttributeNamesSerializationInfo(model, _map_item_1.shapeTitleAttributeName);\n  };\n\n  SharedComposers.getColorLegendWrapper = function (model) {\n    var properties = [_map_legend_1.legendVisible, _map_legend_1.legendPosition];\n    var disabledRules = {};\n    disabledRules[_map_legend_1.legendPosition.propertyName] = [_map_legend_1.legendVisible.propertyName, '=', false];\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: [{\n        container: _map_item_1.colorLegend,\n        properties: properties\n      }],\n      disabledFilterRules: disabledRules\n    });\n  };\n\n  SharedComposers.getWeightedLegendWrapper = function (model) {\n    var properties = [_map_legend_1.weightedLegendVisible, _map_legend_1.legendType, _map_legend_1.legendPosition];\n    var disabledRules = {};\n    disabledRules[_map_legend_1.legendType.propertyName] = [_map_legend_1.weightedLegendVisible.propertyName, '=', false];\n    disabledRules[_map_legend_1.legendPosition.propertyName] = [_map_legend_1.weightedLegendVisible.propertyName, '=', false];\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: [{\n        container: _map_item_1.weightedLegend,\n        properties: properties\n      }],\n      disabledFilterRules: disabledRules\n    });\n  };\n\n  SharedComposers.getNumericFormatWrapper = function (model) {\n    var measuredInUnits = function (numericFormat) {\n      return numericFormat.formatType() === 'Number' || numericFormat.formatType() === 'Currency';\n    };\n\n    var notCustomizedFormat = function (numericFormat) {\n      return numericFormat.formatType() === 'Auto' || numericFormat.formatType() === 'General';\n    };\n\n    var isCustomFormat = function (numericFormat) {\n      return numericFormat.formatType() === 'Custom';\n    };\n\n    var disabledRules = {};\n\n    disabledRules[_data_item_format_1.unit.propertyName] = function (numericFormat) {\n      return !measuredInUnits(numericFormat);\n    };\n\n    disabledRules[_data_item_format_1.precision.propertyName] = function (numericFormat) {\n      return notCustomizedFormat(numericFormat) || measuredInUnits(numericFormat) && numericFormat.unit() === 'Auto';\n    };\n\n    disabledRules[_data_item_format_1.includeGroupSeparator.propertyName] = function (numericFormat) {\n      return notCustomizedFormat(numericFormat) || numericFormat.formatType() === 'Scientific';\n    };\n\n    disabledRules[_data_item_format_1.dataItemCurrencyCultureName.propertyName] = function (numericFormat) {\n      return numericFormat.formatType() !== 'Currency';\n    };\n\n    var visibilityFilterRules = {};\n\n    visibilityFilterRules[_data_item_format_1.unit.propertyName] = function (model) {\n      return !isCustomFormat(model);\n    };\n\n    visibilityFilterRules[_data_item_format_1.precision.propertyName] = function (model) {\n      return !isCustomFormat(model);\n    };\n\n    visibilityFilterRules[_data_item_format_1.includeGroupSeparator.propertyName] = function (model) {\n      return !isCustomFormat(model);\n    };\n\n    visibilityFilterRules[_data_item_format_1.dataItemCurrencyCultureName.propertyName] = function (model) {\n      return !isCustomFormat(model);\n    };\n\n    visibilityFilterRules[_data_item_format_1.customFormatString.propertyName] = function (model) {\n      return isCustomFormat(model);\n    };\n\n    var properties = [_data_item_format_1.formatType, _data_item_format_1.unit, _data_item_format_1.precision, _data_item_format_1.includeGroupSeparator, __assign(__assign({}, _data_item_format_1.dataItemCurrencyCultureName), {\n      formAdapterItem: _form_adapter_editors_1.currencyEditor()\n    }), _data_item_format_1.customFormatString];\n\n    if (legacy_settings_1.DashboardPrivateSettings.customNumericFormatMode !== 'Enabled') {\n      var restrictedFormatTypeValues = __assign({}, _data_item_format_1.formatTypeValues);\n\n      delete restrictedFormatTypeValues['Custom'];\n      properties = __spreadArray([__assign(__assign({}, _data_item_format_1.formatType), {\n        values: __assign({}, restrictedFormatTypeValues)\n      })], properties.filter(function (p) {\n        return p.propertyName !== _data_item_format_1.formatType.propertyName && p.propertyName !== _data_item_format_1.customFormatString.propertyName;\n      }));\n    }\n\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: properties,\n      disabledFilterRules: disabledRules,\n      visibilityFilterRules: visibilityFilterRules,\n      summary: ko.pureComputed(function () {\n        return notCustomizedFormat(model) ? '' : _data_item_format_1.formatTypeValues[model.formatType()] || model.formatType();\n      })\n    });\n  };\n\n  SharedComposers.getDeltaOptionsWrapper = function (model) {\n    var disabledRules = {};\n\n    disabledRules[_delta_options_1.resultIndicationThresholdType.propertyName] = function (deltaOptions) {\n      return deltaOptions.resultIndicationMode() === 'NoIndication';\n    };\n\n    disabledRules[_delta_options_1.resultIndicationThreshold.propertyName] = function (deltaOptions) {\n      return deltaOptions.resultIndicationMode() === 'NoIndication';\n    };\n\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: [],\n      disabledFilterRules: disabledRules\n    });\n  };\n\n  SharedComposers.getDeltaFormatsOptionsWrapper = function (model, editFormat) {\n    if (editFormat === void 0) {\n      editFormat = function (model) {};\n    }\n\n    var additionalFormats = [];\n\n    for (var _i = 2; _i < arguments.length; _i++) {\n      additionalFormats[_i - 2] = arguments[_i];\n    }\n\n    var formats = this.getDeltaFormats(model);\n    additionalFormats.forEach(function (format) {\n      return formats.push(format);\n    });\n    var collectionEditorOptions = {\n      propertyName: 'title',\n      editItemHandler: editFormat,\n      allowAddItem: false,\n      allowReorderItem: false,\n      allowRemoveItem: false\n    };\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: {\n        deltaFormats: ko.observableArray(formats)\n      },\n      properties: [{\n        formAdapterItem: _form_adapter_editors_1.collectionEditor(collectionEditorOptions),\n        propertyName: 'deltaFormats'\n      }]\n    });\n  };\n\n  SharedComposers.getDeltaFormats = function (kpiElement) {\n    var formats = [];\n    var actualValueFormat = kpiElement.actualValue() ? kpiElement.actualValue().numericFormat : null;\n    var targetValueFormat = kpiElement.targetValue() ? kpiElement.targetValue().numericFormat : null;\n    actualValueFormat && formats.push({\n      title: _default_1.getLocalizationById('DashboardStringId.DeltaValueTypeActualValueCaption'),\n      numericFormat: actualValueFormat\n    });\n    targetValueFormat && formats.push({\n      title: _default_1.getLocalizationById('DashboardStringId.CardRowDataElementTypeTargetValueCaption'),\n      numericFormat: targetValueFormat\n    });\n    return formats.concat([{\n      title: _default_1.getLocalizationById('DashboardStringId.DeltaValueTypeAbsoluteVariationCaption'),\n      numericFormat: kpiElement.absoluteVariationNumericFormat\n    }, {\n      title: _default_1.getLocalizationById('DashboardStringId.DeltaValueTypePercentVariationCaption'),\n      numericFormat: kpiElement.percentVariationNumericFormat\n    }, {\n      title: _default_1.getLocalizationById('DashboardStringId.DeltaValueTypePercentOfTargetCaption'),\n      numericFormat: kpiElement.percentOfTargetNumericFormat\n    }]);\n  };\n\n  SharedComposers.getCustomRangesWrapper = function (model, editRuleHandler, dataSourceBrowser, dimension) {\n    var namePrefix = _default_1.getLocalizationById('DashboardStringId.DefaultPeriodName') + ' ';\n    var isDateTimePeriodsPropertyVisible = ko.observable(false);\n    var visibilityRules = {};\n\n    visibilityRules[_range_filter_item_1.dateTimePeriods.propertyName] = function () {\n      return isDateTimePeriodsPropertyVisible();\n    };\n\n    ko.computed(function () {\n      if (dimension()) {\n        dataSourceBrowser.findDataField(model.dataSource(), model.dataMember(), dimension().dataMember()).done(function (dataField) {\n          isDateTimePeriodsPropertyVisible(dataField && dataField.fieldType() === 'DateTime');\n        });\n      }\n    });\n\n    var customItemTemplate = function (itemData, itemIndex, itemElement) {\n      var name = ko.unwrap(itemData.name);\n      var div = document.createElement('div');\n      div.innerText = name;\n      div.style.fontWeight = model.defaultDateTimePeriodName() === name ? '800' : 'normal';\n      itemElement.appendChild(div);\n      return div;\n    };\n\n    var refreshCallback = new _collection_editor_viewmodel_base_1.CollectionEditorRefreshCallback();\n    var subscriptions = [];\n    subscriptions.push(_knockout_utils_1.safeSubscribe({\n      defaultPeriod: model.defaultDateTimePeriodName\n    }, function (_) {\n      return refreshCallback.refresh();\n    }));\n    subscriptions.push(_knockout_utils_1.subscribeToArrayItemProperties(model.dateTimePeriods, function (period) {\n      return period.name.subscribe(function () {\n        return refreshCallback.refresh();\n      });\n    }));\n    var collectionEditorOptions = {\n      propertyName: 'name',\n      createNewItemHandler: function () {\n        return new date_time_period_1.DateTimePeriod({\n          '@ItemType': 'DateTimePeriod',\n          '@Name': _helper_classes_1.NameGenerator.generateName(namePrefix, model.dateTimePeriods(), 'name', 1)\n        });\n      },\n      editItemHandler: editRuleHandler,\n      customTemplate: customItemTemplate,\n      forceRefreshCallback: refreshCallback\n    };\n    return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      visibilityFilterRules: visibilityRules,\n      properties: [__assign(__assign({}, _range_filter_item_1.dateTimePeriods), {\n        formAdapterItem: _form_adapter_editors_1.collectionEditor(collectionEditorOptions)\n      })],\n      disposableModelSubscriptions: subscriptions\n    });\n  };\n\n  SharedComposers.getSparklineOptionsProperties = function () {\n    var viewTypesMap = {\n      'Line': {\n        icon: 'dx-dashboard-chart-series-line',\n        displayName: 'DashboardStringId.SparklineIndicationModeLine'\n      },\n      'Area': {\n        icon: 'dx-dashboard-chart-series-area',\n        displayName: 'DashboardStringId.SparklineIndicationModeArea'\n      },\n      'Bar': {\n        icon: 'dx-dashboard-chart-series-bar',\n        displayName: 'DashboardStringId.SparklineIndicationModeBar'\n      },\n      'WinLoss': {\n        icon: 'dx-dashboard-sparkline-win-loss',\n        displayName: 'DashboardStringId.SparklineIndicationModeWinLoss'\n      }\n    };\n    return [__assign(__assign({}, _sparkline_options_1.viewType), {\n      formAdapterItem: _form_adapter_editors_1.iconTypeEditor({\n        containersMap: viewTypesMap\n      })\n    }), _sparkline_options_1.highlightMinMaxPoints, _sparkline_options_1.highlightStartEndPoints];\n  };\n\n  return SharedComposers;\n}();\n\nexports.SharedComposers = SharedComposers;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/items/properties-composers/_shared-composers.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__spreadArray","to","from","il","j","defineProperty","exports","value","SharedComposers","ko","require","_default_1","model_1","_data_item_1","_data_item_format_1","_helper_classes_1","_knockout_utils_1","chart_series_1","_chart_axis_1","_chart_item_1","_chart_legend_1","_chart_series_1","_point_label_options_1","_map_item_1","_map_legend_1","_dashboard_item_1","_delta_options_1","_sparkline_options_1","date_time_period_1","_range_filter_item_1","_scatter_point_label_options_1","scatter_chart_item_1","_base_metadata_1","legacy_settings_1","_form_adapter_editors_1","_object_properties_wrapper_1","_accordion_tab_1","_collection_editor_viewmodel_1","_collection_editor_viewmodel_base_1","_map_custom_shapefile_surface_1","getCommonTab","model","properties","disabledRules","wrapper","getCommonWrapper","AccordionTab","KnownTabs","Common","getAllTab","ObjectPropertiesWrapper","getContentArrangementTab","ContentArrangement","getContentArrangementWrapper","specificProperties","specificDisabledRules","specificVisibilityRules","showCaption","name","concat","keys","forEach","key","visibilityFilterRules","disabledFilterRules","getCommonMapWrapper","propertiesController","editHandler","surface","MapCustomShapeFileSurface","customShapefile","startEditing","CollectionEditorEditItemArguments","editorOptions","dataSource","area","values","getDisplayText","item","getLocalizationById","enableEditItem","editItemHandler","onSelectionChanged","url","data","shapeData","formAdapterItem","editableListEditor","getAxisWrapper","axisComputedTitle","alwaysShowZeroLevelInfo","isDateField","isNumericField","groupInterval","visibilityRules","titleVisibleBaseInfo","propertyName","axisVisible","title","logarithmicBase","logarithmic","limitVisiblePoints","visiblePointsCount","numericFormat","dateTimeFormat","reverse","showGridLinesBaseInfo","placeholder","enableZooming","push","container","yearFormat","monthFormat","quarterFormat","dayOfWeekFormat","hourFormat","dateFormat","dateHourFormat","dateHourMinuteFormat","dateTimeWithSecondsFormat","exactDateFormat","sourceObject","getNumericFormatWrapper","displayName","nestedPropertyGridEditor","getLegendWrapper","chartLegendVisible","isInsideDiagram","insidePosition","outsidePosition","visibleRules","chartLegend","contentArrangementMode","contentLineCount","getLabelsWrapper","simpleSeries","SimpleSeries","ScatterChartItem","showPointLabels","content","isFullStackedSeries","indexOf","seriesType","avaliablePointLabelContentTypes","PointLabelContentType","Argument","displayValueId","SeriesName","Value","Percent","contentType","flagsEnumListEditor","enumDeclaration","overlappingMode","pointLabelOrientation","showForZeroValues","position","chartSeriesPointLabelOptions","summary","computed","pointLabelOptions","getAttributeNamesSerializationInfo","propertyInfo","includeNoneValue","noneValueCaption","attributeNames","safeComputed","_shapeFilesAttributeNameList","args","attributes","map","attr","splice","info","dynamicSelectBoxEditor","getShapeTitleSerializationInfo","shapeTitleAttributeName","getColorLegendWrapper","legendVisible","legendPosition","colorLegend","getWeightedLegendWrapper","weightedLegendVisible","legendType","weightedLegend","measuredInUnits","formatType","notCustomizedFormat","isCustomFormat","unit","precision","includeGroupSeparator","dataItemCurrencyCultureName","customFormatString","currencyEditor","DashboardPrivateSettings","customNumericFormatMode","restrictedFormatTypeValues","formatTypeValues","filter","pureComputed","getDeltaOptionsWrapper","resultIndicationThresholdType","deltaOptions","resultIndicationMode","resultIndicationThreshold","getDeltaFormatsOptionsWrapper","editFormat","additionalFormats","_i","formats","getDeltaFormats","format","collectionEditorOptions","allowAddItem","allowReorderItem","allowRemoveItem","deltaFormats","observableArray","collectionEditor","kpiElement","actualValueFormat","actualValue","targetValueFormat","targetValue","absoluteVariationNumericFormat","percentVariationNumericFormat","percentOfTargetNumericFormat","getCustomRangesWrapper","editRuleHandler","dataSourceBrowser","dimension","namePrefix","isDateTimePeriodsPropertyVisible","observable","dateTimePeriods","findDataField","dataMember","done","dataField","fieldType","customItemTemplate","itemData","itemIndex","itemElement","unwrap","div","document","createElement","innerText","style","fontWeight","defaultDateTimePeriodName","appendChild","refreshCallback","CollectionEditorRefreshCallback","subscriptions","safeSubscribe","defaultPeriod","_","refresh","subscribeToArrayItemProperties","period","subscribe","createNewItemHandler","DateTimePeriod","NameGenerator","generateName","customTemplate","forceRefreshCallback","disposableModelSubscriptions","getSparklineOptionsProperties","viewTypesMap","icon","viewType","iconTypeEditor","containersMap","highlightMinMaxPoints","highlightStartEndPoints"],"mappings":"AAAA;;;;;;;AAOA;;AACA,IAAIA,QAAQ,GAAI,QAAQ,KAAKA,QAAd,IAA2B,YAAY;AAClDA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAASC,CAAT,EAAY;AACpC,SAAK,IAAIC,CAAJ,EAAOC,CAAC,GAAG,CAAX,EAAcC,CAAC,GAAGC,SAAS,CAACC,MAAjC,EAAyCH,CAAC,GAAGC,CAA7C,EAAgDD,CAAC,EAAjD,EAAqD;AACjDD,MAAAA,CAAC,GAAGG,SAAS,CAACF,CAAD,CAAb;;AACA,WAAK,IAAII,CAAT,IAAcL,CAAd,EAAiB,IAAIH,MAAM,CAACS,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EACbN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AACP;;AACD,WAAON,CAAP;AACH,GAPD;;AAQA,SAAOH,QAAQ,CAACa,KAAT,CAAe,IAAf,EAAqBN,SAArB,CAAP;AACH,CAVD;;AAWA,IAAIO,aAAa,GAAI,QAAQ,KAAKA,aAAd,IAAgC,UAAUC,EAAV,EAAcC,IAAd,EAAoB;AACpE,OAAK,IAAIX,CAAC,GAAG,CAAR,EAAWY,EAAE,GAAGD,IAAI,CAACR,MAArB,EAA6BU,CAAC,GAAGH,EAAE,CAACP,MAAzC,EAAiDH,CAAC,GAAGY,EAArD,EAAyDZ,CAAC,IAAIa,CAAC,EAA/D,EACIH,EAAE,CAACG,CAAD,CAAF,GAAQF,IAAI,CAACX,CAAD,CAAZ;;AACJ,SAAOU,EAAP;AACH,CAJD;;AAKAd,MAAM,CAACkB,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,eAAR,GAA0B,KAAK,CAA/B;;AACA,IAAIC,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAhB;;AACA,IAAIC,UAAU,GAAGD,OAAO,CAAC,qCAAD,CAAxB;;AACA,IAAIE,OAAO,GAAGF,OAAO,CAAC,gBAAD,CAArB;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,8CAAD,CAA1B;;AACA,IAAII,mBAAmB,GAAGJ,OAAO,CAAC,qDAAD,CAAjC;;AACA,IAAIK,iBAAiB,GAAGL,OAAO,CAAC,yCAAD,CAA/B;;AACA,IAAIM,iBAAiB,GAAGN,OAAO,CAAC,yCAAD,CAA/B;;AACA,IAAIO,cAAc,GAAGP,OAAO,CAAC,yCAAD,CAA5B;;AACA,IAAIQ,aAAa,GAAGR,OAAO,CAAC,iDAAD,CAA3B;;AACA,IAAIS,aAAa,GAAGT,OAAO,CAAC,iDAAD,CAA3B;;AACA,IAAIU,eAAe,GAAGV,OAAO,CAAC,mDAAD,CAA7B;;AACA,IAAIW,eAAe,GAAGX,OAAO,CAAC,mDAAD,CAA7B;;AACA,IAAIY,sBAAsB,GAAGZ,OAAO,CAAC,0DAAD,CAApC;;AACA,IAAIa,WAAW,GAAGb,OAAO,CAAC,6CAAD,CAAzB;;AACA,IAAIc,aAAa,GAAGd,OAAO,CAAC,+CAAD,CAA3B;;AACA,IAAIe,iBAAiB,GAAGf,OAAO,CAAC,+CAAD,CAA/B;;AACA,IAAIgB,gBAAgB,GAAGhB,OAAO,CAAC,sDAAD,CAA9B;;AACA,IAAIiB,oBAAoB,GAAGjB,OAAO,CAAC,0DAAD,CAAlC;;AACA,IAAIkB,kBAAkB,GAAGlB,OAAO,CAAC,oDAAD,CAAhC;;AACA,IAAImB,oBAAoB,GAAGnB,OAAO,CAAC,+DAAD,CAAlC;;AACA,IAAIoB,8BAA8B,GAAGpB,OAAO,CAAC,0EAAD,CAA5C;;AACA,IAAIqB,oBAAoB,GAAGrB,OAAO,CAAC,uDAAD,CAAlC;;AACA,IAAIsB,gBAAgB,GAAGtB,OAAO,CAAC,wCAAD,CAA9B;;AACA,IAAIuB,iBAAiB,GAAGvB,OAAO,CAAC,uCAAD,CAA/B;;AACA,IAAIwB,uBAAuB,GAAGxB,OAAO,CAAC,0CAAD,CAArC;;AACA,IAAIyB,4BAA4B,GAAGzB,OAAO,CAAC,+CAAD,CAA1C;;AACA,IAAI0B,gBAAgB,GAAG1B,OAAO,CAAC,4CAAD,CAA9B;;AACA,IAAI2B,8BAA8B,GAAG3B,OAAO,CAAC,iEAAD,CAA5C;;AACA,IAAI4B,mCAAmC,GAAG5B,OAAO,CAAC,sEAAD,CAAjD;;AACA,IAAI6B,+BAA+B,GAAG7B,OAAO,CAAC,2CAAD,CAA7C;;AACA,IAAIF,eAAe,GAAI,YAAY;AAC/B,WAASA,eAAT,GAA2B,CAC1B;;AACDA,EAAAA,eAAe,CAACgC,YAAhB,GAA+B,UAAUC,KAAV,EAAiBC,UAAjB,EAA6BC,aAA7B,EAA4C;AACvE,QAAID,UAAU,KAAK,KAAK,CAAxB,EAA2B;AAAEA,MAAAA,UAAU,GAAG,EAAb;AAAkB;;AAC/C,QAAIC,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,MAAAA,aAAa,GAAG,EAAhB;AAAqB;;AACrD,QAAIC,OAAO,GAAG,KAAKC,gBAAL,CAAsBJ,KAAtB,EAA6BC,UAA7B,EAAyCC,aAAzC,CAAd;AACA,WAAO,IAAIP,gBAAgB,CAACU,YAArB,CAAkCV,gBAAgB,CAACW,SAAjB,CAA2BC,MAA7D,EAAqE,0CAArE,EAAiHJ,OAAjH,CAAP;AACH,GALD;;AAMApC,EAAAA,eAAe,CAACyC,SAAhB,GAA4B,UAAUR,KAAV,EAAiB;AACzC,WAAO,IAAIL,gBAAgB,CAACU,YAArB,CAAkC,KAAlC,EAAyC,KAAzC,EAAgD,IAAIX,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5GT,MAAAA,KAAK,EAAEA,KADqG;AAE5GC,MAAAA,UAAU,EAAE;AAFgG,KAAzD,CAAhD,CAAP;AAIH,GALD;;AAMAlC,EAAAA,eAAe,CAAC2C,wBAAhB,GAA2C,UAAUV,KAAV,EAAiB;AACxD,WAAO,IAAIL,gBAAgB,CAACU,YAArB,CAAkCV,gBAAgB,CAACW,SAAjB,CAA2BK,kBAA7D,EAAiF,0CAAjF,EAA6H,KAAKC,4BAAL,CAAkCZ,KAAlC,CAA7H,CAAP;AACH,GAFD;;AAGAjC,EAAAA,eAAe,CAACqC,gBAAhB,GAAmC,UAAUJ,KAAV,EAAiBa,kBAAjB,EAAqCC,qBAArC,EAA4DC,uBAA5D,EAAqF;AACpH,QAAIF,kBAAkB,KAAK,KAAK,CAAhC,EAAmC;AAAEA,MAAAA,kBAAkB,GAAG,EAArB;AAA0B;;AAC/D,QAAIC,qBAAqB,KAAK,KAAK,CAAnC,EAAsC;AAAEA,MAAAA,qBAAqB,GAAG,EAAxB;AAA6B;;AACrE,QAAIC,uBAAuB,KAAK,KAAK,CAArC,EAAwC;AAAEA,MAAAA,uBAAuB,GAAG,EAA1B;AAA+B;;AACzE,QAAId,UAAU,GAAG,CACbjB,iBAAiB,CAACgC,WADL,EAEbzB,gBAAgB,CAAC0B,IAFJ,CAAjB;AAIAhB,IAAAA,UAAU,GAAGA,UAAU,CAACiB,MAAX,CAAkBL,kBAAlB,CAAb;AACA,QAAIX,aAAa,GAAG,EAApB;AACAxD,IAAAA,MAAM,CAACyE,IAAP,CAAYL,qBAAZ,EAAmCM,OAAnC,CAA2C,UAAUC,GAAV,EAAe;AACtDnB,MAAAA,aAAa,CAACmB,GAAD,CAAb,GAAqBP,qBAAqB,CAACO,GAAD,CAA1C;AACH,KAFD;AAGA,WAAO,IAAI3B,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DC,MAAAA,UAAU,EAAEA,UAFgD;AAG5DqB,MAAAA,qBAAqB,EAAEP,uBAHqC;AAI5DQ,MAAAA,mBAAmB,EAAErB;AAJuC,KAAzD,CAAP;AAMH,GAnBD;;AAoBAnC,EAAAA,eAAe,CAACyD,mBAAhB,GAAsC,UAAUxB,KAAV,EAAiByB,oBAAjB,EAAuCZ,kBAAvC,EAA2D;AAC7F,QAAIA,kBAAkB,KAAK,KAAK,CAAhC,EAAmC;AAAEA,MAAAA,kBAAkB,GAAG,EAArB;AAA0B;;AAC/D,QAAIa,WAAW,GAAG,YAAY;AAC1B,UAAIC,OAAO,GAAG,IAAI7B,+BAA+B,CAAC8B,yBAApC,CAA8D5B,KAAK,CAAC6B,eAApE,EAAqFJ,oBAArF,CAAd;AACAE,MAAAA,OAAO,CAACG,YAAR,CAAqB,IAAIlC,8BAA8B,CAACmC,iCAAnC,EAArB;AACH,KAHD;;AAIA,QAAIC,aAAa,GAAG;AAChBC,MAAAA,UAAU,EAAEvF,MAAM,CAACyE,IAAP,CAAYrC,WAAW,CAACoD,IAAZ,CAAiBC,MAA7B,CADI;AAEhBC,MAAAA,cAAc,EAAE,UAAUC,IAAV,EAAgB;AAAE,eAAOnE,UAAU,CAACoE,mBAAX,CAA+BxD,WAAW,CAACoD,IAAZ,CAAiBC,MAAjB,CAAwBE,IAAxB,CAA/B,CAAP;AAAuE,OAFzF;AAGhBE,MAAAA,cAAc,EAAE,UAAUF,IAAV,EAAgB;AAAE,eAAOA,IAAI,KAAK,QAAhB;AAA2B,OAH7C;AAIhBG,MAAAA,eAAe,EAAEd,WAJD;AAKhBe,MAAAA,kBAAkB,EAAE,UAAUJ,IAAV,EAAgB;AAChC,YAAIA,IAAI,KAAK,QAAT,IAAqB,CAACrC,KAAK,CAAC6B,eAAN,CAAsBa,GAAtB,EAAtB,IAAqD,CAAC1C,KAAK,CAAC6B,eAAN,CAAsBc,IAAtB,CAA2BC,SAA3B,EAA1D,EACIlB,WAAW;AAClB;AARe,KAApB;AAUA,QAAIzB,UAAU,GAAG,CAACxD,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKqC,WAAW,CAACoD,IAAjB,CAAT,EAAiC;AAAEW,MAAAA,eAAe,EAAEpD,uBAAuB,CAACqD,kBAAxB,CAA2Cd,aAA3C;AAAnB,KAAjC,CAAT,EAA2Hd,MAA3H,CAAkIL,kBAAlI,CAAjB;AACA,WAAO9C,eAAe,CAACqC,gBAAhB,CAAiCJ,KAAjC,EAAwCC,UAAxC,CAAP;AACH,GAlBD;;AAmBAlC,EAAAA,eAAe,CAACgF,cAAhB,GAAiC,UAAU/C,KAAV,EAAiBgD,iBAAjB,EAAoCC,uBAApC,EAA6DC,WAA7D,EAA0EC,cAA1E,EAA0FC,aAA1F,EAAyG;AACtI,QAAIF,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,MAAAA,WAAW,GAAG,KAAd;AAAsB;;AACpD,QAAIC,cAAc,KAAK,KAAK,CAA5B,EAA+B;AAAEA,MAAAA,cAAc,GAAG,IAAjB;AAAwB;;AACzD,QAAIC,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,MAAAA,aAAa,GAAG,MAAhB;AAAyB;;AACzD,QAAIlD,aAAa,GAAG,EAApB;AACA,QAAImD,eAAe,GAAG,EAAtB;AACAnD,IAAAA,aAAa,CAACzB,aAAa,CAAC6E,oBAAd,CAAmCC,YAApC,CAAb,GAAiE,CAAC9E,aAAa,CAAC+E,WAAd,CAA0BD,YAA3B,EAAyC,GAAzC,EAA8C,KAA9C,CAAjE;AACArD,IAAAA,aAAa,CAACzB,aAAa,CAACgF,KAAd,CAAoBF,YAArB,CAAb,GAAkD,CAAC,CAAC9E,aAAa,CAAC6E,oBAAd,CAAmCC,YAApC,EAAkD,GAAlD,EAAuD,KAAvD,CAAD,EAAgE,IAAhE,EAAsE,CAAC9E,aAAa,CAAC+E,WAAd,CAA0BD,YAA3B,EAAyC,GAAzC,EAA8C,KAA9C,CAAtE,CAAlD;AACArD,IAAAA,aAAa,CAACzB,aAAa,CAACiF,eAAd,CAA8BH,YAA/B,CAAb,GAA4D,CAAC9E,aAAa,CAACkF,WAAd,CAA0BJ,YAA3B,EAAyC,GAAzC,EAA8C,KAA9C,CAA5D;AACArD,IAAAA,aAAa,CAACzB,aAAa,CAACmF,kBAAd,CAAiCL,YAAlC,CAAb,GAA+D,CAAC9E,aAAa,CAAC+E,WAAd,CAA0BD,YAA3B,EAAyC,GAAzC,EAA8C,KAA9C,CAA/D;AACArD,IAAAA,aAAa,CAACzB,aAAa,CAACoF,kBAAd,CAAiCN,YAAlC,CAAb,GAA+D,CAAC,CAAC9E,aAAa,CAACmF,kBAAd,CAAiCL,YAAlC,EAAgD,GAAhD,EAAqD,KAArD,CAAD,EAA8D,IAA9D,EAAoE,CAAC9E,aAAa,CAAC+E,WAAd,CAA0BD,YAA3B,EAAyC,GAAzC,EAA8C,KAA9C,CAApE,CAA/D;AACArD,IAAAA,aAAa,CAAC9B,YAAY,CAAC0F,aAAb,CAA2BP,YAA5B,CAAb,GAAyD,CAACnF,YAAY,CAAC0F,aAAb,CAA2BP,YAA5B,EAA0C,GAA1C,EAA+C,KAA/C,CAAzD;AACArD,IAAAA,aAAa,CAAC9B,YAAY,CAAC2F,cAAb,CAA4BR,YAA7B,CAAb,GAA0D,CAACnF,YAAY,CAAC2F,cAAb,CAA4BR,YAA7B,EAA2C,GAA3C,EAAgD,KAAhD,CAA1D;AACA,QAAItD,UAAU,GAAGgD,uBAAuB,GAAG,CAACA,uBAAD,CAAH,GAA+B,EAAvE;AACAhD,IAAAA,UAAU,GAAGA,UAAU,CAACiB,MAAX,CAAkB,CAC3BzC,aAAa,CAACuF,OADa,EAE3BvF,aAAa,CAACwF,qBAFa,EAG3BxF,aAAa,CAAC+E,WAHa,EAI3B/E,aAAa,CAAC6E,oBAJa,EAK3B7G,QAAQ,CAAC;AAAEuF,MAAAA,aAAa,EAAE;AAAEkC,QAAAA,WAAW,EAAElB;AAAf;AAAjB,KAAD,EAAwDvE,aAAa,CAACgF,KAAtE,CALmB,EAM3BhF,aAAa,CAACkF,WANa,EAO3BlF,aAAa,CAACiF,eAPa,EAQ3BjF,aAAa,CAAC0F,aARa,EAS3B1F,aAAa,CAACmF,kBATa,EAU3BnF,aAAa,CAACoF,kBAVa,CAAlB,CAAb;;AAYA,QAAIX,WAAJ,EAAiB;AACbjD,MAAAA,UAAU,CAACmE,IAAX,CAAgB;AACZC,QAAAA,SAAS,EAAEjG,YAAY,CAAC2F,cADZ;AAEZ9D,QAAAA,UAAU,EAAE,CACR5B,mBAAmB,CAACiG,UADZ,EAERjG,mBAAmB,CAACkG,WAFZ,EAGRlG,mBAAmB,CAACmG,aAHZ,EAIRnG,mBAAmB,CAACoG,eAJZ,EAKRpG,mBAAmB,CAACqG,UALZ,EAMRrG,mBAAmB,CAACsG,UANZ,EAORtG,mBAAmB,CAACuG,cAPZ,EAQRvG,mBAAmB,CAACwG,oBARZ,EASRxG,mBAAmB,CAACyG,yBATZ,EAURzG,mBAAmB,CAAC0G,eAVZ;AAFA,OAAhB;;AAeA1B,MAAAA,eAAe,CAAChF,mBAAmB,CAACiG,UAApB,CAA+Bf,YAAhC,CAAf,GAA+D,YAAY;AAAE,eAAOH,aAAa,KAAK,MAAzB;AAAkC,OAA/G;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAACmG,aAApB,CAAkCjB,YAAnC,CAAf,GAAkE,YAAY;AAAE,eAAOH,aAAa,KAAK,SAAzB;AAAqC,OAArH;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAACkG,WAApB,CAAgChB,YAAjC,CAAf,GAAgE,YAAY;AAAE,eAAOH,aAAa,KAAK,OAAzB;AAAmC,OAAjH;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAACqG,UAApB,CAA+BnB,YAAhC,CAAf,GAA+D,YAAY;AAAE,eAAOH,aAAa,KAAK,MAAzB;AAAkC,OAA/G;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAACoG,eAApB,CAAoClB,YAArC,CAAf,GAAoE,YAAY;AAAE,eAAOH,aAAa,KAAK,WAAzB;AAAuC,OAAzH;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAACsG,UAApB,CAA+BpB,YAAhC,CAAf,GAA+D,YAAY;AAAE,eAAOH,aAAa,KAAK,cAAzB;AAA0C,OAAvH;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAACuG,cAApB,CAAmCrB,YAApC,CAAf,GAAmE,YAAY;AAAE,eAAOH,aAAa,KAAK,UAAzB;AAAsC,OAAvH;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAACwG,oBAApB,CAAyCtB,YAA1C,CAAf,GAAyE,YAAY;AAAE,eAAOH,aAAa,KAAK,gBAAzB;AAA4C,OAAnI;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAACyG,yBAApB,CAA8CvB,YAA/C,CAAf,GAA8E,YAAY;AAAE,eAAOH,aAAa,KAAK,sBAAzB;AAAkD,OAA9I;;AACAC,MAAAA,eAAe,CAAChF,mBAAmB,CAAC0G,eAApB,CAAoCxB,YAArC,CAAf,GAAoE,YAAY;AAAE,eAAOH,aAAa,KAAK,MAAzB;AAAkC,OAApH;AACH;;AACD,QAAID,cAAJ,EAAoB;AAChBlD,MAAAA,UAAU,CAACmE,IAAX,CAAgB3H,QAAQ,CAACA,QAAQ,CAAC;AAAEuI,QAAAA,YAAY,EAAE,KAAKC,uBAAL,CAA6BjF,KAAK,CAAC8D,aAAnC;AAAhB,OAAD,EAAsE1F,YAAY,CAAC0F,aAAnF,CAAT,EAA4G;AAAEoB,QAAAA,WAAW,EAAE,IAAf;AAAqBrC,QAAAA,eAAe,EAAEpD,uBAAuB,CAAC0F,wBAAxB,CAAiDjH,UAAU,CAACoE,mBAAX,CAA+BlE,YAAY,CAAC0F,aAAb,CAA2BoB,WAA1D,CAAjD;AAAtC,OAA5G,CAAxB;AACH;;AACD,WAAO,IAAIxF,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DC,MAAAA,UAAU,EAAEA,UAFgD;AAG5DsB,MAAAA,mBAAmB,EAAErB,aAHuC;AAI5DoB,MAAAA,qBAAqB,EAAE+B;AAJqC,KAAzD,CAAP;AAMH,GA9DD;;AA+DAtF,EAAAA,eAAe,CAACqH,gBAAhB,GAAmC,UAAUpF,KAAV,EAAiB;AAChD,QAAIC,UAAU,GAAG,CACbtB,eAAe,CAAC0G,kBADH,EAEb1G,eAAe,CAAC2G,eAFH,EAGb3G,eAAe,CAAC4G,cAHH,EAIb5G,eAAe,CAAC6G,eAJH,CAAjB;AAMA,QAAItF,aAAa,GAAG,EAApB;AACAA,IAAAA,aAAa,CAACvB,eAAe,CAAC2G,eAAhB,CAAgC/B,YAAjC,CAAb,GAA8D,CAAC5E,eAAe,CAAC0G,kBAAhB,CAAmC9B,YAApC,EAAkD,GAAlD,EAAuD,KAAvD,CAA9D;AACArD,IAAAA,aAAa,CAACvB,eAAe,CAAC4G,cAAhB,CAA+BhC,YAAhC,CAAb,GAA6D,CAAC5E,eAAe,CAAC0G,kBAAhB,CAAmC9B,YAApC,EAAkD,GAAlD,EAAuD,KAAvD,CAA7D;AACArD,IAAAA,aAAa,CAACvB,eAAe,CAAC6G,eAAhB,CAAgCjC,YAAjC,CAAb,GAA8D,CAAC5E,eAAe,CAAC0G,kBAAhB,CAAmC9B,YAApC,EAAkD,GAAlD,EAAuD,KAAvD,CAA9D;AACA,QAAIkC,YAAY,GAAG,EAAnB;AACAA,IAAAA,YAAY,CAAC9G,eAAe,CAAC4G,cAAhB,CAA+BhC,YAAhC,CAAZ,GAA4D,CAAC5E,eAAe,CAAC2G,eAAhB,CAAgC/B,YAAjC,EAA+C,GAA/C,EAAoD,IAApD,CAA5D;AACAkC,IAAAA,YAAY,CAAC9G,eAAe,CAAC6G,eAAhB,CAAgCjC,YAAjC,CAAZ,GAA6D,CAAC5E,eAAe,CAAC2G,eAAhB,CAAgC/B,YAAjC,EAA+C,GAA/C,EAAoD,KAApD,CAA7D;AACA,WAAO,IAAI7D,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DC,MAAAA,UAAU,EAAE,CAAC;AACLoE,QAAAA,SAAS,EAAE3F,aAAa,CAACgH,WADpB;AAELzF,QAAAA,UAAU,EAAEA;AAFP,OAAD,CAFgD;AAM5DsB,MAAAA,mBAAmB,EAAErB,aANuC;AAO5DoB,MAAAA,qBAAqB,EAAEmE;AAPqC,KAAzD,CAAP;AASH,GAvBD;;AAwBA1H,EAAAA,eAAe,CAAC6C,4BAAhB,GAA+C,UAAUZ,KAAV,EAAiB;AAC5D,QAAIC,UAAU,GAAG,CACbV,gBAAgB,CAACoG,sBADJ,EAEbpG,gBAAgB,CAACqG,gBAFJ,CAAjB;AAIA,QAAI1F,aAAa,GAAG,EAApB;AACAA,IAAAA,aAAa,CAACX,gBAAgB,CAACqG,gBAAjB,CAAkCrC,YAAnC,CAAb,GAAgE,CAAChE,gBAAgB,CAACoG,sBAAjB,CAAwCpC,YAAzC,EAAuD,GAAvD,EAA4D,MAA5D,CAAhE;AACA,WAAO,IAAI7D,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DC,MAAAA,UAAU,EAAEA,UAFgD;AAG5DsB,MAAAA,mBAAmB,EAAErB;AAHuC,KAAzD,CAAP;AAKH,GAZD;;AAaAnC,EAAAA,eAAe,CAAC8H,gBAAhB,GAAmC,UAAU7F,KAAV,EAAiB;AAChD,QAAIA,KAAJ,EAAW;AACP,UAAI8F,YAAY,GAAG9F,KAAK,YAAYxB,cAAc,CAACuH,YAAhC,GAA+C/F,KAA/C,GAAuD,IAA1E;AACA,UAAIC,UAAU,GAAG,EAAjB;;AACA,UAAID,KAAK,YAAYV,oBAAoB,CAAC0G,gBAA1C,EAA4D;AACxD/F,QAAAA,UAAU,CAACmE,IAAX,CAAgBvF,sBAAsB,CAACoH,eAAvC;AACAhG,QAAAA,UAAU,CAACmE,IAAX,CAAgB/E,8BAA8B,CAAC6G,OAA/C;AACH,OAHD,MAIK;AACD,YAAIC,mBAAmB,GAAGL,YAAY,IAAI,CAAC,gBAAD,EAAmB,iBAAnB,EAAsC,iBAAtC,EAAyD,uBAAzD,EAAkFM,OAAlF,CAA0FN,YAAY,CAACO,UAAb,EAA1F,KAAwH,CAAlK;AACA,YAAIC,+BAA+B,GAAGH,mBAAmB,GACrD,CACI;AAAErI,UAAAA,KAAK,EAAEK,OAAO,CAACoI,qBAAR,CAA8BC,QAAvC;AAAiDC,UAAAA,cAAc,EAAE;AAAjE,SADJ,EAEI;AAAE3I,UAAAA,KAAK,EAAEK,OAAO,CAACoI,qBAAR,CAA8BG,UAAvC;AAAmDD,UAAAA,cAAc,EAAE;AAAnE,SAFJ,EAGI;AAAE3I,UAAAA,KAAK,EAAEK,OAAO,CAACoI,qBAAR,CAA8BI,KAAvC;AAA8CF,UAAAA,cAAc,EAAE;AAA9D,SAHJ,EAII;AAAE3I,UAAAA,KAAK,EAAEK,OAAO,CAACoI,qBAAR,CAA8BK,OAAvC;AAAgDH,UAAAA,cAAc,EAAE;AAAhE,SAJJ,CADqD,GAQjD,CACI;AAAE3I,UAAAA,KAAK,EAAEK,OAAO,CAACoI,qBAAR,CAA8BC,QAAvC;AAAiDC,UAAAA,cAAc,EAAE;AAAjE,SADJ,EAEI;AAAE3I,UAAAA,KAAK,EAAEK,OAAO,CAACoI,qBAAR,CAA8BG,UAAvC;AAAmDD,UAAAA,cAAc,EAAE;AAAnE,SAFJ,EAGI;AAAE3I,UAAAA,KAAK,EAAEK,OAAO,CAACoI,qBAAR,CAA8BI,KAAvC;AAA8CF,UAAAA,cAAc,EAAE;AAA9D,SAHJ,CARR;AAaAxG,QAAAA,UAAU,CAACmE,IAAX,CAAgB3H,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKoC,sBAAsB,CAACgI,WAA5B,CAAT,EAAmD;AAAEhE,UAAAA,eAAe,EAAEpD,uBAAuB,CAACqH,mBAAxB,CAA4C;AAClI3E,YAAAA,MAAM,EAAEmE,+BAD0H;AAElIS,YAAAA,eAAe,EAAE5I,OAAO,CAACoI;AAFyG,WAA5C;AAAnB,SAAnD,CAAxB;AAIH;;AACDtG,MAAAA,UAAU,GAAGA,UAAU,CAACiB,MAAX,CAAkB,CAC3BrC,sBAAsB,CAACmI,eADI,EAE3BnI,sBAAsB,CAACoI,qBAFI,CAAlB,CAAb;;AAIA,UAAInB,YAAY,IAAIA,YAAY,CAACO,UAAb,GAA0BD,OAA1B,CAAkC,KAAlC,IAA2C,CAAC,CAAhE,EAAmE;AAC/DnG,QAAAA,UAAU,CAACmE,IAAX,CAAgBvF,sBAAsB,CAACqI,iBAAvC;AACAjH,QAAAA,UAAU,CAACmE,IAAX,CAAgBvF,sBAAsB,CAACsI,QAAvC;AACH;;AACD,UAAInH,KAAK,YAAYV,oBAAoB,CAAC0G,gBAA1C,EAA4D;AACxD/F,QAAAA,UAAU,CAACmE,IAAX,CAAgBvF,sBAAsB,CAACsI,QAAvC;AACH;;AACD,aAAO,IAAIzH,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,QAAAA,KAAK,EAAEA,KADqD;AAE5DC,QAAAA,UAAU,EAAE,CAAC;AACLoE,UAAAA,SAAS,EAAEzF,eAAe,CAACwI,4BADtB;AAELnH,UAAAA,UAAU,EAAEA;AAFP,SAAD,CAFgD;AAM5DoH,QAAAA,OAAO,EAAErJ,EAAE,CAACsJ,QAAH,CAAY,YAAY;AAAE,iBAAQtH,KAAK,CAACuH,iBAAN,IAA2BvH,KAAK,CAACuH,iBAAN,CAAwBtB,eAAxB,EAA5B,GAAyE,+BAAzE,GAA2G,EAAlH;AAAuH,SAAjJ;AANmD,OAAzD,CAAP;AAQH;;AACD,WAAO,IAAP;AACH,GAjDD;;AAkDAlI,EAAAA,eAAe,CAACyJ,kCAAhB,GAAqD,UAAUxH,KAAV,EAAiByH,YAAjB,EAA+BC,gBAA/B,EAAiDC,gBAAjD,EAAmE;AACpH,QAAID,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAEA,MAAAA,gBAAgB,GAAG,IAAnB;AAA0B;;AAC7D,QAAIC,gBAAgB,KAAK,KAAK,CAA9B,EAAiC;AAAEA,MAAAA,gBAAgB,GAAG,yCAAnB;AAA+D;;AAClG,QAAIC,cAAc,GAAGrJ,iBAAiB,CAACsJ,YAAlB,CAA+B;AAAED,MAAAA,cAAc,EAAE5H,KAAK,CAAC8H;AAAxB,KAA/B,EAAuF,UAAUC,IAAV,EAAgB;AACxH,UAAIC,UAAU,GAAGD,IAAI,CAACH,cAAL,CAAoBK,GAApB,CAAwB,UAAUC,IAAV,EAAgB;AAAE,eAAO;AAAEpK,UAAAA,KAAK,EAAEoK,IAAT;AAAezB,UAAAA,cAAc,EAAEyB;AAA/B,SAAP;AAA+C,OAAzF,CAAjB;;AACA,UAAIR,gBAAJ,EAAsB;AAClBM,QAAAA,UAAU,CAACG,MAAX,CAAkB,CAAlB,EAAqB,CAArB,EAAwB;AACpBrK,UAAAA,KAAK,EAAE,EADa;AAEpB2I,UAAAA,cAAc,EAAEkB;AAFI,SAAxB;AAIH;;AACD,aAAOK,UAAP;AACH,KAToB,CAArB;;AAUA,QAAII,IAAI,GAAG3L,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKgL,YAAL,CAAT,EAA6B;AAAE5E,MAAAA,eAAe,EAAEpD,uBAAuB,CAAC4I,sBAAxB,CAA+C;AAAElG,QAAAA,MAAM,EAAEyF;AAAV,OAA/C;AAAnB,KAA7B,CAAnB;;AACA,WAAOQ,IAAP;AACH,GAfD;;AAgBArK,EAAAA,eAAe,CAACuK,8BAAhB,GAAiD,UAAUtI,KAAV,EAAiB;AAC9D,WAAOjC,eAAe,CAACyJ,kCAAhB,CAAmDxH,KAAnD,EAA0DlB,WAAW,CAACyJ,uBAAtE,CAAP;AACH,GAFD;;AAGAxK,EAAAA,eAAe,CAACyK,qBAAhB,GAAwC,UAAUxI,KAAV,EAAiB;AACrD,QAAIC,UAAU,GAAG,CACblB,aAAa,CAAC0J,aADD,EAEb1J,aAAa,CAAC2J,cAFD,CAAjB;AAIA,QAAIxI,aAAa,GAAG,EAApB;AACAA,IAAAA,aAAa,CAACnB,aAAa,CAAC2J,cAAd,CAA6BnF,YAA9B,CAAb,GAA2D,CAACxE,aAAa,CAAC0J,aAAd,CAA4BlF,YAA7B,EAA2C,GAA3C,EAAgD,KAAhD,CAA3D;AACA,WAAO,IAAI7D,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DC,MAAAA,UAAU,EAAE,CAAC;AACLoE,QAAAA,SAAS,EAAEvF,WAAW,CAAC6J,WADlB;AAEL1I,QAAAA,UAAU,EAAEA;AAFP,OAAD,CAFgD;AAM5DsB,MAAAA,mBAAmB,EAAErB;AANuC,KAAzD,CAAP;AAQH,GAfD;;AAgBAnC,EAAAA,eAAe,CAAC6K,wBAAhB,GAA2C,UAAU5I,KAAV,EAAiB;AACxD,QAAIC,UAAU,GAAG,CACblB,aAAa,CAAC8J,qBADD,EAEb9J,aAAa,CAAC+J,UAFD,EAGb/J,aAAa,CAAC2J,cAHD,CAAjB;AAKA,QAAIxI,aAAa,GAAG,EAApB;AACAA,IAAAA,aAAa,CAACnB,aAAa,CAAC+J,UAAd,CAAyBvF,YAA1B,CAAb,GAAuD,CAACxE,aAAa,CAAC8J,qBAAd,CAAoCtF,YAArC,EAAmD,GAAnD,EAAwD,KAAxD,CAAvD;AACArD,IAAAA,aAAa,CAACnB,aAAa,CAAC2J,cAAd,CAA6BnF,YAA9B,CAAb,GAA2D,CAACxE,aAAa,CAAC8J,qBAAd,CAAoCtF,YAArC,EAAmD,GAAnD,EAAwD,KAAxD,CAA3D;AACA,WAAO,IAAI7D,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DC,MAAAA,UAAU,EAAE,CAAC;AACLoE,QAAAA,SAAS,EAAEvF,WAAW,CAACiK,cADlB;AAEL9I,QAAAA,UAAU,EAAEA;AAFP,OAAD,CAFgD;AAM5DsB,MAAAA,mBAAmB,EAAErB;AANuC,KAAzD,CAAP;AAQH,GAjBD;;AAkBAnC,EAAAA,eAAe,CAACkH,uBAAhB,GAA0C,UAAUjF,KAAV,EAAiB;AACvD,QAAIgJ,eAAe,GAAG,UAAUlF,aAAV,EAAyB;AAC3C,aAAOA,aAAa,CAACmF,UAAd,OAA+B,QAA/B,IAA2CnF,aAAa,CAACmF,UAAd,OAA+B,UAAjF;AACH,KAFD;;AAGA,QAAIC,mBAAmB,GAAG,UAAUpF,aAAV,EAAyB;AAC/C,aAAOA,aAAa,CAACmF,UAAd,OAA+B,MAA/B,IAAyCnF,aAAa,CAACmF,UAAd,OAA+B,SAA/E;AACH,KAFD;;AAGA,QAAIE,cAAc,GAAG,UAAUrF,aAAV,EAAyB;AAC1C,aAAOA,aAAa,CAACmF,UAAd,OAA+B,QAAtC;AACH,KAFD;;AAGA,QAAI/I,aAAa,GAAG,EAApB;;AACAA,IAAAA,aAAa,CAAC7B,mBAAmB,CAAC+K,IAApB,CAAyB7F,YAA1B,CAAb,GAAuD,UAAUO,aAAV,EAAyB;AAAE,aAAO,CAACkF,eAAe,CAAClF,aAAD,CAAvB;AAAyC,KAA3H;;AACA5D,IAAAA,aAAa,CAAC7B,mBAAmB,CAACgL,SAApB,CAA8B9F,YAA/B,CAAb,GAA4D,UAAUO,aAAV,EAAyB;AACjF,aAAOoF,mBAAmB,CAACpF,aAAD,CAAnB,IAAuCkF,eAAe,CAAClF,aAAD,CAAf,IAAkCA,aAAa,CAACsF,IAAd,OAAyB,MAAzG;AACH,KAFD;;AAGAlJ,IAAAA,aAAa,CAAC7B,mBAAmB,CAACiL,qBAApB,CAA0C/F,YAA3C,CAAb,GAAwE,UAAUO,aAAV,EAAyB;AAC7F,aAAOoF,mBAAmB,CAACpF,aAAD,CAAnB,IAAsCA,aAAa,CAACmF,UAAd,OAA+B,YAA5E;AACH,KAFD;;AAGA/I,IAAAA,aAAa,CAAC7B,mBAAmB,CAACkL,2BAApB,CAAgDhG,YAAjD,CAAb,GAA8E,UAAUO,aAAV,EAAyB;AAAE,aAAOA,aAAa,CAACmF,UAAd,OAA+B,UAAtC;AAAmD,KAA5J;;AACA,QAAI3H,qBAAqB,GAAG,EAA5B;;AACAA,IAAAA,qBAAqB,CAACjD,mBAAmB,CAAC+K,IAApB,CAAyB7F,YAA1B,CAArB,GAA+D,UAAUvD,KAAV,EAAiB;AAAE,aAAO,CAACmJ,cAAc,CAACnJ,KAAD,CAAtB;AAAgC,KAAlH;;AACAsB,IAAAA,qBAAqB,CAACjD,mBAAmB,CAACgL,SAApB,CAA8B9F,YAA/B,CAArB,GAAoE,UAAUvD,KAAV,EAAiB;AAAE,aAAO,CAACmJ,cAAc,CAACnJ,KAAD,CAAtB;AAAgC,KAAvH;;AACAsB,IAAAA,qBAAqB,CAACjD,mBAAmB,CAACiL,qBAApB,CAA0C/F,YAA3C,CAArB,GAAgF,UAAUvD,KAAV,EAAiB;AAAE,aAAO,CAACmJ,cAAc,CAACnJ,KAAD,CAAtB;AAAgC,KAAnI;;AACAsB,IAAAA,qBAAqB,CAACjD,mBAAmB,CAACkL,2BAApB,CAAgDhG,YAAjD,CAArB,GAAsF,UAAUvD,KAAV,EAAiB;AAAE,aAAO,CAACmJ,cAAc,CAACnJ,KAAD,CAAtB;AAAgC,KAAzI;;AACAsB,IAAAA,qBAAqB,CAACjD,mBAAmB,CAACmL,kBAApB,CAAuCjG,YAAxC,CAArB,GAA6E,UAAUvD,KAAV,EAAiB;AAAE,aAAOmJ,cAAc,CAACnJ,KAAD,CAArB;AAA+B,KAA/H;;AACA,QAAIC,UAAU,GAAG,CACb5B,mBAAmB,CAAC4K,UADP,EAEb5K,mBAAmB,CAAC+K,IAFP,EAGb/K,mBAAmB,CAACgL,SAHP,EAIbhL,mBAAmB,CAACiL,qBAJP,EAKb7M,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK4B,mBAAmB,CAACkL,2BAAzB,CAAT,EAAgE;AAAE1G,MAAAA,eAAe,EAAEpD,uBAAuB,CAACgK,cAAxB;AAAnB,KAAhE,CALK,EAMbpL,mBAAmB,CAACmL,kBANP,CAAjB;;AAQA,QAAIhK,iBAAiB,CAACkK,wBAAlB,CAA2CC,uBAA3C,KAAuE,SAA3E,EAAsF;AAClF,UAAIC,0BAA0B,GAAInN,QAAQ,CAAC,EAAD,EAAK4B,mBAAmB,CAACwL,gBAAzB,CAA1C;;AACA,aAAOD,0BAA0B,CAAC,QAAD,CAAjC;AACA3J,MAAAA,UAAU,GAAG1C,aAAa,CAAC,CACvBd,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK4B,mBAAmB,CAAC4K,UAAzB,CAAT,EAA+C;AAAE9G,QAAAA,MAAM,EAAE1F,QAAQ,CAAC,EAAD,EAAKmN,0BAAL;AAAlB,OAA/C,CADe,CAAD,EAEvB3J,UAAU,CAAC6J,MAAX,CAAkB,UAAU5M,CAAV,EAAa;AAAE,eAAOA,CAAC,CAACqG,YAAF,KAAmBlF,mBAAmB,CAAC4K,UAApB,CAA+B1F,YAAlD,IAAkErG,CAAC,CAACqG,YAAF,KAAmBlF,mBAAmB,CAACmL,kBAApB,CAAuCjG,YAAnI;AAAkJ,OAAnL,CAFuB,CAA1B;AAGH;;AACD,WAAO,IAAI7D,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DC,MAAAA,UAAU,EAAEA,UAFgD;AAG5DsB,MAAAA,mBAAmB,EAAErB,aAHuC;AAI5DoB,MAAAA,qBAAqB,EAAEA,qBAJqC;AAK5D+F,MAAAA,OAAO,EAAErJ,EAAE,CAAC+L,YAAH,CAAgB,YAAY;AAAE,eAAOb,mBAAmB,CAAClJ,KAAD,CAAnB,GAA6B,EAA7B,GAAmC3B,mBAAmB,CAACwL,gBAApB,CAAqC7J,KAAK,CAACiJ,UAAN,EAArC,KAA4DjJ,KAAK,CAACiJ,UAAN,EAAtG;AAA4H,OAA1J;AALmD,KAAzD,CAAP;AAOH,GA/CD;;AAgDAlL,EAAAA,eAAe,CAACiM,sBAAhB,GAAyC,UAAUhK,KAAV,EAAiB;AACtD,QAAIE,aAAa,GAAG,EAApB;;AACAA,IAAAA,aAAa,CAACjB,gBAAgB,CAACgL,6BAAjB,CAA+C1G,YAAhD,CAAb,GAA6E,UAAU2G,YAAV,EAAwB;AAAE,aAAOA,YAAY,CAACC,oBAAb,OAAwC,cAA/C;AAAgE,KAAvK;;AACAjK,IAAAA,aAAa,CAACjB,gBAAgB,CAACmL,yBAAjB,CAA2C7G,YAA5C,CAAb,GAAyE,UAAU2G,YAAV,EAAwB;AAAE,aAAOA,YAAY,CAACC,oBAAb,OAAwC,cAA/C;AAAgE,KAAnK;;AACA,WAAO,IAAIzK,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DC,MAAAA,UAAU,EAAE,EAFgD;AAG5DsB,MAAAA,mBAAmB,EAAErB;AAHuC,KAAzD,CAAP;AAKH,GATD;;AAUAnC,EAAAA,eAAe,CAACsM,6BAAhB,GAAgD,UAAUrK,KAAV,EAAiBsK,UAAjB,EAA6B;AACzE,QAAIA,UAAU,KAAK,KAAK,CAAxB,EAA2B;AAAEA,MAAAA,UAAU,GAAG,UAAUtK,KAAV,EAAiB,CAAG,CAAjC;AAAoC;;AACjE,QAAIuK,iBAAiB,GAAG,EAAxB;;AACA,SAAK,IAAIC,EAAE,GAAG,CAAd,EAAiBA,EAAE,GAAGxN,SAAS,CAACC,MAAhC,EAAwCuN,EAAE,EAA1C,EAA8C;AAC1CD,MAAAA,iBAAiB,CAACC,EAAE,GAAG,CAAN,CAAjB,GAA4BxN,SAAS,CAACwN,EAAD,CAArC;AACH;;AACD,QAAIC,OAAO,GAAG,KAAKC,eAAL,CAAqB1K,KAArB,CAAd;AACAuK,IAAAA,iBAAiB,CAACnJ,OAAlB,CAA0B,UAAUuJ,MAAV,EAAkB;AAAE,aAAOF,OAAO,CAACrG,IAAR,CAAauG,MAAb,CAAP;AAA8B,KAA5E;AACA,QAAIC,uBAAuB,GAAG;AAC1BrH,MAAAA,YAAY,EAAE,OADY;AAE1Bf,MAAAA,eAAe,EAAE8H,UAFS;AAG1BO,MAAAA,YAAY,EAAE,KAHY;AAI1BC,MAAAA,gBAAgB,EAAE,KAJQ;AAK1BC,MAAAA,eAAe,EAAE;AALS,KAA9B;AAOA,WAAO,IAAIrL,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAE;AAAEgL,QAAAA,YAAY,EAAEhN,EAAE,CAACiN,eAAH,CAAmBR,OAAnB;AAAhB,OADqD;AAE5DxK,MAAAA,UAAU,EAAE,CAAC;AACL4C,QAAAA,eAAe,EAAEpD,uBAAuB,CAACyL,gBAAxB,CAAyCN,uBAAzC,CADZ;AAELrH,QAAAA,YAAY,EAAE;AAFT,OAAD;AAFgD,KAAzD,CAAP;AAOH,GAtBD;;AAuBAxF,EAAAA,eAAe,CAAC2M,eAAhB,GAAkC,UAAUS,UAAV,EAAsB;AACpD,QAAIV,OAAO,GAAG,EAAd;AACA,QAAIW,iBAAiB,GAAGD,UAAU,CAACE,WAAX,KAA2BF,UAAU,CAACE,WAAX,GAAyBvH,aAApD,GAAoE,IAA5F;AACA,QAAIwH,iBAAiB,GAAGH,UAAU,CAACI,WAAX,KAA2BJ,UAAU,CAACI,WAAX,GAAyBzH,aAApD,GAAoE,IAA5F;AACAsH,IAAAA,iBAAiB,IAAIX,OAAO,CAACrG,IAAR,CAAa;AAAEX,MAAAA,KAAK,EAAEvF,UAAU,CAACoE,mBAAX,CAA+B,oDAA/B,CAAT;AAA+FwB,MAAAA,aAAa,EAAEsH;AAA9G,KAAb,CAArB;AACAE,IAAAA,iBAAiB,IAAIb,OAAO,CAACrG,IAAR,CAAa;AAAEX,MAAAA,KAAK,EAAEvF,UAAU,CAACoE,mBAAX,CAA+B,4DAA/B,CAAT;AAAuGwB,MAAAA,aAAa,EAAEwH;AAAtH,KAAb,CAArB;AACA,WAAOb,OAAO,CAACvJ,MAAR,CAAe,CAClB;AAAEuC,MAAAA,KAAK,EAAEvF,UAAU,CAACoE,mBAAX,CAA+B,0DAA/B,CAAT;AAAqGwB,MAAAA,aAAa,EAAEqH,UAAU,CAACK;AAA/H,KADkB,EAElB;AAAE/H,MAAAA,KAAK,EAAEvF,UAAU,CAACoE,mBAAX,CAA+B,yDAA/B,CAAT;AAAoGwB,MAAAA,aAAa,EAAEqH,UAAU,CAACM;AAA9H,KAFkB,EAGlB;AAAEhI,MAAAA,KAAK,EAAEvF,UAAU,CAACoE,mBAAX,CAA+B,wDAA/B,CAAT;AAAmGwB,MAAAA,aAAa,EAAEqH,UAAU,CAACO;AAA7H,KAHkB,CAAf,CAAP;AAKH,GAXD;;AAYA3N,EAAAA,eAAe,CAAC4N,sBAAhB,GAAyC,UAAU3L,KAAV,EAAiB4L,eAAjB,EAAkCC,iBAAlC,EAAqDC,SAArD,EAAgE;AACrG,QAAIC,UAAU,GAAG7N,UAAU,CAACoE,mBAAX,CAA+B,qCAA/B,IAAwE,GAAzF;AACA,QAAI0J,gCAAgC,GAAGhO,EAAE,CAACiO,UAAH,CAAc,KAAd,CAAvC;AACA,QAAI5I,eAAe,GAAG,EAAtB;;AACAA,IAAAA,eAAe,CAACjE,oBAAoB,CAAC8M,eAArB,CAAqC3I,YAAtC,CAAf,GAAqE,YAAY;AAC7E,aAAOyI,gCAAgC,EAAvC;AACH,KAFD;;AAGAhO,IAAAA,EAAE,CAACsJ,QAAH,CAAY,YAAY;AACpB,UAAIwE,SAAS,EAAb,EAAiB;AACbD,QAAAA,iBAAiB,CAACM,aAAlB,CAAgCnM,KAAK,CAACiC,UAAN,EAAhC,EAAoDjC,KAAK,CAACoM,UAAN,EAApD,EAAwEN,SAAS,GAAGM,UAAZ,EAAxE,EAAkGC,IAAlG,CAAuG,UAAUC,SAAV,EAAqB;AACxHN,UAAAA,gCAAgC,CAACM,SAAS,IAAIA,SAAS,CAACC,SAAV,OAA0B,UAAxC,CAAhC;AACH,SAFD;AAGH;AACJ,KAND;;AAOA,QAAIC,kBAAkB,GAAG,UAAUC,QAAV,EAAoBC,SAApB,EAA+BC,WAA/B,EAA4C;AACjE,UAAI1L,IAAI,GAAGjD,EAAE,CAAC4O,MAAH,CAAUH,QAAQ,CAACxL,IAAnB,CAAX;AACA,UAAI4L,GAAG,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAV;AACAF,MAAAA,GAAG,CAACG,SAAJ,GAAgB/L,IAAhB;AACA4L,MAAAA,GAAG,CAACI,KAAJ,CAAUC,UAAV,GAAuBlN,KAAK,CAACmN,yBAAN,OAAsClM,IAAtC,GAA6C,KAA7C,GAAqD,QAA5E;AACA0L,MAAAA,WAAW,CAACS,WAAZ,CAAwBP,GAAxB;AACA,aAAOA,GAAP;AACH,KAPD;;AAQA,QAAIQ,eAAe,GAAG,IAAIxN,mCAAmC,CAACyN,+BAAxC,EAAtB;AACA,QAAIC,aAAa,GAAG,EAApB;AACAA,IAAAA,aAAa,CAACnJ,IAAd,CAAmB7F,iBAAiB,CAACiP,aAAlB,CAAgC;AAAEC,MAAAA,aAAa,EAAEzN,KAAK,CAACmN;AAAvB,KAAhC,EAAoF,UAAUO,CAAV,EAAa;AAAE,aAAOL,eAAe,CAACM,OAAhB,EAAP;AAAmC,KAAtI,CAAnB;AACAJ,IAAAA,aAAa,CAACnJ,IAAd,CAAmB7F,iBAAiB,CAACqP,8BAAlB,CAAiD5N,KAAK,CAACkM,eAAvD,EAAwE,UAAU2B,MAAV,EAAkB;AAAE,aAAOA,MAAM,CAAC5M,IAAP,CAAY6M,SAAZ,CAAsB,YAAY;AAAE,eAAOT,eAAe,CAACM,OAAhB,EAAP;AAAmC,OAAvE,CAAP;AAAkF,KAA9K,CAAnB;AACA,QAAI/C,uBAAuB,GAAG;AAC1BrH,MAAAA,YAAY,EAAE,MADY;AAE1BwK,MAAAA,oBAAoB,EAAE,YAAY;AAAE,eAAO,IAAI5O,kBAAkB,CAAC6O,cAAvB,CAAsC;AAAE,uBAAa,gBAAf;AAAiC,mBAAS1P,iBAAiB,CAAC2P,aAAlB,CAAgCC,YAAhC,CAA6CnC,UAA7C,EAAyD/L,KAAK,CAACkM,eAAN,EAAzD,EAAkF,MAAlF,EAA0F,CAA1F;AAA1C,SAAtC,CAAP;AAAyL,OAFnM;AAG1B1J,MAAAA,eAAe,EAAEoJ,eAHS;AAI1BuC,MAAAA,cAAc,EAAE3B,kBAJU;AAK1B4B,MAAAA,oBAAoB,EAAEf;AALI,KAA9B;AAOA,WAAO,IAAI3N,4BAA4B,CAACe,uBAAjC,CAAyD;AAC5DT,MAAAA,KAAK,EAAEA,KADqD;AAE5DsB,MAAAA,qBAAqB,EAAE+B,eAFqC;AAG5DpD,MAAAA,UAAU,EAAE,CAACxD,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAK2C,oBAAoB,CAAC8M,eAA1B,CAAT,EAAqD;AAAErJ,QAAAA,eAAe,EAAEpD,uBAAuB,CAACyL,gBAAxB,CAAyCN,uBAAzC;AAAnB,OAArD,CAAT,CAHgD;AAI5DyD,MAAAA,4BAA4B,EAAEd;AAJ8B,KAAzD,CAAP;AAMH,GAvCD;;AAwCAxP,EAAAA,eAAe,CAACuQ,6BAAhB,GAAgD,YAAY;AACxD,QAAIC,YAAY,GAAG;AACf,cAAQ;AACJC,QAAAA,IAAI,EAAE,gCADF;AAEJtJ,QAAAA,WAAW,EAAE;AAFT,OADO;AAKf,cAAQ;AACJsJ,QAAAA,IAAI,EAAE,gCADF;AAEJtJ,QAAAA,WAAW,EAAE;AAFT,OALO;AASf,aAAO;AACHsJ,QAAAA,IAAI,EAAE,+BADH;AAEHtJ,QAAAA,WAAW,EAAE;AAFV,OATQ;AAaf,iBAAW;AACPsJ,QAAAA,IAAI,EAAE,iCADC;AAEPtJ,QAAAA,WAAW,EAAE;AAFN;AAbI,KAAnB;AAkBA,WAAO,CACHzI,QAAQ,CAACA,QAAQ,CAAC,EAAD,EAAKyC,oBAAoB,CAACuP,QAA1B,CAAT,EAA8C;AAAE5L,MAAAA,eAAe,EAAEpD,uBAAuB,CAACiP,cAAxB,CAAuC;AAAEC,QAAAA,aAAa,EAAEJ;AAAjB,OAAvC;AAAnB,KAA9C,CADL,EAEHrP,oBAAoB,CAAC0P,qBAFlB,EAGH1P,oBAAoB,CAAC2P,uBAHlB,CAAP;AAKH,GAxBD;;AAyBA,SAAO9Q,eAAP;AACH,CAnasB,EAAvB;;AAoaAF,OAAO,CAACE,eAAR,GAA0BA,eAA1B","sourcesContent":["/**\r\n* DevExpress Dashboard (_shared-composers.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedComposers = void 0;\nvar ko = require(\"knockout\");\nvar _default_1 = require(\"../../../data/localization/_default\");\nvar model_1 = require(\"../../../model\");\nvar _data_item_1 = require(\"../../../model/data-item/metadata/_data-item\");\nvar _data_item_format_1 = require(\"../../../model/data-item/metadata/_data-item-format\");\nvar _helper_classes_1 = require(\"../../../model/internal/_helper-classes\");\nvar _knockout_utils_1 = require(\"../../../model/internal/_knockout-utils\");\nvar chart_series_1 = require(\"../../../model/items/chart/chart-series\");\nvar _chart_axis_1 = require(\"../../../model/items/chart/metadata/_chart-axis\");\nvar _chart_item_1 = require(\"../../../model/items/chart/metadata/_chart-item\");\nvar _chart_legend_1 = require(\"../../../model/items/chart/metadata/_chart-legend\");\nvar _chart_series_1 = require(\"../../../model/items/chart/metadata/_chart-series\");\nvar _point_label_options_1 = require(\"../../../model/items/chart/metadata/_point-label-options\");\nvar _map_item_1 = require(\"../../../model/items/map/metadata/_map-item\");\nvar _map_legend_1 = require(\"../../../model/items/map/metadata/_map-legend\");\nvar _dashboard_item_1 = require(\"../../../model/items/metadata/_dashboard-item\");\nvar _delta_options_1 = require(\"../../../model/items/options/metadata/_delta-options\");\nvar _sparkline_options_1 = require(\"../../../model/items/options/metadata/_sparkline-options\");\nvar date_time_period_1 = require(\"../../../model/items/range-filter/date-time-period\");\nvar _range_filter_item_1 = require(\"../../../model/items/range-filter/metadata/_range-filter-item\");\nvar _scatter_point_label_options_1 = require(\"../../../model/items/scatter-chart/metadata/_scatter-point-label-options\");\nvar scatter_chart_item_1 = require(\"../../../model/items/scatter-chart/scatter-chart-item\");\nvar _base_metadata_1 = require(\"../../../model/metadata/_base-metadata\");\nvar legacy_settings_1 = require(\"../../../viewer-parts/legacy-settings\");\nvar _form_adapter_editors_1 = require(\"../../form-adapter/_form-adapter-editors\");\nvar _object_properties_wrapper_1 = require(\"../../form-adapter/_object-properties-wrapper\");\nvar _accordion_tab_1 = require(\"../../properties-controller/_accordion-tab\");\nvar _collection_editor_viewmodel_1 = require(\"../../ui-widgets/collection-editor/_collection-editor-viewmodel\");\nvar _collection_editor_viewmodel_base_1 = require(\"../../ui-widgets/collection-editor/_collection-editor-viewmodel-base\");\nvar _map_custom_shapefile_surface_1 = require(\"../surfaces/_map-custom-shapefile-surface\");\nvar SharedComposers = (function () {\n    function SharedComposers() {\n    }\n    SharedComposers.getCommonTab = function (model, properties, disabledRules) {\n        if (properties === void 0) { properties = []; }\n        if (disabledRules === void 0) { disabledRules = {}; }\n        var wrapper = this.getCommonWrapper(model, properties, disabledRules);\n        return new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.Common, 'DashboardWebStringId.AccordionTab.Common', wrapper);\n    };\n    SharedComposers.getAllTab = function (model) {\n        return new _accordion_tab_1.AccordionTab('ALL', 'All', new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: []\n        }));\n    };\n    SharedComposers.getContentArrangementTab = function (model) {\n        return new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.ContentArrangement, 'DashboardWebStringId.AccordionTab.Layout', this.getContentArrangementWrapper(model));\n    };\n    SharedComposers.getCommonWrapper = function (model, specificProperties, specificDisabledRules, specificVisibilityRules) {\n        if (specificProperties === void 0) { specificProperties = []; }\n        if (specificDisabledRules === void 0) { specificDisabledRules = {}; }\n        if (specificVisibilityRules === void 0) { specificVisibilityRules = {}; }\n        var properties = [\n            _dashboard_item_1.showCaption,\n            _base_metadata_1.name\n        ];\n        properties = properties.concat(specificProperties);\n        var disabledRules = {};\n        Object.keys(specificDisabledRules).forEach(function (key) {\n            disabledRules[key] = specificDisabledRules[key];\n        });\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: properties,\n            visibilityFilterRules: specificVisibilityRules,\n            disabledFilterRules: disabledRules\n        });\n    };\n    SharedComposers.getCommonMapWrapper = function (model, propertiesController, specificProperties) {\n        if (specificProperties === void 0) { specificProperties = []; }\n        var editHandler = function () {\n            var surface = new _map_custom_shapefile_surface_1.MapCustomShapeFileSurface(model.customShapefile, propertiesController);\n            surface.startEditing(new _collection_editor_viewmodel_1.CollectionEditorEditItemArguments());\n        };\n        var editorOptions = {\n            dataSource: Object.keys(_map_item_1.area.values),\n            getDisplayText: function (item) { return _default_1.getLocalizationById(_map_item_1.area.values[item]); },\n            enableEditItem: function (item) { return item === 'Custom'; },\n            editItemHandler: editHandler,\n            onSelectionChanged: function (item) {\n                if (item === 'Custom' && !model.customShapefile.url() && !model.customShapefile.data.shapeData())\n                    editHandler();\n            },\n        };\n        var properties = [__assign(__assign({}, _map_item_1.area), { formAdapterItem: _form_adapter_editors_1.editableListEditor(editorOptions) })].concat(specificProperties);\n        return SharedComposers.getCommonWrapper(model, properties);\n    };\n    SharedComposers.getAxisWrapper = function (model, axisComputedTitle, alwaysShowZeroLevelInfo, isDateField, isNumericField, groupInterval) {\n        if (isDateField === void 0) { isDateField = false; }\n        if (isNumericField === void 0) { isNumericField = true; }\n        if (groupInterval === void 0) { groupInterval = 'None'; }\n        var disabledRules = {};\n        var visibilityRules = {};\n        disabledRules[_chart_axis_1.titleVisibleBaseInfo.propertyName] = [_chart_axis_1.axisVisible.propertyName, '=', false];\n        disabledRules[_chart_axis_1.title.propertyName] = [[_chart_axis_1.titleVisibleBaseInfo.propertyName, '=', false], 'or', [_chart_axis_1.axisVisible.propertyName, '=', false]];\n        disabledRules[_chart_axis_1.logarithmicBase.propertyName] = [_chart_axis_1.logarithmic.propertyName, '=', false];\n        disabledRules[_chart_axis_1.limitVisiblePoints.propertyName] = [_chart_axis_1.axisVisible.propertyName, '=', false];\n        disabledRules[_chart_axis_1.visiblePointsCount.propertyName] = [[_chart_axis_1.limitVisiblePoints.propertyName, '=', false], 'or', [_chart_axis_1.axisVisible.propertyName, '=', false]];\n        disabledRules[_data_item_1.numericFormat.propertyName] = [_data_item_1.numericFormat.propertyName, '=', false];\n        disabledRules[_data_item_1.dateTimeFormat.propertyName] = [_data_item_1.dateTimeFormat.propertyName, '=', false];\n        var properties = alwaysShowZeroLevelInfo ? [alwaysShowZeroLevelInfo] : [];\n        properties = properties.concat([\n            _chart_axis_1.reverse,\n            _chart_axis_1.showGridLinesBaseInfo,\n            _chart_axis_1.axisVisible,\n            _chart_axis_1.titleVisibleBaseInfo,\n            __assign({ editorOptions: { placeholder: axisComputedTitle } }, _chart_axis_1.title),\n            _chart_axis_1.logarithmic,\n            _chart_axis_1.logarithmicBase,\n            _chart_axis_1.enableZooming,\n            _chart_axis_1.limitVisiblePoints,\n            _chart_axis_1.visiblePointsCount,\n        ]);\n        if (isDateField) {\n            properties.push({\n                container: _data_item_1.dateTimeFormat,\n                properties: [\n                    _data_item_format_1.yearFormat,\n                    _data_item_format_1.monthFormat,\n                    _data_item_format_1.quarterFormat,\n                    _data_item_format_1.dayOfWeekFormat,\n                    _data_item_format_1.hourFormat,\n                    _data_item_format_1.dateFormat,\n                    _data_item_format_1.dateHourFormat,\n                    _data_item_format_1.dateHourMinuteFormat,\n                    _data_item_format_1.dateTimeWithSecondsFormat,\n                    _data_item_format_1.exactDateFormat\n                ]\n            });\n            visibilityRules[_data_item_format_1.yearFormat.propertyName] = function () { return groupInterval === 'Year'; };\n            visibilityRules[_data_item_format_1.quarterFormat.propertyName] = function () { return groupInterval === 'Quarter'; };\n            visibilityRules[_data_item_format_1.monthFormat.propertyName] = function () { return groupInterval === 'Month'; };\n            visibilityRules[_data_item_format_1.hourFormat.propertyName] = function () { return groupInterval === 'Hour'; };\n            visibilityRules[_data_item_format_1.dayOfWeekFormat.propertyName] = function () { return groupInterval === 'DayOfWeek'; };\n            visibilityRules[_data_item_format_1.dateFormat.propertyName] = function () { return groupInterval === 'DayMonthYear'; };\n            visibilityRules[_data_item_format_1.dateHourFormat.propertyName] = function () { return groupInterval === 'DateHour'; };\n            visibilityRules[_data_item_format_1.dateHourMinuteFormat.propertyName] = function () { return groupInterval === 'DateHourMinute'; };\n            visibilityRules[_data_item_format_1.dateTimeWithSecondsFormat.propertyName] = function () { return groupInterval === 'DateHourMinuteSecond'; };\n            visibilityRules[_data_item_format_1.exactDateFormat.propertyName] = function () { return groupInterval === 'None'; };\n        }\n        if (isNumericField) {\n            properties.push(__assign(__assign({ sourceObject: this.getNumericFormatWrapper(model.numericFormat) }, _data_item_1.numericFormat), { displayName: null, formAdapterItem: _form_adapter_editors_1.nestedPropertyGridEditor(_default_1.getLocalizationById(_data_item_1.numericFormat.displayName)) }));\n        }\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: properties,\n            disabledFilterRules: disabledRules,\n            visibilityFilterRules: visibilityRules\n        });\n    };\n    SharedComposers.getLegendWrapper = function (model) {\n        var properties = [\n            _chart_legend_1.chartLegendVisible,\n            _chart_legend_1.isInsideDiagram,\n            _chart_legend_1.insidePosition,\n            _chart_legend_1.outsidePosition,\n        ];\n        var disabledRules = {};\n        disabledRules[_chart_legend_1.isInsideDiagram.propertyName] = [_chart_legend_1.chartLegendVisible.propertyName, '=', false];\n        disabledRules[_chart_legend_1.insidePosition.propertyName] = [_chart_legend_1.chartLegendVisible.propertyName, '=', false];\n        disabledRules[_chart_legend_1.outsidePosition.propertyName] = [_chart_legend_1.chartLegendVisible.propertyName, '=', false];\n        var visibleRules = {};\n        visibleRules[_chart_legend_1.insidePosition.propertyName] = [_chart_legend_1.isInsideDiagram.propertyName, '=', true];\n        visibleRules[_chart_legend_1.outsidePosition.propertyName] = [_chart_legend_1.isInsideDiagram.propertyName, '=', false];\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: [{\n                    container: _chart_item_1.chartLegend,\n                    properties: properties\n                }],\n            disabledFilterRules: disabledRules,\n            visibilityFilterRules: visibleRules\n        });\n    };\n    SharedComposers.getContentArrangementWrapper = function (model) {\n        var properties = [\n            _base_metadata_1.contentArrangementMode,\n            _base_metadata_1.contentLineCount\n        ];\n        var disabledRules = {};\n        disabledRules[_base_metadata_1.contentLineCount.propertyName] = [_base_metadata_1.contentArrangementMode.propertyName, '=', 'Auto'];\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: properties,\n            disabledFilterRules: disabledRules\n        });\n    };\n    SharedComposers.getLabelsWrapper = function (model) {\n        if (model) {\n            var simpleSeries = model instanceof chart_series_1.SimpleSeries ? model : null;\n            var properties = [];\n            if (model instanceof scatter_chart_item_1.ScatterChartItem) {\n                properties.push(_point_label_options_1.showPointLabels);\n                properties.push(_scatter_point_label_options_1.content);\n            }\n            else {\n                var isFullStackedSeries = simpleSeries && ['FullStackedBar', 'FullStackedLine', 'FullStackedArea', 'FullStackedSplineArea'].indexOf(simpleSeries.seriesType()) >= 0;\n                var avaliablePointLabelContentTypes = isFullStackedSeries ?\n                    [\n                        { value: model_1.PointLabelContentType.Argument, displayValueId: 'DashboardStringId.PointLabelContentTypeArgument' },\n                        { value: model_1.PointLabelContentType.SeriesName, displayValueId: 'DashboardStringId.PointLabelContentTypeSeriesName' },\n                        { value: model_1.PointLabelContentType.Value, displayValueId: 'DashboardStringId.PointLabelContentTypeValue' },\n                        { value: model_1.PointLabelContentType.Percent, displayValueId: 'DashboardStringId.PointLabelContentTypePercent' }\n                    ]\n                    :\n                        [\n                            { value: model_1.PointLabelContentType.Argument, displayValueId: 'DashboardStringId.PointLabelContentTypeArgument' },\n                            { value: model_1.PointLabelContentType.SeriesName, displayValueId: 'DashboardStringId.PointLabelContentTypeSeriesName' },\n                            { value: model_1.PointLabelContentType.Value, displayValueId: 'DashboardStringId.PointLabelContentTypeValue' }\n                        ];\n                properties.push(__assign(__assign({}, _point_label_options_1.contentType), { formAdapterItem: _form_adapter_editors_1.flagsEnumListEditor({\n                        values: avaliablePointLabelContentTypes,\n                        enumDeclaration: model_1.PointLabelContentType\n                    }) }));\n            }\n            properties = properties.concat([\n                _point_label_options_1.overlappingMode,\n                _point_label_options_1.pointLabelOrientation\n            ]);\n            if (simpleSeries && simpleSeries.seriesType().indexOf('Bar') > -1) {\n                properties.push(_point_label_options_1.showForZeroValues);\n                properties.push(_point_label_options_1.position);\n            }\n            if (model instanceof scatter_chart_item_1.ScatterChartItem) {\n                properties.push(_point_label_options_1.position);\n            }\n            return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n                model: model,\n                properties: [{\n                        container: _chart_series_1.chartSeriesPointLabelOptions,\n                        properties: properties\n                    }],\n                summary: ko.computed(function () { return (model.pointLabelOptions && model.pointLabelOptions.showPointLabels()) ? 'DashboardWebStringId.ButtonOn' : ''; })\n            });\n        }\n        return null;\n    };\n    SharedComposers.getAttributeNamesSerializationInfo = function (model, propertyInfo, includeNoneValue, noneValueCaption) {\n        if (includeNoneValue === void 0) { includeNoneValue = true; }\n        if (noneValueCaption === void 0) { noneValueCaption = 'DashboardStringId.MapShapeNoneAttribute'; }\n        var attributeNames = _knockout_utils_1.safeComputed({ attributeNames: model._shapeFilesAttributeNameList }, function (args) {\n            var attributes = args.attributeNames.map(function (attr) { return { value: attr, displayValueId: attr }; });\n            if (includeNoneValue) {\n                attributes.splice(0, 0, {\n                    value: '',\n                    displayValueId: noneValueCaption\n                });\n            }\n            return attributes;\n        });\n        var info = __assign(__assign({}, propertyInfo), { formAdapterItem: _form_adapter_editors_1.dynamicSelectBoxEditor({ values: attributeNames }) });\n        return info;\n    };\n    SharedComposers.getShapeTitleSerializationInfo = function (model) {\n        return SharedComposers.getAttributeNamesSerializationInfo(model, _map_item_1.shapeTitleAttributeName);\n    };\n    SharedComposers.getColorLegendWrapper = function (model) {\n        var properties = [\n            _map_legend_1.legendVisible,\n            _map_legend_1.legendPosition\n        ];\n        var disabledRules = {};\n        disabledRules[_map_legend_1.legendPosition.propertyName] = [_map_legend_1.legendVisible.propertyName, '=', false];\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: [{\n                    container: _map_item_1.colorLegend,\n                    properties: properties\n                }],\n            disabledFilterRules: disabledRules\n        });\n    };\n    SharedComposers.getWeightedLegendWrapper = function (model) {\n        var properties = [\n            _map_legend_1.weightedLegendVisible,\n            _map_legend_1.legendType,\n            _map_legend_1.legendPosition\n        ];\n        var disabledRules = {};\n        disabledRules[_map_legend_1.legendType.propertyName] = [_map_legend_1.weightedLegendVisible.propertyName, '=', false];\n        disabledRules[_map_legend_1.legendPosition.propertyName] = [_map_legend_1.weightedLegendVisible.propertyName, '=', false];\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: [{\n                    container: _map_item_1.weightedLegend,\n                    properties: properties\n                }],\n            disabledFilterRules: disabledRules\n        });\n    };\n    SharedComposers.getNumericFormatWrapper = function (model) {\n        var measuredInUnits = function (numericFormat) {\n            return numericFormat.formatType() === 'Number' || numericFormat.formatType() === 'Currency';\n        };\n        var notCustomizedFormat = function (numericFormat) {\n            return numericFormat.formatType() === 'Auto' || numericFormat.formatType() === 'General';\n        };\n        var isCustomFormat = function (numericFormat) {\n            return numericFormat.formatType() === 'Custom';\n        };\n        var disabledRules = {};\n        disabledRules[_data_item_format_1.unit.propertyName] = function (numericFormat) { return !measuredInUnits(numericFormat); };\n        disabledRules[_data_item_format_1.precision.propertyName] = function (numericFormat) {\n            return notCustomizedFormat(numericFormat) || (measuredInUnits(numericFormat) && numericFormat.unit() === 'Auto');\n        };\n        disabledRules[_data_item_format_1.includeGroupSeparator.propertyName] = function (numericFormat) {\n            return notCustomizedFormat(numericFormat) || numericFormat.formatType() === 'Scientific';\n        };\n        disabledRules[_data_item_format_1.dataItemCurrencyCultureName.propertyName] = function (numericFormat) { return numericFormat.formatType() !== 'Currency'; };\n        var visibilityFilterRules = {};\n        visibilityFilterRules[_data_item_format_1.unit.propertyName] = function (model) { return !isCustomFormat(model); };\n        visibilityFilterRules[_data_item_format_1.precision.propertyName] = function (model) { return !isCustomFormat(model); };\n        visibilityFilterRules[_data_item_format_1.includeGroupSeparator.propertyName] = function (model) { return !isCustomFormat(model); };\n        visibilityFilterRules[_data_item_format_1.dataItemCurrencyCultureName.propertyName] = function (model) { return !isCustomFormat(model); };\n        visibilityFilterRules[_data_item_format_1.customFormatString.propertyName] = function (model) { return isCustomFormat(model); };\n        var properties = [\n            _data_item_format_1.formatType,\n            _data_item_format_1.unit,\n            _data_item_format_1.precision,\n            _data_item_format_1.includeGroupSeparator,\n            __assign(__assign({}, _data_item_format_1.dataItemCurrencyCultureName), { formAdapterItem: _form_adapter_editors_1.currencyEditor() }),\n            _data_item_format_1.customFormatString\n        ];\n        if (legacy_settings_1.DashboardPrivateSettings.customNumericFormatMode !== 'Enabled') {\n            var restrictedFormatTypeValues = (__assign({}, _data_item_format_1.formatTypeValues));\n            delete restrictedFormatTypeValues['Custom'];\n            properties = __spreadArray([\n                __assign(__assign({}, _data_item_format_1.formatType), { values: __assign({}, restrictedFormatTypeValues) })\n            ], properties.filter(function (p) { return p.propertyName !== _data_item_format_1.formatType.propertyName && p.propertyName !== _data_item_format_1.customFormatString.propertyName; }));\n        }\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: properties,\n            disabledFilterRules: disabledRules,\n            visibilityFilterRules: visibilityFilterRules,\n            summary: ko.pureComputed(function () { return notCustomizedFormat(model) ? '' : (_data_item_format_1.formatTypeValues[model.formatType()] || model.formatType()); })\n        });\n    };\n    SharedComposers.getDeltaOptionsWrapper = function (model) {\n        var disabledRules = {};\n        disabledRules[_delta_options_1.resultIndicationThresholdType.propertyName] = function (deltaOptions) { return deltaOptions.resultIndicationMode() === 'NoIndication'; };\n        disabledRules[_delta_options_1.resultIndicationThreshold.propertyName] = function (deltaOptions) { return deltaOptions.resultIndicationMode() === 'NoIndication'; };\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: [],\n            disabledFilterRules: disabledRules\n        });\n    };\n    SharedComposers.getDeltaFormatsOptionsWrapper = function (model, editFormat) {\n        if (editFormat === void 0) { editFormat = function (model) { }; }\n        var additionalFormats = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            additionalFormats[_i - 2] = arguments[_i];\n        }\n        var formats = this.getDeltaFormats(model);\n        additionalFormats.forEach(function (format) { return formats.push(format); });\n        var collectionEditorOptions = {\n            propertyName: 'title',\n            editItemHandler: editFormat,\n            allowAddItem: false,\n            allowReorderItem: false,\n            allowRemoveItem: false\n        };\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: { deltaFormats: ko.observableArray(formats) },\n            properties: [{\n                    formAdapterItem: _form_adapter_editors_1.collectionEditor(collectionEditorOptions),\n                    propertyName: 'deltaFormats'\n                }]\n        });\n    };\n    SharedComposers.getDeltaFormats = function (kpiElement) {\n        var formats = [];\n        var actualValueFormat = kpiElement.actualValue() ? kpiElement.actualValue().numericFormat : null;\n        var targetValueFormat = kpiElement.targetValue() ? kpiElement.targetValue().numericFormat : null;\n        actualValueFormat && formats.push({ title: _default_1.getLocalizationById('DashboardStringId.DeltaValueTypeActualValueCaption'), numericFormat: actualValueFormat });\n        targetValueFormat && formats.push({ title: _default_1.getLocalizationById('DashboardStringId.CardRowDataElementTypeTargetValueCaption'), numericFormat: targetValueFormat });\n        return formats.concat([\n            { title: _default_1.getLocalizationById('DashboardStringId.DeltaValueTypeAbsoluteVariationCaption'), numericFormat: kpiElement.absoluteVariationNumericFormat },\n            { title: _default_1.getLocalizationById('DashboardStringId.DeltaValueTypePercentVariationCaption'), numericFormat: kpiElement.percentVariationNumericFormat },\n            { title: _default_1.getLocalizationById('DashboardStringId.DeltaValueTypePercentOfTargetCaption'), numericFormat: kpiElement.percentOfTargetNumericFormat }\n        ]);\n    };\n    SharedComposers.getCustomRangesWrapper = function (model, editRuleHandler, dataSourceBrowser, dimension) {\n        var namePrefix = _default_1.getLocalizationById('DashboardStringId.DefaultPeriodName') + ' ';\n        var isDateTimePeriodsPropertyVisible = ko.observable(false);\n        var visibilityRules = {};\n        visibilityRules[_range_filter_item_1.dateTimePeriods.propertyName] = function () {\n            return isDateTimePeriodsPropertyVisible();\n        };\n        ko.computed(function () {\n            if (dimension()) {\n                dataSourceBrowser.findDataField(model.dataSource(), model.dataMember(), dimension().dataMember()).done(function (dataField) {\n                    isDateTimePeriodsPropertyVisible(dataField && dataField.fieldType() === 'DateTime');\n                });\n            }\n        });\n        var customItemTemplate = function (itemData, itemIndex, itemElement) {\n            var name = ko.unwrap(itemData.name);\n            var div = document.createElement('div');\n            div.innerText = name;\n            div.style.fontWeight = model.defaultDateTimePeriodName() === name ? '800' : 'normal';\n            itemElement.appendChild(div);\n            return div;\n        };\n        var refreshCallback = new _collection_editor_viewmodel_base_1.CollectionEditorRefreshCallback();\n        var subscriptions = [];\n        subscriptions.push(_knockout_utils_1.safeSubscribe({ defaultPeriod: model.defaultDateTimePeriodName }, function (_) { return refreshCallback.refresh(); }));\n        subscriptions.push(_knockout_utils_1.subscribeToArrayItemProperties(model.dateTimePeriods, function (period) { return period.name.subscribe(function () { return refreshCallback.refresh(); }); }));\n        var collectionEditorOptions = {\n            propertyName: 'name',\n            createNewItemHandler: function () { return new date_time_period_1.DateTimePeriod({ '@ItemType': 'DateTimePeriod', '@Name': _helper_classes_1.NameGenerator.generateName(namePrefix, model.dateTimePeriods(), 'name', 1) }); },\n            editItemHandler: editRuleHandler,\n            customTemplate: customItemTemplate,\n            forceRefreshCallback: refreshCallback,\n        };\n        return new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            visibilityFilterRules: visibilityRules,\n            properties: [__assign(__assign({}, _range_filter_item_1.dateTimePeriods), { formAdapterItem: _form_adapter_editors_1.collectionEditor(collectionEditorOptions) })],\n            disposableModelSubscriptions: subscriptions,\n        });\n    };\n    SharedComposers.getSparklineOptionsProperties = function () {\n        var viewTypesMap = {\n            'Line': {\n                icon: 'dx-dashboard-chart-series-line',\n                displayName: 'DashboardStringId.SparklineIndicationModeLine'\n            },\n            'Area': {\n                icon: 'dx-dashboard-chart-series-area',\n                displayName: 'DashboardStringId.SparklineIndicationModeArea'\n            },\n            'Bar': {\n                icon: 'dx-dashboard-chart-series-bar',\n                displayName: 'DashboardStringId.SparklineIndicationModeBar'\n            },\n            'WinLoss': {\n                icon: 'dx-dashboard-sparkline-win-loss',\n                displayName: 'DashboardStringId.SparklineIndicationModeWinLoss'\n            }\n        };\n        return [\n            __assign(__assign({}, _sparkline_options_1.viewType), { formAdapterItem: _form_adapter_editors_1.iconTypeEditor({ containersMap: viewTypesMap }) }),\n            _sparkline_options_1.highlightMinMaxPoints,\n            _sparkline_options_1.highlightStartEndPoints\n        ];\n    };\n    return SharedComposers;\n}());\nexports.SharedComposers = SharedComposers;\n"]},"metadata":{},"sourceType":"script"}