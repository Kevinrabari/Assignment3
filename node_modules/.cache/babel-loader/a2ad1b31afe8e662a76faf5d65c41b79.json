{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_cards-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cardsItem = void 0;\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar _style_settings_provider_1 = require(\"../conditional-formatting/_style-settings-provider\");\n\nvar _card_layout_1 = require(\"../widgets/widgets-viewer/cards/_card-layout\");\n\nvar _cards_viewer_1 = require(\"../widgets/widgets-viewer/cards/_cards-viewer\");\n\nvar _card_widget_implementation_1 = require(\"../_card-widget-implementation\");\n\nvar _base_item_1 = require(\"./_base-item\");\n\nvar _kpi_item_1 = require(\"./_kpi-item\");\n\nvar cardsItem = function (_super) {\n  __extends(cardsItem, _super);\n\n  function cardsItem(container, options) {\n    var _this = _super.call(this, container, options) || this;\n\n    _this.useNewViewer = options.ViewModel.HasLayout;\n    _this._hasSparkline = false;\n    _this.apiHandlers = new _card_widget_implementation_1.CardWidgetImplementation(function () {\n      _this.renderContentUnsafe(_this.contentRoot, true, function () {});\n    });\n    _this._styleSettingsProvider = new _style_settings_provider_1.cardItemStyleSettingsProvider();\n\n    _this._styleSettingsProvider.initialize(_this.options.ConditionalFormattingModel, _this.options.ViewModel ? _this.options.ViewModel.WordWrap : false);\n\n    return _this;\n  }\n\n  Object.defineProperty(cardsItem.prototype, \"dataController\", {\n    get: function () {\n      return this._dataController;\n    },\n    set: function (dataController) {\n      this._dataController = dataController;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  cardsItem.prototype._initializeData = function (newOptions) {\n    _super.prototype._initializeData.call(this, newOptions);\n\n    if (this._styleSettingsProvider) {\n      this._styleSettingsProvider.initialize(this.options.ConditionalFormattingModel, this.options.ViewModel ? this.options.ViewModel.WordWrap : false);\n    }\n  };\n\n  cardsItem.prototype.renderContentUnsafe = function (element, changeExisting, afterRenderCallback) {\n    this._hasSparkline = false;\n\n    if (this.options.ViewModel.HasLayout != this.useNewViewer && this.widgetsViewer != null) {\n      this.widgetsViewer.clear();\n      this.widgetsViewer = null;\n    }\n\n    this.useNewViewer = this.options.ViewModel.HasLayout;\n    this.disposeLayoutCollection();\n    this.initializeLayoutCollection();\n\n    _super.prototype.renderContentUnsafe.call(this, element, changeExisting, afterRenderCallback);\n\n    this.apiHandlers._element = this.widgetsViewer.element();\n    return false;\n  };\n\n  cardsItem.prototype.createWidgetViewer = function (element, options) {\n    if (this.useNewViewer) return new _cards_viewer_1.CardsViewer(element, options);else return _super.prototype.createWidgetViewer.call(this, element, options);\n  };\n\n  cardsItem.prototype.initializeLayoutCollection = function () {\n    var _this = this;\n\n    this.layoutCollection = {};\n\n    if (this.options.ViewModel.HasLayout) {\n      var cards = this.options.ViewModel.Cards;\n      cards.forEach(function (card) {\n        var layout = new _card_layout_1.cardLayout(_this.apiHandlers);\n        layout.fill(card.Layout);\n        _this.layoutCollection[card.ID] = layout;\n      });\n    }\n  };\n\n  cardsItem.prototype._isPaneEmpty = function () {\n    return _super.prototype._isPaneEmpty.call(this) || !this.hasCaption();\n  };\n\n  cardsItem.prototype._isBorderRequired = function () {\n    return false;\n  };\n\n  cardsItem.prototype._isTransparentBackground = function () {\n    return this._isPaneEmpty() && this.visualMode !== 'content';\n  };\n\n  cardsItem.prototype._getSpecificWidgetViewerOptions = function () {\n    var specificOptions = {};\n    specificOptions.viewer = {\n      ignorePadding: this._getIgnorePadding(),\n      controlContainer: this.options.controlContainer\n    };\n    var layoutsArray = [];\n\n    for (var layoutKey in this.layoutCollection) {\n      layoutsArray.push(this.layoutCollection[layoutKey]);\n    }\n\n    specificOptions.itemOptions = {\n      hasSparkline: this._hasSparkline,\n      layouts: layoutsArray\n    };\n    specificOptions.styleSettingsProvider = this._styleSettingsProvider;\n    return _jquery_helpers_1.deepExtend(specificOptions, _super.prototype._getSpecificWidgetViewerOptions.call(this));\n  };\n\n  cardsItem.prototype._getIgnorePadding = function () {\n    return this._isPaneEmpty() && this.visualMode !== 'content';\n  };\n\n  cardsItem.prototype._getWidgetType = function () {\n    return 'card';\n  };\n\n  cardsItem.prototype._getElementsName = function () {\n    return 'Cards';\n  };\n\n  cardsItem.prototype.setOldCardProperties = function (sourceItem, cardModel, props) {\n    var captions = props.getCaptions(),\n        sparklineOptions,\n        indicatorType,\n        isGood;\n\n    if (cardModel.DataItemType === _utils_1.KpiValueMode.Measure) {\n      sourceItem.mainValue = {\n        type: undefined,\n        hasPositiveMeaning: undefined,\n        text: {\n          value: props.getMeasureDisplayText(),\n          useDefaultColor: cardModel.IgnoreDeltaColor\n        }\n      };\n    } else {\n      indicatorType = props.getIndicatorType();\n      isGood = props.getIsGood();\n      sourceItem.mainValue = {\n        type: indicatorType,\n        hasPositiveMeaning: isGood,\n        text: {\n          value: props.getMainValueText(),\n          useDefaultColor: cardModel.IgnoreDeltaColor\n        }\n      };\n      sourceItem.variableValue1 = {\n        type: indicatorType,\n        hasPositiveMeaning: isGood,\n        text: {\n          value: props.getSubValue1Text(),\n          useDefaultColor: cardModel.IgnoreSubValue1DeltaColor\n        }\n      };\n      sourceItem.variableValue2 = {\n        type: indicatorType,\n        hasPositiveMeaning: isGood,\n        text: {\n          value: props.getSubValue2Text(),\n          useDefaultColor: cardModel.IgnoreSubValue2DeltaColor\n        }\n      };\n    }\n\n    if (cardModel.ShowSparkline) {\n      sparklineOptions = props.getSparklineOptions();\n      this._hasSparkline = !!sparklineOptions;\n\n      if (this._hasSparkline) {\n        sourceItem.sparklineOptions = sparklineOptions;\n      }\n    }\n\n    if (captions.length > 0) {\n      sourceItem.title = captions.pop();\n      sourceItem.subTitle = captions.length != 0 ? captions.join(' - ') : undefined;\n    }\n  };\n\n  cardsItem.prototype.setNewCardProperties = function (sourceItem, cardModel, props) {\n    sourceItem.layout = this.layoutCollection[cardModel.ID];\n    sourceItem.dataAccessor = props;\n  };\n\n  cardsItem.prototype._setSourceItemProperties = function (sourceItem, cardModel, props) {\n    _super.prototype._setSourceItemProperties.call(this, sourceItem, cardModel, props);\n\n    if (this.useNewViewer) this.setNewCardProperties(sourceItem, cardModel, props);else this.setOldCardProperties(sourceItem, cardModel, props);\n  };\n\n  cardsItem.prototype._getWidget = function () {\n    return this.useNewViewer ? this.apiHandlers : undefined;\n  };\n\n  cardsItem.prototype._generateInnerBorderClassesUnsafe = function (element) {\n    var classes = _super.prototype._generateInnerBorderClassesUnsafe.call(this, element);\n\n    var cardWithoutBackground = !this.hasParentContainer() && !this.hasCaption();\n\n    if (cardWithoutBackground) {\n      classes.push(_base_item_1.cssClassNamesBaseItem.cardWihtoutBackground);\n    }\n\n    if (element) {\n      cardWithoutBackground ? element.classList.add(_base_item_1.cssClassNamesBaseItem.cardWihtoutBackground) : element.classList.remove(_base_item_1.cssClassNamesBaseItem.cardWihtoutBackground);\n    }\n\n    return classes;\n  };\n\n  cardsItem.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n\n    this.disposeLayoutCollection();\n\n    this._styleSettingsProvider.dispose();\n  };\n\n  cardsItem.prototype.disposeLayoutCollection = function () {\n    if (this.layoutCollection) {\n      for (var key in this.layoutCollection) {\n        if (this.layoutCollection.hasOwnProperty(key)) this.layoutCollection[key].dispose();\n      }\n    }\n\n    this.layoutCollection = null;\n  };\n\n  return cardsItem;\n}(_kpi_item_1.kpiItem);\n\nexports.cardsItem = cardsItem;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/viewer-items/_cards-item.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","cardsItem","_jquery_helpers_1","require","_utils_1","_style_settings_provider_1","_card_layout_1","_cards_viewer_1","_card_widget_implementation_1","_base_item_1","_kpi_item_1","_super","container","options","_this","useNewViewer","ViewModel","HasLayout","_hasSparkline","apiHandlers","CardWidgetImplementation","renderContentUnsafe","contentRoot","_styleSettingsProvider","cardItemStyleSettingsProvider","initialize","ConditionalFormattingModel","WordWrap","get","_dataController","set","dataController","enumerable","configurable","_initializeData","newOptions","element","changeExisting","afterRenderCallback","widgetsViewer","clear","disposeLayoutCollection","initializeLayoutCollection","_element","createWidgetViewer","CardsViewer","layoutCollection","cards","Cards","forEach","card","layout","cardLayout","fill","Layout","ID","_isPaneEmpty","hasCaption","_isBorderRequired","_isTransparentBackground","visualMode","_getSpecificWidgetViewerOptions","specificOptions","viewer","ignorePadding","_getIgnorePadding","controlContainer","layoutsArray","layoutKey","push","itemOptions","hasSparkline","layouts","styleSettingsProvider","deepExtend","_getWidgetType","_getElementsName","setOldCardProperties","sourceItem","cardModel","props","captions","getCaptions","sparklineOptions","indicatorType","isGood","DataItemType","KpiValueMode","Measure","mainValue","type","undefined","hasPositiveMeaning","text","getMeasureDisplayText","useDefaultColor","IgnoreDeltaColor","getIndicatorType","getIsGood","getMainValueText","variableValue1","getSubValue1Text","IgnoreSubValue1DeltaColor","variableValue2","getSubValue2Text","IgnoreSubValue2DeltaColor","ShowSparkline","getSparklineOptions","length","title","pop","subTitle","join","setNewCardProperties","dataAccessor","_setSourceItemProperties","_getWidget","_generateInnerBorderClassesUnsafe","classes","cardWithoutBackground","hasParentContainer","cssClassNamesBaseItem","cardWihtoutBackground","classList","add","remove","dispose","key","kpiItem"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_cards-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cardsItem = void 0;\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar _style_settings_provider_1 = require(\"../conditional-formatting/_style-settings-provider\");\nvar _card_layout_1 = require(\"../widgets/widgets-viewer/cards/_card-layout\");\nvar _cards_viewer_1 = require(\"../widgets/widgets-viewer/cards/_cards-viewer\");\nvar _card_widget_implementation_1 = require(\"../_card-widget-implementation\");\nvar _base_item_1 = require(\"./_base-item\");\nvar _kpi_item_1 = require(\"./_kpi-item\");\nvar cardsItem = (function (_super) {\n    __extends(cardsItem, _super);\n    function cardsItem(container, options) {\n        var _this = _super.call(this, container, options) || this;\n        _this.useNewViewer = options.ViewModel.HasLayout;\n        _this._hasSparkline = false;\n        _this.apiHandlers = new _card_widget_implementation_1.CardWidgetImplementation(function () { _this.renderContentUnsafe(_this.contentRoot, true, function () { }); });\n        _this._styleSettingsProvider = new _style_settings_provider_1.cardItemStyleSettingsProvider();\n        _this._styleSettingsProvider.initialize(_this.options.ConditionalFormattingModel, _this.options.ViewModel ? _this.options.ViewModel.WordWrap : false);\n        return _this;\n    }\n    Object.defineProperty(cardsItem.prototype, \"dataController\", {\n        get: function () { return this._dataController; },\n        set: function (dataController) { this._dataController = dataController; },\n        enumerable: false,\n        configurable: true\n    });\n    cardsItem.prototype._initializeData = function (newOptions) {\n        _super.prototype._initializeData.call(this, newOptions);\n        if (this._styleSettingsProvider) {\n            this._styleSettingsProvider.initialize(this.options.ConditionalFormattingModel, this.options.ViewModel ? this.options.ViewModel.WordWrap : false);\n        }\n    };\n    cardsItem.prototype.renderContentUnsafe = function (element, changeExisting, afterRenderCallback) {\n        this._hasSparkline = false;\n        if (this.options.ViewModel.HasLayout != this.useNewViewer && this.widgetsViewer != null) {\n            this.widgetsViewer.clear();\n            this.widgetsViewer = null;\n        }\n        this.useNewViewer = this.options.ViewModel.HasLayout;\n        this.disposeLayoutCollection();\n        this.initializeLayoutCollection();\n        _super.prototype.renderContentUnsafe.call(this, element, changeExisting, afterRenderCallback);\n        this.apiHandlers._element = this.widgetsViewer.element();\n        return false;\n    };\n    cardsItem.prototype.createWidgetViewer = function (element, options) {\n        if (this.useNewViewer)\n            return new _cards_viewer_1.CardsViewer(element, options);\n        else\n            return _super.prototype.createWidgetViewer.call(this, element, options);\n    };\n    cardsItem.prototype.initializeLayoutCollection = function () {\n        var _this = this;\n        this.layoutCollection = {};\n        if (this.options.ViewModel.HasLayout) {\n            var cards = this.options.ViewModel.Cards;\n            cards.forEach(function (card) {\n                var layout = new _card_layout_1.cardLayout(_this.apiHandlers);\n                layout.fill(card.Layout);\n                _this.layoutCollection[card.ID] = layout;\n            });\n        }\n    };\n    cardsItem.prototype._isPaneEmpty = function () {\n        return _super.prototype._isPaneEmpty.call(this) || !this.hasCaption();\n    };\n    cardsItem.prototype._isBorderRequired = function () {\n        return false;\n    };\n    cardsItem.prototype._isTransparentBackground = function () {\n        return this._isPaneEmpty() && this.visualMode !== 'content';\n    };\n    cardsItem.prototype._getSpecificWidgetViewerOptions = function () {\n        var specificOptions = {};\n        specificOptions.viewer = {\n            ignorePadding: this._getIgnorePadding(),\n            controlContainer: this.options.controlContainer,\n        };\n        var layoutsArray = [];\n        for (var layoutKey in this.layoutCollection) {\n            layoutsArray.push(this.layoutCollection[layoutKey]);\n        }\n        specificOptions.itemOptions = {\n            hasSparkline: this._hasSparkline,\n            layouts: layoutsArray\n        };\n        specificOptions.styleSettingsProvider = this._styleSettingsProvider;\n        return _jquery_helpers_1.deepExtend(specificOptions, _super.prototype._getSpecificWidgetViewerOptions.call(this));\n    };\n    cardsItem.prototype._getIgnorePadding = function () {\n        return this._isPaneEmpty() && this.visualMode !== 'content';\n    };\n    cardsItem.prototype._getWidgetType = function () {\n        return 'card';\n    };\n    cardsItem.prototype._getElementsName = function () {\n        return 'Cards';\n    };\n    cardsItem.prototype.setOldCardProperties = function (sourceItem, cardModel, props) {\n        var captions = props.getCaptions(), sparklineOptions, indicatorType, isGood;\n        if (cardModel.DataItemType === _utils_1.KpiValueMode.Measure) {\n            sourceItem.mainValue = {\n                type: undefined,\n                hasPositiveMeaning: undefined,\n                text: {\n                    value: props.getMeasureDisplayText(),\n                    useDefaultColor: cardModel.IgnoreDeltaColor\n                }\n            };\n        }\n        else {\n            indicatorType = props.getIndicatorType();\n            isGood = props.getIsGood();\n            sourceItem.mainValue = {\n                type: indicatorType,\n                hasPositiveMeaning: isGood,\n                text: {\n                    value: props.getMainValueText(),\n                    useDefaultColor: cardModel.IgnoreDeltaColor\n                }\n            };\n            sourceItem.variableValue1 = {\n                type: indicatorType,\n                hasPositiveMeaning: isGood,\n                text: {\n                    value: props.getSubValue1Text(),\n                    useDefaultColor: cardModel.IgnoreSubValue1DeltaColor\n                }\n            };\n            sourceItem.variableValue2 = {\n                type: indicatorType,\n                hasPositiveMeaning: isGood,\n                text: {\n                    value: props.getSubValue2Text(),\n                    useDefaultColor: cardModel.IgnoreSubValue2DeltaColor\n                }\n            };\n        }\n        if (cardModel.ShowSparkline) {\n            sparklineOptions = props.getSparklineOptions();\n            this._hasSparkline = !!sparklineOptions;\n            if (this._hasSparkline) {\n                sourceItem.sparklineOptions = sparklineOptions;\n            }\n        }\n        if (captions.length > 0) {\n            sourceItem.title = captions.pop();\n            sourceItem.subTitle = captions.length != 0 ? captions.join(' - ') : undefined;\n        }\n    };\n    cardsItem.prototype.setNewCardProperties = function (sourceItem, cardModel, props) {\n        sourceItem.layout = this.layoutCollection[cardModel.ID];\n        sourceItem.dataAccessor = props;\n    };\n    cardsItem.prototype._setSourceItemProperties = function (sourceItem, cardModel, props) {\n        _super.prototype._setSourceItemProperties.call(this, sourceItem, cardModel, props);\n        if (this.useNewViewer)\n            this.setNewCardProperties(sourceItem, cardModel, props);\n        else\n            this.setOldCardProperties(sourceItem, cardModel, props);\n    };\n    cardsItem.prototype._getWidget = function () {\n        return this.useNewViewer ? this.apiHandlers : undefined;\n    };\n    cardsItem.prototype._generateInnerBorderClassesUnsafe = function (element) {\n        var classes = _super.prototype._generateInnerBorderClassesUnsafe.call(this, element);\n        var cardWithoutBackground = !this.hasParentContainer() && !this.hasCaption();\n        if (cardWithoutBackground) {\n            classes.push(_base_item_1.cssClassNamesBaseItem.cardWihtoutBackground);\n        }\n        if (element) {\n            cardWithoutBackground ?\n                element.classList.add(_base_item_1.cssClassNamesBaseItem.cardWihtoutBackground) :\n                element.classList.remove(_base_item_1.cssClassNamesBaseItem.cardWihtoutBackground);\n        }\n        return classes;\n    };\n    cardsItem.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.disposeLayoutCollection();\n        this._styleSettingsProvider.dispose();\n    };\n    cardsItem.prototype.disposeLayoutCollection = function () {\n        if (this.layoutCollection) {\n            for (var key in this.layoutCollection) {\n                if (this.layoutCollection.hasOwnProperty(key))\n                    this.layoutCollection[key].dispose();\n            }\n        }\n        this.layoutCollection = null;\n    };\n    return cardsItem;\n}(_kpi_item_1.kpiItem));\nexports.cardsItem = cardsItem;\n"]},"metadata":{},"sourceType":"script"}