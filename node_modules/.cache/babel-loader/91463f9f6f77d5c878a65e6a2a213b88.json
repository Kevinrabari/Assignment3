{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_layout-options-editor.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getDimensionToolbarItems = void 0;\n\nvar string_1 = require(\"devextreme/core/utils/string\");\n\nvar number_box_1 = require(\"devextreme/ui/number_box\");\n\nvar validator_1 = require(\"devextreme/ui/validator\");\n\nvar _default_1 = require(\"../../../data/localization/_default\");\n\nvar _formatter_1 = require(\"../../../data/_formatter\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar _utils_1 = require(\"../../../data/_utils\");\n\nvar _toolbar_extension_1 = require(\"../../toolbar-extension/_toolbar-extension\");\n\nfunction getDimensionToolbarItems(caption, namePrefix) {\n  var minDimensionValue = 100;\n  var maxDimensionValue = 10000;\n\n  var dimensionRangeRuleMessage = function () {\n    var formatViewModel = {\n      FormatType: 'Number',\n      IncludeGroupSeparator: true\n    };\n\n    var maxFormattedDimensionValue = _formatter_1.formatNumeric(maxDimensionValue, formatViewModel);\n\n    var minFormattedDimensionValue = _formatter_1.formatNumeric(minDimensionValue, formatViewModel);\n\n    return string_1.format(_default_1.getLocalizationById('DashboardWebStringId.DesignerToolbar.LayoutDimensionValidationError'), minFormattedDimensionValue, maxFormattedDimensionValue);\n  }();\n\n  var dimensionOptions;\n  var numberBox;\n  var numberBoxValidator;\n  var buttonGroup;\n  var dimensionNameElement = document.createElement('div');\n  dimensionNameElement.innerText = caption;\n  var pixelElement = document.createElement('div');\n  pixelElement.innerText = _default_1.getLocalizationById('DashboardWebStringId.DesignerToolbar.Pixels');\n  var valueSubscription;\n  var buttonGroupModeSubscription;\n  var textBoxModeSubscription;\n  var pixelElementModeSubscription;\n\n  var updateNumberBox = function () {\n    if (numberBox) {\n      if (dimensionOptions) {\n        var updateNumberBoxText_1 = function (value) {\n          if (numberBox.option('disabled') || !_utils_1.type.isDefined(value)) numberBox.option('value', null);else numberBox.option('value', value);\n        };\n\n        var updateNumberBoxDisability_1 = function (mode) {\n          numberBox.option('disabled', mode !== 'Fixed');\n          updateNumberBoxText_1(dimensionOptions.value());\n        };\n\n        updateNumberBoxDisability_1(dimensionOptions.mode());\n        valueSubscription && valueSubscription.dispose();\n        valueSubscription = dimensionOptions.value.subscribe(function (newValue) {\n          return updateNumberBoxText_1(newValue);\n        });\n        textBoxModeSubscription && textBoxModeSubscription.dispose();\n        textBoxModeSubscription = dimensionOptions.mode.subscribe(function (newMode) {\n          return updateNumberBoxDisability_1(newMode);\n        });\n        numberBox.option('onValueChanged', function (args) {\n          if (dimensionOptions && dimensionOptions.mode() === 'Fixed' && numberBox.option('isValid')) dimensionOptions.value(args.value && parseInt(args.value));\n        });\n      } else {\n        numberBox.option('value', null);\n        numberBox.option('disabled', true);\n        numberBox.option('onValueChanged', function (args) {});\n      }\n    }\n  };\n\n  var updateButtonGroup = function () {\n    buttonGroupModeSubscription && buttonGroupModeSubscription.dispose();\n\n    if (buttonGroup) {\n      if (dimensionOptions) {\n        buttonGroup.option('disabled', false);\n\n        var updateButtonGroupSelection_1 = function (value) {\n          return buttonGroup && buttonGroup.option('selectedItemKeys', value ? [value] : []);\n        };\n\n        buttonGroupModeSubscription = dimensionOptions.mode.subscribe(function (newValue) {\n          return updateButtonGroupSelection_1(newValue);\n        });\n        buttonGroup.option('onSelectionChanged', function (args) {\n          if (args.addedItems && args.addedItems.length === 1 && dimensionOptions) {\n            var buttonType = args.addedItems[0].key;\n            dimensionOptions.mode(buttonType);\n          }\n        });\n        updateButtonGroupSelection_1(dimensionOptions.mode());\n      } else {\n        buttonGroup.option('disabled', true);\n        buttonGroup.option('onSelectionChanged', function (args) {});\n      }\n    }\n  };\n\n  var updatePixelElement = function () {\n    pixelElementModeSubscription && pixelElementModeSubscription.dispose();\n\n    var updatePixelElementDisability = function (mode) {\n      if (mode === 'Fixed') pixelElement.classList.remove('dx-dashboard-toolbar-disabled-label');else pixelElement.classList.add('dx-dashboard-toolbar-disabled-label');\n    };\n\n    if (dimensionOptions) {\n      updatePixelElementDisability(dimensionOptions.mode());\n      pixelElementModeSubscription = dimensionOptions.mode.subscribe(function (newMode) {\n        return updatePixelElementDisability(newMode);\n      });\n    } else {\n      updatePixelElementDisability(null);\n    }\n  };\n\n  var updateDimensionNameElement = function () {\n    if (dimensionOptions) dimensionNameElement.classList.remove('dx-dashboard-toolbar-disabled-label');else dimensionNameElement.classList.add('dx-dashboard-toolbar-disabled-label');\n  };\n\n  var validateDimensionValue = function (option) {\n    if (dimensionOptions && dimensionOptions.mode() === 'Fixed') {\n      var newValue = option.value ? parseInt(option.value.toString()) : 0;\n      var currentDimensionValue = dimensionOptions.value();\n      var currentValue = currentDimensionValue ? parseInt(currentDimensionValue.toString()) : 0;\n      if (currentValue !== newValue) return newValue >= minDimensionValue && newValue <= maxDimensionValue;\n    }\n\n    return true;\n  };\n\n  var items = [{\n    name: namePrefix + 'Label',\n    location: 'before',\n    cssClass: 'dx-dashboard-toolbar-label',\n    template: function (data, index, element) {\n      updateDimensionNameElement();\n\n      _jquery_helpers_1.$unwrap(element).appendChild(dimensionNameElement);\n    }\n  }, {\n    name: namePrefix + 'ButtonGroup',\n    location: 'before',\n    cssClass: 'dx-dashboard-toolbar-button-group',\n    widget: 'dxButtonGroup',\n    options: {\n      items: [{\n        text: _default_1.getLocalizationById('DashboardStringId.LayoutDimensionModeAuto'),\n        key: 'Auto'\n      }, {\n        text: _default_1.getLocalizationById('DashboardStringId.LayoutDimensionModeFixed'),\n        key: 'Fixed'\n      }],\n      keyExpr: 'key',\n      onInitialized: function (args) {\n        buttonGroup = args.component;\n        updateButtonGroup();\n      },\n      width: '100%',\n      disabled: true\n    }\n  }, {\n    name: namePrefix + 'NumberBox',\n    location: 'before',\n    cssClass: 'dx-dashboard-toolbar-spinedit',\n    template: function (data, index, element) {\n      var widgetContainer = document.createElement('div');\n\n      _jquery_helpers_1.$unwrap(element).appendChild(widgetContainer);\n\n      numberBox = new number_box_1.default(widgetContainer, {\n        disabled: true,\n        showSpinButtons: true,\n        width: '100%',\n        min: 1,\n        step: 10\n      });\n      numberBoxValidator = new validator_1.default(widgetContainer, {\n        validationRules: [{\n          type: 'custom',\n          validationCallback: validateDimensionValue,\n          message: dimensionRangeRuleMessage\n        }]\n      });\n      updateNumberBox();\n    }\n  }, {\n    name: namePrefix + 'PixelLabel',\n    location: 'before',\n    cssClass: 'dx-dashboard-toolbar-pixel-label',\n    template: function (data, index, element) {\n      updatePixelElement();\n\n      _jquery_helpers_1.$unwrap(element).appendChild(pixelElement);\n    }\n  }, __assign({\n    name: namePrefix + 'Separator',\n    location: 'before'\n  }, _toolbar_extension_1.createToolbarSeparator())];\n  return {\n    items: items,\n    assignModel: function (options) {\n      dimensionOptions = options;\n      updateDimensionNameElement();\n      updateButtonGroup();\n      updateNumberBox();\n      updatePixelElement();\n    },\n    dispose: function () {\n      numberBoxValidator && numberBoxValidator.dispose();\n      valueSubscription && valueSubscription.dispose();\n      buttonGroupModeSubscription && buttonGroupModeSubscription.dispose();\n      textBoxModeSubscription && textBoxModeSubscription.dispose();\n      pixelElementModeSubscription && pixelElementModeSubscription.dispose();\n    }\n  };\n}\n\nexports.getDimensionToolbarItems = getDimensionToolbarItems;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/extensions/layout-options-editor/_layout-options-editor.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","getDimensionToolbarItems","string_1","require","number_box_1","validator_1","_default_1","_formatter_1","_jquery_helpers_1","_utils_1","_toolbar_extension_1","caption","namePrefix","minDimensionValue","maxDimensionValue","dimensionRangeRuleMessage","formatViewModel","FormatType","IncludeGroupSeparator","maxFormattedDimensionValue","formatNumeric","minFormattedDimensionValue","format","getLocalizationById","dimensionOptions","numberBox","numberBoxValidator","buttonGroup","dimensionNameElement","document","createElement","innerText","pixelElement","valueSubscription","buttonGroupModeSubscription","textBoxModeSubscription","pixelElementModeSubscription","updateNumberBox","updateNumberBoxText_1","option","type","isDefined","updateNumberBoxDisability_1","mode","dispose","subscribe","newValue","newMode","args","parseInt","updateButtonGroup","updateButtonGroupSelection_1","addedItems","buttonType","key","updatePixelElement","updatePixelElementDisability","classList","remove","add","updateDimensionNameElement","validateDimensionValue","toString","currentDimensionValue","currentValue","items","name","location","cssClass","template","data","index","element","$unwrap","appendChild","widget","options","text","keyExpr","onInitialized","component","width","disabled","widgetContainer","default","showSpinButtons","min","step","validationRules","validationCallback","message","createToolbarSeparator","assignModel"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_layout-options-editor.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getDimensionToolbarItems = void 0;\nvar string_1 = require(\"devextreme/core/utils/string\");\nvar number_box_1 = require(\"devextreme/ui/number_box\");\nvar validator_1 = require(\"devextreme/ui/validator\");\nvar _default_1 = require(\"../../../data/localization/_default\");\nvar _formatter_1 = require(\"../../../data/_formatter\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar _utils_1 = require(\"../../../data/_utils\");\nvar _toolbar_extension_1 = require(\"../../toolbar-extension/_toolbar-extension\");\nfunction getDimensionToolbarItems(caption, namePrefix) {\n    var minDimensionValue = 100;\n    var maxDimensionValue = 10000;\n    var dimensionRangeRuleMessage = function () {\n        var formatViewModel = {\n            FormatType: 'Number',\n            IncludeGroupSeparator: true,\n        };\n        var maxFormattedDimensionValue = _formatter_1.formatNumeric(maxDimensionValue, formatViewModel);\n        var minFormattedDimensionValue = _formatter_1.formatNumeric(minDimensionValue, formatViewModel);\n        return string_1.format(_default_1.getLocalizationById('DashboardWebStringId.DesignerToolbar.LayoutDimensionValidationError'), minFormattedDimensionValue, maxFormattedDimensionValue);\n    }();\n    var dimensionOptions;\n    var numberBox;\n    var numberBoxValidator;\n    var buttonGroup;\n    var dimensionNameElement = document.createElement('div');\n    dimensionNameElement.innerText = caption;\n    var pixelElement = document.createElement('div');\n    pixelElement.innerText = _default_1.getLocalizationById('DashboardWebStringId.DesignerToolbar.Pixels');\n    var valueSubscription;\n    var buttonGroupModeSubscription;\n    var textBoxModeSubscription;\n    var pixelElementModeSubscription;\n    var updateNumberBox = function () {\n        if (numberBox) {\n            if (dimensionOptions) {\n                var updateNumberBoxText_1 = function (value) {\n                    if (numberBox.option('disabled') || !_utils_1.type.isDefined(value))\n                        numberBox.option('value', null);\n                    else\n                        numberBox.option('value', value);\n                };\n                var updateNumberBoxDisability_1 = function (mode) {\n                    numberBox.option('disabled', mode !== 'Fixed');\n                    updateNumberBoxText_1(dimensionOptions.value());\n                };\n                updateNumberBoxDisability_1(dimensionOptions.mode());\n                valueSubscription && valueSubscription.dispose();\n                valueSubscription = dimensionOptions.value.subscribe(function (newValue) { return updateNumberBoxText_1(newValue); });\n                textBoxModeSubscription && textBoxModeSubscription.dispose();\n                textBoxModeSubscription = dimensionOptions.mode.subscribe(function (newMode) { return updateNumberBoxDisability_1(newMode); });\n                numberBox.option('onValueChanged', function (args) {\n                    if (dimensionOptions && dimensionOptions.mode() === 'Fixed' && numberBox.option('isValid'))\n                        dimensionOptions.value(args.value && parseInt(args.value));\n                });\n            }\n            else {\n                numberBox.option('value', null);\n                numberBox.option('disabled', true);\n                numberBox.option('onValueChanged', function (args) { });\n            }\n        }\n    };\n    var updateButtonGroup = function () {\n        buttonGroupModeSubscription && buttonGroupModeSubscription.dispose();\n        if (buttonGroup) {\n            if (dimensionOptions) {\n                buttonGroup.option('disabled', false);\n                var updateButtonGroupSelection_1 = function (value) { return buttonGroup && buttonGroup.option('selectedItemKeys', value ? [value] : []); };\n                buttonGroupModeSubscription = dimensionOptions.mode.subscribe(function (newValue) { return updateButtonGroupSelection_1(newValue); });\n                buttonGroup.option('onSelectionChanged', function (args) {\n                    if (args.addedItems && args.addedItems.length === 1 && dimensionOptions) {\n                        var buttonType = args.addedItems[0].key;\n                        dimensionOptions.mode(buttonType);\n                    }\n                });\n                updateButtonGroupSelection_1(dimensionOptions.mode());\n            }\n            else {\n                buttonGroup.option('disabled', true);\n                buttonGroup.option('onSelectionChanged', function (args) { });\n            }\n        }\n    };\n    var updatePixelElement = function () {\n        pixelElementModeSubscription && pixelElementModeSubscription.dispose();\n        var updatePixelElementDisability = function (mode) {\n            if (mode === 'Fixed')\n                pixelElement.classList.remove('dx-dashboard-toolbar-disabled-label');\n            else\n                pixelElement.classList.add('dx-dashboard-toolbar-disabled-label');\n        };\n        if (dimensionOptions) {\n            updatePixelElementDisability(dimensionOptions.mode());\n            pixelElementModeSubscription = dimensionOptions.mode.subscribe(function (newMode) { return updatePixelElementDisability(newMode); });\n        }\n        else {\n            updatePixelElementDisability(null);\n        }\n    };\n    var updateDimensionNameElement = function () {\n        if (dimensionOptions)\n            dimensionNameElement.classList.remove('dx-dashboard-toolbar-disabled-label');\n        else\n            dimensionNameElement.classList.add('dx-dashboard-toolbar-disabled-label');\n    };\n    var validateDimensionValue = function (option) {\n        if (dimensionOptions && dimensionOptions.mode() === 'Fixed') {\n            var newValue = option.value ? parseInt(option.value.toString()) : 0;\n            var currentDimensionValue = dimensionOptions.value();\n            var currentValue = currentDimensionValue ? parseInt(currentDimensionValue.toString()) : 0;\n            if (currentValue !== newValue)\n                return newValue >= minDimensionValue && newValue <= maxDimensionValue;\n        }\n        return true;\n    };\n    var items = [\n        {\n            name: namePrefix + 'Label',\n            location: 'before',\n            cssClass: 'dx-dashboard-toolbar-label',\n            template: function (data, index, element) {\n                updateDimensionNameElement();\n                _jquery_helpers_1.$unwrap(element).appendChild(dimensionNameElement);\n            }\n        },\n        {\n            name: namePrefix + 'ButtonGroup',\n            location: 'before',\n            cssClass: 'dx-dashboard-toolbar-button-group',\n            widget: 'dxButtonGroup',\n            options: {\n                items: [\n                    {\n                        text: _default_1.getLocalizationById('DashboardStringId.LayoutDimensionModeAuto'),\n                        key: 'Auto'\n                    },\n                    {\n                        text: _default_1.getLocalizationById('DashboardStringId.LayoutDimensionModeFixed'),\n                        key: 'Fixed'\n                    }\n                ],\n                keyExpr: 'key',\n                onInitialized: function (args) {\n                    buttonGroup = args.component;\n                    updateButtonGroup();\n                },\n                width: '100%',\n                disabled: true\n            }\n        },\n        {\n            name: namePrefix + 'NumberBox',\n            location: 'before',\n            cssClass: 'dx-dashboard-toolbar-spinedit',\n            template: function (data, index, element) {\n                var widgetContainer = document.createElement('div');\n                _jquery_helpers_1.$unwrap(element).appendChild(widgetContainer);\n                numberBox = new number_box_1.default(widgetContainer, {\n                    disabled: true,\n                    showSpinButtons: true,\n                    width: '100%',\n                    min: 1,\n                    step: 10,\n                });\n                numberBoxValidator = new validator_1.default(widgetContainer, {\n                    validationRules: [{\n                            type: 'custom',\n                            validationCallback: validateDimensionValue,\n                            message: dimensionRangeRuleMessage,\n                        }],\n                });\n                updateNumberBox();\n            }\n        },\n        {\n            name: namePrefix + 'PixelLabel',\n            location: 'before',\n            cssClass: 'dx-dashboard-toolbar-pixel-label',\n            template: function (data, index, element) {\n                updatePixelElement();\n                _jquery_helpers_1.$unwrap(element).appendChild(pixelElement);\n            }\n        },\n        __assign({ name: namePrefix + 'Separator', location: 'before' }, _toolbar_extension_1.createToolbarSeparator())\n    ];\n    return {\n        items: items,\n        assignModel: function (options) {\n            dimensionOptions = options;\n            updateDimensionNameElement();\n            updateButtonGroup();\n            updateNumberBox();\n            updatePixelElement();\n        },\n        dispose: function () {\n            numberBoxValidator && numberBoxValidator.dispose();\n            valueSubscription && valueSubscription.dispose();\n            buttonGroupModeSubscription && buttonGroupModeSubscription.dispose();\n            textBoxModeSubscription && textBoxModeSubscription.dispose();\n            pixelElementModeSubscription && pixelElementModeSubscription.dispose();\n        }\n    };\n}\nexports.getDimensionToolbarItems = getDimensionToolbarItems;\n"]},"metadata":{},"sourceType":"script"}