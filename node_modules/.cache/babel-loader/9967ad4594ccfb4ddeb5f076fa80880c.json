{"ast":null,"code":"/**\n* DevExpress Analytics (diagram\\elements\\connectors\\routedConnectorModel.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RoutedConnectorViewModel = void 0;\n\nvar ko = require(\"knockout\");\n\nvar connectorModel_1 = require(\"./connectorModel\");\n\nvar point_1 = require(\"../../../core/elements/point\");\n\nvar utils_1 = require(\"../../utils\");\n\nvar _utils_1 = require(\"../../../serializer/_utils\");\n\nvar RoutedConnectorViewModel = function (_super) {\n  __extends(RoutedConnectorViewModel, _super);\n\n  function RoutedConnectorViewModel(control, parent, serializer) {\n    var _this = _super.call(this, _utils_1.extend({\n      '@ControlType': 'RoutedConnector'\n    }, control), parent, serializer) || this;\n\n    _this._isUpdating = false;\n\n    _this._getPower = function (_n) {\n      for (var i = 0; i < 10; i++) {\n        if (_n >= Math.pow(2, i) && _n < Math.pow(2, i + 1)) {\n          return i + 1;\n        }\n      }\n\n      return 1;\n    };\n\n    _this.seriesNumber = ko.observable(1);\n    _this.routePoints = ko.observable([]);\n    _this.freezeRoute = ko.observable(false);\n\n    _this._disposables.push(ko.computed(function () {\n      var freezeRoute = !(1 + _this.startPoint().location.x() + _this.startPoint().location.y() + _this.endPoint().location.x() + _this.endPoint().location.y());\n\n      if (!_this._isUpdating) {\n        _this.freezeRoute(freezeRoute);\n      }\n    }));\n\n    _this._disposables.push(ko.computed(function () {\n      if (!_this.freezeRoute()) {\n        var result = [];\n\n        var startPointSide = _this._getStartPointSide();\n\n        var endPointSide = _this._getEndPointSide();\n\n        var startPoint = new point_1.Point(_this.startPoint().location.x(), _this.startPoint().location.y()),\n            endPoint = new point_1.Point(_this.endPoint().location.x(), _this.endPoint().location.y());\n\n        if (_this.startPoint().connectingPoint()) {\n          _this._fixPoint(startPoint, _this.startPoint().connectingPoint().side());\n\n          result.push(startPoint);\n        }\n\n        if (_this.endPoint().connectingPoint()) {\n          _this._fixPoint(endPoint, _this.endPoint().connectingPoint().side());\n        }\n\n        var baseX = Math.min(startPoint.x(), endPoint.x()),\n            baseY = Math.min(startPoint.y(), endPoint.y()),\n            width = Math.abs(startPoint.x() - endPoint.x()),\n            height = Math.abs(startPoint.y() - endPoint.y());\n\n        var number = _this.seriesNumber();\n\n        var ratio = _this._getRatio(number);\n\n        var indent = (number - 1) * utils_1.GRID_SIZE;\n\n        if (startPoint.y() - endPoint.y() > 0) {\n          if (startPoint.x() - endPoint.x() > 0) {\n            if (startPointSide === utils_1.PointSide.North || startPointSide === utils_1.PointSide.East) {\n              if (endPointSide === utils_1.PointSide.North || endPointSide === utils_1.PointSide.East) {\n                if (number !== 1) {\n                  width += indent;\n                  result.push(new point_1.Point(baseX + width, baseY + height));\n                }\n\n                result.push(new point_1.Point(baseX + width, baseY));\n              } else {\n                result.push(new point_1.Point(baseX + width, baseY + height * ratio));\n                result.push(new point_1.Point(baseX, baseY + height * ratio));\n              }\n            } else {\n              if (endPointSide === utils_1.PointSide.South || endPointSide === utils_1.PointSide.West) {\n                result.push(new point_1.Point(baseX, baseY + height));\n              } else {\n                result.push(new point_1.Point(baseX + width * ratio, baseY + height));\n                result.push(new point_1.Point(baseX + width * ratio, baseY));\n              }\n            }\n          } else {\n            if (startPointSide === utils_1.PointSide.North || startPointSide === utils_1.PointSide.West) {\n              if (endPointSide === utils_1.PointSide.North || endPointSide === utils_1.PointSide.West) {\n                if (number !== 1) {\n                  baseX -= indent;\n                  result.push(new point_1.Point(baseX, baseY + height));\n                }\n\n                result.push(new point_1.Point(baseX, baseY));\n              } else {\n                result.push(new point_1.Point(baseX, baseY + height * ratio));\n                result.push(new point_1.Point(baseX + width, baseY + height * ratio));\n              }\n            } else {\n              if (endPointSide === utils_1.PointSide.South || endPointSide === utils_1.PointSide.East) {\n                result.push(new point_1.Point(baseX + width, baseY + height));\n              } else {\n                result.push(new point_1.Point(baseX + width * ratio, baseY + height));\n                result.push(new point_1.Point(baseX + width * ratio, baseY));\n              }\n            }\n          }\n        } else {\n          if (startPoint.x() - endPoint.x() > 0) {\n            if (startPointSide === utils_1.PointSide.South || startPointSide === utils_1.PointSide.East) {\n              if (endPointSide === utils_1.PointSide.South || endPointSide === utils_1.PointSide.East) {\n                if (number !== 1) {\n                  width += indent;\n                  result.push(new point_1.Point(baseX + width, baseY));\n                }\n\n                result.push(new point_1.Point(baseX + width, baseY + height));\n              } else {\n                result.push(new point_1.Point(baseX + width, baseY + height * ratio));\n                result.push(new point_1.Point(baseX, baseY + height * ratio));\n              }\n            } else {\n              if (endPointSide === utils_1.PointSide.North || endPointSide === utils_1.PointSide.West) {\n                result.push(new point_1.Point(baseX, baseY));\n              } else {\n                result.push(new point_1.Point(baseX + width * ratio, baseY));\n                result.push(new point_1.Point(baseX + width * ratio, baseY + height));\n              }\n            }\n          } else {\n            if (startPointSide === utils_1.PointSide.South || startPointSide === utils_1.PointSide.West) {\n              if (endPointSide === utils_1.PointSide.South || endPointSide === utils_1.PointSide.West) {\n                if (number !== 1) {\n                  baseX -= indent;\n                  result.push(new point_1.Point(baseX, baseY));\n                }\n\n                result.push(new point_1.Point(baseX, baseY + height));\n              } else {\n                result.push(new point_1.Point(baseX, baseY + height * ratio));\n                result.push(new point_1.Point(baseX + width, baseY + height * ratio));\n              }\n            } else {\n              if (endPointSide === utils_1.PointSide.North || endPointSide === utils_1.PointSide.East) {\n                result.push(new point_1.Point(baseX + width, baseY));\n              } else {\n                result.push(new point_1.Point(baseX + width * ratio, baseY));\n                result.push(new point_1.Point(baseX + width * ratio, baseY + height));\n              }\n            }\n          }\n        }\n\n        if (_this.endPoint().connectingPoint()) {\n          result.push(endPoint);\n        }\n\n        _this.routePoints(result);\n      }\n    }));\n\n    return _this;\n  }\n\n  RoutedConnectorViewModel.prototype.getX = function () {\n    var result = _super.prototype.getX.call(this);\n\n    this.routePoints && this.routePoints().forEach(function (point) {\n      if (point.x() < result) {\n        result = point.x();\n      }\n    });\n    return result;\n  };\n\n  RoutedConnectorViewModel.prototype.getY = function () {\n    var result = _super.prototype.getY.call(this);\n\n    this.routePoints && this.routePoints().forEach(function (point) {\n      if (point.y() < result) {\n        result = point.y();\n      }\n    });\n    return result;\n  };\n\n  RoutedConnectorViewModel.prototype.getWidth = function () {\n    var result = _super.prototype.getWidth.call(this);\n\n    var baseX = this.getX();\n    this.routePoints && [this.startPoint().location, this.endPoint().location].concat(this.routePoints()).forEach(function (point) {\n      if (point.x() - baseX > result) {\n        result = point.x() - baseX;\n      }\n    });\n    return result;\n  };\n\n  RoutedConnectorViewModel.prototype.getHeight = function () {\n    var result = _super.prototype.getHeight.call(this);\n\n    var baseY = this.getY();\n    this.routePoints && [this.startPoint().location, this.endPoint().location].concat(this.routePoints()).forEach(function (point) {\n      if (point.y() - baseY > result) {\n        result = point.y() - baseY;\n      }\n    });\n    return Math.round(result);\n  };\n\n  RoutedConnectorViewModel.prototype._fixPoint = function (point, side) {\n    switch (side) {\n      case utils_1.PointSide.North:\n        point.y(point.y() - utils_1.GRID_SIZE);\n        break;\n\n      case utils_1.PointSide.East:\n        point.x(point.x() + utils_1.GRID_SIZE);\n        break;\n\n      case utils_1.PointSide.West:\n        point.x(point.x() - utils_1.GRID_SIZE);\n        break;\n\n      case utils_1.PointSide.South:\n        point.y(point.y() + utils_1.GRID_SIZE);\n    }\n  };\n\n  RoutedConnectorViewModel.prototype._getStartPointSide = function () {\n    if (this.startPoint().connectingPoint()) {\n      return this.startPoint().connectingPoint().side();\n    }\n\n    if (this.startPoint().location.y() !== this.endPoint().location.y()) {\n      if (this.startPoint().location.y() > this.endPoint().location.y()) {\n        return utils_1.PointSide.North;\n      } else {\n        return utils_1.PointSide.South;\n      }\n    } else {\n      if (this.startPoint().location.x() > this.endPoint().location.x()) {\n        return utils_1.PointSide.West;\n      } else {\n        return utils_1.PointSide.East;\n      }\n    }\n  };\n\n  RoutedConnectorViewModel.prototype._getEndPointSide = function () {\n    if (this.endPoint().connectingPoint()) {\n      return this.endPoint().connectingPoint().side();\n    }\n\n    if (this.startPoint().location.y() !== this.endPoint().location.y()) {\n      if (this.startPoint().location.y() > this.endPoint().location.y()) {\n        return utils_1.PointSide.South;\n      } else {\n        return utils_1.PointSide.North;\n      }\n    } else {\n      if (this.startPoint().location.x() > this.endPoint().location.x()) {\n        return utils_1.PointSide.East;\n      } else {\n        return utils_1.PointSide.West;\n      }\n    }\n  };\n\n  RoutedConnectorViewModel.prototype._getRatio = function (n) {\n    var pow2Delimiter = this._getPower(n);\n\n    var delimiter = Math.pow(2, pow2Delimiter);\n    var halfDelimeter = Math.pow(2, pow2Delimiter - 1);\n    var arr = [];\n\n    for (var i = 1; i < halfDelimeter; i++) {\n      if (i % 2 == 0) {\n        continue;\n      }\n\n      arr.push(delimiter - i);\n      arr.push(i);\n    }\n\n    arr.reverse();\n    var delta = n - halfDelimeter;\n    var number = arr[delta] || 1;\n    return number / delimiter;\n  };\n\n  RoutedConnectorViewModel.prototype.beginUpdate = function () {\n    this._isUpdating = true;\n  };\n\n  RoutedConnectorViewModel.prototype.endUpdate = function () {\n    this._isUpdating = false;\n  };\n\n  return RoutedConnectorViewModel;\n}(connectorModel_1.ConnectorViewModel);\n\nexports.RoutedConnectorViewModel = RoutedConnectorViewModel;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/diagram/elements/connectors/routedConnectorModel.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","RoutedConnectorViewModel","ko","require","connectorModel_1","point_1","utils_1","_utils_1","_super","control","parent","serializer","_this","extend","_isUpdating","_getPower","_n","i","Math","pow","seriesNumber","observable","routePoints","freezeRoute","_disposables","push","computed","startPoint","location","x","y","endPoint","result","startPointSide","_getStartPointSide","endPointSide","_getEndPointSide","Point","connectingPoint","_fixPoint","side","baseX","min","baseY","width","abs","height","number","ratio","_getRatio","indent","GRID_SIZE","PointSide","North","East","South","West","getX","forEach","point","getY","getWidth","concat","getHeight","round","n","pow2Delimiter","delimiter","halfDelimeter","arr","reverse","delta","beginUpdate","endUpdate","ConnectorViewModel"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (diagram\\elements\\connectors\\routedConnectorModel.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RoutedConnectorViewModel = void 0;\nvar ko = require(\"knockout\");\nvar connectorModel_1 = require(\"./connectorModel\");\nvar point_1 = require(\"../../../core/elements/point\");\nvar utils_1 = require(\"../../utils\");\nvar _utils_1 = require(\"../../../serializer/_utils\");\nvar RoutedConnectorViewModel = (function (_super) {\n    __extends(RoutedConnectorViewModel, _super);\n    function RoutedConnectorViewModel(control, parent, serializer) {\n        var _this = _super.call(this, _utils_1.extend({ '@ControlType': 'RoutedConnector' }, control), parent, serializer) || this;\n        _this._isUpdating = false;\n        _this._getPower = function (_n) {\n            for (var i = 0; i < 10; i++) {\n                if (_n >= Math.pow(2, i) && _n < Math.pow(2, i + 1)) {\n                    return i + 1;\n                }\n            }\n            return 1;\n        };\n        _this.seriesNumber = ko.observable(1);\n        _this.routePoints = ko.observable([]);\n        _this.freezeRoute = ko.observable(false);\n        _this._disposables.push(ko.computed(function () {\n            var freezeRoute = !(1 + _this.startPoint().location.x() + _this.startPoint().location.y()\n                + _this.endPoint().location.x() + _this.endPoint().location.y());\n            if (!_this._isUpdating) {\n                _this.freezeRoute(freezeRoute);\n            }\n        }));\n        _this._disposables.push(ko.computed(function () {\n            if (!_this.freezeRoute()) {\n                var result = [];\n                var startPointSide = _this._getStartPointSide();\n                var endPointSide = _this._getEndPointSide();\n                var startPoint = new point_1.Point(_this.startPoint().location.x(), _this.startPoint().location.y()), endPoint = new point_1.Point(_this.endPoint().location.x(), _this.endPoint().location.y());\n                if (_this.startPoint().connectingPoint()) {\n                    _this._fixPoint(startPoint, _this.startPoint().connectingPoint().side());\n                    result.push(startPoint);\n                }\n                if (_this.endPoint().connectingPoint()) {\n                    _this._fixPoint(endPoint, _this.endPoint().connectingPoint().side());\n                }\n                var baseX = Math.min(startPoint.x(), endPoint.x()), baseY = Math.min(startPoint.y(), endPoint.y()), width = Math.abs(startPoint.x() - endPoint.x()), height = Math.abs(startPoint.y() - endPoint.y());\n                var number = _this.seriesNumber();\n                var ratio = _this._getRatio(number);\n                var indent = (number - 1) * utils_1.GRID_SIZE;\n                if (startPoint.y() - endPoint.y() > 0) {\n                    if (startPoint.x() - endPoint.x() > 0) {\n                        if (startPointSide === utils_1.PointSide.North || startPointSide === utils_1.PointSide.East) {\n                            if (endPointSide === utils_1.PointSide.North || endPointSide === utils_1.PointSide.East) {\n                                if (number !== 1) {\n                                    width += indent;\n                                    result.push(new point_1.Point(baseX + width, baseY + height));\n                                }\n                                result.push(new point_1.Point(baseX + width, baseY));\n                            }\n                            else {\n                                result.push(new point_1.Point(baseX + width, baseY + height * ratio));\n                                result.push(new point_1.Point(baseX, baseY + height * ratio));\n                            }\n                        }\n                        else {\n                            if (endPointSide === utils_1.PointSide.South || endPointSide === utils_1.PointSide.West) {\n                                result.push(new point_1.Point(baseX, baseY + height));\n                            }\n                            else {\n                                result.push(new point_1.Point(baseX + width * ratio, baseY + height));\n                                result.push(new point_1.Point(baseX + width * ratio, baseY));\n                            }\n                        }\n                    }\n                    else {\n                        if (startPointSide === utils_1.PointSide.North || startPointSide === utils_1.PointSide.West) {\n                            if (endPointSide === utils_1.PointSide.North || endPointSide === utils_1.PointSide.West) {\n                                if (number !== 1) {\n                                    baseX -= indent;\n                                    result.push(new point_1.Point(baseX, baseY + height));\n                                }\n                                result.push(new point_1.Point(baseX, baseY));\n                            }\n                            else {\n                                result.push(new point_1.Point(baseX, baseY + height * ratio));\n                                result.push(new point_1.Point(baseX + width, baseY + height * ratio));\n                            }\n                        }\n                        else {\n                            if (endPointSide === utils_1.PointSide.South || endPointSide === utils_1.PointSide.East) {\n                                result.push(new point_1.Point(baseX + width, baseY + height));\n                            }\n                            else {\n                                result.push(new point_1.Point(baseX + width * ratio, baseY + height));\n                                result.push(new point_1.Point(baseX + width * ratio, baseY));\n                            }\n                        }\n                    }\n                }\n                else {\n                    if (startPoint.x() - endPoint.x() > 0) {\n                        if (startPointSide === utils_1.PointSide.South || startPointSide === utils_1.PointSide.East) {\n                            if (endPointSide === utils_1.PointSide.South || endPointSide === utils_1.PointSide.East) {\n                                if (number !== 1) {\n                                    width += indent;\n                                    result.push(new point_1.Point(baseX + width, baseY));\n                                }\n                                result.push(new point_1.Point(baseX + width, baseY + height));\n                            }\n                            else {\n                                result.push(new point_1.Point(baseX + width, baseY + height * ratio));\n                                result.push(new point_1.Point(baseX, baseY + height * ratio));\n                            }\n                        }\n                        else {\n                            if (endPointSide === utils_1.PointSide.North || endPointSide === utils_1.PointSide.West) {\n                                result.push(new point_1.Point(baseX, baseY));\n                            }\n                            else {\n                                result.push(new point_1.Point(baseX + width * ratio, baseY));\n                                result.push(new point_1.Point(baseX + width * ratio, baseY + height));\n                            }\n                        }\n                    }\n                    else {\n                        if (startPointSide === utils_1.PointSide.South || startPointSide === utils_1.PointSide.West) {\n                            if (endPointSide === utils_1.PointSide.South || endPointSide === utils_1.PointSide.West) {\n                                if (number !== 1) {\n                                    baseX -= indent;\n                                    result.push(new point_1.Point(baseX, baseY));\n                                }\n                                result.push(new point_1.Point(baseX, baseY + height));\n                            }\n                            else {\n                                result.push(new point_1.Point(baseX, baseY + height * ratio));\n                                result.push(new point_1.Point(baseX + width, baseY + height * ratio));\n                            }\n                        }\n                        else {\n                            if (endPointSide === utils_1.PointSide.North || endPointSide === utils_1.PointSide.East) {\n                                result.push(new point_1.Point(baseX + width, baseY));\n                            }\n                            else {\n                                result.push(new point_1.Point(baseX + width * ratio, baseY));\n                                result.push(new point_1.Point(baseX + width * ratio, baseY + height));\n                            }\n                        }\n                    }\n                }\n                if (_this.endPoint().connectingPoint()) {\n                    result.push(endPoint);\n                }\n                _this.routePoints(result);\n            }\n        }));\n        return _this;\n    }\n    RoutedConnectorViewModel.prototype.getX = function () {\n        var result = _super.prototype.getX.call(this);\n        this.routePoints && this.routePoints().forEach(function (point) {\n            if (point.x() < result) {\n                result = point.x();\n            }\n        });\n        return result;\n    };\n    RoutedConnectorViewModel.prototype.getY = function () {\n        var result = _super.prototype.getY.call(this);\n        this.routePoints && this.routePoints().forEach(function (point) {\n            if (point.y() < result) {\n                result = point.y();\n            }\n        });\n        return result;\n    };\n    RoutedConnectorViewModel.prototype.getWidth = function () {\n        var result = _super.prototype.getWidth.call(this);\n        var baseX = this.getX();\n        this.routePoints && [this.startPoint().location, this.endPoint().location].concat(this.routePoints()).forEach(function (point) {\n            if (point.x() - baseX > result) {\n                result = point.x() - baseX;\n            }\n        });\n        return result;\n    };\n    RoutedConnectorViewModel.prototype.getHeight = function () {\n        var result = _super.prototype.getHeight.call(this);\n        var baseY = this.getY();\n        this.routePoints && [this.startPoint().location, this.endPoint().location].concat(this.routePoints()).forEach(function (point) {\n            if (point.y() - baseY > result) {\n                result = point.y() - baseY;\n            }\n        });\n        return Math.round(result);\n    };\n    RoutedConnectorViewModel.prototype._fixPoint = function (point, side) {\n        switch (side) {\n            case utils_1.PointSide.North:\n                point.y(point.y() - utils_1.GRID_SIZE);\n                break;\n            case utils_1.PointSide.East:\n                point.x(point.x() + utils_1.GRID_SIZE);\n                break;\n            case utils_1.PointSide.West:\n                point.x(point.x() - utils_1.GRID_SIZE);\n                break;\n            case utils_1.PointSide.South:\n                point.y(point.y() + utils_1.GRID_SIZE);\n        }\n    };\n    RoutedConnectorViewModel.prototype._getStartPointSide = function () {\n        if (this.startPoint().connectingPoint()) {\n            return this.startPoint().connectingPoint().side();\n        }\n        if (this.startPoint().location.y() !== this.endPoint().location.y()) {\n            if (this.startPoint().location.y() > this.endPoint().location.y()) {\n                return utils_1.PointSide.North;\n            }\n            else {\n                return utils_1.PointSide.South;\n            }\n        }\n        else {\n            if (this.startPoint().location.x() > this.endPoint().location.x()) {\n                return utils_1.PointSide.West;\n            }\n            else {\n                return utils_1.PointSide.East;\n            }\n        }\n    };\n    RoutedConnectorViewModel.prototype._getEndPointSide = function () {\n        if (this.endPoint().connectingPoint()) {\n            return this.endPoint().connectingPoint().side();\n        }\n        if (this.startPoint().location.y() !== this.endPoint().location.y()) {\n            if (this.startPoint().location.y() > this.endPoint().location.y()) {\n                return utils_1.PointSide.South;\n            }\n            else {\n                return utils_1.PointSide.North;\n            }\n        }\n        else {\n            if (this.startPoint().location.x() > this.endPoint().location.x()) {\n                return utils_1.PointSide.East;\n            }\n            else {\n                return utils_1.PointSide.West;\n            }\n        }\n    };\n    RoutedConnectorViewModel.prototype._getRatio = function (n) {\n        var pow2Delimiter = this._getPower(n);\n        var delimiter = Math.pow(2, pow2Delimiter);\n        var halfDelimeter = Math.pow(2, pow2Delimiter - 1);\n        var arr = [];\n        for (var i = 1; i < halfDelimeter; i++) {\n            if (i % 2 == 0) {\n                continue;\n            }\n            arr.push(delimiter - i);\n            arr.push(i);\n        }\n        arr.reverse();\n        var delta = n - halfDelimeter;\n        var number = arr[delta] || 1;\n        return number / delimiter;\n    };\n    RoutedConnectorViewModel.prototype.beginUpdate = function () { this._isUpdating = true; };\n    RoutedConnectorViewModel.prototype.endUpdate = function () { this._isUpdating = false; };\n    return RoutedConnectorViewModel;\n}(connectorModel_1.ConnectorViewModel));\nexports.RoutedConnectorViewModel = RoutedConnectorViewModel;\n"]},"metadata":{},"sourceType":"script"}