{"ast":null,"code":"/**\n* DevExpress Analytics (core\\utils\\_designerCreator.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CommonDesignerGenerator = exports.SelectionSettings = exports.MenuSettings = exports.ControlsHelperSettings = exports.DragDropSettings = exports.ContextActionsSettings = exports.ResizeSettings = exports.DesignerContextGenerator = exports.DesignerContextGeneratorInternal = void 0;\n\nvar ko = require(\"knockout\");\n\nvar propertygrid_1 = require(\"../../property-grid/propertygrid\");\n\nvar utils_1 = require(\"../../serializer/utils\");\n\nvar _utils_1 = require(\"../../serializer/_utils\");\n\nvar undoengine_1 = require(\"../../undo-engine/undoengine\");\n\nvar _controlsHelper_1 = require(\"../internal/_controlsHelper\");\n\nvar _stores_1 = require(\"../internal/_stores\");\n\nvar tabPanel_1 = require(\"../tools/tabPanel\");\n\nvar _actionList_1 = require(\"../tools/_actionList\");\n\nvar _controlProperties_1 = require(\"../widgets/propertygrid/_controlProperties\");\n\nvar _utils_2 = require(\"./_utils\");\n\nvar DesignerContextGeneratorInternal = function () {\n  function DesignerContextGeneratorInternal(_context, _rtl) {\n    this._context = _context;\n    this._rtl = _rtl;\n  }\n\n  DesignerContextGeneratorInternal.prototype.addElement = function (propertyName, model) {\n    this._context[propertyName] = model;\n    return this;\n  };\n\n  DesignerContextGeneratorInternal.prototype.addUndoEngine = function (undoEngine) {\n    if (undoEngine === void 0) {\n      undoEngine = ko.observable(new undoengine_1.UndoEngine(this._context.model));\n    }\n\n    this._context.undoEngine = undoEngine;\n    return this;\n  };\n\n  DesignerContextGeneratorInternal.prototype.addSurface = function (surface) {\n    this._context.surface = surface;\n    return this;\n  };\n\n  DesignerContextGeneratorInternal.prototype.getContext = function () {\n    return this._context;\n  };\n\n  return DesignerContextGeneratorInternal;\n}();\n\nexports.DesignerContextGeneratorInternal = DesignerContextGeneratorInternal;\n\nvar DesignerContextGenerator = function () {\n  function DesignerContextGenerator(_rtl) {\n    this._rtl = _rtl;\n  }\n\n  DesignerContextGenerator.prototype.addModel = function (model) {\n    return new DesignerContextGeneratorInternal({\n      model: model\n    }, this._rtl);\n  };\n\n  return DesignerContextGenerator;\n}();\n\nexports.DesignerContextGenerator = DesignerContextGenerator;\n\nvar ResizeSettings = function (_super) {\n  __extends(ResizeSettings, _super);\n\n  function ResizeSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  Object.defineProperty(ResizeSettings.prototype, \"handler\", {\n    get: function () {\n      return this._handler;\n    },\n    set: function (newVal) {\n      this._disposables.push(newVal);\n\n      this._handler = newVal;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ResizeSettings.prototype.generate = function () {\n    var result = {};\n    if (this.handler) result['resizeHandler'] = this.handler;\n    return result;\n  };\n\n  return ResizeSettings;\n}(utils_1.Disposable);\n\nexports.ResizeSettings = ResizeSettings;\n\nvar ContextActionsSettings = function (_super) {\n  __extends(ContextActionsSettings, _super);\n\n  function ContextActionsSettings() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ContextActionsSettings.prototype._actionUndoEngineWrappingFunction = function (contextActions, undoEngine) {\n    return _utils_2.createActionWrappingFunction('WrapWithUndoEngine', function (model, handler) {\n      undoEngine().start();\n      handler(model);\n      undoEngine().end();\n    })(contextActions);\n  };\n\n  ContextActionsSettings.prototype._collectActions = function (editableObj, undoEngine) {\n    var editable = editableObj(),\n        contextActions = [];\n    this.actionProviders.forEach(function (actionProvider) {\n      contextActions.push.apply(contextActions, actionProvider.getActions(editable));\n    });\n\n    this._actionUndoEngineWrappingFunction(contextActions, undoEngine);\n\n    return contextActions;\n  };\n\n  Object.defineProperty(ContextActionsSettings.prototype, \"actionProviders\", {\n    get: function () {\n      return this._actionProviders;\n    },\n    set: function (val) {\n      this._disposables.push.apply(this._disposables, val);\n\n      this._actionProviders = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ContextActionsSettings.prototype, \"actions\", {\n    get: function () {\n      return this._actions;\n    },\n    set: function (val) {\n      this._disposables.push(val);\n\n      this._actions = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ContextActionsSettings.prototype, \"groupActions\", {\n    get: function () {\n      return this._groupActions;\n    },\n    set: function (val) {\n      this._disposables.push(val);\n\n      this._groupActions = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  ContextActionsSettings.prototype.createDefaultActions = function (editableObj, undoEngine) {\n    var _this = this;\n\n    this.actions = ko.computed(function () {\n      return _this._collectActions(editableObj, undoEngine);\n    });\n  };\n\n  ContextActionsSettings.prototype.createDefaultGroupAction = function (editableObj, undoEngine) {\n    var _this = this;\n\n    this.groupActions = ko.computed(function () {\n      return _utils_2.collectGroupsFromFlatList(_this._collectActions(editableObj, undoEngine), function (x) {\n        return x.group && x.group();\n      });\n    });\n  };\n\n  ContextActionsSettings.prototype.generate = function () {\n    var result = {};\n    if (this.actionProviders) result['contextActionProviders'] = this.actionProviders;\n    if (this.actions) result['contextActions'] = this.actions;\n    if (this.groupActions) result['contextGroupActions'] = this.groupActions;\n    return result;\n  };\n\n  return ContextActionsSettings;\n}(utils_1.Disposable);\n\nexports.ContextActionsSettings = ContextActionsSettings;\n\nvar DragDropSettings = function (_super) {\n  __extends(DragDropSettings, _super);\n\n  function DragDropSettings() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._model = {};\n    return _this;\n  }\n\n  Object.defineProperty(DragDropSettings.prototype, \"dragHelperContent\", {\n    get: function () {\n      return this._dragHelperContent;\n    },\n    set: function (val) {\n      this._disposables.push(val);\n\n      this._dragHelperContent = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DragDropSettings.prototype, \"dragDropStarted\", {\n    get: function () {\n      return this._dragDropStarted;\n    },\n    set: function (val) {\n      this._disposables.push(val);\n\n      this._dragDropStarted = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DragDropSettings.prototype.addDragDropHandler = function (propertyName, handler) {\n    this._disposables.push(handler);\n\n    this._model[propertyName] = handler;\n  };\n\n  DragDropSettings.prototype.generate = function () {\n    var result = this._model;\n    if (this.dragHelperContent) result['dragHelperContent'] = this.dragHelperContent;\n    if (this.dragDropStarted) result['dragDropStarted'] = this.dragDropStarted;\n    return result;\n  };\n\n  return DragDropSettings;\n}(utils_1.Disposable);\n\nexports.DragDropSettings = DragDropSettings;\n\nvar ControlsHelperSettings = function (_super) {\n  __extends(ControlsHelperSettings, _super);\n\n  function ControlsHelperSettings(_selection, _context) {\n    var _this = _super.call(this) || this;\n\n    _this._selection = _selection;\n    _this._context = _context;\n    _this._model = {};\n    return _this;\n  }\n\n  ControlsHelperSettings.prototype.generate = function () {\n    var result = this._model;\n    if (this.controlsHelper) result['controlsHelper'] = this.controlsHelper;\n    return result;\n  };\n\n  ControlsHelperSettings.prototype.addControlsHelper = function (helper) {\n    var _this = this;\n\n    this.controlsHelper = helper || new _controlsHelper_1.DesignControlsHelper(this._context.model, [{\n      added: function (control) {},\n      deleted: function (control) {\n        control.surface === _this._selection.focused() && _this._selection.focused(control.surface.findNextSelection());\n      }\n    }]);\n\n    this._disposables.push(this.controlsHelper);\n\n    return this;\n  };\n\n  ControlsHelperSettings.prototype.addControlsStore = function (store) {\n    store = store || new _stores_1.ControlsStore(this.controlsHelper.allControls);\n\n    this._disposables.push(store);\n\n    this._model['controlsStore'] = store;\n    return this;\n  };\n\n  return ControlsHelperSettings;\n}(utils_1.Disposable);\n\nexports.ControlsHelperSettings = ControlsHelperSettings;\n\nvar MenuSettings = function (_super) {\n  __extends(MenuSettings, _super);\n\n  function MenuSettings() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.stopPropagation = false;\n    return _this;\n  }\n\n  MenuSettings.prototype.generate = function () {\n    var result = {};\n    if (this.appMenuVisible) result['appMenuVisible'] = this.appMenuVisible;\n    if (this.toggleAppMenu) result['toggleAppMenu'] = this.toggleAppMenu;\n    if (this.getMenuPopupContainer) result['getMenuPopupContainer'] = this.getMenuPopupContainer;\n    if (this.getMenuPopupTarget) result['getMenuPopupTarget'] = this.getMenuPopupTarget;\n    result['stopPropagation'] = this.stopPropagation;\n    return result;\n  };\n\n  Object.defineProperty(MenuSettings.prototype, \"appMenuVisible\", {\n    get: function () {\n      return this._appMenuVisible;\n    },\n    set: function (val) {\n      this._disposables.push(val);\n\n      this._appMenuVisible = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return MenuSettings;\n}(utils_1.Disposable);\n\nexports.MenuSettings = MenuSettings;\n\nvar SelectionSettings = function (_super) {\n  __extends(SelectionSettings, _super);\n\n  function SelectionSettings() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._dragDropSettings = new DragDropSettings();\n    _this._resizeSettings = new ResizeSettings();\n    return _this;\n  }\n\n  SelectionSettings.prototype.dispose = function () {\n    this._editableObject(null);\n\n    _super.prototype.dispose.call(this);\n\n    this.removeProperties();\n  };\n\n  Object.defineProperty(SelectionSettings.prototype, \"selection\", {\n    get: function () {\n      return this._selection;\n    },\n    set: function (val) {\n      this._disposables.push(val);\n\n      this._selection = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SelectionSettings.prototype, \"snapHelper\", {\n    get: function () {\n      return this._snapHelper;\n    },\n    set: function (val) {\n      this._disposables.push(val);\n\n      this._snapHelper = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(SelectionSettings.prototype, \"editableObject\", {\n    get: function () {\n      return this._editableObject;\n    },\n    set: function (val) {\n      this._disposables.push(val);\n\n      this._editableObject = val;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  SelectionSettings.prototype.addDragDrop = function (func) {\n    func(this._dragDropSettings);\n\n    this._disposables.push(this._dragDropSettings);\n  };\n\n  SelectionSettings.prototype.addResize = function (func) {\n    func(this._resizeSettings);\n\n    this._disposables.push(this._resizeSettings);\n  };\n\n  SelectionSettings.prototype.generate = function () {\n    var result = {};\n    if (this.selection) result['selection'] = this.selection;\n    if (this.snapHelper) result['snapHelper'] = this.snapHelper;\n    if (this.editableObject) result['editableObject'] = this.editableObject;\n    return _utils_1.extend(result, this._dragDropSettings.generate(), this._resizeSettings.generate());\n  };\n\n  return SelectionSettings;\n}(utils_1.Disposable);\n\nexports.SelectionSettings = SelectionSettings;\n\nvar CommonDesignerGenerator = function (_super) {\n  __extends(CommonDesignerGenerator, _super);\n\n  function CommonDesignerGenerator(_context, _rtl) {\n    var _this = _super.call(this) || this;\n\n    _this._context = _context;\n    _this._rtl = _rtl;\n    _this._model = {};\n    _this._selectionSettings = new SelectionSettings();\n    _this._model.rtl = _this._rtl;\n\n    _this._model.dispose = function () {\n      _this.dispose();\n    };\n\n    return _this;\n  }\n\n  CommonDesignerGenerator.prototype._createPopularProperties = function (info, popularProperties) {\n    var properties = [];\n    popularProperties.forEach(function (name) {\n      var property = info.filter(function (propertyInfo) {\n        return propertyInfo.propertyName === name;\n      })[0];\n\n      if (property) {\n        properties.push(property);\n      }\n    });\n    return properties;\n  };\n\n  CommonDesignerGenerator.prototype._resetModel = function () {\n    var _this = this;\n\n    Object.keys(this._model).forEach(function (propertyName) {\n      if (propertyName !== 'dispose') delete _this._model[propertyName];\n    });\n  };\n\n  Object.defineProperty(CommonDesignerGenerator.prototype, \"rtl\", {\n    get: function () {\n      return this._rtl;\n    },\n    set: function (newVal) {\n      this._rtl = newVal;\n      this._model.rtl = newVal;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  CommonDesignerGenerator.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n\n    this._resetModel();\n  };\n\n  CommonDesignerGenerator.prototype.initializeContext = function (context) {\n    this._context = context;\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.getPropertyByName = function (propertyName) {\n    return this._model[propertyName];\n  };\n\n  CommonDesignerGenerator.prototype.addElement = function (propertyName, elementFunc) {\n    this._model[propertyName] = elementFunc();\n\n    this._disposables.push(this._model[propertyName]);\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.mapOnContext = function () {\n    this._model.model = this._context.model;\n    this._model.surface = this._context.surface;\n    this._model.undoEngine = this._context.undoEngine;\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addSelection = function (func) {\n    func(this._selectionSettings);\n\n    this._disposables.push(this._selectionSettings);\n\n    _utils_1.extend(this._model, this._selectionSettings.generate());\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addPropertyGrid = function (propertyGrid, propertyName) {\n    if (propertyName === void 0) {\n      propertyName = 'propertyGrid';\n    }\n\n    this._model[propertyName] = propertyGrid && propertyGrid();\n\n    this._disposables.push(this._model[propertyName]);\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addDisposableContainer = function () {\n    var _this = this;\n\n    this._model.disposableContainer = new utils_1.Disposable();\n\n    this._model.addDisposables = function () {\n      var _a;\n\n      var elem = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        elem[_i] = arguments[_i];\n      }\n\n      return (_a = _this._model.disposableContainer._disposables).push.apply(_a, elem);\n    };\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addControlProperties = function (editors, groups, groupLocalizationIDs, accessibilityProvider) {\n    var _this = this;\n\n    return this.addPropertyGrid(function () {\n      return _this.createControlProperties(editors, groups, accessibilityProvider);\n    });\n  };\n\n  CommonDesignerGenerator.prototype.createControlProperties = function (editors, groups, accessibilityProvider) {\n    var properties = new _controlProperties_1.ControlProperties(this._model.editableObject, {\n      groups: groups,\n      editors: editors\n    }, null);\n    if (accessibilityProvider) properties.registerAccessibilityProvider(accessibilityProvider);\n    return properties;\n  };\n\n  CommonDesignerGenerator.prototype.addPopularProperties = function (controlsFactory, accessibilityProvider) {\n    var _this = this;\n\n    return this.addPropertyGrid(function () {\n      var properties = new propertygrid_1.ObjectProperties(ko.pureComputed(function () {\n        var popularPropertiesObject = {\n          getInfo: function () {\n            return [];\n          }\n        },\n            editable = _this._model.editableObject();\n\n        if (editable) {\n          var controlInfo = controlsFactory.controlsMap[editable.controlType],\n              propertiesInfo = _this._createPopularProperties(controlInfo && controlInfo.info || [], controlInfo && controlInfo.popularProperties || []);\n\n          propertiesInfo.forEach(function (item) {\n            if (item.propertyName in editable) popularPropertiesObject[item.propertyName] = editable[item.propertyName];\n          });\n\n          popularPropertiesObject.getInfo = function () {\n            return propertiesInfo;\n          };\n\n          popularPropertiesObject['root'] = editable.root;\n          popularPropertiesObject['actions'] = editable.actions;\n          popularPropertiesObject['actionProviders'] = editable.actionProviders;\n\n          popularPropertiesObject['getPath'] = function (propertyName) {\n            return editable.getPath && editable.getPath(propertyName) || '';\n          };\n\n          popularPropertiesObject['getModel'] = function () {\n            return editable;\n          };\n\n          popularPropertiesObject['isPropertyModified'] = function (name) {\n            return editable.isPropertyModified ? editable.isPropertyModified(name) : false;\n          };\n\n          popularPropertiesObject['getActionClassName'] = function (name) {\n            return editable['getActionClassName'] ? editable['getActionClassName'](name) : '';\n          };\n\n          popularPropertiesObject['getMenuBoxTemplate'] = function (name) {\n            return editable['getMenuBoxTemplate'] ? editable['getMenuBoxTemplate'](name) : '';\n          };\n\n          popularPropertiesObject['isPropertyVisible'] = function (propertyName) {\n            return editable['isPropertyVisible'] ? editable['isPropertyVisible'](propertyName, true) : true;\n          };\n\n          popularPropertiesObject['isPropertyHighlighted'] = function (propertyName) {\n            return editable['isPropertyHighlighted'] ? editable['isPropertyHighlighted'](propertyName) : false;\n          };\n\n          popularPropertiesObject['isPropertyDisabled'] = function (name) {\n            return editable.isPropertyDisabled ? editable.isPropertyDisabled(name) : false;\n          };\n\n          popularPropertiesObject['isSame'] = function (x) {\n            return x === editable;\n          };\n\n          ['name', 'displayName'].forEach(function (propertyName) {\n            if (propertyName in editable) {\n              popularPropertiesObject[propertyName] = editable[propertyName];\n            }\n          });\n        }\n\n        return popularPropertiesObject;\n      }), undefined, undefined, undefined);\n      if (accessibilityProvider) properties.registerAccessibilityProvider(accessibilityProvider);\n      return properties;\n    }, 'popularProperties');\n  };\n\n  CommonDesignerGenerator.prototype.addToolboxItems = function (items) {\n    this._model.toolboxItems = items && items();\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addGroupedToolboxItems = function () {\n    this._model.groupedToolboxItems = _utils_2.collectGroupsFromFlatList(this._model.toolboxItems, function (item) {\n      return item.info.group;\n    });\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addTabPanel = function (panel, addTabInfo) {\n    if (addTabInfo === void 0) {\n      addTabInfo = function () {\n        return [];\n      };\n    }\n\n    var panelModel = panel && panel() || new tabPanel_1.TabPanel({\n      tabs: addTabInfo(),\n      rtl: this._rtl,\n      width: 375\n    });\n    this._model.tabPanel = panelModel;\n\n    this._disposables.push(panelModel);\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addIsLoading = function (isLoadingFunc) {\n    if (isLoadingFunc === void 0) {\n      isLoadingFunc = function () {\n        return ko.observable(true);\n      };\n    }\n\n    this._model.isLoading = isLoadingFunc();\n\n    this._disposables.push(this._model.isLoading);\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addControlsHelper = function (func) {\n    var settings = new ControlsHelperSettings(this._selectionSettings.selection, this._context);\n    func(settings);\n\n    this._disposables.push(settings);\n\n    _utils_1.extend(this._model, settings.generate());\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addMenu = function (func) {\n    var settings = new MenuSettings();\n    func(settings);\n\n    this._disposables.push(settings);\n\n    _utils_1.extend(this._model, settings.generate());\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addContextActions = function (func) {\n    var settings = new ContextActionsSettings();\n    func(settings);\n\n    this._disposables.push(settings);\n\n    _utils_1.extend(this._model, settings.generate());\n\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.addParts = function (func, useDefaults) {\n    if (func === void 0) {\n      func = function (parts) {\n        return parts;\n      };\n    }\n\n    if (useDefaults === void 0) {\n      useDefaults = true;\n    }\n\n    var parts = [];\n    if (useDefaults) parts = _utils_2.generateDefaultParts(this._model);\n    this._model.parts = func(parts);\n    return this;\n  };\n\n  CommonDesignerGenerator.prototype.getModel = function () {\n    return this._model;\n  };\n\n  CommonDesignerGenerator.prototype.addActionList = function (actionListsFunc) {\n    var actionLists = actionListsFunc && actionListsFunc() || new _actionList_1.ActionLists(this._context.surface, this._selectionSettings.selection, this._context.undoEngine, function () {});\n\n    this._disposables.push(actionLists);\n\n    this._model.actionLists = actionLists;\n    return this;\n  };\n\n  return CommonDesignerGenerator;\n}(utils_1.Disposable);\n\nexports.CommonDesignerGenerator = CommonDesignerGenerator;","map":{"version":3,"sources":["/Users/kevinrabari/Desktop/Georgian College Work/1005_ Mobile Web Application/Assignment3/node_modules/@devexpress/analytics-core/core/utils/_designerCreator.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","CommonDesignerGenerator","SelectionSettings","MenuSettings","ControlsHelperSettings","DragDropSettings","ContextActionsSettings","ResizeSettings","DesignerContextGenerator","DesignerContextGeneratorInternal","ko","require","propertygrid_1","utils_1","_utils_1","undoengine_1","_controlsHelper_1","_stores_1","tabPanel_1","_actionList_1","_controlProperties_1","_utils_2","_context","_rtl","addElement","propertyName","model","addUndoEngine","undoEngine","observable","UndoEngine","addSurface","surface","getContext","addModel","_super","apply","arguments","get","_handler","set","newVal","_disposables","push","enumerable","configurable","generate","result","handler","Disposable","_actionUndoEngineWrappingFunction","contextActions","createActionWrappingFunction","start","end","_collectActions","editableObj","editable","actionProviders","forEach","actionProvider","getActions","_actionProviders","val","_actions","_groupActions","createDefaultActions","_this","actions","computed","createDefaultGroupAction","groupActions","collectGroupsFromFlatList","x","group","_model","_dragHelperContent","_dragDropStarted","addDragDropHandler","dragHelperContent","dragDropStarted","_selection","controlsHelper","addControlsHelper","helper","DesignControlsHelper","added","control","deleted","focused","findNextSelection","addControlsStore","store","ControlsStore","allControls","stopPropagation","appMenuVisible","toggleAppMenu","getMenuPopupContainer","getMenuPopupTarget","_appMenuVisible","_dragDropSettings","_resizeSettings","dispose","_editableObject","removeProperties","_snapHelper","addDragDrop","func","addResize","selection","snapHelper","editableObject","extend","_selectionSettings","rtl","_createPopularProperties","info","popularProperties","properties","name","property","filter","propertyInfo","_resetModel","keys","initializeContext","context","getPropertyByName","elementFunc","mapOnContext","addSelection","addPropertyGrid","propertyGrid","addDisposableContainer","disposableContainer","addDisposables","_a","elem","_i","length","addControlProperties","editors","groups","groupLocalizationIDs","accessibilityProvider","createControlProperties","ControlProperties","registerAccessibilityProvider","addPopularProperties","controlsFactory","ObjectProperties","pureComputed","popularPropertiesObject","getInfo","controlInfo","controlsMap","controlType","propertiesInfo","item","root","getPath","isPropertyModified","isPropertyDisabled","undefined","addToolboxItems","items","toolboxItems","addGroupedToolboxItems","groupedToolboxItems","addTabPanel","panel","addTabInfo","panelModel","TabPanel","tabs","width","tabPanel","addIsLoading","isLoadingFunc","isLoading","settings","addMenu","addContextActions","addParts","useDefaults","parts","generateDefaultParts","getModel","addActionList","actionListsFunc","actionLists","ActionLists"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (core\\utils\\_designerCreator.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommonDesignerGenerator = exports.SelectionSettings = exports.MenuSettings = exports.ControlsHelperSettings = exports.DragDropSettings = exports.ContextActionsSettings = exports.ResizeSettings = exports.DesignerContextGenerator = exports.DesignerContextGeneratorInternal = void 0;\nvar ko = require(\"knockout\");\nvar propertygrid_1 = require(\"../../property-grid/propertygrid\");\nvar utils_1 = require(\"../../serializer/utils\");\nvar _utils_1 = require(\"../../serializer/_utils\");\nvar undoengine_1 = require(\"../../undo-engine/undoengine\");\nvar _controlsHelper_1 = require(\"../internal/_controlsHelper\");\nvar _stores_1 = require(\"../internal/_stores\");\nvar tabPanel_1 = require(\"../tools/tabPanel\");\nvar _actionList_1 = require(\"../tools/_actionList\");\nvar _controlProperties_1 = require(\"../widgets/propertygrid/_controlProperties\");\nvar _utils_2 = require(\"./_utils\");\nvar DesignerContextGeneratorInternal = (function () {\n    function DesignerContextGeneratorInternal(_context, _rtl) {\n        this._context = _context;\n        this._rtl = _rtl;\n    }\n    DesignerContextGeneratorInternal.prototype.addElement = function (propertyName, model) {\n        this._context[propertyName] = model;\n        return this;\n    };\n    DesignerContextGeneratorInternal.prototype.addUndoEngine = function (undoEngine) {\n        if (undoEngine === void 0) { undoEngine = ko.observable(new undoengine_1.UndoEngine(this._context.model)); }\n        this._context.undoEngine = undoEngine;\n        return this;\n    };\n    DesignerContextGeneratorInternal.prototype.addSurface = function (surface) {\n        this._context.surface = surface;\n        return this;\n    };\n    DesignerContextGeneratorInternal.prototype.getContext = function () {\n        return this._context;\n    };\n    return DesignerContextGeneratorInternal;\n}());\nexports.DesignerContextGeneratorInternal = DesignerContextGeneratorInternal;\nvar DesignerContextGenerator = (function () {\n    function DesignerContextGenerator(_rtl) {\n        this._rtl = _rtl;\n    }\n    DesignerContextGenerator.prototype.addModel = function (model) {\n        return new DesignerContextGeneratorInternal({ model: model }, this._rtl);\n    };\n    return DesignerContextGenerator;\n}());\nexports.DesignerContextGenerator = DesignerContextGenerator;\nvar ResizeSettings = (function (_super) {\n    __extends(ResizeSettings, _super);\n    function ResizeSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(ResizeSettings.prototype, \"handler\", {\n        get: function () { return this._handler; },\n        set: function (newVal) {\n            this._disposables.push(newVal);\n            this._handler = newVal;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ResizeSettings.prototype.generate = function () {\n        var result = {};\n        if (this.handler)\n            result['resizeHandler'] = this.handler;\n        return result;\n    };\n    return ResizeSettings;\n}(utils_1.Disposable));\nexports.ResizeSettings = ResizeSettings;\nvar ContextActionsSettings = (function (_super) {\n    __extends(ContextActionsSettings, _super);\n    function ContextActionsSettings() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ContextActionsSettings.prototype._actionUndoEngineWrappingFunction = function (contextActions, undoEngine) {\n        return _utils_2.createActionWrappingFunction('WrapWithUndoEngine', function (model, handler) {\n            undoEngine().start();\n            handler(model);\n            undoEngine().end();\n        })(contextActions);\n    };\n    ContextActionsSettings.prototype._collectActions = function (editableObj, undoEngine) {\n        var editable = editableObj(), contextActions = [];\n        this.actionProviders.forEach(function (actionProvider) {\n            contextActions.push.apply(contextActions, actionProvider.getActions(editable));\n        });\n        this._actionUndoEngineWrappingFunction(contextActions, undoEngine);\n        return contextActions;\n    };\n    Object.defineProperty(ContextActionsSettings.prototype, \"actionProviders\", {\n        get: function () {\n            return this._actionProviders;\n        },\n        set: function (val) {\n            this._disposables.push.apply(this._disposables, val);\n            this._actionProviders = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContextActionsSettings.prototype, \"actions\", {\n        get: function () {\n            return this._actions;\n        },\n        set: function (val) {\n            this._disposables.push(val);\n            this._actions = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ContextActionsSettings.prototype, \"groupActions\", {\n        get: function () {\n            return this._groupActions;\n        },\n        set: function (val) {\n            this._disposables.push(val);\n            this._groupActions = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ContextActionsSettings.prototype.createDefaultActions = function (editableObj, undoEngine) {\n        var _this = this;\n        this.actions = ko.computed(function () {\n            return _this._collectActions(editableObj, undoEngine);\n        });\n    };\n    ContextActionsSettings.prototype.createDefaultGroupAction = function (editableObj, undoEngine) {\n        var _this = this;\n        this.groupActions = ko.computed(function () {\n            return _utils_2.collectGroupsFromFlatList(_this._collectActions(editableObj, undoEngine), function (x) { return x.group && x.group(); });\n        });\n    };\n    ContextActionsSettings.prototype.generate = function () {\n        var result = {};\n        if (this.actionProviders)\n            result['contextActionProviders'] = this.actionProviders;\n        if (this.actions)\n            result['contextActions'] = this.actions;\n        if (this.groupActions)\n            result['contextGroupActions'] = this.groupActions;\n        return result;\n    };\n    return ContextActionsSettings;\n}(utils_1.Disposable));\nexports.ContextActionsSettings = ContextActionsSettings;\nvar DragDropSettings = (function (_super) {\n    __extends(DragDropSettings, _super);\n    function DragDropSettings() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._model = {};\n        return _this;\n    }\n    Object.defineProperty(DragDropSettings.prototype, \"dragHelperContent\", {\n        get: function () {\n            return this._dragHelperContent;\n        },\n        set: function (val) {\n            this._disposables.push(val);\n            this._dragHelperContent = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DragDropSettings.prototype, \"dragDropStarted\", {\n        get: function () {\n            return this._dragDropStarted;\n        },\n        set: function (val) {\n            this._disposables.push(val);\n            this._dragDropStarted = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DragDropSettings.prototype.addDragDropHandler = function (propertyName, handler) {\n        this._disposables.push(handler);\n        this._model[propertyName] = handler;\n    };\n    DragDropSettings.prototype.generate = function () {\n        var result = this._model;\n        if (this.dragHelperContent)\n            result['dragHelperContent'] = this.dragHelperContent;\n        if (this.dragDropStarted)\n            result['dragDropStarted'] = this.dragDropStarted;\n        return result;\n    };\n    return DragDropSettings;\n}(utils_1.Disposable));\nexports.DragDropSettings = DragDropSettings;\nvar ControlsHelperSettings = (function (_super) {\n    __extends(ControlsHelperSettings, _super);\n    function ControlsHelperSettings(_selection, _context) {\n        var _this = _super.call(this) || this;\n        _this._selection = _selection;\n        _this._context = _context;\n        _this._model = {};\n        return _this;\n    }\n    ControlsHelperSettings.prototype.generate = function () {\n        var result = this._model;\n        if (this.controlsHelper)\n            result['controlsHelper'] = this.controlsHelper;\n        return result;\n    };\n    ControlsHelperSettings.prototype.addControlsHelper = function (helper) {\n        var _this = this;\n        this.controlsHelper = helper || new _controlsHelper_1.DesignControlsHelper(this._context.model, [{\n                added: function (control) { },\n                deleted: function (control) { control.surface === _this._selection.focused() && _this._selection.focused(control.surface.findNextSelection()); }\n            }]);\n        this._disposables.push(this.controlsHelper);\n        return this;\n    };\n    ControlsHelperSettings.prototype.addControlsStore = function (store) {\n        store = store || new _stores_1.ControlsStore(this.controlsHelper.allControls);\n        this._disposables.push(store);\n        this._model['controlsStore'] = store;\n        return this;\n    };\n    return ControlsHelperSettings;\n}(utils_1.Disposable));\nexports.ControlsHelperSettings = ControlsHelperSettings;\nvar MenuSettings = (function (_super) {\n    __extends(MenuSettings, _super);\n    function MenuSettings() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.stopPropagation = false;\n        return _this;\n    }\n    MenuSettings.prototype.generate = function () {\n        var result = {};\n        if (this.appMenuVisible)\n            result['appMenuVisible'] = this.appMenuVisible;\n        if (this.toggleAppMenu)\n            result['toggleAppMenu'] = this.toggleAppMenu;\n        if (this.getMenuPopupContainer)\n            result['getMenuPopupContainer'] = this.getMenuPopupContainer;\n        if (this.getMenuPopupTarget)\n            result['getMenuPopupTarget'] = this.getMenuPopupTarget;\n        result['stopPropagation'] = this.stopPropagation;\n        return result;\n    };\n    Object.defineProperty(MenuSettings.prototype, \"appMenuVisible\", {\n        get: function () {\n            return this._appMenuVisible;\n        },\n        set: function (val) {\n            this._disposables.push(val);\n            this._appMenuVisible = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return MenuSettings;\n}(utils_1.Disposable));\nexports.MenuSettings = MenuSettings;\nvar SelectionSettings = (function (_super) {\n    __extends(SelectionSettings, _super);\n    function SelectionSettings() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._dragDropSettings = new DragDropSettings();\n        _this._resizeSettings = new ResizeSettings();\n        return _this;\n    }\n    SelectionSettings.prototype.dispose = function () {\n        this._editableObject(null);\n        _super.prototype.dispose.call(this);\n        this.removeProperties();\n    };\n    Object.defineProperty(SelectionSettings.prototype, \"selection\", {\n        get: function () {\n            return this._selection;\n        },\n        set: function (val) {\n            this._disposables.push(val);\n            this._selection = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SelectionSettings.prototype, \"snapHelper\", {\n        get: function () {\n            return this._snapHelper;\n        },\n        set: function (val) {\n            this._disposables.push(val);\n            this._snapHelper = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SelectionSettings.prototype, \"editableObject\", {\n        get: function () {\n            return this._editableObject;\n        },\n        set: function (val) {\n            this._disposables.push(val);\n            this._editableObject = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SelectionSettings.prototype.addDragDrop = function (func) {\n        func(this._dragDropSettings);\n        this._disposables.push(this._dragDropSettings);\n    };\n    SelectionSettings.prototype.addResize = function (func) {\n        func(this._resizeSettings);\n        this._disposables.push(this._resizeSettings);\n    };\n    SelectionSettings.prototype.generate = function () {\n        var result = {};\n        if (this.selection)\n            result['selection'] = this.selection;\n        if (this.snapHelper)\n            result['snapHelper'] = this.snapHelper;\n        if (this.editableObject)\n            result['editableObject'] = this.editableObject;\n        return _utils_1.extend(result, this._dragDropSettings.generate(), this._resizeSettings.generate());\n    };\n    return SelectionSettings;\n}(utils_1.Disposable));\nexports.SelectionSettings = SelectionSettings;\nvar CommonDesignerGenerator = (function (_super) {\n    __extends(CommonDesignerGenerator, _super);\n    function CommonDesignerGenerator(_context, _rtl) {\n        var _this = _super.call(this) || this;\n        _this._context = _context;\n        _this._rtl = _rtl;\n        _this._model = {};\n        _this._selectionSettings = new SelectionSettings();\n        _this._model.rtl = _this._rtl;\n        _this._model.dispose = function () {\n            _this.dispose();\n        };\n        return _this;\n    }\n    CommonDesignerGenerator.prototype._createPopularProperties = function (info, popularProperties) {\n        var properties = [];\n        popularProperties.forEach(function (name) {\n            var property = info.filter(function (propertyInfo) { return propertyInfo.propertyName === name; })[0];\n            if (property) {\n                properties.push(property);\n            }\n        });\n        return properties;\n    };\n    CommonDesignerGenerator.prototype._resetModel = function () {\n        var _this = this;\n        Object.keys(this._model).forEach(function (propertyName) {\n            if (propertyName !== 'dispose')\n                delete _this._model[propertyName];\n        });\n    };\n    Object.defineProperty(CommonDesignerGenerator.prototype, \"rtl\", {\n        get: function () {\n            return this._rtl;\n        },\n        set: function (newVal) {\n            this._rtl = newVal;\n            this._model.rtl = newVal;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CommonDesignerGenerator.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this._resetModel();\n    };\n    CommonDesignerGenerator.prototype.initializeContext = function (context) {\n        this._context = context;\n        return this;\n    };\n    CommonDesignerGenerator.prototype.getPropertyByName = function (propertyName) {\n        return this._model[propertyName];\n    };\n    CommonDesignerGenerator.prototype.addElement = function (propertyName, elementFunc) {\n        this._model[propertyName] = elementFunc();\n        this._disposables.push(this._model[propertyName]);\n        return this;\n    };\n    CommonDesignerGenerator.prototype.mapOnContext = function () {\n        this._model.model = this._context.model;\n        this._model.surface = this._context.surface;\n        this._model.undoEngine = this._context.undoEngine;\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addSelection = function (func) {\n        func(this._selectionSettings);\n        this._disposables.push(this._selectionSettings);\n        _utils_1.extend(this._model, this._selectionSettings.generate());\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addPropertyGrid = function (propertyGrid, propertyName) {\n        if (propertyName === void 0) { propertyName = 'propertyGrid'; }\n        this._model[propertyName] = propertyGrid && propertyGrid();\n        this._disposables.push(this._model[propertyName]);\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addDisposableContainer = function () {\n        var _this = this;\n        this._model.disposableContainer = new utils_1.Disposable();\n        this._model.addDisposables = function () {\n            var _a;\n            var elem = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                elem[_i] = arguments[_i];\n            }\n            return (_a = _this._model.disposableContainer._disposables).push.apply(_a, elem);\n        };\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addControlProperties = function (editors, groups, groupLocalizationIDs, accessibilityProvider) {\n        var _this = this;\n        return this.addPropertyGrid(function () { return _this.createControlProperties(editors, groups, accessibilityProvider); });\n    };\n    CommonDesignerGenerator.prototype.createControlProperties = function (editors, groups, accessibilityProvider) {\n        var properties = new _controlProperties_1.ControlProperties(this._model.editableObject, { groups: groups, editors: editors }, null);\n        if (accessibilityProvider)\n            properties.registerAccessibilityProvider(accessibilityProvider);\n        return properties;\n    };\n    CommonDesignerGenerator.prototype.addPopularProperties = function (controlsFactory, accessibilityProvider) {\n        var _this = this;\n        return this.addPropertyGrid(function () {\n            var properties = new propertygrid_1.ObjectProperties(ko.pureComputed(function () {\n                var popularPropertiesObject = { getInfo: function () { return []; } }, editable = _this._model.editableObject();\n                if (editable) {\n                    var controlInfo = controlsFactory.controlsMap[editable.controlType], propertiesInfo = _this._createPopularProperties(controlInfo && controlInfo.info || [], controlInfo && controlInfo.popularProperties || []);\n                    (propertiesInfo).forEach(function (item) {\n                        if (item.propertyName in editable)\n                            popularPropertiesObject[item.propertyName] = editable[item.propertyName];\n                    });\n                    popularPropertiesObject.getInfo = function () {\n                        return propertiesInfo;\n                    };\n                    popularPropertiesObject['root'] = editable.root;\n                    popularPropertiesObject['actions'] = editable.actions;\n                    popularPropertiesObject['actionProviders'] = editable.actionProviders;\n                    popularPropertiesObject['getPath'] = function (propertyName) { return editable.getPath && editable.getPath(propertyName) || ''; };\n                    popularPropertiesObject['getModel'] = function () { return editable; };\n                    popularPropertiesObject['isPropertyModified'] = function (name) {\n                        return editable.isPropertyModified ? editable.isPropertyModified(name) : false;\n                    };\n                    popularPropertiesObject['getActionClassName'] = function (name) {\n                        return editable['getActionClassName'] ? editable['getActionClassName'](name) : '';\n                    };\n                    popularPropertiesObject['getMenuBoxTemplate'] = function (name) {\n                        return editable['getMenuBoxTemplate'] ? editable['getMenuBoxTemplate'](name) : '';\n                    };\n                    popularPropertiesObject['isPropertyVisible'] = function (propertyName) {\n                        return editable['isPropertyVisible'] ? editable['isPropertyVisible'](propertyName, true) : true;\n                    };\n                    popularPropertiesObject['isPropertyHighlighted'] = function (propertyName) {\n                        return editable['isPropertyHighlighted'] ? editable['isPropertyHighlighted'](propertyName) : false;\n                    };\n                    popularPropertiesObject['isPropertyDisabled'] = function (name) {\n                        return editable.isPropertyDisabled ? editable.isPropertyDisabled(name) : false;\n                    };\n                    popularPropertiesObject['isSame'] = function (x) { return x === editable; };\n                    ['name', 'displayName'].forEach(function (propertyName) {\n                        if (propertyName in editable) {\n                            popularPropertiesObject[propertyName] = editable[propertyName];\n                        }\n                    });\n                }\n                return popularPropertiesObject;\n            }), undefined, undefined, undefined);\n            if (accessibilityProvider)\n                properties.registerAccessibilityProvider(accessibilityProvider);\n            return properties;\n        }, 'popularProperties');\n    };\n    CommonDesignerGenerator.prototype.addToolboxItems = function (items) {\n        this._model.toolboxItems = items && items();\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addGroupedToolboxItems = function () {\n        this._model.groupedToolboxItems = _utils_2.collectGroupsFromFlatList(this._model.toolboxItems, function (item) { return item.info.group; });\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addTabPanel = function (panel, addTabInfo) {\n        if (addTabInfo === void 0) { addTabInfo = function () { return []; }; }\n        var panelModel = panel && panel() || new tabPanel_1.TabPanel({ tabs: addTabInfo(), rtl: this._rtl, width: 375 });\n        this._model.tabPanel = panelModel;\n        this._disposables.push(panelModel);\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addIsLoading = function (isLoadingFunc) {\n        if (isLoadingFunc === void 0) { isLoadingFunc = function () { return ko.observable(true); }; }\n        this._model.isLoading = isLoadingFunc();\n        this._disposables.push(this._model.isLoading);\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addControlsHelper = function (func) {\n        var settings = new ControlsHelperSettings(this._selectionSettings.selection, this._context);\n        func(settings);\n        this._disposables.push(settings);\n        _utils_1.extend(this._model, settings.generate());\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addMenu = function (func) {\n        var settings = new MenuSettings();\n        func(settings);\n        this._disposables.push(settings);\n        _utils_1.extend(this._model, settings.generate());\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addContextActions = function (func) {\n        var settings = new ContextActionsSettings();\n        func(settings);\n        this._disposables.push(settings);\n        _utils_1.extend(this._model, settings.generate());\n        return this;\n    };\n    CommonDesignerGenerator.prototype.addParts = function (func, useDefaults) {\n        if (func === void 0) { func = function (parts) { return parts; }; }\n        if (useDefaults === void 0) { useDefaults = true; }\n        var parts = [];\n        if (useDefaults)\n            parts = _utils_2.generateDefaultParts(this._model);\n        this._model.parts = func(parts);\n        return this;\n    };\n    CommonDesignerGenerator.prototype.getModel = function () {\n        return this._model;\n    };\n    CommonDesignerGenerator.prototype.addActionList = function (actionListsFunc) {\n        var actionLists = actionListsFunc && actionListsFunc() || new _actionList_1.ActionLists(this._context.surface, this._selectionSettings.selection, this._context.undoEngine, function () { });\n        this._disposables.push(actionLists);\n        this._model.actionLists = actionLists;\n        return this;\n    };\n    return CommonDesignerGenerator;\n}(utils_1.Disposable));\nexports.CommonDesignerGenerator = CommonDesignerGenerator;\n"]},"metadata":{},"sourceType":"script"}