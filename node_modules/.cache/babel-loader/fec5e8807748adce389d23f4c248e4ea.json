{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_field-list-item-provider.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FieldListItemProvider = exports.DataFieldViewModel = void 0;\n\nvar ko = require(\"knockout\");\n\nvar _data_source_browser_1 = require(\"../../../common/_data-source-browser\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar model_1 = require(\"../../../model\");\n\nvar data_item_1 = require(\"../../../model/data-item/data-item\");\n\nvar olap_data_source_1 = require(\"../../../model/data-sources/olap-data-source\");\n\nvar sql_data_source_1 = require(\"../../../model/data-sources/sql-data-source\");\n\nvar DataFieldViewModel = function () {\n  function DataFieldViewModel(name, displayName, hasItems, specifics, field, isList, isCorruptedCalcField) {\n    this.name = name;\n    this.displayName = displayName;\n    this.hasItems = hasItems;\n    this.specifics = specifics;\n    this.field = field;\n    this.isList = isList;\n    this.isCorruptedCalcField = isCorruptedCalcField;\n    this.innerActions = ko.observableArray();\n  }\n\n  return DataFieldViewModel;\n}();\n\nexports.DataFieldViewModel = DataFieldViewModel;\n\nvar FieldListItemProvider = function () {\n  function FieldListItemProvider(_dataSourceBrowserViewModel, _getDataFieldArrayCallback, isFieldValid) {\n    this._dataSourceBrowserViewModel = _dataSourceBrowserViewModel;\n    this._getDataFieldArrayCallback = _getDataFieldArrayCallback;\n    this.isFieldValid = isFieldValid;\n    this.loading = ko.observable(false);\n    this._changeTrigger = ko.observable(false);\n  }\n\n  FieldListItemProvider.prototype.triggerItemsChanged = function () {\n    this._changeTrigger.valueHasMutated();\n  };\n\n  FieldListItemProvider.prototype.getItems = function (pathRequest) {\n    var _this = this;\n\n    var deferred = _jquery_helpers_1.createJQueryDeferred();\n\n    var dataSource = this._dataSourceBrowserViewModel.selectedDataSource();\n\n    this._changeTrigger();\n\n    if (!!dataSource) {\n      var _a = _data_source_browser_1.findDataMember(dataSource, pathRequest.path),\n          dataMember = _a.dataMember,\n          fieldPath = _a.fieldPath;\n\n      this.loading(true);\n\n      this._getDataFieldArrayCallback(dataSource.componentName(), dataMember, fieldPath).done(function (dataFields) {\n        deferred.resolve(dataFields.filter(function (field) {\n          return !!field.dataMember();\n        }).filter(function (field) {\n          return !_this.isFieldValid || _this.isFieldValid(field);\n        }).map(function (dataNode) {\n          var name = dataSource instanceof olap_data_source_1.OlapDataSource ? dataNode.dataMember() : dataNode.name();\n          var dataFieldViewModel = new DataFieldViewModel(name, ko.unwrap(dataNode.displayName), !dataNode.isDataFieldNode(), data_item_1.DataItem.typesMap[dataNode.fieldType()] || 'string', dataNode, !_data_source_browser_1.isNonCollectionDataField(dataNode), dataNode.isCorruptedCalcField && dataNode.isCorruptedCalcField());\n\n          if (dataSource instanceof sql_data_source_1.SqlDataSource) {\n            var isSqlQueryNode = pathRequest.path.length === 0;\n            var query = dataSource.queries().filter(function (query) {\n              return query.name() === dataNode.dataMember();\n            })[0];\n\n            if (_this._dataSourceBrowserViewModel.canEditDataSource && query != null && isSqlQueryNode) {\n              if (_this._dataSourceBrowserViewModel.canEditCustomSqlQueries || query.type() !== 'CustomSqlQuery') {\n                dataFieldViewModel.innerActions.push({\n                  click: function () {\n                    _this._dataSourceBrowserViewModel.editQuery(dataNode.dataMember());\n                  },\n                  icon: 'dx-dashboard-ds-edit',\n                  style: 'dx-dashboard-datasource-field-icon-edit'\n                });\n              }\n\n              dataFieldViewModel.innerActions.push({\n                click: function () {\n                  _this._dataSourceBrowserViewModel.removeQuery(dataNode.dataMember());\n                },\n                icon: 'dx-dashboard-remove-small',\n                style: 'dx-dashboard-datasource-field-icon-remove'\n              });\n            }\n          }\n\n          if (dataSource instanceof model_1.FederationDataSource) {\n            var isQueryNode = pathRequest.path.length === 0;\n            var query = dataSource.queries().find(function (query) {\n              return query.alias() === dataNode.dataMember();\n            });\n\n            if (_this._dataSourceBrowserViewModel.canEditDataSource && query && isQueryNode) {\n              dataFieldViewModel.innerActions.push({\n                click: function () {\n                  _this._dataSourceBrowserViewModel.editFederationQuery(dataNode.dataMember());\n                },\n                icon: 'dx-dashboard-ds-edit',\n                style: 'dx-dashboard-datasource-field-icon-edit'\n              });\n              dataFieldViewModel.innerActions.push({\n                click: function () {\n                  _this._dataSourceBrowserViewModel.removeFederationQuery(dataNode.dataMember());\n                },\n                icon: 'dx-dashboard-remove-small',\n                style: 'dx-dashboard-datasource-field-icon-remove'\n              });\n            }\n          }\n\n          if (dataNode.nodeType() === 'CalculatedDataField') {\n            dataFieldViewModel.style = 'dx-dashboard-calculated-field';\n            var calcField = dataSource.calculatedFields().filter(function (calculatedField) {\n              return calculatedField.name() === dataNode.dataMember();\n            })[0];\n\n            if (calcField) {\n              dataFieldViewModel.innerActions.push({\n                click: function () {\n                  _this._dataSourceBrowserViewModel.editCalcField(calcField);\n                },\n                icon: 'dx-dashboard-ds-edit',\n                style: 'dx-dashboard-datasource-field-icon-edit'\n              });\n              dataFieldViewModel.innerActions.push({\n                click: function () {\n                  _this._dataSourceBrowserViewModel.removeCalcField(calcField);\n                },\n                icon: 'dx-dashboard-remove-small',\n                style: 'dx-dashboard-datasource-field-icon-remove'\n              });\n            }\n          }\n\n          _this.customizeDataFieldViewModel && _this.customizeDataFieldViewModel(dataFieldViewModel);\n          return dataFieldViewModel;\n        }));\n      });\n    } else {\n      deferred.resolve([]);\n    }\n\n    deferred.always(function () {\n      _this.loading(false);\n    });\n    return deferred.promise();\n  };\n\n  return FieldListItemProvider;\n}();\n\nexports.FieldListItemProvider = FieldListItemProvider;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/data-source-browser/item-providers/_field-list-item-provider.js"],"names":["Object","defineProperty","exports","value","FieldListItemProvider","DataFieldViewModel","ko","require","_data_source_browser_1","_jquery_helpers_1","model_1","data_item_1","olap_data_source_1","sql_data_source_1","name","displayName","hasItems","specifics","field","isList","isCorruptedCalcField","innerActions","observableArray","_dataSourceBrowserViewModel","_getDataFieldArrayCallback","isFieldValid","loading","observable","_changeTrigger","prototype","triggerItemsChanged","valueHasMutated","getItems","pathRequest","_this","deferred","createJQueryDeferred","dataSource","selectedDataSource","_a","findDataMember","path","dataMember","fieldPath","componentName","done","dataFields","resolve","filter","map","dataNode","OlapDataSource","dataFieldViewModel","unwrap","isDataFieldNode","DataItem","typesMap","fieldType","isNonCollectionDataField","SqlDataSource","isSqlQueryNode","length","query","queries","canEditDataSource","canEditCustomSqlQueries","type","push","click","editQuery","icon","style","removeQuery","FederationDataSource","isQueryNode","find","alias","editFederationQuery","removeFederationQuery","nodeType","calcField","calculatedFields","calculatedField","editCalcField","removeCalcField","customizeDataFieldViewModel","always","promise"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_field-list-item-provider.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FieldListItemProvider = exports.DataFieldViewModel = void 0;\nvar ko = require(\"knockout\");\nvar _data_source_browser_1 = require(\"../../../common/_data-source-browser\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar model_1 = require(\"../../../model\");\nvar data_item_1 = require(\"../../../model/data-item/data-item\");\nvar olap_data_source_1 = require(\"../../../model/data-sources/olap-data-source\");\nvar sql_data_source_1 = require(\"../../../model/data-sources/sql-data-source\");\nvar DataFieldViewModel = (function () {\n    function DataFieldViewModel(name, displayName, hasItems, specifics, field, isList, isCorruptedCalcField) {\n        this.name = name;\n        this.displayName = displayName;\n        this.hasItems = hasItems;\n        this.specifics = specifics;\n        this.field = field;\n        this.isList = isList;\n        this.isCorruptedCalcField = isCorruptedCalcField;\n        this.innerActions = ko.observableArray();\n    }\n    return DataFieldViewModel;\n}());\nexports.DataFieldViewModel = DataFieldViewModel;\nvar FieldListItemProvider = (function () {\n    function FieldListItemProvider(_dataSourceBrowserViewModel, _getDataFieldArrayCallback, isFieldValid) {\n        this._dataSourceBrowserViewModel = _dataSourceBrowserViewModel;\n        this._getDataFieldArrayCallback = _getDataFieldArrayCallback;\n        this.isFieldValid = isFieldValid;\n        this.loading = ko.observable(false);\n        this._changeTrigger = ko.observable(false);\n    }\n    FieldListItemProvider.prototype.triggerItemsChanged = function () {\n        this._changeTrigger.valueHasMutated();\n    };\n    FieldListItemProvider.prototype.getItems = function (pathRequest) {\n        var _this = this;\n        var deferred = _jquery_helpers_1.createJQueryDeferred();\n        var dataSource = this._dataSourceBrowserViewModel.selectedDataSource();\n        this._changeTrigger();\n        if (!!dataSource) {\n            var _a = _data_source_browser_1.findDataMember(dataSource, pathRequest.path), dataMember = _a.dataMember, fieldPath = _a.fieldPath;\n            this.loading(true);\n            this._getDataFieldArrayCallback(dataSource.componentName(), dataMember, fieldPath).done(function (dataFields) {\n                deferred.resolve(dataFields\n                    .filter(function (field) { return !!field.dataMember(); })\n                    .filter(function (field) { return !_this.isFieldValid || _this.isFieldValid(field); })\n                    .map(function (dataNode) {\n                    var name = dataSource instanceof olap_data_source_1.OlapDataSource ? dataNode.dataMember() : dataNode.name();\n                    var dataFieldViewModel = new DataFieldViewModel(name, ko.unwrap(dataNode.displayName), !dataNode.isDataFieldNode(), data_item_1.DataItem.typesMap[dataNode.fieldType()] || 'string', dataNode, !_data_source_browser_1.isNonCollectionDataField(dataNode), dataNode.isCorruptedCalcField && dataNode.isCorruptedCalcField());\n                    if (dataSource instanceof sql_data_source_1.SqlDataSource) {\n                        var isSqlQueryNode = pathRequest.path.length === 0;\n                        var query = dataSource.queries().filter(function (query) { return query.name() === dataNode.dataMember(); })[0];\n                        if (_this._dataSourceBrowserViewModel.canEditDataSource && query != null && isSqlQueryNode) {\n                            if (_this._dataSourceBrowserViewModel.canEditCustomSqlQueries || query.type() !== 'CustomSqlQuery') {\n                                dataFieldViewModel.innerActions.push({\n                                    click: function () {\n                                        _this._dataSourceBrowserViewModel.editQuery(dataNode.dataMember());\n                                    },\n                                    icon: 'dx-dashboard-ds-edit',\n                                    style: 'dx-dashboard-datasource-field-icon-edit'\n                                });\n                            }\n                            dataFieldViewModel.innerActions.push({\n                                click: function () {\n                                    _this._dataSourceBrowserViewModel.removeQuery(dataNode.dataMember());\n                                },\n                                icon: 'dx-dashboard-remove-small',\n                                style: 'dx-dashboard-datasource-field-icon-remove'\n                            });\n                        }\n                    }\n                    if (dataSource instanceof model_1.FederationDataSource) {\n                        var isQueryNode = pathRequest.path.length === 0;\n                        var query = dataSource.queries().find(function (query) { return query.alias() === dataNode.dataMember(); });\n                        if (_this._dataSourceBrowserViewModel.canEditDataSource && query && isQueryNode) {\n                            dataFieldViewModel.innerActions.push({\n                                click: function () {\n                                    _this._dataSourceBrowserViewModel.editFederationQuery(dataNode.dataMember());\n                                },\n                                icon: 'dx-dashboard-ds-edit',\n                                style: 'dx-dashboard-datasource-field-icon-edit'\n                            });\n                            dataFieldViewModel.innerActions.push({\n                                click: function () {\n                                    _this._dataSourceBrowserViewModel.removeFederationQuery(dataNode.dataMember());\n                                },\n                                icon: 'dx-dashboard-remove-small',\n                                style: 'dx-dashboard-datasource-field-icon-remove'\n                            });\n                        }\n                    }\n                    if (dataNode.nodeType() === 'CalculatedDataField') {\n                        dataFieldViewModel.style = 'dx-dashboard-calculated-field';\n                        var calcField = dataSource.calculatedFields().filter(function (calculatedField) { return calculatedField.name() === dataNode.dataMember(); })[0];\n                        if (calcField) {\n                            dataFieldViewModel.innerActions.push({\n                                click: function () {\n                                    _this._dataSourceBrowserViewModel.editCalcField(calcField);\n                                },\n                                icon: 'dx-dashboard-ds-edit',\n                                style: 'dx-dashboard-datasource-field-icon-edit'\n                            });\n                            dataFieldViewModel.innerActions.push({\n                                click: function () {\n                                    _this._dataSourceBrowserViewModel.removeCalcField(calcField);\n                                },\n                                icon: 'dx-dashboard-remove-small',\n                                style: 'dx-dashboard-datasource-field-icon-remove'\n                            });\n                        }\n                    }\n                    _this.customizeDataFieldViewModel && _this.customizeDataFieldViewModel(dataFieldViewModel);\n                    return dataFieldViewModel;\n                }));\n            });\n        }\n        else {\n            deferred.resolve([]);\n        }\n        deferred.always(function () {\n            _this.loading(false);\n        });\n        return deferred.promise();\n    };\n    return FieldListItemProvider;\n}());\nexports.FieldListItemProvider = FieldListItemProvider;\n"]},"metadata":{},"sourceType":"script"}