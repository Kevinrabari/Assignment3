{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_item-viewer-adapter-factory.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ViewerItemAdaptersManager = void 0;\n\nvar disposable_object_1 = require(\"../../../model/disposable-object\");\n\nvar dashboard_item_1 = require(\"../../../model/items/dashboard-item\");\n\nvar data_dashboard_item_1 = require(\"../../../model/items/data-dashboard-item\");\n\nvar date_filter_item_1 = require(\"../../../model/items/filter-items/date-filter-item\");\n\nvar grid_item_1 = require(\"../../../model/items/grid/grid-item\");\n\nvar map_item_1 = require(\"../../../model/items/map/map-item\");\n\nvar pivot_item_1 = require(\"../../../model/items/pivot/pivot-item\");\n\nvar range_filter_item_1 = require(\"../../../model/items/range-filter/range-filter-item\");\n\nvar _data_item_viewer_adapter_1 = require(\"./_data-item-viewer-adapter\");\n\nvar _grid_item_viewer_adapter_1 = require(\"./_grid-item-viewer-adapter\");\n\nvar _item_viewer_adapter_base_1 = require(\"./_item-viewer-adapter-base\");\n\nvar _map_item_viewer_adapter_1 = require(\"./_map-item-viewer-adapter\");\n\nvar _pivot_item_viewer_adapter_1 = require(\"./_pivot-item-viewer-adapter\");\n\nvar _predefined_periods_item_viewer_adapter_1 = require(\"./_predefined-periods-item-viewer-adapter\");\n\nvar ViewerItemAdapterRecordElement = function () {\n  function ViewerItemAdapterRecordElement(adapter, visualMode) {\n    if (adapter) this.setAdapter(adapter, visualMode);\n  }\n\n  ViewerItemAdapterRecordElement.prototype.setAdapter = function (adapter, visualMode) {\n    if (this.storage && (this.storage instanceof _item_viewer_adapter_base_1.ItemViewerAdapterBase || visualMode === 'full')) throw new Error('Try to replace a primary dashboard item with the new one');\n\n    if (!visualMode || visualMode === 'full') {\n      this.storage = adapter;\n    } else {\n      if (!this.storage) this.storage = {};\n\n      if (visualMode === 'caption') {\n        this.storage.captionItem = adapter;\n      } else {\n        this.storage.contentItem = adapter;\n      }\n    }\n  };\n\n  ViewerItemAdapterRecordElement.prototype.suspend = function () {\n    this.processMapRecordElement(function (adapter) {\n      return adapter.suspend();\n    });\n  };\n\n  ViewerItemAdapterRecordElement.prototype.resume = function () {\n    this.processMapRecordElement(function (adapter) {\n      return adapter.resume();\n    });\n  };\n\n  ViewerItemAdapterRecordElement.prototype.dispose = function () {\n    this.processMapRecordElement(function (adapter) {\n      return adapter.dispose();\n    });\n    this.storage = null;\n  };\n\n  ViewerItemAdapterRecordElement.prototype.processMapRecordElement = function (handler) {\n    if (!this.storage) return;\n\n    if (this.storage instanceof _item_viewer_adapter_base_1.ItemViewerAdapterBase) {\n      handler(this.storage);\n    } else {\n      this.storage.captionItem && handler(this.storage.captionItem);\n      this.storage.contentItem && handler(this.storage.contentItem);\n    }\n  };\n\n  return ViewerItemAdapterRecordElement;\n}();\n\nvar ViewerItemAdaptersManager = function (_super) {\n  __extends(ViewerItemAdaptersManager, _super);\n\n  function ViewerItemAdaptersManager() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.viewerItemAdaptersMap = {};\n    _this.modelSubscriberDict = [{\n      type: range_filter_item_1.RangeFilterItem,\n      ctor: _predefined_periods_item_viewer_adapter_1.PredefinedPeriodsItemViewerAdapter\n    }, {\n      type: date_filter_item_1.DateFilterItem,\n      ctor: _predefined_periods_item_viewer_adapter_1.PredefinedPeriodsItemViewerAdapter\n    }, {\n      type: grid_item_1.GridItem,\n      ctor: _grid_item_viewer_adapter_1.GridItemViewerAdapter\n    }, {\n      type: pivot_item_1.PivotItem,\n      ctor: _pivot_item_viewer_adapter_1.PivotItemViewerAdapter\n    }, {\n      type: map_item_1.MapItem,\n      ctor: _map_item_viewer_adapter_1.MapItemViewerAdapter\n    }, {\n      type: data_dashboard_item_1.DataDashboardItem,\n      ctor: _data_item_viewer_adapter_1.DataItemViewerAdapter\n    }, {\n      type: dashboard_item_1.DashboardItem,\n      ctor: _item_viewer_adapter_base_1.ItemViewerAdapterBase\n    }];\n\n    _this.createAdapterCore = function (dashboardItem, element, context, localContext, beforeRender) {\n      if (beforeRender === void 0) {\n        beforeRender = function (item) {};\n      }\n\n      var modelSubscriberCtor = null;\n\n      for (var i = 0; i < _this.modelSubscriberDict.length; i++) {\n        if (dashboardItem instanceof _this.modelSubscriberDict[i].type) {\n          modelSubscriberCtor = _this.modelSubscriberDict[i].ctor;\n          break;\n        }\n      }\n\n      if (!modelSubscriberCtor) {\n        modelSubscriberCtor = _this.modelSubscriberDict[_this.modelSubscriberDict.length - 1].ctor;\n      }\n\n      return new modelSubscriberCtor(dashboardItem, element, context, localContext, beforeRender, function () {\n        return _this.releaseAdapter(dashboardItem, localContext && localContext.itemCreatingType === 'secondary');\n      });\n    };\n\n    return _this;\n  }\n\n  ViewerItemAdaptersManager.prototype.releaseAdapter = function (dashboardItem, isSecondaryAdapter) {\n    if (!dashboardItem || !dashboardItem.componentName()) return;\n    var mapRecord = this.viewerItemAdaptersMap[dashboardItem.componentName()];\n\n    if (mapRecord && isSecondaryAdapter) {\n      if (mapRecord.secondary) {\n        mapRecord.secondary = null;\n        mapRecord.primary && mapRecord.primary.resume();\n      }\n    } else {\n      delete this.viewerItemAdaptersMap[dashboardItem.componentName()];\n    }\n  };\n\n  ViewerItemAdaptersManager.prototype.create = function (dashboardItem, element, context, localContext, beforeRender) {\n    if (beforeRender === void 0) {\n      beforeRender = function (item) {};\n    }\n\n    var itemComponentName = dashboardItem.componentName();\n    this.viewerItemAdaptersMap[itemComponentName] = this.viewerItemAdaptersMap[itemComponentName] || {};\n    var visualMode = localContext && localContext.visualMode && localContext.visualMode() || 'full';\n    var newAdapter = this.createAdapterCore(dashboardItem, element, context, localContext, beforeRender);\n    var mapRecord = this.viewerItemAdaptersMap[itemComponentName];\n\n    if (localContext && localContext.itemCreatingType === 'secondary') {\n      if (visualMode !== 'full') throw new Error('Try to create a secondary dashboard item with non-full visual mode');\n      mapRecord.primary && mapRecord.primary.suspend();\n      mapRecord.secondary = new ViewerItemAdapterRecordElement(newAdapter, visualMode);\n    } else {\n      if (!mapRecord.primary) mapRecord.primary = new ViewerItemAdapterRecordElement(newAdapter, visualMode);else mapRecord.primary.setAdapter(newAdapter, visualMode);\n    }\n\n    return newAdapter;\n  };\n\n  ViewerItemAdaptersManager.prototype.dispose = function () {\n    var _this = this;\n\n    Object.keys(this.viewerItemAdaptersMap).forEach(function (componentName) {\n      var mapRecord = _this.viewerItemAdaptersMap[componentName];\n\n      if (mapRecord) {\n        mapRecord.primary && mapRecord.primary.dispose();\n        mapRecord.secondary && mapRecord.secondary.dispose();\n      }\n\n      delete _this.viewerItemAdaptersMap[componentName];\n    });\n\n    _super.prototype.dispose.call(this);\n  };\n\n  return ViewerItemAdaptersManager;\n}(disposable_object_1.DisposableObject);\n\nexports.ViewerItemAdaptersManager = ViewerItemAdaptersManager;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/viewer/adapters/_item-viewer-adapter-factory.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","ViewerItemAdaptersManager","disposable_object_1","require","dashboard_item_1","data_dashboard_item_1","date_filter_item_1","grid_item_1","map_item_1","pivot_item_1","range_filter_item_1","_data_item_viewer_adapter_1","_grid_item_viewer_adapter_1","_item_viewer_adapter_base_1","_map_item_viewer_adapter_1","_pivot_item_viewer_adapter_1","_predefined_periods_item_viewer_adapter_1","ViewerItemAdapterRecordElement","adapter","visualMode","setAdapter","storage","ItemViewerAdapterBase","Error","captionItem","contentItem","suspend","processMapRecordElement","resume","dispose","handler","_super","_this","apply","arguments","viewerItemAdaptersMap","modelSubscriberDict","type","RangeFilterItem","ctor","PredefinedPeriodsItemViewerAdapter","DateFilterItem","GridItem","GridItemViewerAdapter","PivotItem","PivotItemViewerAdapter","MapItem","MapItemViewerAdapter","DataDashboardItem","DataItemViewerAdapter","DashboardItem","createAdapterCore","dashboardItem","element","context","localContext","beforeRender","item","modelSubscriberCtor","i","length","releaseAdapter","itemCreatingType","isSecondaryAdapter","componentName","mapRecord","secondary","primary","itemComponentName","newAdapter","keys","forEach","DisposableObject"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_item-viewer-adapter-factory.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ViewerItemAdaptersManager = void 0;\nvar disposable_object_1 = require(\"../../../model/disposable-object\");\nvar dashboard_item_1 = require(\"../../../model/items/dashboard-item\");\nvar data_dashboard_item_1 = require(\"../../../model/items/data-dashboard-item\");\nvar date_filter_item_1 = require(\"../../../model/items/filter-items/date-filter-item\");\nvar grid_item_1 = require(\"../../../model/items/grid/grid-item\");\nvar map_item_1 = require(\"../../../model/items/map/map-item\");\nvar pivot_item_1 = require(\"../../../model/items/pivot/pivot-item\");\nvar range_filter_item_1 = require(\"../../../model/items/range-filter/range-filter-item\");\nvar _data_item_viewer_adapter_1 = require(\"./_data-item-viewer-adapter\");\nvar _grid_item_viewer_adapter_1 = require(\"./_grid-item-viewer-adapter\");\nvar _item_viewer_adapter_base_1 = require(\"./_item-viewer-adapter-base\");\nvar _map_item_viewer_adapter_1 = require(\"./_map-item-viewer-adapter\");\nvar _pivot_item_viewer_adapter_1 = require(\"./_pivot-item-viewer-adapter\");\nvar _predefined_periods_item_viewer_adapter_1 = require(\"./_predefined-periods-item-viewer-adapter\");\nvar ViewerItemAdapterRecordElement = (function () {\n    function ViewerItemAdapterRecordElement(adapter, visualMode) {\n        if (adapter)\n            this.setAdapter(adapter, visualMode);\n    }\n    ViewerItemAdapterRecordElement.prototype.setAdapter = function (adapter, visualMode) {\n        if (this.storage && (this.storage instanceof _item_viewer_adapter_base_1.ItemViewerAdapterBase || visualMode === 'full'))\n            throw new Error('Try to replace a primary dashboard item with the new one');\n        if (!visualMode || visualMode === 'full') {\n            this.storage = adapter;\n        }\n        else {\n            if (!this.storage)\n                this.storage = {};\n            if (visualMode === 'caption') {\n                this.storage.captionItem = adapter;\n            }\n            else {\n                this.storage.contentItem = adapter;\n            }\n        }\n    };\n    ViewerItemAdapterRecordElement.prototype.suspend = function () {\n        this.processMapRecordElement(function (adapter) { return adapter.suspend(); });\n    };\n    ViewerItemAdapterRecordElement.prototype.resume = function () {\n        this.processMapRecordElement(function (adapter) { return adapter.resume(); });\n    };\n    ViewerItemAdapterRecordElement.prototype.dispose = function () {\n        this.processMapRecordElement(function (adapter) { return adapter.dispose(); });\n        this.storage = null;\n    };\n    ViewerItemAdapterRecordElement.prototype.processMapRecordElement = function (handler) {\n        if (!this.storage)\n            return;\n        if (this.storage instanceof _item_viewer_adapter_base_1.ItemViewerAdapterBase) {\n            handler(this.storage);\n        }\n        else {\n            this.storage.captionItem && handler(this.storage.captionItem);\n            this.storage.contentItem && handler(this.storage.contentItem);\n        }\n    };\n    return ViewerItemAdapterRecordElement;\n}());\nvar ViewerItemAdaptersManager = (function (_super) {\n    __extends(ViewerItemAdaptersManager, _super);\n    function ViewerItemAdaptersManager() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.viewerItemAdaptersMap = {};\n        _this.modelSubscriberDict = [\n            { type: range_filter_item_1.RangeFilterItem, ctor: _predefined_periods_item_viewer_adapter_1.PredefinedPeriodsItemViewerAdapter },\n            { type: date_filter_item_1.DateFilterItem, ctor: _predefined_periods_item_viewer_adapter_1.PredefinedPeriodsItemViewerAdapter },\n            { type: grid_item_1.GridItem, ctor: _grid_item_viewer_adapter_1.GridItemViewerAdapter },\n            { type: pivot_item_1.PivotItem, ctor: _pivot_item_viewer_adapter_1.PivotItemViewerAdapter },\n            { type: map_item_1.MapItem, ctor: _map_item_viewer_adapter_1.MapItemViewerAdapter },\n            { type: data_dashboard_item_1.DataDashboardItem, ctor: _data_item_viewer_adapter_1.DataItemViewerAdapter },\n            { type: dashboard_item_1.DashboardItem, ctor: _item_viewer_adapter_base_1.ItemViewerAdapterBase }\n        ];\n        _this.createAdapterCore = function (dashboardItem, element, context, localContext, beforeRender) {\n            if (beforeRender === void 0) { beforeRender = function (item) { }; }\n            var modelSubscriberCtor = null;\n            for (var i = 0; i < _this.modelSubscriberDict.length; i++) {\n                if (dashboardItem instanceof _this.modelSubscriberDict[i].type) {\n                    modelSubscriberCtor = _this.modelSubscriberDict[i].ctor;\n                    break;\n                }\n            }\n            if (!modelSubscriberCtor) {\n                modelSubscriberCtor = _this.modelSubscriberDict[_this.modelSubscriberDict.length - 1].ctor;\n            }\n            return (new modelSubscriberCtor(dashboardItem, element, context, localContext, beforeRender, function () { return _this.releaseAdapter(dashboardItem, localContext && localContext.itemCreatingType === 'secondary'); }));\n        };\n        return _this;\n    }\n    ViewerItemAdaptersManager.prototype.releaseAdapter = function (dashboardItem, isSecondaryAdapter) {\n        if (!dashboardItem || !dashboardItem.componentName())\n            return;\n        var mapRecord = this.viewerItemAdaptersMap[dashboardItem.componentName()];\n        if (mapRecord && isSecondaryAdapter) {\n            if (mapRecord.secondary) {\n                mapRecord.secondary = null;\n                mapRecord.primary && mapRecord.primary.resume();\n            }\n        }\n        else {\n            delete this.viewerItemAdaptersMap[dashboardItem.componentName()];\n        }\n    };\n    ViewerItemAdaptersManager.prototype.create = function (dashboardItem, element, context, localContext, beforeRender) {\n        if (beforeRender === void 0) { beforeRender = function (item) { }; }\n        var itemComponentName = dashboardItem.componentName();\n        this.viewerItemAdaptersMap[itemComponentName] = this.viewerItemAdaptersMap[itemComponentName] || {};\n        var visualMode = localContext && localContext.visualMode && localContext.visualMode() || 'full';\n        var newAdapter = this.createAdapterCore(dashboardItem, element, context, localContext, beforeRender);\n        var mapRecord = this.viewerItemAdaptersMap[itemComponentName];\n        if (localContext && localContext.itemCreatingType === 'secondary') {\n            if (visualMode !== 'full')\n                throw new Error('Try to create a secondary dashboard item with non-full visual mode');\n            mapRecord.primary && mapRecord.primary.suspend();\n            mapRecord.secondary = new ViewerItemAdapterRecordElement(newAdapter, visualMode);\n        }\n        else {\n            if (!mapRecord.primary)\n                mapRecord.primary = new ViewerItemAdapterRecordElement(newAdapter, visualMode);\n            else\n                mapRecord.primary.setAdapter(newAdapter, visualMode);\n        }\n        return newAdapter;\n    };\n    ViewerItemAdaptersManager.prototype.dispose = function () {\n        var _this = this;\n        Object.keys(this.viewerItemAdaptersMap).forEach(function (componentName) {\n            var mapRecord = _this.viewerItemAdaptersMap[componentName];\n            if (mapRecord) {\n                mapRecord.primary && mapRecord.primary.dispose();\n                mapRecord.secondary && mapRecord.secondary.dispose();\n            }\n            delete _this.viewerItemAdaptersMap[componentName];\n        });\n        _super.prototype.dispose.call(this);\n    };\n    return ViewerItemAdaptersManager;\n}(disposable_object_1.DisposableObject));\nexports.ViewerItemAdaptersManager = ViewerItemAdaptersManager;\n"]},"metadata":{},"sourceType":"script"}