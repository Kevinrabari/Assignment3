{"ast":null,"code":"/**\n* DevExpress Analytics (query-builder\\wizard\\internal\\_storedProceduresQueryControl.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StoredProceduresQueryControl = void 0;\n\nvar ko = require(\"knockout\");\n\nvar $ = require(\"jquery\");\n\nvar utils_1 = require(\"../../../serializer/utils\");\n\nvar storedProcQuery_1 = require(\"../../dataSource/sql/storedProcQuery\");\n\nvar dbStoredProcedure_1 = require(\"../../dataSource/dbStoredProcedure\");\n\nvar _arrayutils_1 = require(\"../../../core/utils/_arrayutils\");\n\nvar localization_utils_1 = require(\"../../../property-grid/localization/localization_utils\");\n\nvar dataSourceParameter_1 = require(\"../../dataSource/dataSourceParameter\");\n\nvar dbColumn_1 = require(\"../../dataSource/dbColumn\");\n\nvar dataSourceParameterMeta_1 = require(\"../../dataSource/dataSourceParameterMeta\");\n\nvar StoredProceduresQueryControl = function (_super) {\n  __extends(StoredProceduresQueryControl, _super);\n\n  function StoredProceduresQueryControl() {\n    var _this = _super.call(this) || this;\n\n    _this.template = 'dxrd-procedures-control';\n    _this.storedProcedures = ko.observableArray([]);\n    _this.selectedProcedure = ko.observableArray([]);\n\n    _this.caption = function () {\n      return localization_utils_1.getLocalization('Select a stored procedure:', 'DataAccessUIStringId.StoredProcControl_Caption');\n    };\n\n    _this.generateStoredProcedureDisplayName = function (procedure) {\n      return StoredProceduresQueryControl.generateStoredProcedureDisplayName(procedure);\n    };\n\n    _this.isNextDisabled = ko.pureComputed(function () {\n      return !_this._selectedProcedure || !_this._needToProcessParameters(_this._selectedProcedure);\n    });\n    _this.isFinishDisabled = ko.pureComputed(function () {\n      return !_this._selectedProcedure || _this._needToProcessParameters(_this._selectedProcedure);\n    });\n\n    _this.storedProcedures.subscribe(function (newProcedures) {\n      if (!newProcedures) {\n        _this._selectedProcedure = null;\n      } else if (_this._selectedProcedure) {\n        _this._selectedProcedure = _arrayutils_1.getFirstItemByPropertyValue(_this.storedProcedures(), 'name', _this._selectedProcedure.name);\n      } else if (_this._query && _this._query.procName()) {\n        _this._selectedProcedure = _arrayutils_1.getFirstItemByPropertyValue(_this.storedProcedures(), 'name', _this._query.procName());\n      } else {\n        _this._selectedProcedure = newProcedures[0];\n      }\n    });\n\n    return _this;\n  }\n\n  StoredProceduresQueryControl.prototype._needToProcessParameters = function (procedure) {\n    return procedure.arguments.some(StoredProceduresQueryControl._availableConvertToParameter);\n  };\n\n  StoredProceduresQueryControl._availableConvertToParameter = function (arg) {\n    return arg.direction !== dbStoredProcedure_1.DBStoredProcedureArgumentDirection.Out;\n  };\n\n  Object.defineProperty(StoredProceduresQueryControl.prototype, \"_selectedProcedure\", {\n    get: function () {\n      return this.selectedProcedure()[0];\n    },\n    set: function (value) {\n      this.selectedProcedure(value ? [value] : []);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  StoredProceduresQueryControl.prototype.scrollActiveItem = function (e) {\n    var model = e.model;\n    var procedure = model.selectedProcedure.peek();\n    e.component.scrollToItem(procedure[0]);\n  };\n\n  StoredProceduresQueryControl.generateStoredProcedureDisplayName = function (procedure) {\n    if (procedure.arguments.length === 0) return procedure.name;\n    return procedure.arguments.reduce(function (value, item, index, array) {\n      return value += item.name + (index < array.length - 1 ? ', ' : ')');\n    }, procedure.name + '(');\n  };\n\n  StoredProceduresQueryControl.prototype.setQuery = function (query) {\n    this._query = query;\n    this._selectedProcedure = _arrayutils_1.getFirstItemByPropertyValue(this.storedProcedures(), 'name', query.procName());\n    return $.Deferred().resolve().promise();\n  };\n\n  StoredProceduresQueryControl.prototype.getQuery = function () {\n    var _this = this;\n\n    if (!this._selectedProcedure) return null;\n    var newQuery = new storedProcQuery_1.StoredProcQuery({\n      '@Name': this._query.name() || this._selectedProcedure.name,\n      'ProcName': this._selectedProcedure.name\n    }, this._query.parent);\n\n    this._selectedProcedure.arguments.forEach(function (arg) {\n      if (StoredProceduresQueryControl._availableConvertToParameter(arg)) {\n        newQuery.parameters.push(_arrayutils_1.getFirstItemByPropertyValue(_this._query.parameters(), 'name', arg.name) || new dataSourceParameter_1.DataSourceParameter({\n          '@Name': arg.name,\n          '@Type': dbColumn_1.DBColumn.GetType(arg.type)\n        }, null, dataSourceParameterMeta_1.storedProcParameterSerializationsInfo(dbColumn_1.DBColumn.GetType(arg.type))));\n      }\n    });\n\n    return newQuery;\n  };\n\n  Object.defineProperty(StoredProceduresQueryControl.prototype, \"runQueryBuilderDisabled\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return StoredProceduresQueryControl;\n}(utils_1.Disposable);\n\nexports.StoredProceduresQueryControl = StoredProceduresQueryControl;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/query-builder/wizard/internal/_storedProceduresQueryControl.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","StoredProceduresQueryControl","ko","require","$","utils_1","storedProcQuery_1","dbStoredProcedure_1","_arrayutils_1","localization_utils_1","dataSourceParameter_1","dbColumn_1","dataSourceParameterMeta_1","_super","_this","template","storedProcedures","observableArray","selectedProcedure","caption","getLocalization","generateStoredProcedureDisplayName","procedure","isNextDisabled","pureComputed","_selectedProcedure","_needToProcessParameters","isFinishDisabled","subscribe","newProcedures","getFirstItemByPropertyValue","name","_query","procName","arguments","some","_availableConvertToParameter","arg","direction","DBStoredProcedureArgumentDirection","Out","get","set","enumerable","configurable","scrollActiveItem","e","model","peek","component","scrollToItem","length","reduce","item","index","array","setQuery","query","Deferred","resolve","promise","getQuery","newQuery","StoredProcQuery","parent","forEach","parameters","push","DataSourceParameter","DBColumn","GetType","type","storedProcParameterSerializationsInfo","Disposable"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (query-builder\\wizard\\internal\\_storedProceduresQueryControl.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StoredProceduresQueryControl = void 0;\nvar ko = require(\"knockout\");\nvar $ = require(\"jquery\");\nvar utils_1 = require(\"../../../serializer/utils\");\nvar storedProcQuery_1 = require(\"../../dataSource/sql/storedProcQuery\");\nvar dbStoredProcedure_1 = require(\"../../dataSource/dbStoredProcedure\");\nvar _arrayutils_1 = require(\"../../../core/utils/_arrayutils\");\nvar localization_utils_1 = require(\"../../../property-grid/localization/localization_utils\");\nvar dataSourceParameter_1 = require(\"../../dataSource/dataSourceParameter\");\nvar dbColumn_1 = require(\"../../dataSource/dbColumn\");\nvar dataSourceParameterMeta_1 = require(\"../../dataSource/dataSourceParameterMeta\");\nvar StoredProceduresQueryControl = (function (_super) {\n    __extends(StoredProceduresQueryControl, _super);\n    function StoredProceduresQueryControl() {\n        var _this = _super.call(this) || this;\n        _this.template = 'dxrd-procedures-control';\n        _this.storedProcedures = ko.observableArray([]);\n        _this.selectedProcedure = ko.observableArray([]);\n        _this.caption = function () { return localization_utils_1.getLocalization('Select a stored procedure:', 'DataAccessUIStringId.StoredProcControl_Caption'); };\n        _this.generateStoredProcedureDisplayName = function (procedure) { return StoredProceduresQueryControl.generateStoredProcedureDisplayName(procedure); };\n        _this.isNextDisabled = ko.pureComputed(function () {\n            return !_this._selectedProcedure || !_this._needToProcessParameters(_this._selectedProcedure);\n        });\n        _this.isFinishDisabled = ko.pureComputed(function () {\n            return !_this._selectedProcedure || _this._needToProcessParameters(_this._selectedProcedure);\n        });\n        _this.storedProcedures.subscribe(function (newProcedures) {\n            if (!newProcedures) {\n                _this._selectedProcedure = null;\n            }\n            else if (_this._selectedProcedure) {\n                _this._selectedProcedure = _arrayutils_1.getFirstItemByPropertyValue(_this.storedProcedures(), 'name', _this._selectedProcedure.name);\n            }\n            else if (_this._query && _this._query.procName()) {\n                _this._selectedProcedure = _arrayutils_1.getFirstItemByPropertyValue(_this.storedProcedures(), 'name', _this._query.procName());\n            }\n            else {\n                _this._selectedProcedure = newProcedures[0];\n            }\n        });\n        return _this;\n    }\n    StoredProceduresQueryControl.prototype._needToProcessParameters = function (procedure) {\n        return procedure.arguments.some(StoredProceduresQueryControl._availableConvertToParameter);\n    };\n    StoredProceduresQueryControl._availableConvertToParameter = function (arg) {\n        return arg.direction !== dbStoredProcedure_1.DBStoredProcedureArgumentDirection.Out;\n    };\n    Object.defineProperty(StoredProceduresQueryControl.prototype, \"_selectedProcedure\", {\n        get: function () {\n            return this.selectedProcedure()[0];\n        },\n        set: function (value) {\n            this.selectedProcedure(value ? [value] : []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    StoredProceduresQueryControl.prototype.scrollActiveItem = function (e) {\n        var model = e.model;\n        var procedure = model.selectedProcedure.peek();\n        e.component.scrollToItem(procedure[0]);\n    };\n    StoredProceduresQueryControl.generateStoredProcedureDisplayName = function (procedure) {\n        if (procedure.arguments.length === 0)\n            return procedure.name;\n        return procedure.arguments.reduce(function (value, item, index, array) {\n            return value += item.name + (index < array.length - 1 ? ', ' : ')');\n        }, procedure.name + '(');\n    };\n    StoredProceduresQueryControl.prototype.setQuery = function (query) {\n        this._query = query;\n        this._selectedProcedure = _arrayutils_1.getFirstItemByPropertyValue(this.storedProcedures(), 'name', query.procName());\n        return $.Deferred().resolve().promise();\n    };\n    StoredProceduresQueryControl.prototype.getQuery = function () {\n        var _this = this;\n        if (!this._selectedProcedure)\n            return null;\n        var newQuery = new storedProcQuery_1.StoredProcQuery({ '@Name': this._query.name() || this._selectedProcedure.name, 'ProcName': this._selectedProcedure.name }, this._query.parent);\n        this._selectedProcedure.arguments.forEach(function (arg) {\n            if (StoredProceduresQueryControl._availableConvertToParameter(arg)) {\n                newQuery.parameters.push(_arrayutils_1.getFirstItemByPropertyValue(_this._query.parameters(), 'name', arg.name) || new dataSourceParameter_1.DataSourceParameter({ '@Name': arg.name, '@Type': dbColumn_1.DBColumn.GetType(arg.type) }, null, dataSourceParameterMeta_1.storedProcParameterSerializationsInfo(dbColumn_1.DBColumn.GetType(arg.type))));\n            }\n        });\n        return newQuery;\n    };\n    Object.defineProperty(StoredProceduresQueryControl.prototype, \"runQueryBuilderDisabled\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StoredProceduresQueryControl;\n}(utils_1.Disposable));\nexports.StoredProceduresQueryControl = StoredProceduresQueryControl;\n"]},"metadata":{},"sourceType":"script"}