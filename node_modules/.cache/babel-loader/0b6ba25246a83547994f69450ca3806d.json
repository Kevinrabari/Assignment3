{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_data-item-viewer-adapter.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DataItemViewerAdapter = void 0;\n\nvar _common_1 = require(\"../../../data/_common\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar _interactivity_controller_1 = require(\"../../../viewer-parts/viewer-items/_interactivity-controller\");\n\nvar _item_viewer_adapter_base_1 = require(\"./_item-viewer-adapter-base\");\n\nvar DataItemViewerAdapter = function (_super) {\n  __extends(DataItemViewerAdapter, _super);\n\n  function DataItemViewerAdapter() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this._createDefaultCustomInteractivityOptions = function () {\n      return {\n        selectionMode: _interactivity_controller_1.dashboardSelectionMode.none,\n        hoverEnabled: false,\n        targetAxes: [],\n        defaultSelectedValues: []\n      };\n    };\n\n    _this._ensureCustomInteractivityOptions = function (interactivityOptions, interactivityEnable, itemData) {\n      var newOptions = {\n        selectionMode: interactivityOptions.selectionMode,\n        hoverEnabled: interactivityOptions.hoverEnabled,\n        targetAxes: interactivityOptions.targetAxes,\n        defaultSelectedValues: interactivityOptions.defaultSelectedValues\n      };\n\n      if (interactivityEnable && interactivityOptions.defaultSelectedValues.length == 0 && interactivityOptions.selectionMode == _interactivity_controller_1.dashboardSelectionMode.single) {\n        var tuple = [];\n        interactivityOptions.targetAxes.forEach(function (axisName) {\n          tuple.push({\n            AxisName: axisName,\n            Value: itemData.getAxis(axisName).getPoints()[0].getUniquePath()\n          });\n        });\n        newOptions.defaultSelectedValues = [tuple];\n      }\n\n      return newOptions;\n    };\n\n    return _this;\n  }\n\n  DataItemViewerAdapter.prototype.attachToModel = function (viewerItem, dataDashboardItem) {\n    var _this = this;\n\n    _super.prototype.attachToModel.call(this, viewerItem, dataDashboardItem);\n\n    this.modelSubscriptions.push(dataDashboardItem._actions.subscribe(function (actions) {\n      _this.updateActionsModel(viewerItem, actions);\n    }));\n    this.modelSubscriptions.push(dataDashboardItem._actualSelectionValues.subscribe(function (newSelection) {\n      viewerItem.setSelection(newSelection);\n    }));\n    viewerItem.selected.add(dataDashboardItem._processItemSelectionChange);\n    viewerItem.drillUp.add(dataDashboardItem._processItemDrillUp);\n    viewerItem.clearMasterFilter.add(dataDashboardItem._processItemClearMasterFilter);\n    viewerItem.contentElementSelection.add(dataDashboardItem._processContentElementSelection);\n\n    viewerItem.allowLimitDataCallback = function () {\n      dataDashboardItem._limitDataState.toggle();\n\n      _this.context.refresh(dataDashboardItem.componentName());\n    };\n  };\n\n  DataItemViewerAdapter.prototype.detachFromModel = function (viewerItem, dataDashboardItem) {\n    viewerItem.selected.remove(dataDashboardItem._processItemSelectionChange);\n    viewerItem.drillUp.remove(dataDashboardItem._processItemDrillUp);\n    viewerItem.clearMasterFilter.remove(dataDashboardItem._processItemClearMasterFilter);\n    viewerItem.contentElementSelection.remove(dataDashboardItem._processContentElementSelection);\n    viewerItem.allowLimitDataCallback = null;\n\n    _super.prototype.detachFromModel.call(this, viewerItem, dataDashboardItem);\n  };\n\n  DataItemViewerAdapter.prototype.ensureViewerItemCore = function (onlyCreation, content) {\n    var customInteractivityOptions = this._createDefaultCustomInteractivityOptions();\n\n    _super.prototype.ensureViewerItemCore.call(this, onlyCreation, content, customInteractivityOptions);\n\n    this.item.updateItem(this._ensureCustomInteractivityOptions(customInteractivityOptions, this.dashboardItem._actions().length > 0, this.dashboardItem._getItemData()));\n    this.updateActionsModel(this.item, this.dashboardItem._actions());\n  };\n\n  DataItemViewerAdapter.prototype.updateItemContent = function (content) {\n    if (!this.dashboardItem._actualSelectionValues() && this.item.visualMode !== 'caption') {\n      this.item.clearSelection();\n    }\n\n    _super.prototype.updateItemContent.call(this, content);\n\n    this.item.updateInteractivityOptions();\n  };\n\n  DataItemViewerAdapter.prototype.createDashboardViewerItem = function (element, content, dashboardItem) {\n    var actions = dashboardItem._actions();\n\n    content.ActionModel = content.ActionModel || {};\n    content.ActionModel.Actions = actions;\n    content.ActionModel.DrillUpButtonState = this.getDrillUpState(actions);\n    content.ActionModel.ClearMasterFilterButtonState = this.dashboardItem._getClearMasterFilterState();\n\n    var viewerItem = _super.prototype.createDashboardViewerItem.call(this, element, content, dashboardItem);\n\n    viewerItem.updateInteractivityOptions();\n    return viewerItem;\n  };\n\n  DataItemViewerAdapter.prototype.getDrillUpState = function (actions) {\n    if (actions.indexOf(_common_1.viewerActions.drillUp) !== -1) {\n      return 'Enabled';\n    } else {\n      if (actions.indexOf(_common_1.viewerActions.drillDown) !== -1) {\n        return 'Disabled';\n      } else {\n        return 'Hidden';\n      }\n    }\n  };\n\n  DataItemViewerAdapter.prototype.updateActionsModel = function (item, actions) {\n    var actionModel = _jquery_helpers_1.deepExtend({}, item.options.ActionModel);\n\n    actionModel.Actions = actions;\n    actionModel.DrillUpButtonState = this.getDrillUpState(actions);\n    actionModel.ClearMasterFilterButtonState = this.dashboardItem._getClearMasterFilterState();\n\n    var newOptions = _jquery_helpers_1.deepExtend({}, item.options);\n\n    newOptions.ActionModel = actionModel;\n    newOptions.ContentType = 'ActionModel';\n    item.updateContent(newOptions);\n  };\n\n  return DataItemViewerAdapter;\n}(_item_viewer_adapter_base_1.ItemViewerAdapterBase);\n\nexports.DataItemViewerAdapter = DataItemViewerAdapter;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/viewer/adapters/_data-item-viewer-adapter.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","DataItemViewerAdapter","_common_1","require","_jquery_helpers_1","_interactivity_controller_1","_item_viewer_adapter_base_1","_super","_this","apply","arguments","_createDefaultCustomInteractivityOptions","selectionMode","dashboardSelectionMode","none","hoverEnabled","targetAxes","defaultSelectedValues","_ensureCustomInteractivityOptions","interactivityOptions","interactivityEnable","itemData","newOptions","length","single","tuple","forEach","axisName","push","AxisName","Value","getAxis","getPoints","getUniquePath","attachToModel","viewerItem","dataDashboardItem","modelSubscriptions","_actions","subscribe","actions","updateActionsModel","_actualSelectionValues","newSelection","setSelection","selected","add","_processItemSelectionChange","drillUp","_processItemDrillUp","clearMasterFilter","_processItemClearMasterFilter","contentElementSelection","_processContentElementSelection","allowLimitDataCallback","_limitDataState","toggle","context","refresh","componentName","detachFromModel","remove","ensureViewerItemCore","onlyCreation","content","customInteractivityOptions","item","updateItem","dashboardItem","_getItemData","updateItemContent","visualMode","clearSelection","updateInteractivityOptions","createDashboardViewerItem","element","ActionModel","Actions","DrillUpButtonState","getDrillUpState","ClearMasterFilterButtonState","_getClearMasterFilterState","indexOf","viewerActions","drillDown","actionModel","deepExtend","options","ContentType","updateContent","ItemViewerAdapterBase"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_data-item-viewer-adapter.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataItemViewerAdapter = void 0;\nvar _common_1 = require(\"../../../data/_common\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar _interactivity_controller_1 = require(\"../../../viewer-parts/viewer-items/_interactivity-controller\");\nvar _item_viewer_adapter_base_1 = require(\"./_item-viewer-adapter-base\");\nvar DataItemViewerAdapter = (function (_super) {\n    __extends(DataItemViewerAdapter, _super);\n    function DataItemViewerAdapter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._createDefaultCustomInteractivityOptions = function () {\n            return {\n                selectionMode: _interactivity_controller_1.dashboardSelectionMode.none,\n                hoverEnabled: false,\n                targetAxes: [],\n                defaultSelectedValues: []\n            };\n        };\n        _this._ensureCustomInteractivityOptions = function (interactivityOptions, interactivityEnable, itemData) {\n            var newOptions = {\n                selectionMode: interactivityOptions.selectionMode,\n                hoverEnabled: interactivityOptions.hoverEnabled,\n                targetAxes: interactivityOptions.targetAxes,\n                defaultSelectedValues: interactivityOptions.defaultSelectedValues\n            };\n            if (interactivityEnable && interactivityOptions.defaultSelectedValues.length == 0 && interactivityOptions.selectionMode == _interactivity_controller_1.dashboardSelectionMode.single) {\n                var tuple = [];\n                interactivityOptions.targetAxes.forEach(function (axisName) {\n                    tuple.push({\n                        AxisName: axisName,\n                        Value: itemData.getAxis(axisName).getPoints()[0].getUniquePath()\n                    });\n                });\n                newOptions.defaultSelectedValues = [tuple];\n            }\n            return newOptions;\n        };\n        return _this;\n    }\n    DataItemViewerAdapter.prototype.attachToModel = function (viewerItem, dataDashboardItem) {\n        var _this = this;\n        _super.prototype.attachToModel.call(this, viewerItem, dataDashboardItem);\n        this.modelSubscriptions.push(dataDashboardItem._actions.subscribe(function (actions) {\n            _this.updateActionsModel(viewerItem, actions);\n        }));\n        this.modelSubscriptions.push(dataDashboardItem._actualSelectionValues.subscribe(function (newSelection) {\n            viewerItem.setSelection(newSelection);\n        }));\n        viewerItem.selected.add(dataDashboardItem._processItemSelectionChange);\n        viewerItem.drillUp.add(dataDashboardItem._processItemDrillUp);\n        viewerItem.clearMasterFilter.add(dataDashboardItem._processItemClearMasterFilter);\n        viewerItem.contentElementSelection.add(dataDashboardItem._processContentElementSelection);\n        viewerItem.allowLimitDataCallback = function () {\n            dataDashboardItem._limitDataState.toggle();\n            _this.context.refresh(dataDashboardItem.componentName());\n        };\n    };\n    DataItemViewerAdapter.prototype.detachFromModel = function (viewerItem, dataDashboardItem) {\n        viewerItem.selected.remove(dataDashboardItem._processItemSelectionChange);\n        viewerItem.drillUp.remove(dataDashboardItem._processItemDrillUp);\n        viewerItem.clearMasterFilter.remove(dataDashboardItem._processItemClearMasterFilter);\n        viewerItem.contentElementSelection.remove(dataDashboardItem._processContentElementSelection);\n        viewerItem.allowLimitDataCallback = null;\n        _super.prototype.detachFromModel.call(this, viewerItem, dataDashboardItem);\n    };\n    DataItemViewerAdapter.prototype.ensureViewerItemCore = function (onlyCreation, content) {\n        var customInteractivityOptions = this._createDefaultCustomInteractivityOptions();\n        _super.prototype.ensureViewerItemCore.call(this, onlyCreation, content, customInteractivityOptions);\n        this.item.updateItem(this._ensureCustomInteractivityOptions(customInteractivityOptions, this.dashboardItem._actions().length > 0, this.dashboardItem._getItemData()));\n        this.updateActionsModel(this.item, this.dashboardItem._actions());\n    };\n    DataItemViewerAdapter.prototype.updateItemContent = function (content) {\n        if (!this.dashboardItem._actualSelectionValues() && this.item.visualMode !== 'caption') {\n            this.item.clearSelection();\n        }\n        _super.prototype.updateItemContent.call(this, content);\n        this.item.updateInteractivityOptions();\n    };\n    DataItemViewerAdapter.prototype.createDashboardViewerItem = function (element, content, dashboardItem) {\n        var actions = dashboardItem._actions();\n        content.ActionModel = content.ActionModel || {};\n        content.ActionModel.Actions = actions;\n        content.ActionModel.DrillUpButtonState = this.getDrillUpState(actions);\n        content.ActionModel.ClearMasterFilterButtonState = this.dashboardItem._getClearMasterFilterState();\n        var viewerItem = _super.prototype.createDashboardViewerItem.call(this, element, content, dashboardItem);\n        viewerItem.updateInteractivityOptions();\n        return viewerItem;\n    };\n    DataItemViewerAdapter.prototype.getDrillUpState = function (actions) {\n        if (actions.indexOf(_common_1.viewerActions.drillUp) !== -1) {\n            return 'Enabled';\n        }\n        else {\n            if (actions.indexOf(_common_1.viewerActions.drillDown) !== -1) {\n                return 'Disabled';\n            }\n            else {\n                return 'Hidden';\n            }\n        }\n    };\n    DataItemViewerAdapter.prototype.updateActionsModel = function (item, actions) {\n        var actionModel = _jquery_helpers_1.deepExtend({}, item.options.ActionModel);\n        actionModel.Actions = actions;\n        actionModel.DrillUpButtonState = this.getDrillUpState(actions);\n        actionModel.ClearMasterFilterButtonState = this.dashboardItem._getClearMasterFilterState();\n        var newOptions = _jquery_helpers_1.deepExtend({}, item.options);\n        newOptions.ActionModel = actionModel;\n        newOptions.ContentType = 'ActionModel';\n        item.updateContent(newOptions);\n    };\n    return DataItemViewerAdapter;\n}(_item_viewer_adapter_base_1.ItemViewerAdapterBase));\nexports.DataItemViewerAdapter = DataItemViewerAdapter;\n"]},"metadata":{},"sourceType":"script"}