{"ast":null,"code":"/**\n* DevExpress Analytics (query-builder\\wizard\\pages\\jsonDataSourceWizard\\chooseJsonSourcePage.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._registerChooseJsonSourcePage = exports.ChooseJsonSourcePage = void 0;\n\nvar ko = require(\"knockout\");\n\nvar $ = require(\"jquery\");\n\nvar dataSourceWizardState_1 = require(\"../../dataSourceWizardState\");\n\nvar _jsonSourceSettings_1 = require(\"../../internal/_jsonSourceSettings\");\n\nvar requestwrapper_1 = require(\"../../../utils/requestwrapper\");\n\nvar jsonDataSource_1 = require(\"../../../dataSource/json/jsonDataSource\");\n\nvar serializer_1 = require(\"../../../../serializer/serializer\");\n\nvar localization_utils_1 = require(\"../../../../property-grid/localization/localization_utils\");\n\nvar pageId_1 = require(\"../../pageId\");\n\nvar _jsonDataSourceWidgets_1 = require(\"../../internal/_jsonDataSourceWidgets\");\n\nvar wizardPageBase_1 = require(\"../wizardPageBase\");\n\nvar ChooseJsonSourcePage = function (_super) {\n  __extends(ChooseJsonSourcePage, _super);\n\n  function ChooseJsonSourcePage(_requestWrapper, itemsProvider) {\n    if (_requestWrapper === void 0) {\n      _requestWrapper = new requestwrapper_1.RequestWrapper();\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this._requestWrapper = _requestWrapper;\n    _this.__validationGroup = null;\n    _this.__validationSummary = null;\n    _this._jsonSourceTitle = localization_utils_1.getLocalization('JSON Source:', 'DataAccessUIStringId.WizardPageChooseJsonSource_SourceType');\n    _this._jsonConnectionTitle = localization_utils_1.getLocalization('Connection Name:', 'AnalyticsCoreStringId.ReportDesigner_Wizard_Json_ConnectionName');\n    _this._connectionNameValidationRules = [{\n      type: 'required',\n\n      get message() {\n        return _jsonDataSourceWidgets_1.getLocalizedValidationErrorMessage(null, this._jsonConnectionTitle);\n      }\n\n    }];\n    _this._connectionName = ko.observable('');\n    _this._validationGroup = {\n      onInitialized: function (args) {\n        return _this._onValidationGroupInitialized(args);\n      },\n      onDisposing: function (args) {\n        return _this._onValidationGroupDisposing(args);\n      }\n    };\n    _this._validationSummary = {\n      onInitialized: function (args) {\n        return _this._onValidationSummaryInitialized(args);\n      },\n      onDisposing: function (args) {\n        return _this._onValidationSummaryDisposing(args);\n      }\n    };\n    _this._sources = [];\n\n    _this._disposables.push(_this._jsonStringSettings = new _jsonSourceSettings_1.JsonDataSourceJsonSourcePageStringSettings());\n\n    _this._jsonStringSettings.onChange(function () {\n      return _this._onChange();\n    });\n\n    _this._disposables.push(_this._jsonUriSetting = new _jsonSourceSettings_1.JsonDataSourceJsonSourcePageUriSettings(_this._requestWrapper, itemsProvider));\n\n    _this._jsonUriSetting.onChange(function () {\n      return _this._onChange();\n    });\n\n    _this._sources = [{\n      value: _this._jsonUriSetting,\n      displayValue: 'Web Service Endpoint (URI)',\n      localizationId: 'DataAccessUIStringId.WizardPageChooseJsonSource_SourceType_Uri'\n    }, {\n      value: _this._jsonStringSettings,\n      displayValue: 'JSON String',\n      localizationId: 'DataAccessUIStringId.WizardPageChooseJsonSource_SourceType_Custom'\n    }];\n    var selectedSource = ko.observable();\n    _this._selectedSource = ko.pureComputed({\n      read: function () {\n        return selectedSource();\n      },\n      write: function (newVal) {\n        if (selectedSource() === newVal) return;\n        selectedSource(newVal);\n        newVal._validatorsReady && newVal._validatorsReady(false);\n        setTimeout(function () {\n          newVal._validate && newVal._validate();\n        }, 1);\n\n        _this._onChange();\n      }\n    });\n\n    _this._selectedSource(_this._sources[0].value);\n\n    _this._disposables.push(_this._selectedSource);\n\n    _this._disposables.push(_this._connectionName.subscribe(function () {\n      return _this._onChange();\n    }));\n\n    return _this;\n  }\n\n  ChooseJsonSourcePage.prototype._onValidationGroupInitialized = function (e) {\n    this.__validationGroup = e.component;\n  };\n\n  ChooseJsonSourcePage.prototype._onValidationGroupDisposing = function (e) {\n    this.__validationGroup = null;\n  };\n\n  ChooseJsonSourcePage.prototype._onValidationSummaryInitialized = function (e) {\n    var _this = this;\n\n    this.__validationSummary = e.component;\n    this.__validationGroup && this.__validationSummary && this._connectionName && this._connectionName() && setTimeout(function () {\n      _this.__validationGroup && _this.__validationGroup.validate();\n    }, 1);\n  };\n\n  ChooseJsonSourcePage.prototype._onValidationSummaryDisposing = function (e) {\n    this.__validationSummary = null;\n  };\n\n  ChooseJsonSourcePage.prototype.canNext = function () {\n    var connectionNameNotEmpty = !!this._connectionName();\n\n    var isCurrentSourceValid = this._selectedSource().isValid();\n\n    var isCurrentSourceEmpty = this._selectedSource().isEmpty();\n\n    return connectionNameNotEmpty && isCurrentSourceValid && !isCurrentSourceEmpty;\n  };\n\n  ChooseJsonSourcePage.prototype.commit = function () {\n    var jsonDataSource = new jsonDataSource_1.JsonDataSource({});\n\n    this._selectedSource().applySettings(jsonDataSource);\n\n    var serialized = new serializer_1.ModelSerializer().serialize(jsonDataSource);\n    return $.Deferred().resolve({\n      jsonSource: JSON.stringify(serialized.Source),\n      newConnectionName: this._connectionName()\n    }).promise();\n  };\n\n  ChooseJsonSourcePage.prototype.initialize = function (state) {\n    this.__validationGroup = null;\n    this.__validationSummary = null;\n\n    var jsonDataSource = dataSourceWizardState_1._restoreJsonDataSourceFromState(state);\n\n    if (jsonDataSource.source.uri()) {\n      this._selectedSource(this._jsonUriSetting);\n    } else if (jsonDataSource.source.json()) {\n      this._selectedSource(this._jsonStringSettings);\n    }\n\n    this._selectedSource().setValue(jsonDataSource);\n\n    return $.Deferred().resolve().promise();\n  };\n\n  return ChooseJsonSourcePage;\n}(wizardPageBase_1.WizardPageBase);\n\nexports.ChooseJsonSourcePage = ChooseJsonSourcePage;\n\nfunction _registerChooseJsonSourcePage(factory, requestWrapper, getItemsProviderCallback) {\n  factory.registerMetadata(pageId_1.JsonDataSourceWizardPageId.ChooseJsonSourcePage, {\n    setState: function (data, state) {\n      state.jsonSource = data.jsonSource;\n      state.newConnectionName = data.newConnectionName;\n    },\n    getState: function (state) {\n      return state.jsonDataSourceWizard;\n    },\n    resetState: function (state, defaultState) {\n      state.jsonSource = defaultState.jsonSource;\n    },\n    create: function () {\n      return new ChooseJsonSourcePage(requestWrapper, getItemsProviderCallback && getItemsProviderCallback());\n    },\n    description: localization_utils_1.getLocalization('Create a data connection.', 'AnalyticsCoreStringId.JsonDSWizard_CreateNewConnectionPage_Description'),\n    template: 'dxrd-page-jsonsource'\n  });\n}\n\nexports._registerChooseJsonSourcePage = _registerChooseJsonSourcePage;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/query-builder/wizard/pages/jsonDataSourceWizard/chooseJsonSourcePage.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","_registerChooseJsonSourcePage","ChooseJsonSourcePage","ko","require","$","dataSourceWizardState_1","_jsonSourceSettings_1","requestwrapper_1","jsonDataSource_1","serializer_1","localization_utils_1","pageId_1","_jsonDataSourceWidgets_1","wizardPageBase_1","_super","_requestWrapper","itemsProvider","RequestWrapper","_this","__validationGroup","__validationSummary","_jsonSourceTitle","getLocalization","_jsonConnectionTitle","_connectionNameValidationRules","type","message","getLocalizedValidationErrorMessage","_connectionName","observable","_validationGroup","onInitialized","args","_onValidationGroupInitialized","onDisposing","_onValidationGroupDisposing","_validationSummary","_onValidationSummaryInitialized","_onValidationSummaryDisposing","_sources","_disposables","push","_jsonStringSettings","JsonDataSourceJsonSourcePageStringSettings","onChange","_onChange","_jsonUriSetting","JsonDataSourceJsonSourcePageUriSettings","displayValue","localizationId","selectedSource","_selectedSource","pureComputed","read","write","newVal","_validatorsReady","setTimeout","_validate","subscribe","e","component","validate","canNext","connectionNameNotEmpty","isCurrentSourceValid","isValid","isCurrentSourceEmpty","isEmpty","commit","jsonDataSource","JsonDataSource","applySettings","serialized","ModelSerializer","serialize","Deferred","resolve","jsonSource","JSON","stringify","Source","newConnectionName","promise","initialize","state","_restoreJsonDataSourceFromState","source","uri","json","setValue","WizardPageBase","factory","requestWrapper","getItemsProviderCallback","registerMetadata","JsonDataSourceWizardPageId","setState","data","getState","jsonDataSourceWizard","resetState","defaultState","description","template"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (query-builder\\wizard\\pages\\jsonDataSourceWizard\\chooseJsonSourcePage.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports._registerChooseJsonSourcePage = exports.ChooseJsonSourcePage = void 0;\nvar ko = require(\"knockout\");\nvar $ = require(\"jquery\");\nvar dataSourceWizardState_1 = require(\"../../dataSourceWizardState\");\nvar _jsonSourceSettings_1 = require(\"../../internal/_jsonSourceSettings\");\nvar requestwrapper_1 = require(\"../../../utils/requestwrapper\");\nvar jsonDataSource_1 = require(\"../../../dataSource/json/jsonDataSource\");\nvar serializer_1 = require(\"../../../../serializer/serializer\");\nvar localization_utils_1 = require(\"../../../../property-grid/localization/localization_utils\");\nvar pageId_1 = require(\"../../pageId\");\nvar _jsonDataSourceWidgets_1 = require(\"../../internal/_jsonDataSourceWidgets\");\nvar wizardPageBase_1 = require(\"../wizardPageBase\");\nvar ChooseJsonSourcePage = (function (_super) {\n    __extends(ChooseJsonSourcePage, _super);\n    function ChooseJsonSourcePage(_requestWrapper, itemsProvider) {\n        if (_requestWrapper === void 0) { _requestWrapper = new requestwrapper_1.RequestWrapper(); }\n        var _this = _super.call(this) || this;\n        _this._requestWrapper = _requestWrapper;\n        _this.__validationGroup = null;\n        _this.__validationSummary = null;\n        _this._jsonSourceTitle = localization_utils_1.getLocalization('JSON Source:', 'DataAccessUIStringId.WizardPageChooseJsonSource_SourceType');\n        _this._jsonConnectionTitle = localization_utils_1.getLocalization('Connection Name:', 'AnalyticsCoreStringId.ReportDesigner_Wizard_Json_ConnectionName');\n        _this._connectionNameValidationRules = [{\n                type: 'required',\n                get message() {\n                    return _jsonDataSourceWidgets_1.getLocalizedValidationErrorMessage(null, this._jsonConnectionTitle);\n                }\n            }];\n        _this._connectionName = ko.observable('');\n        _this._validationGroup = {\n            onInitialized: function (args) { return _this._onValidationGroupInitialized(args); },\n            onDisposing: function (args) { return _this._onValidationGroupDisposing(args); }\n        };\n        _this._validationSummary = {\n            onInitialized: function (args) { return _this._onValidationSummaryInitialized(args); },\n            onDisposing: function (args) { return _this._onValidationSummaryDisposing(args); }\n        };\n        _this._sources = [];\n        _this._disposables.push(_this._jsonStringSettings = new _jsonSourceSettings_1.JsonDataSourceJsonSourcePageStringSettings());\n        _this._jsonStringSettings.onChange(function () { return _this._onChange(); });\n        _this._disposables.push(_this._jsonUriSetting = new _jsonSourceSettings_1.JsonDataSourceJsonSourcePageUriSettings(_this._requestWrapper, itemsProvider));\n        _this._jsonUriSetting.onChange(function () { return _this._onChange(); });\n        _this._sources = [\n            { value: _this._jsonUriSetting, displayValue: 'Web Service Endpoint (URI)', localizationId: 'DataAccessUIStringId.WizardPageChooseJsonSource_SourceType_Uri' },\n            { value: _this._jsonStringSettings, displayValue: 'JSON String', localizationId: 'DataAccessUIStringId.WizardPageChooseJsonSource_SourceType_Custom' }\n        ];\n        var selectedSource = ko.observable();\n        _this._selectedSource = ko.pureComputed({\n            read: function () { return selectedSource(); },\n            write: function (newVal) {\n                if (selectedSource() === newVal)\n                    return;\n                selectedSource(newVal);\n                newVal._validatorsReady && newVal._validatorsReady(false);\n                setTimeout(function () {\n                    newVal._validate && newVal._validate();\n                }, 1);\n                _this._onChange();\n            }\n        });\n        _this._selectedSource(_this._sources[0].value);\n        _this._disposables.push(_this._selectedSource);\n        _this._disposables.push(_this._connectionName.subscribe(function () { return _this._onChange(); }));\n        return _this;\n    }\n    ChooseJsonSourcePage.prototype._onValidationGroupInitialized = function (e) {\n        this.__validationGroup = e.component;\n    };\n    ChooseJsonSourcePage.prototype._onValidationGroupDisposing = function (e) {\n        this.__validationGroup = null;\n    };\n    ChooseJsonSourcePage.prototype._onValidationSummaryInitialized = function (e) {\n        var _this = this;\n        this.__validationSummary = e.component;\n        this.__validationGroup && this.__validationSummary && this._connectionName && this._connectionName() && setTimeout(function () {\n            _this.__validationGroup && _this.__validationGroup.validate();\n        }, 1);\n    };\n    ChooseJsonSourcePage.prototype._onValidationSummaryDisposing = function (e) {\n        this.__validationSummary = null;\n    };\n    ChooseJsonSourcePage.prototype.canNext = function () {\n        var connectionNameNotEmpty = !!this._connectionName();\n        var isCurrentSourceValid = this._selectedSource().isValid();\n        var isCurrentSourceEmpty = this._selectedSource().isEmpty();\n        return connectionNameNotEmpty && isCurrentSourceValid && !isCurrentSourceEmpty;\n    };\n    ChooseJsonSourcePage.prototype.commit = function () {\n        var jsonDataSource = new jsonDataSource_1.JsonDataSource({});\n        this._selectedSource().applySettings(jsonDataSource);\n        var serialized = new serializer_1.ModelSerializer().serialize(jsonDataSource);\n        return $.Deferred().resolve({\n            jsonSource: JSON.stringify(serialized.Source),\n            newConnectionName: this._connectionName()\n        }).promise();\n    };\n    ChooseJsonSourcePage.prototype.initialize = function (state) {\n        this.__validationGroup = null;\n        this.__validationSummary = null;\n        var jsonDataSource = dataSourceWizardState_1._restoreJsonDataSourceFromState(state);\n        if (jsonDataSource.source.uri()) {\n            this._selectedSource(this._jsonUriSetting);\n        }\n        else if (jsonDataSource.source.json()) {\n            this._selectedSource(this._jsonStringSettings);\n        }\n        this._selectedSource().setValue(jsonDataSource);\n        return $.Deferred().resolve().promise();\n    };\n    return ChooseJsonSourcePage;\n}(wizardPageBase_1.WizardPageBase));\nexports.ChooseJsonSourcePage = ChooseJsonSourcePage;\nfunction _registerChooseJsonSourcePage(factory, requestWrapper, getItemsProviderCallback) {\n    factory.registerMetadata(pageId_1.JsonDataSourceWizardPageId.ChooseJsonSourcePage, {\n        setState: function (data, state) {\n            state.jsonSource = data.jsonSource;\n            state.newConnectionName = data.newConnectionName;\n        },\n        getState: function (state) {\n            return state.jsonDataSourceWizard;\n        },\n        resetState: function (state, defaultState) {\n            state.jsonSource = defaultState.jsonSource;\n        },\n        create: function () {\n            return new ChooseJsonSourcePage(requestWrapper, getItemsProviderCallback && getItemsProviderCallback());\n        },\n        description: localization_utils_1.getLocalization('Create a data connection.', 'AnalyticsCoreStringId.JsonDSWizard_CreateNewConnectionPage_Description'),\n        template: 'dxrd-page-jsonsource'\n    });\n}\nexports._registerChooseJsonSourcePage = _registerChooseJsonSourcePage;\n"]},"metadata":{},"sourceType":"script"}