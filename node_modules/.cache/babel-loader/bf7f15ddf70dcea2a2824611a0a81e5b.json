{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_parameters-dialog.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ParameterEntity = exports.parametersDialog = exports.parameterTypes = void 0;\n\nvar data_source_1 = require(\"devextreme/data/data_source\");\n\nrequire(\"devextreme/ui/check_box\");\n\nvar check_box_1 = require(\"devextreme/ui/check_box\");\n\nvar data_grid_1 = require(\"devextreme/ui/data_grid\");\n\nvar date_box_1 = require(\"devextreme/ui/date_box\");\n\nvar number_box_1 = require(\"devextreme/ui/number_box\");\n\nvar select_box_1 = require(\"devextreme/ui/select_box\");\n\nvar tag_box_1 = require(\"devextreme/ui/tag_box\");\n\nvar text_box_1 = require(\"devextreme/ui/text_box\");\n\nvar themes_1 = require(\"devextreme/ui/themes\");\n\nvar $ = require(\"jquery\");\n\nvar _default_1 = require(\"../../../data/localization/_default\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar _localization_ids_1 = require(\"../../../data/_localization-ids\");\n\nvar _localizer_1 = require(\"../../../data/_localizer\");\n\nvar _constants_1 = require(\"../../../styles/_constants\");\n\nvar _dashboard_layout_mode_helper_1 = require(\"../../_dashboard-layout-mode-helper\");\n\nvar _dialog_form_1 = require(\"./_dialog-form\");\n\nvar genericParametersDialogSizes = {\n  fakeElementsHeight: 172,\n  fakeParametersDialogGridRowHeight: 34\n};\nvar dialogClasses = {\n  allowNullCheckBox: 'dx-parameter-allownull-checkbox',\n  allowNullCheckBoxSize: 'dx-datagrid-checkbox-size',\n  valueEditor: 'dx-parameter-value-editor',\n  multiselectValuePart: 'dx-dashboard-dialog-parameters-tag',\n  theme: 'dx-dashboard-theme',\n  parametersForm: 'dx-dashboard-parameters-dialog-form'\n};\nexports.parameterTypes = {\n  string: 'String',\n  int: 'Int',\n  float: 'Float',\n  bool: 'Bool',\n  dateTime: 'DateTime',\n  selector: 'Selector',\n  multiselector: 'Multiselector',\n  guid: 'Guid'\n};\n\nvar parametersDialog = function () {\n  function parametersDialog(options) {\n    this.valueChanged = _jquery_helpers_1.createJQueryCallbacks();\n    this.options = options;\n\n    if (this.options.getParametersCollection) {\n      this.getParametersCollection = this.options.getParametersCollection;\n    }\n\n    if (this.options.submitParameters) {\n      this.submitParameters = this.options.submitParameters;\n    }\n\n    this._initialize();\n  }\n\n  parametersDialog.prototype._initialize = function () {\n    var _this = this;\n\n    var that = this,\n        options = that.options,\n        numberOfParameters = that.getParametersCollection().getVisibleParameters().length,\n        scroll = numberOfParameters > 8,\n        allowNullColumn = that.allowNullColumn(),\n        submitParameters = that.submitParameters,\n        parameterEntities = [];\n    var notScrollHeight = themes_1.default.isMaterial(themes_1.default.current()) ? _constants_1.devExtremeConstants.materialPopupToolbarHeight + _constants_1.devExtremeConstants.dxPopupTitleBorderBottom + 2 * _constants_1.devExtremeConstants.dxDatagridHeadersBorder + _constants_1.dashboardConstants.materialParametersDialogFormPaddingTop + _constants_1.devExtremeConstants.materialGridBaseHeaderHeight + _constants_1.devExtremeConstants.dxDatagridHeadersBorder + numberOfParameters * (_constants_1.devExtremeConstants.materialGridBaseCellHeight + _constants_1.devExtremeConstants.materialGridBaseRowBorder) + _constants_1.dashboardConstants.materialParametersDialogFormPaddingBottom + _constants_1.devExtremeConstants.materialPopupContentPadding * 2 + _constants_1.devExtremeConstants.materialButtonHeight : (numberOfParameters + 1) * genericParametersDialogSizes.fakeParametersDialogGridRowHeight + genericParametersDialogSizes.fakeElementsHeight;\n    that.dialogForm = new _dialog_form_1.dialogForm({\n      title: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormCaption),\n      fullScreenMode: options.fullScreenMode,\n      dialogContainer: options.parametersDialogContainer,\n      width: allowNullColumn ? _dialog_form_1.dialogSizes.width : _dialog_form_1.dialogSizes.minWidth,\n      height: scroll ? _dialog_form_1.dialogSizes.height : notScrollHeight,\n      allowScrolling: false,\n      deferredRendering: false,\n      onShowing: options.onShowing,\n      onShown: options.onShown,\n      onHidden: options.onHidden,\n      buttons: [{\n        name: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonReset),\n        func: function () {\n          return that.resetParameterValues();\n        }\n      }, {\n        name: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonSubmit),\n        hide: true,\n        func: function () {\n          return that.submitParameterValues();\n        },\n        isDefault: true\n      }, {\n        name: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonCancel),\n        hide: true,\n        func: function () {}\n      }],\n      renderContent: function (controlCreationCallbacks) {\n        var parametersForm = document.createElement('div');\n        parametersForm.classList.add(_dialog_form_1.dialogClasses.form);\n        parametersForm.classList.add(dialogClasses.parametersForm);\n        _this._dataGrid = that._generateContent(parametersForm, controlCreationCallbacks);\n        return parametersForm;\n      },\n      disposeContent: function () {\n        _this._disposeGrid();\n      },\n      setActualState: function () {\n        that.setActualState();\n      }\n    });\n  };\n\n  parametersDialog.prototype._disposeGrid = function () {\n    if (this._dataGrid) {\n      this._dataGrid.option('dataSource').forEach(function (entry) {\n        return entry.dispose();\n      });\n\n      this._dataGrid.dispose();\n    }\n  };\n\n  parametersDialog.prototype.appendNullGridColumn = function (gridColumns) {\n    if (this.allowNullColumn()) gridColumns.push(this.createNullColumn());\n  };\n\n  parametersDialog.prototype.allowNullColumn = function () {\n    var allowNullValues;\n    this.getParametersCollection().getVisibleParameters().forEach(function (parameter) {\n      if (parameter.getAllowNull()) allowNullValues = true;\n    });\n    return allowNullValues;\n  };\n\n  parametersDialog.prototype.createNullColumn = function () {\n    return {\n      dataField: 'fakeDataField_divAllowNull',\n      caption: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormAllowNullColumnCaption),\n      width: '20%',\n      alignment: 'center',\n      allowEditing: false,\n      cellTemplate: function (container, options) {\n        var entity = options.data;\n\n        _jquery_helpers_1.$unwrap(container).appendChild(_jquery_helpers_1.$unwrap(entity.divAllowNull));\n      }\n    };\n  };\n\n  parametersDialog.prototype.createGridColumns = function () {\n    var allowNullColumn = this.allowNullColumn();\n    var gridColumns = [{\n      dataField: 'description',\n      caption: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormNameColumnCaption),\n      dataType: 'string',\n      width: allowNullColumn ? '40%' : '50%',\n      allowEditing: false\n    }, {\n      dataField: 'fakeDataField_divValueEditor',\n      caption: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormValueColumnCaption),\n      width: allowNullColumn ? '40%' : '50%',\n      cssClass: 'dx-parameter-value-editor',\n      showEditorAlways: true,\n      editCellTemplate: function (cellElement, cellInfo) {\n        _jquery_helpers_1.$unwrap(cellElement).appendChild(_jquery_helpers_1.$unwrap(cellInfo.data.divValueEditor));\n      }\n    }];\n    this.appendNullGridColumn(gridColumns);\n    return gridColumns;\n  };\n\n  parametersDialog.prototype._generateContent = function (element, controlCreationCallbacks, subscribeValueChanged) {\n    if (subscribeValueChanged === void 0) {\n      subscribeValueChanged = false;\n    }\n\n    var that = this,\n        parameterEntities = that.getParametersCollection().getVisibleParameters().map(function (parameter) {\n      var parameterEntity = that._getParameterEntity(parameter, controlCreationCallbacks);\n\n      if (subscribeValueChanged) {\n        parameterEntity.valueChanged.add(function (e) {\n          return that.valueChanged.fire();\n        });\n      }\n\n      return parameterEntity;\n    });\n\n    this.submitParameterValues = function () {\n      that.submitParameters(parameterEntities.map(function (parameterEntity) {\n        return parameterEntity.wrapParameter();\n      }));\n    };\n\n    this.resetParameterValues = function () {\n      var parametersCollection = that.getParametersCollection();\n      parameterEntities.forEach(function (parameterEntity) {\n        parameterEntity.setValue(parametersCollection.getParameterDefaultValue(parameterEntity.name));\n      });\n    };\n\n    this.setActualState = function () {\n      var parametersCollection = that.getParametersCollection();\n      parameterEntities.forEach(function (parameterEntity) {\n        var parameter = parametersCollection.getParameterByName(parameterEntity.name);\n\n        if (parameter) {\n          var lookUpValues = parameter.getLookUpValues();\n          if (lookUpValues !== null) parameterEntity.setLookUpValues(lookUpValues);\n          parameterEntity.setValue(parameter.getValue());\n        }\n      });\n    };\n\n    var gridOptions = {\n      dataSource: parameterEntities,\n      columns: that.createGridColumns(),\n      width: '100%',\n      height: '100%',\n      showColumnLines: true,\n      showRowLines: true,\n      allowColumnResizing: true,\n      loadPanel: {\n        enabled: false\n      },\n      repaintChangesOnly: true,\n      editing: {\n        mode: 'cell',\n        allowUpdating: true,\n        refreshMode: 'repaint'\n      },\n      paging: {\n        enabled: false\n      },\n      sorting: {\n        mode: 'none'\n      },\n      scrolling: {\n        mode: 'standard'\n      }\n    };\n\n    if (themes_1.default.isMaterial(themes_1.default.current())) {\n      gridOptions.showBorders = true;\n      gridOptions.rowAlternationEnabled = parameterEntities.length > 2;\n    }\n\n    return new data_grid_1.default(element, gridOptions);\n  };\n\n  parametersDialog.prototype.generateContent = function (element, disposeCallback) {\n    var _this = this;\n\n    var controlCreationCallbacks = _jquery_helpers_1.createJQueryCallbacks();\n\n    this._disposeGrid();\n\n    this._dataGrid = this._generateContent(element, controlCreationCallbacks, true);\n\n    var prepareActualValues = function (controlCreationCallbacks) {\n      controlCreationCallbacks.fire();\n\n      _this.setActualState();\n    };\n\n    prepareActualValues(controlCreationCallbacks);\n    return {\n      grid: this._dataGrid,\n      submitParameterValues: function () {\n        return _this.submitParameterValues();\n      },\n      resetParameterValues: function () {\n        return _this.resetParameterValues();\n      },\n      valueChanged: this.valueChanged,\n      dispose: function () {\n        _this.dispose();\n\n        disposeCallback && disposeCallback();\n      }\n    };\n  };\n\n  parametersDialog.prototype.show = function () {\n    this.dialogForm.showDialog();\n  };\n\n  parametersDialog.prototype.hide = function () {\n    this.dialogForm.hideDialog();\n  };\n\n  parametersDialog.prototype.dispose = function () {\n    this.dialogForm && this.dialogForm.dispose();\n\n    this._disposeGrid();\n  };\n\n  parametersDialog.prototype._getParameterEntity = function (parameter, controlCreationCallbacks) {\n    var _this = this;\n\n    var entityOptions = {\n      name: parameter.getName(),\n      description: parameter.getDescription(),\n      defaultValue: parameter.getDefaultValue(),\n      controlCreationCallbacks: controlCreationCallbacks,\n      allowNull: parameter.getAllowNull(),\n      allowMultiselect: parameter.getAllowMultiselect(),\n      type: parameter.getType(),\n      value: parameter.getValue()\n    };\n\n    if (parameter.getLookUpValues() !== null) {\n      if (entityOptions.allowMultiselect) {\n        return new ParameterEntity(__assign(__assign({}, entityOptions), {\n          valueName: 'value',\n          createControl: function (element) {\n            return new tag_box_1.default(element, {\n              showDropDownButton: true,\n              showSelectionControls: true,\n              selectAllMode: 'allPages',\n              multiline: false,\n              tagTemplate: function (data, $element) {\n                var element = _jquery_helpers_1.$unwrap($element);\n\n                if (element) {\n                  element.innerText = $(element).is(':first-child') ? data.displayValue : ', ' + data.displayValue;\n                  element.classList.add(dialogClasses.multiselectValuePart);\n                  return element;\n                }\n\n                return undefined;\n              },\n              searchEnabled: true,\n              selectAllText: _default_1.getLocalizationById('DashboardStringId.FilterElementShowAllItem'),\n              noDataText: _default_1.getLocalizationById('DashboardStringId.FilterElementNoDataToDisplay'),\n              displayExpr: 'displayValue',\n              valueExpr: 'value',\n              searchExpr: 'displayValue',\n              placeholder: _localizer_1.localizer.getString(_localization_ids_1.localizationId.ParametersSelectorText),\n              dropDownOptions: {\n                container: _this.options.parametersDialogContainer\n              }\n            });\n          }\n        }));\n      } else {\n        return new ParameterEntity(__assign(__assign({}, entityOptions), {\n          valueName: 'value',\n          createControl: function (element) {\n            return new select_box_1.default(element, {\n              searchEnabled: true,\n              selectAllText: _default_1.getLocalizationById('DashboardStringId.FilterElementShowAllItem'),\n              noDataText: _default_1.getLocalizationById('DashboardStringId.FilterElementNoDataToDisplay'),\n              displayExpr: 'displayValue',\n              valueExpr: 'value',\n              searchExpr: 'displayValue',\n              placeholder: _localizer_1.localizer.getString(_localization_ids_1.localizationId.ParametersSelectorText),\n              dropDownOptions: {\n                container: _this.options.parametersDialogContainer\n              }\n            });\n          }\n        }));\n      }\n    } else {\n      switch (parameter.getType()) {\n        case exports.parameterTypes.string:\n          return new ParameterEntity(__assign(__assign({}, entityOptions), {\n            valueName: 'value',\n            createControl: function (element) {\n              return new text_box_1.default(element);\n            }\n          }));\n\n        case exports.parameterTypes.int:\n          return new ParameterEntity(__assign(__assign({}, entityOptions), {\n            valueName: 'value',\n            createControl: function (element) {\n              return new number_box_1.default(element, {\n                showSpinButtons: true,\n                step: 1\n              });\n            }\n          }));\n\n        case exports.parameterTypes.float:\n          return new ParameterEntity(__assign(__assign({}, entityOptions), {\n            valueName: 'value',\n            createControl: function (element) {\n              return new number_box_1.default(element, {\n                showSpinButtons: true,\n                step: 0.1\n              });\n            }\n          }));\n\n        case exports.parameterTypes.bool:\n          return new ParameterEntity(__assign(__assign({}, entityOptions), {\n            valueName: 'value',\n            createControl: function (element) {\n              return new check_box_1.default(element);\n            }\n          }));\n\n        case exports.parameterTypes.dateTime:\n          return new ParameterEntity(__assign(__assign({}, entityOptions), {\n            valueName: 'value',\n            createControl: function (element) {\n              return new date_box_1.default(element, {\n                pickerType: _dashboard_layout_mode_helper_1.DashboardLayoutModeHelper.isTouch ? 'rollers' : 'calendar',\n                width: '100%',\n                applyButtonText: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonOK),\n                cancelButtonText: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonCancel),\n                placeholder: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.SelectDate),\n                dropDownOptions: {\n                  container: _this.options.parametersDialogContainer\n                },\n                onPopupInitialized: function (e) {\n                  var popup = e.popup;\n\n                  if (popup) {\n                    var todayBtn = {\n                      widget: 'dxButton',\n                      toolbar: 'bottom',\n                      location: 'center',\n                      options: {\n                        text: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormCalendarTodayButton),\n                        onClick: function () {\n                          var dateBox = e.component;\n\n                          if (dateBox) {\n                            var todate = new Date();\n                            todate.setHours(0, 0, 0, 0);\n                            dateBox.option('value', todate);\n                          }\n                        }\n                      }\n                    };\n\n                    if (_dashboard_layout_mode_helper_1.DashboardLayoutModeHelper.isTouch) {\n                      popup.option('toolbarItems').push(todayBtn);\n                    } else {\n                      popup.option('toolbarItems', [todayBtn]);\n                    }\n                  }\n                }\n              });\n            }\n          }));\n\n        case exports.parameterTypes.guid:\n          return new ParameterEntity(__assign(__assign({}, entityOptions), {\n            valueName: 'value',\n            createControl: function (element) {\n              return new text_box_1.default(element, {\n                mask: 'hhhhhhhh-hhhh-hhhh-hhhh-hhhhhhhhhhhh',\n                maskRules: {\n                  'h': /[0-9A-Fa-f]/\n                },\n                useMaskedValue: true\n              });\n            }\n          }));\n      }\n    }\n  };\n\n  return parametersDialog;\n}();\n\nexports.parametersDialog = parametersDialog;\n\nvar ParameterEntity = function () {\n  function ParameterEntity(options) {\n    this.lookUpValues = [];\n    this.valueChanged = _jquery_helpers_1.createJQueryCallbacks();\n    this.name = options.name;\n    this.type = options.type;\n    this.description = options.description ? options.description : this.name;\n    this.defaultValue = options.defaultValue;\n    this.value = options.value;\n    this.lookUpValues = [];\n    this.allowNull = options.allowNull;\n    this.allowMultiselect = options.allowMultiselect;\n    this.createControl = options.createControl;\n    this.valueName = options.valueName;\n    this.controlCreationCallbacks = options.controlCreationCallbacks;\n    this.divValueEditor = document.createElement('div');\n    this.divValueEditor.classList.add(dialogClasses.valueEditor);\n    this.divValueEditor.classList.add(dialogClasses.valueEditor + '-' + this.type.toLowerCase());\n    this.divValueEditor.classList.add(dialogClasses.allowNullCheckBoxSize);\n\n    if (this.allowNull) {\n      this.divAllowNull = document.createElement('div');\n      this.divAllowNull.classList.add(dialogClasses.allowNullCheckBox);\n      this.divAllowNull.classList.add(dialogClasses.allowNullCheckBoxSize);\n    } else {\n      this.divAllowNull = document.createElement('center');\n      this.divAllowNull.innerText = 'n/a';\n    }\n\n    this._addControl();\n  }\n\n  ParameterEntity.prototype.dispose = function () {\n    if (this.allowNullControl) {\n      this.allowNullControl.dispose();\n    }\n\n    if (this.control) {\n      this.control.dispose();\n    }\n  };\n\n  ParameterEntity.prototype.getValue = function () {\n    if (this.allowNull && this.allowNullControl.option('value') === true) return null;else return this.control.option(this.valueName);\n  };\n\n  ParameterEntity.prototype.setValue = function (value) {\n    if (this.allowMultiselect) {\n      if (value === null || value === undefined) {\n        value = [];\n      } else if (!Array.isArray(value)) {\n        value = [{\n          displayValue: value,\n          value: value\n        }];\n      }\n    }\n\n    this.control.option('value', value);\n  };\n\n  ParameterEntity.prototype.setLookUpValues = function (values) {\n    var newValues = [];\n    values.forEach(function (value) {\n      newValues.push({\n        value: value.getValue(),\n        displayValue: value.getDisplayText()\n      });\n    });\n    this.lookUpValues = newValues;\n    this.control.option('dataSource', new data_source_1.default(newValues));\n  };\n\n  ParameterEntity.prototype.wrapParameter = function () {\n    return {\n      Name: this.name,\n      Value: this.getValue()\n    };\n  };\n\n  ParameterEntity.prototype._addControl = function () {\n    var _this = this;\n\n    this.controlCreationCallbacks.add(function (component) {\n      if (!_this.control) {\n        _this.control = _this.createControl(_this.divValueEditor);\n\n        _this.control.option('onValueChanged', _this.allowNull ? function (e) {\n          var passNull = _this.allowNullControl.option('value'),\n              value = _this.control.option('value');\n\n          if (_this.allowMultiselect) {\n            if (passNull === true && value.length > 0) _this.allowNullControl.option('value', false);else if (passNull === false && value.length === 0) _this.allowNullControl.option('value', true);\n          } else if (passNull === false && value === null) _this.allowNullControl.option('value', true);else if (passNull === true && value !== null) _this.allowNullControl.option('value', false);\n\n          _this.valueChanged.fire();\n        } : function (e) {\n          _this.valueChanged.fire();\n        });\n\n        if (_this.allowNull) {\n          _this.allowNullControl = new check_box_1.default(_this.divAllowNull, {\n            value: _this.value === null,\n            onValueChanged: function (e) {\n              var value = _this.control.option('value');\n\n              if (e.value) {\n                _this.value = value;\n                if (_this.allowMultiselect && value !== []) _this.control.option('value', []);else if (value !== null) _this.control.option('value', null);\n              } else if (value === null || value.length === 0) _this.control.option('value', _this.value);\n            }\n          });\n        }\n      }\n    });\n  };\n\n  return ParameterEntity;\n}();\n\nexports.ParameterEntity = ParameterEntity;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/widgets/dialogs/_parameters-dialog.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","ParameterEntity","parametersDialog","parameterTypes","data_source_1","require","check_box_1","data_grid_1","date_box_1","number_box_1","select_box_1","tag_box_1","text_box_1","themes_1","$","_default_1","_jquery_helpers_1","_localization_ids_1","_localizer_1","_constants_1","_dashboard_layout_mode_helper_1","_dialog_form_1","genericParametersDialogSizes","fakeElementsHeight","fakeParametersDialogGridRowHeight","dialogClasses","allowNullCheckBox","allowNullCheckBoxSize","valueEditor","multiselectValuePart","theme","parametersForm","string","int","float","bool","dateTime","selector","multiselector","guid","options","valueChanged","createJQueryCallbacks","getParametersCollection","submitParameters","_initialize","_this","that","numberOfParameters","getVisibleParameters","scroll","allowNullColumn","parameterEntities","notScrollHeight","default","isMaterial","current","devExtremeConstants","materialPopupToolbarHeight","dxPopupTitleBorderBottom","dxDatagridHeadersBorder","dashboardConstants","materialParametersDialogFormPaddingTop","materialGridBaseHeaderHeight","materialGridBaseCellHeight","materialGridBaseRowBorder","materialParametersDialogFormPaddingBottom","materialPopupContentPadding","materialButtonHeight","dialogForm","title","localizer","getString","localizationId","labelName","ParametersFormCaption","fullScreenMode","dialogContainer","parametersDialogContainer","width","dialogSizes","minWidth","height","allowScrolling","deferredRendering","onShowing","onShown","onHidden","buttons","name","buttonNames","ButtonReset","func","resetParameterValues","ButtonSubmit","hide","submitParameterValues","isDefault","ButtonCancel","renderContent","controlCreationCallbacks","document","createElement","classList","add","form","_dataGrid","_generateContent","disposeContent","_disposeGrid","setActualState","option","forEach","entry","dispose","appendNullGridColumn","gridColumns","push","createNullColumn","allowNullValues","parameter","getAllowNull","dataField","caption","ParametersFormAllowNullColumnCaption","alignment","allowEditing","cellTemplate","container","entity","data","$unwrap","appendChild","divAllowNull","createGridColumns","ParametersFormNameColumnCaption","dataType","ParametersFormValueColumnCaption","cssClass","showEditorAlways","editCellTemplate","cellElement","cellInfo","divValueEditor","element","subscribeValueChanged","map","parameterEntity","_getParameterEntity","e","fire","wrapParameter","parametersCollection","setValue","getParameterDefaultValue","getParameterByName","lookUpValues","getLookUpValues","setLookUpValues","getValue","gridOptions","dataSource","columns","showColumnLines","showRowLines","allowColumnResizing","loadPanel","enabled","repaintChangesOnly","editing","mode","allowUpdating","refreshMode","paging","sorting","scrolling","showBorders","rowAlternationEnabled","generateContent","disposeCallback","prepareActualValues","grid","show","showDialog","hideDialog","entityOptions","getName","description","getDescription","defaultValue","getDefaultValue","allowNull","allowMultiselect","getAllowMultiselect","type","getType","valueName","createControl","showDropDownButton","showSelectionControls","selectAllMode","multiline","tagTemplate","$element","innerText","is","displayValue","undefined","searchEnabled","selectAllText","getLocalizationById","noDataText","displayExpr","valueExpr","searchExpr","placeholder","ParametersSelectorText","dropDownOptions","showSpinButtons","step","pickerType","DashboardLayoutModeHelper","isTouch","applyButtonText","ButtonOK","cancelButtonText","SelectDate","onPopupInitialized","popup","todayBtn","widget","toolbar","location","text","ParametersFormCalendarTodayButton","onClick","dateBox","component","todate","Date","setHours","mask","maskRules","useMaskedValue","toLowerCase","_addControl","allowNullControl","control","Array","isArray","values","newValues","getDisplayText","Name","Value","passNull","onValueChanged"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_parameters-dialog.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ParameterEntity = exports.parametersDialog = exports.parameterTypes = void 0;\nvar data_source_1 = require(\"devextreme/data/data_source\");\nrequire(\"devextreme/ui/check_box\");\nvar check_box_1 = require(\"devextreme/ui/check_box\");\nvar data_grid_1 = require(\"devextreme/ui/data_grid\");\nvar date_box_1 = require(\"devextreme/ui/date_box\");\nvar number_box_1 = require(\"devextreme/ui/number_box\");\nvar select_box_1 = require(\"devextreme/ui/select_box\");\nvar tag_box_1 = require(\"devextreme/ui/tag_box\");\nvar text_box_1 = require(\"devextreme/ui/text_box\");\nvar themes_1 = require(\"devextreme/ui/themes\");\nvar $ = require(\"jquery\");\nvar _default_1 = require(\"../../../data/localization/_default\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar _localization_ids_1 = require(\"../../../data/_localization-ids\");\nvar _localizer_1 = require(\"../../../data/_localizer\");\nvar _constants_1 = require(\"../../../styles/_constants\");\nvar _dashboard_layout_mode_helper_1 = require(\"../../_dashboard-layout-mode-helper\");\nvar _dialog_form_1 = require(\"./_dialog-form\");\nvar genericParametersDialogSizes = {\n    fakeElementsHeight: 172,\n    fakeParametersDialogGridRowHeight: 34,\n};\nvar dialogClasses = {\n    allowNullCheckBox: 'dx-parameter-allownull-checkbox',\n    allowNullCheckBoxSize: 'dx-datagrid-checkbox-size',\n    valueEditor: 'dx-parameter-value-editor',\n    multiselectValuePart: 'dx-dashboard-dialog-parameters-tag',\n    theme: 'dx-dashboard-theme',\n    parametersForm: 'dx-dashboard-parameters-dialog-form',\n};\nexports.parameterTypes = {\n    string: 'String',\n    int: 'Int',\n    float: 'Float',\n    bool: 'Bool',\n    dateTime: 'DateTime',\n    selector: 'Selector',\n    multiselector: 'Multiselector',\n    guid: 'Guid'\n};\nvar parametersDialog = (function () {\n    function parametersDialog(options) {\n        this.valueChanged = _jquery_helpers_1.createJQueryCallbacks();\n        this.options = options;\n        if (this.options.getParametersCollection) {\n            this.getParametersCollection = this.options.getParametersCollection;\n        }\n        if (this.options.submitParameters) {\n            this.submitParameters = this.options.submitParameters;\n        }\n        this._initialize();\n    }\n    parametersDialog.prototype._initialize = function () {\n        var _this = this;\n        var that = this, options = that.options, numberOfParameters = that.getParametersCollection().getVisibleParameters().length, scroll = numberOfParameters > 8, allowNullColumn = that.allowNullColumn(), submitParameters = that.submitParameters, parameterEntities = [];\n        var notScrollHeight = themes_1.default.isMaterial(themes_1.default.current()) ?\n            _constants_1.devExtremeConstants.materialPopupToolbarHeight + _constants_1.devExtremeConstants.dxPopupTitleBorderBottom + 2 * _constants_1.devExtremeConstants.dxDatagridHeadersBorder +\n                _constants_1.dashboardConstants.materialParametersDialogFormPaddingTop +\n                _constants_1.devExtremeConstants.materialGridBaseHeaderHeight + _constants_1.devExtremeConstants.dxDatagridHeadersBorder +\n                numberOfParameters * (_constants_1.devExtremeConstants.materialGridBaseCellHeight + _constants_1.devExtremeConstants.materialGridBaseRowBorder) +\n                _constants_1.dashboardConstants.materialParametersDialogFormPaddingBottom +\n                _constants_1.devExtremeConstants.materialPopupContentPadding * 2 + _constants_1.devExtremeConstants.materialButtonHeight\n            :\n                (numberOfParameters + 1) * genericParametersDialogSizes.fakeParametersDialogGridRowHeight + genericParametersDialogSizes.fakeElementsHeight;\n        that.dialogForm = new _dialog_form_1.dialogForm({\n            title: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormCaption),\n            fullScreenMode: options.fullScreenMode,\n            dialogContainer: options.parametersDialogContainer,\n            width: allowNullColumn ? _dialog_form_1.dialogSizes.width : _dialog_form_1.dialogSizes.minWidth,\n            height: scroll ? _dialog_form_1.dialogSizes.height : notScrollHeight,\n            allowScrolling: false,\n            deferredRendering: false,\n            onShowing: options.onShowing,\n            onShown: options.onShown,\n            onHidden: options.onHidden,\n            buttons: [{\n                    name: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonReset),\n                    func: function () { return that.resetParameterValues(); }\n                }, {\n                    name: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonSubmit), hide: true,\n                    func: function () { return that.submitParameterValues(); },\n                    isDefault: true\n                }, {\n                    name: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonCancel), hide: true,\n                    func: function () { }\n                }],\n            renderContent: function (controlCreationCallbacks) {\n                var parametersForm = document.createElement('div');\n                parametersForm.classList.add(_dialog_form_1.dialogClasses.form);\n                parametersForm.classList.add(dialogClasses.parametersForm);\n                _this._dataGrid = that._generateContent(parametersForm, controlCreationCallbacks);\n                return parametersForm;\n            },\n            disposeContent: function () {\n                _this._disposeGrid();\n            },\n            setActualState: function () {\n                that.setActualState();\n            }\n        });\n    };\n    parametersDialog.prototype._disposeGrid = function () {\n        if (this._dataGrid) {\n            this._dataGrid.option('dataSource').forEach(function (entry) { return entry.dispose(); });\n            this._dataGrid.dispose();\n        }\n    };\n    parametersDialog.prototype.appendNullGridColumn = function (gridColumns) {\n        if (this.allowNullColumn())\n            gridColumns.push(this.createNullColumn());\n    };\n    parametersDialog.prototype.allowNullColumn = function () {\n        var allowNullValues;\n        this.getParametersCollection().getVisibleParameters().forEach(function (parameter) {\n            if (parameter.getAllowNull())\n                allowNullValues = true;\n        });\n        return allowNullValues;\n    };\n    parametersDialog.prototype.createNullColumn = function () {\n        return {\n            dataField: 'fakeDataField_divAllowNull',\n            caption: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormAllowNullColumnCaption),\n            width: '20%',\n            alignment: 'center',\n            allowEditing: false,\n            cellTemplate: function (container, options) {\n                var entity = options.data;\n                _jquery_helpers_1.$unwrap(container).appendChild(_jquery_helpers_1.$unwrap(entity.divAllowNull));\n            }\n        };\n    };\n    parametersDialog.prototype.createGridColumns = function () {\n        var allowNullColumn = this.allowNullColumn();\n        var gridColumns = [{\n                dataField: 'description',\n                caption: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormNameColumnCaption),\n                dataType: 'string',\n                width: allowNullColumn ? '40%' : '50%',\n                allowEditing: false\n            }, {\n                dataField: 'fakeDataField_divValueEditor',\n                caption: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormValueColumnCaption),\n                width: allowNullColumn ? '40%' : '50%',\n                cssClass: 'dx-parameter-value-editor',\n                showEditorAlways: true,\n                editCellTemplate: function (cellElement, cellInfo) {\n                    _jquery_helpers_1.$unwrap(cellElement).appendChild(_jquery_helpers_1.$unwrap(cellInfo.data.divValueEditor));\n                }\n            }];\n        this.appendNullGridColumn(gridColumns);\n        return gridColumns;\n    };\n    parametersDialog.prototype._generateContent = function (element, controlCreationCallbacks, subscribeValueChanged) {\n        if (subscribeValueChanged === void 0) { subscribeValueChanged = false; }\n        var that = this, parameterEntities = that.getParametersCollection().getVisibleParameters().map(function (parameter) {\n            var parameterEntity = that._getParameterEntity(parameter, controlCreationCallbacks);\n            if (subscribeValueChanged) {\n                parameterEntity.valueChanged.add(function (e) { return that.valueChanged.fire(); });\n            }\n            return parameterEntity;\n        });\n        this.submitParameterValues = function () {\n            that.submitParameters(parameterEntities.map(function (parameterEntity) { return parameterEntity.wrapParameter(); }));\n        };\n        this.resetParameterValues = function () {\n            var parametersCollection = that.getParametersCollection();\n            parameterEntities.forEach(function (parameterEntity) {\n                parameterEntity.setValue(parametersCollection.getParameterDefaultValue(parameterEntity.name));\n            });\n        };\n        this.setActualState = function () {\n            var parametersCollection = that.getParametersCollection();\n            parameterEntities.forEach(function (parameterEntity) {\n                var parameter = parametersCollection.getParameterByName(parameterEntity.name);\n                if (parameter) {\n                    var lookUpValues = parameter.getLookUpValues();\n                    if (lookUpValues !== null)\n                        parameterEntity.setLookUpValues(lookUpValues);\n                    parameterEntity.setValue(parameter.getValue());\n                }\n            });\n        };\n        var gridOptions = {\n            dataSource: parameterEntities,\n            columns: that.createGridColumns(),\n            width: '100%',\n            height: '100%',\n            showColumnLines: true,\n            showRowLines: true,\n            allowColumnResizing: true,\n            loadPanel: {\n                enabled: false\n            },\n            repaintChangesOnly: true,\n            editing: { mode: 'cell', allowUpdating: true, refreshMode: 'repaint' },\n            paging: { enabled: false },\n            sorting: { mode: 'none' },\n            scrolling: {\n                mode: 'standard'\n            }\n        };\n        if (themes_1.default.isMaterial(themes_1.default.current())) {\n            gridOptions.showBorders = true;\n            gridOptions.rowAlternationEnabled = parameterEntities.length > 2;\n        }\n        return new data_grid_1.default(element, gridOptions);\n    };\n    parametersDialog.prototype.generateContent = function (element, disposeCallback) {\n        var _this = this;\n        var controlCreationCallbacks = _jquery_helpers_1.createJQueryCallbacks();\n        this._disposeGrid();\n        this._dataGrid = this._generateContent(element, controlCreationCallbacks, true);\n        var prepareActualValues = function (controlCreationCallbacks) {\n            controlCreationCallbacks.fire();\n            _this.setActualState();\n        };\n        prepareActualValues(controlCreationCallbacks);\n        return {\n            grid: this._dataGrid,\n            submitParameterValues: function () { return _this.submitParameterValues(); },\n            resetParameterValues: function () { return _this.resetParameterValues(); },\n            valueChanged: this.valueChanged,\n            dispose: function () {\n                _this.dispose();\n                disposeCallback && disposeCallback();\n            }\n        };\n    };\n    parametersDialog.prototype.show = function () {\n        this.dialogForm.showDialog();\n    };\n    parametersDialog.prototype.hide = function () {\n        this.dialogForm.hideDialog();\n    };\n    parametersDialog.prototype.dispose = function () {\n        this.dialogForm && this.dialogForm.dispose();\n        this._disposeGrid();\n    };\n    parametersDialog.prototype._getParameterEntity = function (parameter, controlCreationCallbacks) {\n        var _this = this;\n        var entityOptions = {\n            name: parameter.getName(),\n            description: parameter.getDescription(),\n            defaultValue: parameter.getDefaultValue(),\n            controlCreationCallbacks: controlCreationCallbacks,\n            allowNull: parameter.getAllowNull(),\n            allowMultiselect: parameter.getAllowMultiselect(),\n            type: parameter.getType(),\n            value: parameter.getValue()\n        };\n        if (parameter.getLookUpValues() !== null) {\n            if (entityOptions.allowMultiselect) {\n                return new ParameterEntity(__assign(__assign({}, entityOptions), { valueName: 'value', createControl: function (element) { return new tag_box_1.default(element, {\n                        showDropDownButton: true,\n                        showSelectionControls: true,\n                        selectAllMode: 'allPages',\n                        multiline: false,\n                        tagTemplate: function (data, $element) {\n                            var element = _jquery_helpers_1.$unwrap($element);\n                            if (element) {\n                                element.innerText = $(element).is(':first-child') ? data.displayValue : ', ' + data.displayValue;\n                                element.classList.add(dialogClasses.multiselectValuePart);\n                                return element;\n                            }\n                            return undefined;\n                        },\n                        searchEnabled: true,\n                        selectAllText: _default_1.getLocalizationById('DashboardStringId.FilterElementShowAllItem'),\n                        noDataText: _default_1.getLocalizationById('DashboardStringId.FilterElementNoDataToDisplay'),\n                        displayExpr: 'displayValue',\n                        valueExpr: 'value',\n                        searchExpr: 'displayValue',\n                        placeholder: _localizer_1.localizer.getString(_localization_ids_1.localizationId.ParametersSelectorText),\n                        dropDownOptions: {\n                            container: _this.options.parametersDialogContainer\n                        }\n                    }); } }));\n            }\n            else {\n                return new ParameterEntity(__assign(__assign({}, entityOptions), { valueName: 'value', createControl: function (element) { return new select_box_1.default(element, {\n                        searchEnabled: true,\n                        selectAllText: _default_1.getLocalizationById('DashboardStringId.FilterElementShowAllItem'),\n                        noDataText: _default_1.getLocalizationById('DashboardStringId.FilterElementNoDataToDisplay'),\n                        displayExpr: 'displayValue',\n                        valueExpr: 'value',\n                        searchExpr: 'displayValue',\n                        placeholder: _localizer_1.localizer.getString(_localization_ids_1.localizationId.ParametersSelectorText),\n                        dropDownOptions: {\n                            container: _this.options.parametersDialogContainer\n                        }\n                    }); } }));\n            }\n        }\n        else {\n            switch (parameter.getType()) {\n                case exports.parameterTypes.string:\n                    return new ParameterEntity(__assign(__assign({}, entityOptions), { valueName: 'value', createControl: function (element) { return new text_box_1.default(element); } }));\n                case exports.parameterTypes.int:\n                    return new ParameterEntity(__assign(__assign({}, entityOptions), { valueName: 'value', createControl: function (element) { return new number_box_1.default(element, {\n                            showSpinButtons: true,\n                            step: 1\n                        }); } }));\n                case exports.parameterTypes.float:\n                    return new ParameterEntity(__assign(__assign({}, entityOptions), { valueName: 'value', createControl: function (element) { return new number_box_1.default(element, {\n                            showSpinButtons: true,\n                            step: 0.1\n                        }); } }));\n                case exports.parameterTypes.bool:\n                    return new ParameterEntity(__assign(__assign({}, entityOptions), { valueName: 'value', createControl: function (element) { return new check_box_1.default(element); } }));\n                case exports.parameterTypes.dateTime:\n                    return new ParameterEntity(__assign(__assign({}, entityOptions), { valueName: 'value', createControl: function (element) { return new date_box_1.default(element, {\n                            pickerType: _dashboard_layout_mode_helper_1.DashboardLayoutModeHelper.isTouch ? 'rollers' : 'calendar',\n                            width: '100%',\n                            applyButtonText: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonOK),\n                            cancelButtonText: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.ButtonCancel),\n                            placeholder: _localizer_1.localizer.getString(_localization_ids_1.localizationId.buttonNames.SelectDate),\n                            dropDownOptions: {\n                                container: _this.options.parametersDialogContainer\n                            },\n                            onPopupInitialized: function (e) {\n                                var popup = e.popup;\n                                if (popup) {\n                                    var todayBtn = {\n                                        widget: 'dxButton', toolbar: 'bottom', location: 'center',\n                                        options: {\n                                            text: _localizer_1.localizer.getString(_localization_ids_1.localizationId.labelName.ParametersFormCalendarTodayButton),\n                                            onClick: function () {\n                                                var dateBox = e.component;\n                                                if (dateBox) {\n                                                    var todate = new Date();\n                                                    todate.setHours(0, 0, 0, 0);\n                                                    dateBox.option('value', todate);\n                                                }\n                                            }\n                                        }\n                                    };\n                                    if (_dashboard_layout_mode_helper_1.DashboardLayoutModeHelper.isTouch) {\n                                        popup.option('toolbarItems').push(todayBtn);\n                                    }\n                                    else {\n                                        popup.option('toolbarItems', [todayBtn]);\n                                    }\n                                }\n                            }\n                        }); } }));\n                case exports.parameterTypes.guid:\n                    return new ParameterEntity(__assign(__assign({}, entityOptions), { valueName: 'value', createControl: function (element) { return new text_box_1.default(element, {\n                            mask: 'hhhhhhhh-hhhh-hhhh-hhhh-hhhhhhhhhhhh',\n                            maskRules: { 'h': /[0-9A-Fa-f]/ },\n                            useMaskedValue: true\n                        }); } }));\n            }\n        }\n    };\n    return parametersDialog;\n}());\nexports.parametersDialog = parametersDialog;\nvar ParameterEntity = (function () {\n    function ParameterEntity(options) {\n        this.lookUpValues = [];\n        this.valueChanged = _jquery_helpers_1.createJQueryCallbacks();\n        this.name = options.name;\n        this.type = options.type;\n        this.description = options.description ? options.description : this.name;\n        this.defaultValue = options.defaultValue;\n        this.value = options.value;\n        this.lookUpValues = [];\n        this.allowNull = options.allowNull;\n        this.allowMultiselect = options.allowMultiselect;\n        this.createControl = options.createControl;\n        this.valueName = options.valueName;\n        this.controlCreationCallbacks = options.controlCreationCallbacks;\n        this.divValueEditor = document.createElement('div');\n        this.divValueEditor.classList.add(dialogClasses.valueEditor);\n        this.divValueEditor.classList.add(dialogClasses.valueEditor + '-' + this.type.toLowerCase());\n        this.divValueEditor.classList.add(dialogClasses.allowNullCheckBoxSize);\n        if (this.allowNull) {\n            this.divAllowNull = document.createElement('div');\n            this.divAllowNull.classList.add(dialogClasses.allowNullCheckBox);\n            this.divAllowNull.classList.add(dialogClasses.allowNullCheckBoxSize);\n        }\n        else {\n            this.divAllowNull = document.createElement('center');\n            this.divAllowNull.innerText = 'n/a';\n        }\n        this._addControl();\n    }\n    ParameterEntity.prototype.dispose = function () {\n        if (this.allowNullControl) {\n            this.allowNullControl.dispose();\n        }\n        if (this.control) {\n            this.control.dispose();\n        }\n    };\n    ParameterEntity.prototype.getValue = function () {\n        if (this.allowNull && this.allowNullControl.option('value') === true)\n            return null;\n        else\n            return this.control.option(this.valueName);\n    };\n    ParameterEntity.prototype.setValue = function (value) {\n        if (this.allowMultiselect) {\n            if ((value === null) || (value === undefined)) {\n                value = [];\n            }\n            else if (!Array.isArray(value)) {\n                value = [{ displayValue: value, value: value }];\n            }\n        }\n        this.control.option('value', value);\n    };\n    ParameterEntity.prototype.setLookUpValues = function (values) {\n        var newValues = [];\n        values.forEach(function (value) {\n            newValues.push({\n                value: value.getValue(),\n                displayValue: value.getDisplayText()\n            });\n        });\n        this.lookUpValues = newValues;\n        this.control.option('dataSource', new data_source_1.default(newValues));\n    };\n    ParameterEntity.prototype.wrapParameter = function () {\n        return {\n            Name: this.name,\n            Value: this.getValue()\n        };\n    };\n    ParameterEntity.prototype._addControl = function () {\n        var _this = this;\n        this.controlCreationCallbacks.add(function (component) {\n            if (!_this.control) {\n                _this.control = _this.createControl(_this.divValueEditor);\n                _this.control.option('onValueChanged', _this.allowNull ?\n                    function (e) {\n                        var passNull = _this.allowNullControl.option('value'), value = _this.control.option('value');\n                        if (_this.allowMultiselect) {\n                            if (passNull === true && value.length > 0)\n                                _this.allowNullControl.option('value', false);\n                            else if (passNull === false && value.length === 0)\n                                _this.allowNullControl.option('value', true);\n                        }\n                        else if (passNull === false && value === null)\n                            _this.allowNullControl.option('value', true);\n                        else if (passNull === true && value !== null)\n                            _this.allowNullControl.option('value', false);\n                        _this.valueChanged.fire();\n                    } :\n                    function (e) {\n                        _this.valueChanged.fire();\n                    });\n                if (_this.allowNull) {\n                    _this.allowNullControl = new check_box_1.default(_this.divAllowNull, {\n                        value: _this.value === null,\n                        onValueChanged: function (e) {\n                            var value = _this.control.option('value');\n                            if (e.value) {\n                                _this.value = value;\n                                if (_this.allowMultiselect && value !== [])\n                                    _this.control.option('value', []);\n                                else if (value !== null)\n                                    _this.control.option('value', null);\n                            }\n                            else if (value === null || value.length === 0)\n                                _this.control.option('value', _this.value);\n                        }\n                    });\n                }\n            }\n        });\n    };\n    return ParameterEntity;\n}());\nexports.ParameterEntity = ParameterEntity;\n"]},"metadata":{},"sourceType":"script"}