{"ast":null,"code":"/**\n* DevExpress Analytics (query-builder\\widgets\\masterdetaileditor\\_masterDetailEditor.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MasterDetailEditor = void 0;\n\nvar ko = require(\"knockout\");\n\nvar $ = require(\"jquery\");\n\nvar localization_utils_1 = require(\"../../../property-grid/localization/localization_utils\");\n\nvar _localizationStringIds_1 = require(\"../../../property-grid/localization/_localizationStringIds\");\n\nvar _popupService_1 = require(\"../../../property-grid/internal/_popupService\");\n\nvar _infoMessageHelpers_1 = require(\"../../../core/utils/_infoMessageHelpers\");\n\nvar _masterDetailEditorPopupManager_1 = require(\"./_masterDetailEditorPopupManager\");\n\nvar _arrayutils_1 = require(\"../../../core/utils/_arrayutils\");\n\nvar _masterQuerySurface_1 = require(\"./_masterQuerySurface\");\n\nvar _popupEditorBase_1 = require(\"../../../core/widgets/_popupEditorBase\");\n\nvar MasterDetailEditor = function (_super) {\n  __extends(MasterDetailEditor, _super);\n\n  function MasterDetailEditor(relations, resultSet, saveCallBack) {\n    var _this = _super.call(this) || this;\n\n    _this.isValid = ko.observable(true);\n    _this.loadPanelVisible = ko.observable(false);\n    _this.masterQueries = ko.observableArray();\n    _this.popupService = new _popupService_1.PopupService();\n\n    _this.save = function () {\n      var emptyFieldsExist = relations().some(function (relation) {\n        return !relation.detailQuery() || !relation.masterQuery() || relation.keyColumns().some(function (column) {\n          return !column.detailColumn() || !column.masterColumn();\n        });\n      });\n\n      if (emptyFieldsExist) {\n        _infoMessageHelpers_1.ShowMessage(localization_utils_1.getLocalization('Some fields are empty. Please fill all empty fields or remove the corresponding conditions to proceed.', 'DataAccessUIStringId.JoinEditorFillAllFieldsException'));\n      } else {\n        saveCallBack().done(function () {\n          _this.popupVisible(false);\n        });\n      }\n    };\n\n    _this.createRelation = function (target) {\n      var popupItems = resultSet.tables().filter(function (table) {\n        return table.tableName() !== target.queryName;\n      }).map(function (table) {\n        return {\n          name: table.tableName()\n        };\n      });\n      return {\n        data: new _masterDetailEditorPopupManager_1.MasterDetailEditorPopupManager(target, _this.popupService, 'create', popupItems),\n        templateName: 'dx-filtereditor-create'\n      };\n    };\n\n    _this.setColumn = function (target) {\n      var table = _arrayutils_1.getFirstItemByPropertyValue(resultSet.tables(), 'tableName', target.queryName);\n\n      return {\n        data: new _masterDetailEditorPopupManager_1.MasterDetailEditorPopupManager(target, _this.popupService, 'setColumn', table ? table.columns() : []),\n        templateName: 'dx-masterdetail-editor-setColumn'\n      };\n    };\n\n    _this._createMainPopupButtons();\n\n    var masterQueries = {};\n    resultSet.tables().forEach(function (table) {\n      masterQueries[table.tableName()] = new _masterQuerySurface_1.MasterQuerySurface(table.tableName(), relations);\n    });\n    relations().forEach(function (relation) {\n      masterQueries[relation.masterQuery()] = masterQueries[relation.masterQuery()] || new _masterQuerySurface_1.MasterQuerySurface(relation.masterQuery(), relations);\n      masterQueries[relation.masterQuery()].add(relation);\n    });\n\n    _this.masterQueries($.map(masterQueries, function (value) {\n      return value;\n    }));\n\n    return _this;\n  }\n\n  MasterDetailEditor.prototype.title = function () {\n    return localization_utils_1.getLocalization('Master-Detail Relation Editor', _localizationStringIds_1.StringId.MasterDetailRelationsEditor);\n  };\n\n  return MasterDetailEditor;\n}(_popupEditorBase_1.PopupEditorBase);\n\nexports.MasterDetailEditor = MasterDetailEditor;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/query-builder/widgets/masterdetaileditor/_masterDetailEditor.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","MasterDetailEditor","ko","require","$","localization_utils_1","_localizationStringIds_1","_popupService_1","_infoMessageHelpers_1","_masterDetailEditorPopupManager_1","_arrayutils_1","_masterQuerySurface_1","_popupEditorBase_1","_super","relations","resultSet","saveCallBack","_this","isValid","observable","loadPanelVisible","masterQueries","observableArray","popupService","PopupService","save","emptyFieldsExist","some","relation","detailQuery","masterQuery","keyColumns","column","detailColumn","masterColumn","ShowMessage","getLocalization","done","popupVisible","createRelation","target","popupItems","tables","filter","table","tableName","queryName","map","name","data","MasterDetailEditorPopupManager","templateName","setColumn","getFirstItemByPropertyValue","columns","_createMainPopupButtons","forEach","MasterQuerySurface","add","title","StringId","MasterDetailRelationsEditor","PopupEditorBase"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (query-builder\\widgets\\masterdetaileditor\\_masterDetailEditor.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MasterDetailEditor = void 0;\nvar ko = require(\"knockout\");\nvar $ = require(\"jquery\");\nvar localization_utils_1 = require(\"../../../property-grid/localization/localization_utils\");\nvar _localizationStringIds_1 = require(\"../../../property-grid/localization/_localizationStringIds\");\nvar _popupService_1 = require(\"../../../property-grid/internal/_popupService\");\nvar _infoMessageHelpers_1 = require(\"../../../core/utils/_infoMessageHelpers\");\nvar _masterDetailEditorPopupManager_1 = require(\"./_masterDetailEditorPopupManager\");\nvar _arrayutils_1 = require(\"../../../core/utils/_arrayutils\");\nvar _masterQuerySurface_1 = require(\"./_masterQuerySurface\");\nvar _popupEditorBase_1 = require(\"../../../core/widgets/_popupEditorBase\");\nvar MasterDetailEditor = (function (_super) {\n    __extends(MasterDetailEditor, _super);\n    function MasterDetailEditor(relations, resultSet, saveCallBack) {\n        var _this = _super.call(this) || this;\n        _this.isValid = ko.observable(true);\n        _this.loadPanelVisible = ko.observable(false);\n        _this.masterQueries = ko.observableArray();\n        _this.popupService = new _popupService_1.PopupService();\n        _this.save = function () {\n            var emptyFieldsExist = relations().some(function (relation) {\n                return !relation.detailQuery() || !relation.masterQuery() ||\n                    relation.keyColumns().some(function (column) { return (!column.detailColumn() || !column.masterColumn()); });\n            });\n            if (emptyFieldsExist) {\n                _infoMessageHelpers_1.ShowMessage(localization_utils_1.getLocalization('Some fields are empty. Please fill all empty fields or remove the corresponding conditions to proceed.', 'DataAccessUIStringId.JoinEditorFillAllFieldsException'));\n            }\n            else {\n                saveCallBack().done(function () { _this.popupVisible(false); });\n            }\n        };\n        _this.createRelation = function (target) {\n            var popupItems = resultSet.tables()\n                .filter(function (table) { return table.tableName() !== target.queryName; })\n                .map(function (table) { return { name: table.tableName() }; });\n            return {\n                data: new _masterDetailEditorPopupManager_1.MasterDetailEditorPopupManager(target, _this.popupService, 'create', popupItems),\n                templateName: 'dx-filtereditor-create'\n            };\n        };\n        _this.setColumn = function (target) {\n            var table = _arrayutils_1.getFirstItemByPropertyValue(resultSet.tables(), 'tableName', target.queryName);\n            return {\n                data: new _masterDetailEditorPopupManager_1.MasterDetailEditorPopupManager(target, _this.popupService, 'setColumn', table ? table.columns() : []),\n                templateName: 'dx-masterdetail-editor-setColumn'\n            };\n        };\n        _this._createMainPopupButtons();\n        var masterQueries = {};\n        resultSet.tables().forEach(function (table) {\n            masterQueries[table.tableName()] = new _masterQuerySurface_1.MasterQuerySurface(table.tableName(), relations);\n        });\n        relations().forEach(function (relation) {\n            masterQueries[relation.masterQuery()] = masterQueries[relation.masterQuery()] || new _masterQuerySurface_1.MasterQuerySurface(relation.masterQuery(), relations);\n            masterQueries[relation.masterQuery()].add(relation);\n        });\n        _this.masterQueries($.map(masterQueries, function (value) { return value; }));\n        return _this;\n    }\n    MasterDetailEditor.prototype.title = function () {\n        return localization_utils_1.getLocalization('Master-Detail Relation Editor', _localizationStringIds_1.StringId.MasterDetailRelationsEditor);\n    };\n    return MasterDetailEditor;\n}(_popupEditorBase_1.PopupEditorBase));\nexports.MasterDetailEditor = MasterDetailEditor;\n"]},"metadata":{},"sourceType":"script"}