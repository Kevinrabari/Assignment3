{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_docking-layout-adapter.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DockingLayoutAdapter = void 0;\n\nvar ko = require(\"knockout\");\n\nvar disposable_object_1 = require(\"../../model/disposable-object\");\n\nvar _knockout_utils_1 = require(\"../../model/internal/_knockout-utils\");\n\nvar _interfaces_1 = require(\"../internal/_interfaces\");\n\nvar _docking_layout_controller_1 = require(\"./_docking-layout-controller\");\n\nvar DockingLayoutAdapter = function (_super) {\n  __extends(DockingLayoutAdapter, _super);\n\n  function DockingLayoutAdapter(_dashboardControl) {\n    var _this = _super.call(this) || this;\n\n    _this._dashboardControl = _dashboardControl;\n    _this._dockingLayoutController = ko.observable();\n    _this._templateName = 'dx-dashboard-resizable-layout';\n\n    _this.toDispose(_this._dashboardControl.isDesignMode.subscribe(function (isDesignMode) {\n      if (_this._dockingLayoutController() && _this._dockingLayoutController().rootItem) {\n        _this._dockingLayoutController().rootItem.isDesignMode(isDesignMode);\n\n        _this._dockingLayoutController().select(null);\n      }\n    }));\n\n    _this.toDispose(_this._dashboardControl.dashboardContainer.subscribe(function (dashboardContainer) {\n      if (dashboardContainer && dashboardContainer.dashboard) {\n        _this._dockingLayoutController(new _docking_layout_controller_1.DockingLayoutController(dashboardContainer.dashboard, _this._dashboardControl._dataSourceBrowser, _this._dashboardControl._dashboardContext, function (name) {\n          return _this._dashboardControl.findExtension(name);\n        }, _this._dashboardControl.option('allowMaximizeItems'), _this._dashboardControl.resizeByTimer, _this._dashboardControl._repaintRequest, _this._dashboardControl.encodeHtml, _this._dashboardControl._viewerApi));\n\n        _this._dockingLayoutController().rootItem.isDesignMode(_this._dashboardControl.isDesignMode());\n      } else {\n        if (_this._dockingLayoutController()) {\n          _this._dockingLayoutController().dispose();\n        }\n\n        _this._dockingLayoutController(null);\n      }\n    }));\n\n    return _this;\n  }\n\n  DockingLayoutAdapter.prototype.start = function () {\n    var _this = this;\n\n    this._dashboardControl._layoutInfoProviderCollection.push({\n      name: this._templateName,\n      condition: function () {\n        return true;\n      },\n      getViewModel: function () {\n        return _this._getKoViewModel();\n      },\n      getLayoutController: function () {\n        return _this._dockingLayoutController;\n      }\n    });\n\n    this._dashboardControl._updateLayout();\n  };\n\n  DockingLayoutAdapter.prototype.stop = function () {\n    var _this = this;\n\n    this._dashboardControl._layoutInfoProviderCollection = this._dashboardControl._layoutInfoProviderCollection.filter(function (layoutInfo) {\n      return layoutInfo.name !== _this._templateName;\n    });\n\n    this._dashboardControl._updateLayout();\n\n    if (this._dockingLayoutController()) {\n      this._dockingLayoutController().dispose();\n    }\n  };\n\n  DockingLayoutAdapter.prototype.processKeyEvent = function (eventName, e) {\n    if (e.keyCode === _interfaces_1.KeyCodes.Delete && this._dockingLayoutController() && this._dockingLayoutController()._selectedLayoutItem() && !this._dockingLayoutController().itemInteractionInProgress()) {\n      this._dockingLayoutController()._selectedLayoutItem().delete();\n\n      return true;\n    }\n  };\n\n  DockingLayoutAdapter.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n\n    this.stop();\n  };\n\n  DockingLayoutAdapter.prototype._getKoViewModel = function () {\n    var _this = this;\n\n    var viewModel = ko.observable(new DockingLayoutViewModel(this._dockingLayoutController()));\n    this.toDispose(this._dockingLayoutController.subscribe(function (_) {\n      return viewModel() && viewModel().dispose();\n    }, null, 'beforeChange'));\n    this.toDispose(this._dockingLayoutController.subscribe(function (controller) {\n      viewModel(new DockingLayoutViewModel(controller));\n      viewModel() && _this.toDispose(viewModel());\n    }));\n    return viewModel;\n  };\n\n  return DockingLayoutAdapter;\n}(disposable_object_1.DisposableObject);\n\nexports.DockingLayoutAdapter = DockingLayoutAdapter;\n\nvar DockingLayoutViewModel = function (_super) {\n  __extends(DockingLayoutViewModel, _super);\n\n  function DockingLayoutViewModel(_layoutController) {\n    var _this = _super.call(this) || this;\n\n    _this._layoutController = _layoutController;\n    _this.componentArgs = _this._initComponentArgs();\n    _this.cssClasses = _this._initSubscriptions();\n    return _this;\n  }\n\n  DockingLayoutViewModel.prototype._initComponentArgs = function () {\n    if (!this._layoutController) return {};\n    return {\n      dashboard: this._layoutController.dashboardModel,\n      dataSourceBrowser: this._layoutController.dataSourceBrowser,\n      encodeHtml: this._layoutController.encodeHtml,\n      titleContext: this._layoutController.titleContext,\n      resizeByTimer: this._layoutController.resizeByTimer,\n      layout: this._layoutController.rootItem,\n      headerHeight: this._layoutController.headerHeight,\n      layoutMainElementEvents: this._layoutController.layoutMainElementEvents,\n      repaintRequest: this._layoutController.repaintRequest,\n      fullscreenItemModel: this._layoutController.fullscreenItemModel,\n      scrollViewEvents: this._layoutController.scrollViewEvents\n    };\n  };\n\n  DockingLayoutViewModel.prototype._initSubscriptions = function () {\n    if (!this._layoutController) return;\n\n    var subscription = _knockout_utils_1.safeComputed({\n      itemInteractionInProgress: this._layoutController.itemInteractionInProgress\n    }, function (args) {\n      var classes = ['dx-dashboard-viewer', 'dx-dashboard-container'];\n      if (args.itemInteractionInProgress) classes.push('dx-dashboard-in-work');\n      return classes.join(' ');\n    });\n\n    this.toDispose(subscription);\n    return subscription;\n  };\n\n  return DockingLayoutViewModel;\n}(disposable_object_1.DisposableObject);","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/docking-layout/_docking-layout-adapter.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","DockingLayoutAdapter","ko","require","disposable_object_1","_knockout_utils_1","_interfaces_1","_docking_layout_controller_1","_super","_dashboardControl","_this","_dockingLayoutController","observable","_templateName","toDispose","isDesignMode","subscribe","rootItem","select","dashboardContainer","dashboard","DockingLayoutController","_dataSourceBrowser","_dashboardContext","name","findExtension","option","resizeByTimer","_repaintRequest","encodeHtml","_viewerApi","dispose","start","_layoutInfoProviderCollection","push","condition","getViewModel","_getKoViewModel","getLayoutController","_updateLayout","stop","filter","layoutInfo","processKeyEvent","eventName","e","keyCode","KeyCodes","Delete","_selectedLayoutItem","itemInteractionInProgress","delete","viewModel","DockingLayoutViewModel","_","controller","DisposableObject","_layoutController","componentArgs","_initComponentArgs","cssClasses","_initSubscriptions","dashboardModel","dataSourceBrowser","titleContext","layout","headerHeight","layoutMainElementEvents","repaintRequest","fullscreenItemModel","scrollViewEvents","subscription","safeComputed","args","classes","join"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_docking-layout-adapter.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DockingLayoutAdapter = void 0;\nvar ko = require(\"knockout\");\nvar disposable_object_1 = require(\"../../model/disposable-object\");\nvar _knockout_utils_1 = require(\"../../model/internal/_knockout-utils\");\nvar _interfaces_1 = require(\"../internal/_interfaces\");\nvar _docking_layout_controller_1 = require(\"./_docking-layout-controller\");\nvar DockingLayoutAdapter = (function (_super) {\n    __extends(DockingLayoutAdapter, _super);\n    function DockingLayoutAdapter(_dashboardControl) {\n        var _this = _super.call(this) || this;\n        _this._dashboardControl = _dashboardControl;\n        _this._dockingLayoutController = ko.observable();\n        _this._templateName = 'dx-dashboard-resizable-layout';\n        _this.toDispose(_this._dashboardControl.isDesignMode.subscribe(function (isDesignMode) {\n            if (_this._dockingLayoutController() && _this._dockingLayoutController().rootItem) {\n                _this._dockingLayoutController().rootItem.isDesignMode(isDesignMode);\n                _this._dockingLayoutController().select(null);\n            }\n        }));\n        _this.toDispose(_this._dashboardControl.dashboardContainer.subscribe(function (dashboardContainer) {\n            if (dashboardContainer && dashboardContainer.dashboard) {\n                _this._dockingLayoutController(new _docking_layout_controller_1.DockingLayoutController(dashboardContainer.dashboard, _this._dashboardControl._dataSourceBrowser, _this._dashboardControl._dashboardContext, function (name) { return _this._dashboardControl.findExtension(name); }, _this._dashboardControl.option('allowMaximizeItems'), _this._dashboardControl.resizeByTimer, _this._dashboardControl._repaintRequest, _this._dashboardControl.encodeHtml, _this._dashboardControl._viewerApi));\n                _this._dockingLayoutController().rootItem.isDesignMode(_this._dashboardControl.isDesignMode());\n            }\n            else {\n                if (_this._dockingLayoutController()) {\n                    _this._dockingLayoutController().dispose();\n                }\n                _this._dockingLayoutController(null);\n            }\n        }));\n        return _this;\n    }\n    DockingLayoutAdapter.prototype.start = function () {\n        var _this = this;\n        this._dashboardControl._layoutInfoProviderCollection.push({\n            name: this._templateName,\n            condition: function () { return true; },\n            getViewModel: function () { return _this._getKoViewModel(); },\n            getLayoutController: function () { return _this._dockingLayoutController; },\n        });\n        this._dashboardControl._updateLayout();\n    };\n    DockingLayoutAdapter.prototype.stop = function () {\n        var _this = this;\n        this._dashboardControl._layoutInfoProviderCollection = this._dashboardControl._layoutInfoProviderCollection\n            .filter(function (layoutInfo) { return layoutInfo.name !== _this._templateName; });\n        this._dashboardControl._updateLayout();\n        if (this._dockingLayoutController()) {\n            this._dockingLayoutController().dispose();\n        }\n    };\n    DockingLayoutAdapter.prototype.processKeyEvent = function (eventName, e) {\n        if (e.keyCode === _interfaces_1.KeyCodes.Delete && this._dockingLayoutController() && this._dockingLayoutController()._selectedLayoutItem() && !this._dockingLayoutController().itemInteractionInProgress()) {\n            this._dockingLayoutController()._selectedLayoutItem().delete();\n            return true;\n        }\n    };\n    DockingLayoutAdapter.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.stop();\n    };\n    DockingLayoutAdapter.prototype._getKoViewModel = function () {\n        var _this = this;\n        var viewModel = ko.observable(new DockingLayoutViewModel(this._dockingLayoutController()));\n        this.toDispose(this._dockingLayoutController.subscribe(function (_) { return viewModel() && viewModel().dispose(); }, null, 'beforeChange'));\n        this.toDispose(this._dockingLayoutController.subscribe(function (controller) {\n            viewModel(new DockingLayoutViewModel(controller));\n            viewModel() && _this.toDispose(viewModel());\n        }));\n        return viewModel;\n    };\n    return DockingLayoutAdapter;\n}(disposable_object_1.DisposableObject));\nexports.DockingLayoutAdapter = DockingLayoutAdapter;\nvar DockingLayoutViewModel = (function (_super) {\n    __extends(DockingLayoutViewModel, _super);\n    function DockingLayoutViewModel(_layoutController) {\n        var _this = _super.call(this) || this;\n        _this._layoutController = _layoutController;\n        _this.componentArgs = _this._initComponentArgs();\n        _this.cssClasses = _this._initSubscriptions();\n        return _this;\n    }\n    DockingLayoutViewModel.prototype._initComponentArgs = function () {\n        if (!this._layoutController)\n            return {};\n        return {\n            dashboard: this._layoutController.dashboardModel,\n            dataSourceBrowser: this._layoutController.dataSourceBrowser,\n            encodeHtml: this._layoutController.encodeHtml,\n            titleContext: this._layoutController.titleContext,\n            resizeByTimer: this._layoutController.resizeByTimer,\n            layout: this._layoutController.rootItem,\n            headerHeight: this._layoutController.headerHeight,\n            layoutMainElementEvents: this._layoutController.layoutMainElementEvents,\n            repaintRequest: this._layoutController.repaintRequest,\n            fullscreenItemModel: this._layoutController.fullscreenItemModel,\n            scrollViewEvents: this._layoutController.scrollViewEvents\n        };\n    };\n    DockingLayoutViewModel.prototype._initSubscriptions = function () {\n        if (!this._layoutController)\n            return;\n        var subscription = _knockout_utils_1.safeComputed({ itemInteractionInProgress: this._layoutController.itemInteractionInProgress }, function (args) {\n            var classes = ['dx-dashboard-viewer', 'dx-dashboard-container'];\n            if (args.itemInteractionInProgress)\n                classes.push('dx-dashboard-in-work');\n            return classes.join(' ');\n        });\n        this.toDispose(subscription);\n        return subscription;\n    };\n    return DockingLayoutViewModel;\n}(disposable_object_1.DisposableObject));\n"]},"metadata":{},"sourceType":"script"}