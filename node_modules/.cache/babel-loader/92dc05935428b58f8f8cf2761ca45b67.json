{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_mobile-layout-master-filters-editor.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ItemMasterFiltersViewModel = exports.ItemMasterFilterInfo = exports.MasterFiltersEditorModel = void 0;\n\nvar ko = require(\"knockout\");\n\nvar _formatter_1 = require(\"../../data/_formatter\");\n\nvar caption_toolbar_options_1 = require(\"../../viewer-parts/widgets/caption-toolbar/caption-toolbar-options\");\n\nvar _caption_toolbar_css_classes_1 = require(\"../../viewer-parts/widgets/caption-toolbar/_caption-toolbar-css-classes\");\n\nvar _mobile_layout_caption_toolbar_1 = require(\"../../viewer-parts/widgets/caption-toolbar/_mobile-layout-caption-toolbar\");\n\nvar _dashboard_title_model_1 = require(\"../viewer/title/_dashboard-title-model\");\n\nvar _viewer_interfaces_1 = require(\"../viewer/_viewer-interfaces\");\n\nvar _mobile_layout_fullscreen_item_1 = require(\"./_mobile-layout-fullscreen-item\");\n\nvar _mobile_layout_item_1 = require(\"./_mobile-layout-item\");\n\nvar MasterFiltersEditorModel = function () {\n  function MasterFiltersEditorModel() {\n    var _this = this;\n\n    this._target = ko.observable(null);\n    this._visible = ko.observable(false);\n    this.visible = ko.computed(function () {\n      return _this._visible();\n    });\n    this.masterItems = ko.computed(function () {\n      if (_this._target()) {\n        return _this._target()._masterFilterItems();\n      } else {\n        return [];\n      }\n    });\n  }\n\n  MasterFiltersEditorModel.prototype.addFilterButton = function (toolbarItems, filterableItem) {\n    var _this = this;\n\n    if (filterableItem._masterFilterItems().length) {\n      toolbarItems.push({\n        name: caption_toolbar_options_1.dashboardToolbarItemNames.dashboardFilters,\n        type: 'button',\n        icon: 'dx-dashboard-filters',\n        click: function () {\n          _this.show(filterableItem);\n        }\n      });\n    }\n  };\n\n  MasterFiltersEditorModel.prototype.show = function (target) {\n    this._target(target);\n\n    this._visible(true);\n  };\n\n  MasterFiltersEditorModel.prototype.hide = function () {\n    this._visible(false);\n  };\n\n  return MasterFiltersEditorModel;\n}();\n\nexports.MasterFiltersEditorModel = MasterFiltersEditorModel;\n\nvar ItemMasterFilterInfo = function () {\n  function ItemMasterFilterInfo(dashboardItem, click) {\n    this.dashboardItem = dashboardItem;\n    this.click = click;\n    this.name = ko.computed(function () {\n      return dashboardItem.name();\n    });\n    this.filterValues = ko.computed(function () {\n      return dashboardItem._getDisplayFilterValues(_dashboard_title_model_1.maxFilterValuesCount).filter(function (value) {\n        return value.Values[0] && !!value.Values[0].Format;\n      }).map(function (value) {\n        return {\n          name: value.Name,\n          valuesString: value.Values.map(function (filterValue) {\n            return _formatter_1.formatFilterValue(filterValue);\n          }).concat(value.Truncated ? ['…'] : []).join(', ')\n        };\n      });\n    });\n  }\n\n  return ItemMasterFilterInfo;\n}();\n\nexports.ItemMasterFilterInfo = ItemMasterFilterInfo;\n\nvar ItemMasterFilterPopupViewModel = function () {\n  function ItemMasterFilterPopupViewModel(heightOffset, visible, repaintRequest) {\n    this.width = '100vw';\n    this.height = \"calc(100vh - \" + heightOffset + \"px)\";\n    this.visible = visible;\n    var popupResizeController = new _mobile_layout_fullscreen_item_1.PopupResizeController(repaintRequest);\n    this.onInitializing = popupResizeController.onInitialized;\n    this.onDisposing = popupResizeController.onDisposing;\n  }\n\n  return ItemMasterFilterPopupViewModel;\n}();\n\nvar ItemMasterFiltersViewModel = function () {\n  function ItemMasterFiltersViewModel(model, dashboardContext, repaintRequest) {\n    var _this = this;\n\n    this.model = model;\n    this.masterFilterItem = ko.observable(null);\n\n    this.showMasterFilterItem = function (dashboardItem, dashboardContext, repaintRequest) {\n      _this.maximizeFiltersPopup(true);\n\n      _this.masterFilterItem({\n        dashboardItem: dashboardItem,\n        dashboardContext: dashboardContext,\n        repaintRequest: repaintRequest,\n        localContext: new _viewer_interfaces_1.DashboardItemContext({\n          itemFactory: new _mobile_layout_fullscreen_item_1.MobileItemViewerFactory(),\n          addContextToolbarItems: function (options) {\n            options.actionItems = options.actionItems.filter(function (item) {\n              return item.name !== caption_toolbar_options_1.dashboardToolbarItemNames.exportMenu;\n            });\n          },\n          viewerItemCreated: function (dashboardItem, viewerItem) {\n            return _mobile_layout_item_1.customizeMobileViewerItems(viewerItem);\n          },\n          createCaptionToolbar: function (viewerItem, container, controlContainer, popupContainer, viewOptions) {\n            return new _mobile_layout_caption_toolbar_1.MobileLayoutCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, _caption_toolbar_css_classes_1.cssClasses.caption, viewOptions.captionToolbarSeparatorRequired);\n          },\n          beforeApplyViewerItemOptions: function (item, options, isCreation) {\n            options.ParentContainer = undefined;\n\n            _mobile_layout_item_1.setCardAutoArrangementMode(item, options);\n          },\n          itemCreatingType: 'primary'\n        })\n      });\n    };\n\n    this.closeMasterFilterItemPopup = function () {\n      _this.maximizeFiltersPopup(false);\n\n      _this.masterFilterItem(null);\n    };\n\n    this.closeMasterFiltersPopup = function () {\n      _this.closeMasterFilterItemPopup();\n\n      _this.model.hide();\n    };\n\n    this.maximizeFiltersPopup = ko.observable(false);\n    this.masterItems = ko.computed(function () {\n      return model.masterItems().map(function (mi) {\n        return new ItemMasterFilterInfo(mi, function () {\n          return _this.showMasterFilterItem(mi, dashboardContext, repaintRequest);\n        });\n      });\n    });\n    var masterFiltersVisible = ko.computed(function () {\n      return _this.model.visible();\n    });\n    var masterFilterItemVisible = ko.computed(function () {\n      return !!_this.masterFilterItem();\n    });\n    this.masterFiltersPopup = new ItemMasterFilterPopupViewModel(50, masterFiltersVisible, repaintRequest);\n    this.masterFilterMaximizedItemPopup = new ItemMasterFilterPopupViewModel(100, masterFilterItemVisible, repaintRequest);\n    this.maximizeFiltersPopup = ko.observable(masterFiltersVisible());\n  }\n\n  return ItemMasterFiltersViewModel;\n}();\n\nexports.ItemMasterFiltersViewModel = ItemMasterFiltersViewModel;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/mobile-layout-extension/_mobile-layout-master-filters-editor.js"],"names":["Object","defineProperty","exports","value","ItemMasterFiltersViewModel","ItemMasterFilterInfo","MasterFiltersEditorModel","ko","require","_formatter_1","caption_toolbar_options_1","_caption_toolbar_css_classes_1","_mobile_layout_caption_toolbar_1","_dashboard_title_model_1","_viewer_interfaces_1","_mobile_layout_fullscreen_item_1","_mobile_layout_item_1","_this","_target","observable","_visible","visible","computed","masterItems","_masterFilterItems","prototype","addFilterButton","toolbarItems","filterableItem","length","push","name","dashboardToolbarItemNames","dashboardFilters","type","icon","click","show","target","hide","dashboardItem","filterValues","_getDisplayFilterValues","maxFilterValuesCount","filter","Values","Format","map","Name","valuesString","filterValue","formatFilterValue","concat","Truncated","join","ItemMasterFilterPopupViewModel","heightOffset","repaintRequest","width","height","popupResizeController","PopupResizeController","onInitializing","onInitialized","onDisposing","model","dashboardContext","masterFilterItem","showMasterFilterItem","maximizeFiltersPopup","localContext","DashboardItemContext","itemFactory","MobileItemViewerFactory","addContextToolbarItems","options","actionItems","item","exportMenu","viewerItemCreated","viewerItem","customizeMobileViewerItems","createCaptionToolbar","container","controlContainer","popupContainer","viewOptions","MobileLayoutCaptionToolbar","encodeHtml","cssClasses","caption","captionToolbarSeparatorRequired","beforeApplyViewerItemOptions","isCreation","ParentContainer","undefined","setCardAutoArrangementMode","itemCreatingType","closeMasterFilterItemPopup","closeMasterFiltersPopup","mi","masterFiltersVisible","masterFilterItemVisible","masterFiltersPopup","masterFilterMaximizedItemPopup"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_mobile-layout-master-filters-editor.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ItemMasterFiltersViewModel = exports.ItemMasterFilterInfo = exports.MasterFiltersEditorModel = void 0;\nvar ko = require(\"knockout\");\nvar _formatter_1 = require(\"../../data/_formatter\");\nvar caption_toolbar_options_1 = require(\"../../viewer-parts/widgets/caption-toolbar/caption-toolbar-options\");\nvar _caption_toolbar_css_classes_1 = require(\"../../viewer-parts/widgets/caption-toolbar/_caption-toolbar-css-classes\");\nvar _mobile_layout_caption_toolbar_1 = require(\"../../viewer-parts/widgets/caption-toolbar/_mobile-layout-caption-toolbar\");\nvar _dashboard_title_model_1 = require(\"../viewer/title/_dashboard-title-model\");\nvar _viewer_interfaces_1 = require(\"../viewer/_viewer-interfaces\");\nvar _mobile_layout_fullscreen_item_1 = require(\"./_mobile-layout-fullscreen-item\");\nvar _mobile_layout_item_1 = require(\"./_mobile-layout-item\");\nvar MasterFiltersEditorModel = (function () {\n    function MasterFiltersEditorModel() {\n        var _this = this;\n        this._target = ko.observable(null);\n        this._visible = ko.observable(false);\n        this.visible = ko.computed(function () { return _this._visible(); });\n        this.masterItems = ko.computed(function () {\n            if (_this._target()) {\n                return _this._target()._masterFilterItems();\n            }\n            else {\n                return [];\n            }\n        });\n    }\n    MasterFiltersEditorModel.prototype.addFilterButton = function (toolbarItems, filterableItem) {\n        var _this = this;\n        if (filterableItem._masterFilterItems().length) {\n            toolbarItems.push({\n                name: caption_toolbar_options_1.dashboardToolbarItemNames.dashboardFilters,\n                type: 'button',\n                icon: 'dx-dashboard-filters',\n                click: function () {\n                    _this.show(filterableItem);\n                }\n            });\n        }\n    };\n    MasterFiltersEditorModel.prototype.show = function (target) {\n        this._target(target);\n        this._visible(true);\n    };\n    MasterFiltersEditorModel.prototype.hide = function () {\n        this._visible(false);\n    };\n    return MasterFiltersEditorModel;\n}());\nexports.MasterFiltersEditorModel = MasterFiltersEditorModel;\nvar ItemMasterFilterInfo = (function () {\n    function ItemMasterFilterInfo(dashboardItem, click) {\n        this.dashboardItem = dashboardItem;\n        this.click = click;\n        this.name = ko.computed(function () { return dashboardItem.name(); });\n        this.filterValues = ko.computed(function () {\n            return dashboardItem\n                ._getDisplayFilterValues(_dashboard_title_model_1.maxFilterValuesCount)\n                .filter(function (value) { return value.Values[0] && !!value.Values[0].Format; })\n                .map(function (value) {\n                return {\n                    name: value.Name,\n                    valuesString: value\n                        .Values\n                        .map(function (filterValue) { return _formatter_1.formatFilterValue(filterValue); })\n                        .concat(value.Truncated ? ['…'] : [])\n                        .join(', ')\n                };\n            });\n        });\n    }\n    return ItemMasterFilterInfo;\n}());\nexports.ItemMasterFilterInfo = ItemMasterFilterInfo;\nvar ItemMasterFilterPopupViewModel = (function () {\n    function ItemMasterFilterPopupViewModel(heightOffset, visible, repaintRequest) {\n        this.width = '100vw';\n        this.height = \"calc(100vh - \" + heightOffset + \"px)\";\n        this.visible = visible;\n        var popupResizeController = new _mobile_layout_fullscreen_item_1.PopupResizeController(repaintRequest);\n        this.onInitializing = popupResizeController.onInitialized;\n        this.onDisposing = popupResizeController.onDisposing;\n    }\n    return ItemMasterFilterPopupViewModel;\n}());\nvar ItemMasterFiltersViewModel = (function () {\n    function ItemMasterFiltersViewModel(model, dashboardContext, repaintRequest) {\n        var _this = this;\n        this.model = model;\n        this.masterFilterItem = ko.observable(null);\n        this.showMasterFilterItem = function (dashboardItem, dashboardContext, repaintRequest) {\n            _this.maximizeFiltersPopup(true);\n            _this.masterFilterItem({\n                dashboardItem: dashboardItem,\n                dashboardContext: dashboardContext,\n                repaintRequest: repaintRequest,\n                localContext: new _viewer_interfaces_1.DashboardItemContext({\n                    itemFactory: new _mobile_layout_fullscreen_item_1.MobileItemViewerFactory(),\n                    addContextToolbarItems: function (options) {\n                        options.actionItems = options.actionItems.filter(function (item) { return item.name !== caption_toolbar_options_1.dashboardToolbarItemNames.exportMenu; });\n                    },\n                    viewerItemCreated: function (dashboardItem, viewerItem) { return _mobile_layout_item_1.customizeMobileViewerItems(viewerItem); },\n                    createCaptionToolbar: function (viewerItem, container, controlContainer, popupContainer, viewOptions) {\n                        return new _mobile_layout_caption_toolbar_1.MobileLayoutCaptionToolbar(container, controlContainer, popupContainer, viewOptions.encodeHtml, _caption_toolbar_css_classes_1.cssClasses.caption, viewOptions.captionToolbarSeparatorRequired);\n                    },\n                    beforeApplyViewerItemOptions: function (item, options, isCreation) {\n                        options.ParentContainer = undefined;\n                        _mobile_layout_item_1.setCardAutoArrangementMode(item, options);\n                    },\n                    itemCreatingType: 'primary'\n                })\n            });\n        };\n        this.closeMasterFilterItemPopup = function () {\n            _this.maximizeFiltersPopup(false);\n            _this.masterFilterItem(null);\n        };\n        this.closeMasterFiltersPopup = function () {\n            _this.closeMasterFilterItemPopup();\n            _this.model.hide();\n        };\n        this.maximizeFiltersPopup = ko.observable(false);\n        this.masterItems = ko.computed(function () { return model.masterItems().map(function (mi) { return new ItemMasterFilterInfo(mi, function () { return _this.showMasterFilterItem(mi, dashboardContext, repaintRequest); }); }); });\n        var masterFiltersVisible = ko.computed(function () { return _this.model.visible(); });\n        var masterFilterItemVisible = ko.computed(function () { return !!_this.masterFilterItem(); });\n        this.masterFiltersPopup = new ItemMasterFilterPopupViewModel(50, masterFiltersVisible, repaintRequest);\n        this.masterFilterMaximizedItemPopup = new ItemMasterFilterPopupViewModel(100, masterFilterItemVisible, repaintRequest);\n        this.maximizeFiltersPopup = ko.observable(masterFiltersVisible());\n    }\n    return ItemMasterFiltersViewModel;\n}());\nexports.ItemMasterFiltersViewModel = ItemMasterFiltersViewModel;\n"]},"metadata":{},"sourceType":"script"}