{"ast":null,"code":"/**\n* DevExpress Analytics (query-builder\\widgets\\masterdetaileditor\\_masterQuerySurface.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MasterQuerySurface = void 0;\n\nvar ko = require(\"knockout\");\n\nvar masterDetailRelation_1 = require(\"../../dataSource/sql/masterDetailRelation\");\n\nvar _masterDetailRelationSurface_1 = require(\"./_masterDetailRelationSurface\");\n\nvar _arrayutils_1 = require(\"../../../core/utils/_arrayutils\");\n\nvar _getNameHelpers_1 = require(\"../../../core/internal/_getNameHelpers\");\n\nvar MasterQuerySurface = function () {\n  function MasterQuerySurface(masterQueryName, relations) {\n    var _this = this;\n\n    this.relations = ko.observableArray();\n    this.queryName = masterQueryName;\n\n    this.add = function (relation) {\n      _this.relations.push(new _masterDetailRelationSurface_1.MasterDetailRelationSurface(relation, _this));\n    };\n\n    this.create = function (detailQueryItem) {\n      var newRelation = new masterDetailRelation_1.MasterDetailRelation({\n        '@Master': _this.queryName,\n        '@Detail': detailQueryItem.name\n      });\n\n      if (_arrayutils_1.getFirstItemByPropertyValue(_this.relations(), 'relationName', newRelation.name())) {\n        newRelation.name(_getNameHelpers_1.getUniqueName(_this.relations().map(function (item) {\n          return item.relationName();\n        }), newRelation.name() + '_'));\n      }\n\n      newRelation.createKeyColumn();\n\n      _this.add(newRelation);\n\n      relations.push(newRelation);\n    };\n\n    this.remove = function (relationSurface) {\n      _this.relations.remove(relationSurface);\n\n      relations.remove(function (item) {\n        return item.name === relationSurface.relationName;\n      });\n    };\n  }\n\n  return MasterQuerySurface;\n}();\n\nexports.MasterQuerySurface = MasterQuerySurface;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/query-builder/widgets/masterdetaileditor/_masterQuerySurface.js"],"names":["Object","defineProperty","exports","value","MasterQuerySurface","ko","require","masterDetailRelation_1","_masterDetailRelationSurface_1","_arrayutils_1","_getNameHelpers_1","masterQueryName","relations","_this","observableArray","queryName","add","relation","push","MasterDetailRelationSurface","create","detailQueryItem","newRelation","MasterDetailRelation","name","getFirstItemByPropertyValue","getUniqueName","map","item","relationName","createKeyColumn","remove","relationSurface"],"mappings":"AAAA;;;;;;;AAOA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,kBAAR,GAA6B,KAAK,CAAlC;;AACA,IAAIC,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAhB;;AACA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,2CAAD,CAApC;;AACA,IAAIE,8BAA8B,GAAGF,OAAO,CAAC,gCAAD,CAA5C;;AACA,IAAIG,aAAa,GAAGH,OAAO,CAAC,iCAAD,CAA3B;;AACA,IAAII,iBAAiB,GAAGJ,OAAO,CAAC,wCAAD,CAA/B;;AACA,IAAIF,kBAAkB,GAAI,YAAY;AAClC,WAASA,kBAAT,CAA4BO,eAA5B,EAA6CC,SAA7C,EAAwD;AACpD,QAAIC,KAAK,GAAG,IAAZ;;AACA,SAAKD,SAAL,GAAiBP,EAAE,CAACS,eAAH,EAAjB;AACA,SAAKC,SAAL,GAAiBJ,eAAjB;;AACA,SAAKK,GAAL,GAAW,UAAUC,QAAV,EAAoB;AAC3BJ,MAAAA,KAAK,CAACD,SAAN,CAAgBM,IAAhB,CAAqB,IAAIV,8BAA8B,CAACW,2BAAnC,CAA+DF,QAA/D,EAAyEJ,KAAzE,CAArB;AACH,KAFD;;AAGA,SAAKO,MAAL,GAAc,UAAUC,eAAV,EAA2B;AACrC,UAAIC,WAAW,GAAG,IAAIf,sBAAsB,CAACgB,oBAA3B,CAAgD;AAAE,mBAAWV,KAAK,CAACE,SAAnB;AAA8B,mBAAWM,eAAe,CAACG;AAAzD,OAAhD,CAAlB;;AACA,UAAIf,aAAa,CAACgB,2BAAd,CAA0CZ,KAAK,CAACD,SAAN,EAA1C,EAA6D,cAA7D,EAA6EU,WAAW,CAACE,IAAZ,EAA7E,CAAJ,EAAsG;AAClGF,QAAAA,WAAW,CAACE,IAAZ,CAAiBd,iBAAiB,CAACgB,aAAlB,CAAgCb,KAAK,CAACD,SAAN,GAAkBe,GAAlB,CAAsB,UAAUC,IAAV,EAAgB;AAAE,iBAAOA,IAAI,CAACC,YAAL,EAAP;AAA6B,SAArE,CAAhC,EAAwGP,WAAW,CAACE,IAAZ,KAAqB,GAA7H,CAAjB;AACH;;AACDF,MAAAA,WAAW,CAACQ,eAAZ;;AACAjB,MAAAA,KAAK,CAACG,GAAN,CAAUM,WAAV;;AACAV,MAAAA,SAAS,CAACM,IAAV,CAAeI,WAAf;AACH,KARD;;AASA,SAAKS,MAAL,GAAc,UAAUC,eAAV,EAA2B;AACrCnB,MAAAA,KAAK,CAACD,SAAN,CAAgBmB,MAAhB,CAAuBC,eAAvB;;AACApB,MAAAA,SAAS,CAACmB,MAAV,CAAiB,UAAUH,IAAV,EAAgB;AAAE,eAAOA,IAAI,CAACJ,IAAL,KAAcQ,eAAe,CAACH,YAArC;AAAoD,OAAvF;AACH,KAHD;AAIH;;AACD,SAAOzB,kBAAP;AACH,CAvByB,EAA1B;;AAwBAF,OAAO,CAACE,kBAAR,GAA6BA,kBAA7B","sourcesContent":["/**\n* DevExpress Analytics (query-builder\\widgets\\masterdetaileditor\\_masterQuerySurface.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MasterQuerySurface = void 0;\nvar ko = require(\"knockout\");\nvar masterDetailRelation_1 = require(\"../../dataSource/sql/masterDetailRelation\");\nvar _masterDetailRelationSurface_1 = require(\"./_masterDetailRelationSurface\");\nvar _arrayutils_1 = require(\"../../../core/utils/_arrayutils\");\nvar _getNameHelpers_1 = require(\"../../../core/internal/_getNameHelpers\");\nvar MasterQuerySurface = (function () {\n    function MasterQuerySurface(masterQueryName, relations) {\n        var _this = this;\n        this.relations = ko.observableArray();\n        this.queryName = masterQueryName;\n        this.add = function (relation) {\n            _this.relations.push(new _masterDetailRelationSurface_1.MasterDetailRelationSurface(relation, _this));\n        };\n        this.create = function (detailQueryItem) {\n            var newRelation = new masterDetailRelation_1.MasterDetailRelation({ '@Master': _this.queryName, '@Detail': detailQueryItem.name });\n            if (_arrayutils_1.getFirstItemByPropertyValue(_this.relations(), 'relationName', newRelation.name())) {\n                newRelation.name(_getNameHelpers_1.getUniqueName(_this.relations().map(function (item) { return item.relationName(); }), newRelation.name() + '_'));\n            }\n            newRelation.createKeyColumn();\n            _this.add(newRelation);\n            relations.push(newRelation);\n        };\n        this.remove = function (relationSurface) {\n            _this.relations.remove(relationSurface);\n            relations.remove(function (item) { return item.name === relationSurface.relationName; });\n        };\n    }\n    return MasterQuerySurface;\n}());\nexports.MasterQuerySurface = MasterQuerySurface;\n"]},"metadata":{},"sourceType":"script"}