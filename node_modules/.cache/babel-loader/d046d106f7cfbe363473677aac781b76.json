{"ast":null,"code":"/**\n* DevExpress Analytics (query-builder\\wizard\\internal\\_treeListNode.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SingleCheckedDataMemberTreeNode = exports.DataMemberTreeNode = exports.FieldTreeNode = exports.TreeQueryNode = exports.QueriesTreeNode = exports.ParameterTreeNode = exports.TreeNode = exports.TreeLeafNode = exports.TreeNodeBase = exports.defaultObjectDataSourceItemSpecifics = void 0;\n\nvar $ = require(\"jquery\");\n\nvar ko = require(\"knockout\");\n\nvar localization_utils_1 = require(\"../../../property-grid/localization/localization_utils\");\n\nvar utils_1 = require(\"../../../serializer/utils\");\n\nexports.defaultObjectDataSourceItemSpecifics = 'Default';\n\nvar TreeNodeBase = function (_super) {\n  __extends(TreeNodeBase, _super);\n\n  function TreeNodeBase(name, displayName, specifics, isChecked, afterCheckToggled) {\n    if (isChecked === void 0) {\n      isChecked = false;\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this.name = name;\n    _this.displayName = displayName;\n    _this.specifics = specifics;\n    _this.checked = ko.pureComputed(function () {\n      return _this._checked();\n    });\n    _this.isList = false;\n    _this._checked = ko.observable(isChecked);\n    _this._afterCheckToggled = afterCheckToggled || $.noop;\n    return _this;\n  }\n\n  TreeNodeBase.prototype.unChecked = function () {\n    return this.checked() === false;\n  };\n\n  TreeNodeBase.prototype.toggleChecked = function () {\n    this.setChecked(!this.checked.peek());\n\n    this._afterCheckToggled(this);\n  };\n\n  TreeNodeBase.prototype.setChecked = function (value) {\n    this._checked(value);\n  };\n\n  return TreeNodeBase;\n}(utils_1.Disposable);\n\nexports.TreeNodeBase = TreeNodeBase;\n\nvar TreeLeafNode = function (_super) {\n  __extends(TreeLeafNode, _super);\n\n  function TreeLeafNode(name, displayName, specifics, isChecked, nodeArguments, afterCheckToggled) {\n    if (isChecked === void 0) {\n      isChecked = false;\n    }\n\n    if (nodeArguments === void 0) {\n      nodeArguments = null;\n    }\n\n    var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n\n    _this.name = name;\n    _this.displayName = displayName;\n    _this.specifics = specifics;\n    _this.hasQuery = false;\n    _this.arguments = nodeArguments;\n    return _this;\n  }\n\n  return TreeLeafNode;\n}(TreeNodeBase);\n\nexports.TreeLeafNode = TreeLeafNode;\n\nvar TreeNode = function (_super) {\n  __extends(TreeNode, _super);\n\n  function TreeNode(name, displayName, specifics, isChecked, afterCheckToggled) {\n    var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n\n    _this.countChecked = ko.pureComputed(function () {\n      var count = 0;\n\n      for (var i = 0; i < _this.children().length; i++) {\n        if (!_this.children()[i].unChecked()) {\n          if (count > 1) break;\n          count++;\n        }\n      }\n\n      return count;\n    });\n    _this.isList = true;\n    _this.children = ko.observableArray([]);\n    _this.checked = ko.pureComputed({\n      read: function () {\n        if (!_this.initialized()) {\n          return _this._checked();\n        } else {\n          var selectedItems = 0;\n          var partiallySelectedItems = 0;\n\n          _this.children().forEach(function (item) {\n            if (item.checked() === true) {\n              selectedItems++;\n            } else if (item.checked() !== false) {\n              partiallySelectedItems++;\n            }\n          });\n\n          if (selectedItems === 0 && partiallySelectedItems === 0) {\n            return false;\n          }\n\n          if (selectedItems === _this.children.peek().length) {\n            return true;\n          }\n\n          return undefined;\n        }\n      }\n    });\n    return _this;\n  }\n\n  TreeNode.prototype.initialized = function () {\n    return this.children().length > 0;\n  };\n\n  TreeNode.prototype.setChecked = function (value) {\n    this._checked(value);\n\n    this.children.peek().forEach(function (item) {\n      item.setChecked(value);\n    });\n  };\n\n  TreeNode.prototype.initializeChildren = function (children) {\n    this.children(children || []);\n  };\n\n  return TreeNode;\n}(TreeNodeBase);\n\nexports.TreeNode = TreeNode;\n\nvar ParameterTreeNode = function (_super) {\n  __extends(ParameterTreeNode, _super);\n\n  function ParameterTreeNode(name, displayName, specifics, isChecked, afterCheckToggled) {\n    var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n\n    _this.countChecked = ko.pureComputed(function () {\n      var count = 0;\n\n      _this.hasParamsToEdit(false);\n\n      for (var i = 0; i < _this.children().length; i++) {\n        var child = _this.children()[i];\n\n        if (!child.unChecked()) {\n          if (count > 1) break;\n          count++;\n          if (child.arguments && child.arguments.length > 0) _this.hasParamsToEdit(true);\n          if (child.specifics === 'query') _this.hasParamsToEdit(true);\n        }\n      }\n\n      return count;\n    });\n    _this.hasParamsToEdit = ko.observable(false);\n    return _this;\n  }\n\n  return ParameterTreeNode;\n}(TreeNode);\n\nexports.ParameterTreeNode = ParameterTreeNode;\n\nvar QueriesTreeNode = function (_super) {\n  __extends(QueriesTreeNode, _super);\n\n  function QueriesTreeNode(name, displayName, specifics, isChecked, callbacks, afterCheckToggled) {\n    var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n\n    _this.addAction = {\n      clickAction: function (item) {\n        if (_this.disableCustomSql()) {\n          return _this.addQuery();\n        } else {\n          return _this.showPopover();\n        }\n      },\n      imageClassName: 'dxrd-image-add',\n      imageTemplateName: 'dxrd-svg-operations-add',\n      templateName: 'dx-treelist-action-with-popover',\n      text: localization_utils_1.getLocalization('Add query', 'AnalyticsCoreStringId.SqlDSWizard_AddQuery')\n    };\n\n    _this.itemClickAction = function (e) {\n      _this.popoverVisible(false);\n\n      e.itemData.addAction();\n    };\n\n    _this.className = 'dx-addqueries-popover';\n    _this.popoverVisible = ko.observable(false);\n    _this.path = name;\n\n    _this.addQuery = function () {\n      callbacks().showQbCallBack();\n    };\n\n    _this.addCustomQuery = function () {\n      callbacks().showQbCallBack(null, true);\n    };\n\n    _this.disableCustomSql = function () {\n      return callbacks && callbacks().disableCustomSql;\n    };\n\n    _this.target = '.' + _this.addAction.templateName;\n    _this.selectionDisabled = ko.pureComputed(function () {\n      return !_this.children().length;\n    });\n    return _this;\n  }\n\n  QueriesTreeNode.prototype.getActions = function (context) {\n    var result = [];\n\n    if (context.path.indexOf('queries') === 0) {\n      result.push(this.addAction);\n    }\n\n    return result;\n  };\n\n  QueriesTreeNode.prototype.popoverListItems = function () {\n    var _this = this;\n\n    return [{\n      name: localization_utils_1.getLocalization('Run Query Builder', 'DataAccessUIStringId.Button_QueryBuilder'),\n      addAction: function () {\n        return _this.addQuery();\n      }\n    }, {\n      name: localization_utils_1.getLocalization('Write Custom SQL', 'AnalyticsCoreStringId.SqlDSWizard_WriteCustomSQL'),\n      addAction: function () {\n        return _this.addCustomQuery();\n      }\n    }];\n  };\n\n  QueriesTreeNode.prototype.showPopover = function () {\n    this.popoverVisible(true);\n  };\n\n  return QueriesTreeNode;\n}(ParameterTreeNode);\n\nexports.QueriesTreeNode = QueriesTreeNode;\n\nvar TreeQueryNode = function (_super) {\n  __extends(TreeQueryNode, _super);\n\n  function TreeQueryNode(name, displayName, specifics, isChecked, parameters, callbacks, afterCheckToggled, query) {\n    var _this = _super.call(this, name, displayName, specifics, isChecked, null, afterCheckToggled) || this;\n\n    _this.query = query;\n    _this.editAction = {\n      clickAction: function (item) {\n        return _this.editQuery();\n      },\n      imageClassName: 'dx-image-edit',\n      imageTemplateName: 'dxrd-svg-operations-edit',\n      text: localization_utils_1.getLocalization('Edit query', 'AnalyticsCoreStringId.SqlDSWizard_EditQuery')\n    };\n    _this.removeAction = {\n      clickAction: function (item) {\n        _this.removeQuery({\n          model: item.data\n        });\n      },\n      imageClassName: 'dxrd-image-recycle-bin',\n      imageTemplateName: 'dxrd-svg-operations-recycle_bin',\n      text: localization_utils_1.getLocalization('Remove query', 'AnalyticsCoreStringId.SqlDSWizard_RemoveQuery')\n    };\n    _this.parameters = parameters;\n\n    _this.removeQuery = function (e) {\n      if (!e.model.unChecked()) {\n        e.model.toggleChecked();\n      }\n\n      callbacks().deleteAction(e.model.name);\n    };\n\n    _this.editQuery = function (e) {\n      callbacks().showQbCallBack(_this.name);\n    };\n\n    _this.hasQuery = true;\n    return _this;\n  }\n\n  TreeQueryNode.prototype.setObservableName = function (name) {\n    var _this = this;\n\n    this._name = name;\n    ['name', 'displayName'].forEach(function (propertyName) {\n      return Object.defineProperty(_this, propertyName, {\n        get: function () {\n          return this._name();\n        },\n        set: function (newVal) {\n          return this._name(newVal);\n        },\n        configurable: true\n      });\n    });\n  };\n\n  TreeQueryNode.prototype.getActions = function (context) {\n    var result = [];\n    result.push(this.removeAction);\n    result.push(this.editAction);\n    return result;\n  };\n\n  return TreeQueryNode;\n}(TreeLeafNode);\n\nexports.TreeQueryNode = TreeQueryNode;\n\nvar FieldTreeNode = function (_super) {\n  __extends(FieldTreeNode, _super);\n\n  function FieldTreeNode(name, displayName, specifics, isChecked, path, afterCheckToggled, isDraggable) {\n    if (isDraggable === void 0) {\n      isDraggable = false;\n    }\n\n    var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n\n    _this.visible = ko.observable(true);\n    _this.disabled = ko.observable(false);\n    _this.path = path;\n    _this.isComplex = specifics === exports.defaultObjectDataSourceItemSpecifics;\n    if (isDraggable) _this.dragData = {\n      noDragable: false\n    };\n    return _this;\n  }\n\n  return FieldTreeNode;\n}(TreeNodeBase);\n\nexports.FieldTreeNode = FieldTreeNode;\n\nvar DataMemberTreeNode = function (_super) {\n  __extends(DataMemberTreeNode, _super);\n\n  function DataMemberTreeNode(name, displayName, specifics, isChecked, path, afterCheckToggled) {\n    var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n\n    _this.visible = ko.observable(true);\n    _this.path = path;\n    _this.isComplex = _this.isList && specifics === exports.defaultObjectDataSourceItemSpecifics;\n    _this.checked = ko.pureComputed({\n      read: function () {\n        if (!_this.initialized()) {\n          return _this._checked();\n        } else {\n          var selectedItems = 0;\n          var partiallySelectedItems = 0;\n\n          var visibleChildren = _this.children().filter(function (item) {\n            return item.visible();\n          });\n\n          visibleChildren.forEach(function (item) {\n            if (item.checked() === true) {\n              selectedItems++;\n            } else if (item.checked() !== false) {\n              partiallySelectedItems++;\n            }\n          });\n\n          if (selectedItems === 0 && partiallySelectedItems === 0) {\n            return false;\n          }\n\n          if (selectedItems === visibleChildren.length) {\n            return true;\n          }\n\n          return undefined;\n        }\n      }\n    });\n    return _this;\n  }\n\n  DataMemberTreeNode.prototype.setChecked = function (value) {\n    _super.prototype.setChecked.call(this, this.visible() ? value : false);\n  };\n\n  return DataMemberTreeNode;\n}(TreeNode);\n\nexports.DataMemberTreeNode = DataMemberTreeNode;\n\nvar SingleCheckedDataMemberTreeNode = function (_super) {\n  __extends(SingleCheckedDataMemberTreeNode, _super);\n\n  function SingleCheckedDataMemberTreeNode(name, displayName, specifics, isChecked, path, afterCheckToggled) {\n    var _this = _super.call(this, name, displayName, specifics, isChecked, path, afterCheckToggled) || this;\n\n    _this.checked = ko.pureComputed({\n      read: function () {\n        return _this._checked();\n      }\n    });\n    return _this;\n  }\n\n  return SingleCheckedDataMemberTreeNode;\n}(DataMemberTreeNode);\n\nexports.SingleCheckedDataMemberTreeNode = SingleCheckedDataMemberTreeNode;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/query-builder/wizard/internal/_treeListNode.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","SingleCheckedDataMemberTreeNode","DataMemberTreeNode","FieldTreeNode","TreeQueryNode","QueriesTreeNode","ParameterTreeNode","TreeNode","TreeLeafNode","TreeNodeBase","defaultObjectDataSourceItemSpecifics","$","require","ko","localization_utils_1","utils_1","_super","name","displayName","specifics","isChecked","afterCheckToggled","_this","checked","pureComputed","_checked","isList","observable","_afterCheckToggled","noop","unChecked","toggleChecked","setChecked","peek","Disposable","nodeArguments","hasQuery","arguments","countChecked","count","i","children","length","observableArray","read","initialized","selectedItems","partiallySelectedItems","forEach","item","undefined","initializeChildren","hasParamsToEdit","child","callbacks","addAction","clickAction","disableCustomSql","addQuery","showPopover","imageClassName","imageTemplateName","templateName","text","getLocalization","itemClickAction","e","popoverVisible","itemData","className","path","showQbCallBack","addCustomQuery","target","selectionDisabled","getActions","context","result","indexOf","push","popoverListItems","parameters","query","editAction","editQuery","removeAction","removeQuery","model","data","deleteAction","setObservableName","_name","propertyName","get","set","newVal","configurable","isDraggable","visible","disabled","isComplex","dragData","noDragable","visibleChildren","filter"],"mappings":"AAAA;;;;;;;AAOA;;AACA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA6B,YAAY;AACrD,MAAIC,aAAa,GAAG,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAChCF,IAAAA,aAAa,GAAGG,MAAM,CAACC,cAAP,IACX;AAAEC,MAAAA,SAAS,EAAE;AAAb,iBAA6BC,KAA7B,IAAsC,UAAUL,CAAV,EAAaC,CAAb,EAAgB;AAAED,MAAAA,CAAC,CAACI,SAAF,GAAcH,CAAd;AAAkB,KAD/D,IAEZ,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AAAE,WAAK,IAAIK,CAAT,IAAcL,CAAd,EAAiB,IAAIC,MAAM,CAACK,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCR,CAArC,EAAwCK,CAAxC,CAAJ,EAAgDN,CAAC,CAACM,CAAD,CAAD,GAAOL,CAAC,CAACK,CAAD,CAAR;AAAc,KAFrG;;AAGA,WAAOP,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAApB;AACH,GALD;;AAMA,SAAO,UAAUD,CAAV,EAAaC,CAAb,EAAgB;AACnB,QAAI,OAAOA,CAAP,KAAa,UAAb,IAA2BA,CAAC,KAAK,IAArC,EACI,MAAM,IAAIS,SAAJ,CAAc,yBAAyBC,MAAM,CAACV,CAAD,CAA/B,GAAqC,+BAAnD,CAAN;AACJF,IAAAA,aAAa,CAACC,CAAD,EAAIC,CAAJ,CAAb;;AACA,aAASW,EAAT,GAAc;AAAE,WAAKC,WAAL,GAAmBb,CAAnB;AAAuB;;AACvCA,IAAAA,CAAC,CAACO,SAAF,GAAcN,CAAC,KAAK,IAAN,GAAaC,MAAM,CAACY,MAAP,CAAcb,CAAd,CAAb,IAAiCW,EAAE,CAACL,SAAH,GAAeN,CAAC,CAACM,SAAjB,EAA4B,IAAIK,EAAJ,EAA7D,CAAd;AACH,GAND;AAOH,CAd2C,EAA5C;;AAeAV,MAAM,CAACa,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,+BAAR,GAA0CF,OAAO,CAACG,kBAAR,GAA6BH,OAAO,CAACI,aAAR,GAAwBJ,OAAO,CAACK,aAAR,GAAwBL,OAAO,CAACM,eAAR,GAA0BN,OAAO,CAACO,iBAAR,GAA4BP,OAAO,CAACQ,QAAR,GAAmBR,OAAO,CAACS,YAAR,GAAuBT,OAAO,CAACU,YAAR,GAAuBV,OAAO,CAACW,oCAAR,GAA+C,KAAK,CAAlS;;AACA,IAAIC,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAf;;AACA,IAAIC,EAAE,GAAGD,OAAO,CAAC,UAAD,CAAhB;;AACA,IAAIE,oBAAoB,GAAGF,OAAO,CAAC,wDAAD,CAAlC;;AACA,IAAIG,OAAO,GAAGH,OAAO,CAAC,2BAAD,CAArB;;AACAb,OAAO,CAACW,oCAAR,GAA+C,SAA/C;;AACA,IAAID,YAAY,GAAI,UAAUO,MAAV,EAAkB;AAClCnC,EAAAA,SAAS,CAAC4B,YAAD,EAAeO,MAAf,CAAT;;AACA,WAASP,YAAT,CAAsBQ,IAAtB,EAA4BC,WAA5B,EAAyCC,SAAzC,EAAoDC,SAApD,EAA+DC,iBAA/D,EAAkF;AAC9E,QAAID,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,MAAAA,SAAS,GAAG,KAAZ;AAAoB;;AAChD,QAAIE,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,KAAqB,IAAjC;;AACA8B,IAAAA,KAAK,CAACL,IAAN,GAAaA,IAAb;AACAK,IAAAA,KAAK,CAACJ,WAAN,GAAoBA,WAApB;AACAI,IAAAA,KAAK,CAACH,SAAN,GAAkBA,SAAlB;AACAG,IAAAA,KAAK,CAACC,OAAN,GAAgBV,EAAE,CAACW,YAAH,CAAgB,YAAY;AAAE,aAAOF,KAAK,CAACG,QAAN,EAAP;AAA0B,KAAxD,CAAhB;AACAH,IAAAA,KAAK,CAACI,MAAN,GAAe,KAAf;AACAJ,IAAAA,KAAK,CAACG,QAAN,GAAiBZ,EAAE,CAACc,UAAH,CAAcP,SAAd,CAAjB;AACAE,IAAAA,KAAK,CAACM,kBAAN,GAA2BP,iBAAiB,IAAIV,CAAC,CAACkB,IAAlD;AACA,WAAOP,KAAP;AACH;;AACDb,EAAAA,YAAY,CAACnB,SAAb,CAAuBwC,SAAvB,GAAmC,YAAY;AAC3C,WAAO,KAAKP,OAAL,OAAmB,KAA1B;AACH,GAFD;;AAGAd,EAAAA,YAAY,CAACnB,SAAb,CAAuByC,aAAvB,GAAuC,YAAY;AAC/C,SAAKC,UAAL,CAAgB,CAAC,KAAKT,OAAL,CAAaU,IAAb,EAAjB;;AACA,SAAKL,kBAAL,CAAwB,IAAxB;AACH,GAHD;;AAIAnB,EAAAA,YAAY,CAACnB,SAAb,CAAuB0C,UAAvB,GAAoC,UAAUhC,KAAV,EAAiB;AACjD,SAAKyB,QAAL,CAAczB,KAAd;AACH,GAFD;;AAGA,SAAOS,YAAP;AACH,CAzBmB,CAyBlBM,OAAO,CAACmB,UAzBU,CAApB;;AA0BAnC,OAAO,CAACU,YAAR,GAAuBA,YAAvB;;AACA,IAAID,YAAY,GAAI,UAAUQ,MAAV,EAAkB;AAClCnC,EAAAA,SAAS,CAAC2B,YAAD,EAAeQ,MAAf,CAAT;;AACA,WAASR,YAAT,CAAsBS,IAAtB,EAA4BC,WAA5B,EAAyCC,SAAzC,EAAoDC,SAApD,EAA+De,aAA/D,EAA8Ed,iBAA9E,EAAiG;AAC7F,QAAID,SAAS,KAAK,KAAK,CAAvB,EAA0B;AAAEA,MAAAA,SAAS,GAAG,KAAZ;AAAoB;;AAChD,QAAIe,aAAa,KAAK,KAAK,CAA3B,EAA8B;AAAEA,MAAAA,aAAa,GAAG,IAAhB;AAAuB;;AACvD,QAAIb,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,EAAkByB,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2DC,iBAA3D,KAAiF,IAA7F;;AACAC,IAAAA,KAAK,CAACL,IAAN,GAAaA,IAAb;AACAK,IAAAA,KAAK,CAACJ,WAAN,GAAoBA,WAApB;AACAI,IAAAA,KAAK,CAACH,SAAN,GAAkBA,SAAlB;AACAG,IAAAA,KAAK,CAACc,QAAN,GAAiB,KAAjB;AACAd,IAAAA,KAAK,CAACe,SAAN,GAAkBF,aAAlB;AACA,WAAOb,KAAP;AACH;;AACD,SAAOd,YAAP;AACH,CAdmB,CAclBC,YAdkB,CAApB;;AAeAV,OAAO,CAACS,YAAR,GAAuBA,YAAvB;;AACA,IAAID,QAAQ,GAAI,UAAUS,MAAV,EAAkB;AAC9BnC,EAAAA,SAAS,CAAC0B,QAAD,EAAWS,MAAX,CAAT;;AACA,WAAST,QAAT,CAAkBU,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2DC,iBAA3D,EAA8E;AAC1E,QAAIC,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,EAAkByB,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2DC,iBAA3D,KAAiF,IAA7F;;AACAC,IAAAA,KAAK,CAACgB,YAAN,GAAqBzB,EAAE,CAACW,YAAH,CAAgB,YAAY;AAC7C,UAAIe,KAAK,GAAG,CAAZ;;AACA,WAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,KAAK,CAACmB,QAAN,GAAiBC,MAArC,EAA6CF,CAAC,EAA9C,EAAkD;AAC9C,YAAI,CAAClB,KAAK,CAACmB,QAAN,GAAiBD,CAAjB,EAAoBV,SAApB,EAAL,EAAsC;AAClC,cAAIS,KAAK,GAAG,CAAZ,EACI;AACJA,UAAAA,KAAK;AACR;AACJ;;AACD,aAAOA,KAAP;AACH,KAVoB,CAArB;AAWAjB,IAAAA,KAAK,CAACI,MAAN,GAAe,IAAf;AACAJ,IAAAA,KAAK,CAACmB,QAAN,GAAiB5B,EAAE,CAAC8B,eAAH,CAAmB,EAAnB,CAAjB;AACArB,IAAAA,KAAK,CAACC,OAAN,GAAgBV,EAAE,CAACW,YAAH,CAAgB;AAC5BoB,MAAAA,IAAI,EAAE,YAAY;AACd,YAAI,CAACtB,KAAK,CAACuB,WAAN,EAAL,EAA0B;AACtB,iBAAOvB,KAAK,CAACG,QAAN,EAAP;AACH,SAFD,MAGK;AACD,cAAIqB,aAAa,GAAG,CAApB;AACA,cAAIC,sBAAsB,GAAG,CAA7B;;AACAzB,UAAAA,KAAK,CAACmB,QAAN,GAAiBO,OAAjB,CAAyB,UAAUC,IAAV,EAAgB;AACrC,gBAAIA,IAAI,CAAC1B,OAAL,OAAmB,IAAvB,EAA6B;AACzBuB,cAAAA,aAAa;AAChB,aAFD,MAGK,IAAIG,IAAI,CAAC1B,OAAL,OAAmB,KAAvB,EAA8B;AAC/BwB,cAAAA,sBAAsB;AACzB;AACJ,WAPD;;AAQA,cAAID,aAAa,KAAK,CAAlB,IAAuBC,sBAAsB,KAAK,CAAtD,EAAyD;AACrD,mBAAO,KAAP;AACH;;AACD,cAAID,aAAa,KAAKxB,KAAK,CAACmB,QAAN,CAAeR,IAAf,GAAsBS,MAA5C,EAAoD;AAChD,mBAAO,IAAP;AACH;;AACD,iBAAOQ,SAAP;AACH;AACJ;AAxB2B,KAAhB,CAAhB;AA0BA,WAAO5B,KAAP;AACH;;AACDf,EAAAA,QAAQ,CAACjB,SAAT,CAAmBuD,WAAnB,GAAiC,YAAY;AACzC,WAAO,KAAKJ,QAAL,GAAgBC,MAAhB,GAAyB,CAAhC;AACH,GAFD;;AAGAnC,EAAAA,QAAQ,CAACjB,SAAT,CAAmB0C,UAAnB,GAAgC,UAAUhC,KAAV,EAAiB;AAC7C,SAAKyB,QAAL,CAAczB,KAAd;;AACA,SAAKyC,QAAL,CAAcR,IAAd,GAAqBe,OAArB,CAA6B,UAAUC,IAAV,EAAgB;AACzCA,MAAAA,IAAI,CAACjB,UAAL,CAAgBhC,KAAhB;AACH,KAFD;AAGH,GALD;;AAMAO,EAAAA,QAAQ,CAACjB,SAAT,CAAmB6D,kBAAnB,GAAwC,UAAUV,QAAV,EAAoB;AACxD,SAAKA,QAAL,CAAcA,QAAQ,IAAI,EAA1B;AACH,GAFD;;AAGA,SAAOlC,QAAP;AACH,CA1De,CA0DdE,YA1Dc,CAAhB;;AA2DAV,OAAO,CAACQ,QAAR,GAAmBA,QAAnB;;AACA,IAAID,iBAAiB,GAAI,UAAUU,MAAV,EAAkB;AACvCnC,EAAAA,SAAS,CAACyB,iBAAD,EAAoBU,MAApB,CAAT;;AACA,WAASV,iBAAT,CAA2BW,IAA3B,EAAiCC,WAAjC,EAA8CC,SAA9C,EAAyDC,SAAzD,EAAoEC,iBAApE,EAAuF;AACnF,QAAIC,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,EAAkByB,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2DC,iBAA3D,KAAiF,IAA7F;;AACAC,IAAAA,KAAK,CAACgB,YAAN,GAAqBzB,EAAE,CAACW,YAAH,CAAgB,YAAY;AAC7C,UAAIe,KAAK,GAAG,CAAZ;;AACAjB,MAAAA,KAAK,CAAC8B,eAAN,CAAsB,KAAtB;;AACA,WAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,KAAK,CAACmB,QAAN,GAAiBC,MAArC,EAA6CF,CAAC,EAA9C,EAAkD;AAC9C,YAAIa,KAAK,GAAG/B,KAAK,CAACmB,QAAN,GAAiBD,CAAjB,CAAZ;;AACA,YAAI,CAACa,KAAK,CAACvB,SAAN,EAAL,EAAwB;AACpB,cAAIS,KAAK,GAAG,CAAZ,EACI;AACJA,UAAAA,KAAK;AACL,cAAIc,KAAK,CAAChB,SAAN,IAAmBgB,KAAK,CAAChB,SAAN,CAAgBK,MAAhB,GAAyB,CAAhD,EACIpB,KAAK,CAAC8B,eAAN,CAAsB,IAAtB;AACJ,cAAIC,KAAK,CAAClC,SAAN,KAAoB,OAAxB,EACIG,KAAK,CAAC8B,eAAN,CAAsB,IAAtB;AACP;AACJ;;AACD,aAAOb,KAAP;AACH,KAhBoB,CAArB;AAiBAjB,IAAAA,KAAK,CAAC8B,eAAN,GAAwBvC,EAAE,CAACc,UAAH,CAAc,KAAd,CAAxB;AACA,WAAOL,KAAP;AACH;;AACD,SAAOhB,iBAAP;AACH,CAzBwB,CAyBvBC,QAzBuB,CAAzB;;AA0BAR,OAAO,CAACO,iBAAR,GAA4BA,iBAA5B;;AACA,IAAID,eAAe,GAAI,UAAUW,MAAV,EAAkB;AACrCnC,EAAAA,SAAS,CAACwB,eAAD,EAAkBW,MAAlB,CAAT;;AACA,WAASX,eAAT,CAAyBY,IAAzB,EAA+BC,WAA/B,EAA4CC,SAA5C,EAAuDC,SAAvD,EAAkEkC,SAAlE,EAA6EjC,iBAA7E,EAAgG;AAC5F,QAAIC,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,EAAkByB,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2DC,iBAA3D,KAAiF,IAA7F;;AACAC,IAAAA,KAAK,CAACiC,SAAN,GAAkB;AACdC,MAAAA,WAAW,EAAE,UAAUP,IAAV,EAAgB;AACzB,YAAI3B,KAAK,CAACmC,gBAAN,EAAJ,EAA8B;AAC1B,iBAAOnC,KAAK,CAACoC,QAAN,EAAP;AACH,SAFD,MAGK;AACD,iBAAOpC,KAAK,CAACqC,WAAN,EAAP;AACH;AACJ,OARa;AASdC,MAAAA,cAAc,EAAE,gBATF;AAUdC,MAAAA,iBAAiB,EAAE,yBAVL;AAWdC,MAAAA,YAAY,EAAE,iCAXA;AAYdC,MAAAA,IAAI,EAAEjD,oBAAoB,CAACkD,eAArB,CAAqC,WAArC,EAAkD,4CAAlD;AAZQ,KAAlB;;AAcA1C,IAAAA,KAAK,CAAC2C,eAAN,GAAwB,UAAUC,CAAV,EAAa;AACjC5C,MAAAA,KAAK,CAAC6C,cAAN,CAAqB,KAArB;;AACAD,MAAAA,CAAC,CAACE,QAAF,CAAWb,SAAX;AACH,KAHD;;AAIAjC,IAAAA,KAAK,CAAC+C,SAAN,GAAkB,uBAAlB;AACA/C,IAAAA,KAAK,CAAC6C,cAAN,GAAuBtD,EAAE,CAACc,UAAH,CAAc,KAAd,CAAvB;AACAL,IAAAA,KAAK,CAACgD,IAAN,GAAarD,IAAb;;AACAK,IAAAA,KAAK,CAACoC,QAAN,GAAiB,YAAY;AACzBJ,MAAAA,SAAS,GAAGiB,cAAZ;AACH,KAFD;;AAGAjD,IAAAA,KAAK,CAACkD,cAAN,GAAuB,YAAY;AAC/BlB,MAAAA,SAAS,GAAGiB,cAAZ,CAA2B,IAA3B,EAAiC,IAAjC;AACH,KAFD;;AAGAjD,IAAAA,KAAK,CAACmC,gBAAN,GAAyB,YAAY;AAAE,aAAOH,SAAS,IAAIA,SAAS,GAAGG,gBAAhC;AAAmD,KAA1F;;AACAnC,IAAAA,KAAK,CAACmD,MAAN,GAAe,MAAMnD,KAAK,CAACiC,SAAN,CAAgBO,YAArC;AACAxC,IAAAA,KAAK,CAACoD,iBAAN,GAA0B7D,EAAE,CAACW,YAAH,CAAgB,YAAY;AAClD,aAAO,CAACF,KAAK,CAACmB,QAAN,GAAiBC,MAAzB;AACH,KAFyB,CAA1B;AAGA,WAAOpB,KAAP;AACH;;AACDjB,EAAAA,eAAe,CAACf,SAAhB,CAA0BqF,UAA1B,GAAuC,UAAUC,OAAV,EAAmB;AACtD,QAAIC,MAAM,GAAG,EAAb;;AACA,QAAID,OAAO,CAACN,IAAR,CAAaQ,OAAb,CAAqB,SAArB,MAAoC,CAAxC,EAA2C;AACvCD,MAAAA,MAAM,CAACE,IAAP,CAAY,KAAKxB,SAAjB;AACH;;AACD,WAAOsB,MAAP;AACH,GAND;;AAOAxE,EAAAA,eAAe,CAACf,SAAhB,CAA0B0F,gBAA1B,GAA6C,YAAY;AACrD,QAAI1D,KAAK,GAAG,IAAZ;;AACA,WAAO,CACH;AACIL,MAAAA,IAAI,EAAEH,oBAAoB,CAACkD,eAArB,CAAqC,mBAArC,EAA0D,0CAA1D,CADV;AAEIT,MAAAA,SAAS,EAAE,YAAY;AAAE,eAAOjC,KAAK,CAACoC,QAAN,EAAP;AAA0B;AAFvD,KADG,EAKH;AACIzC,MAAAA,IAAI,EAAEH,oBAAoB,CAACkD,eAArB,CAAqC,kBAArC,EAAyD,kDAAzD,CADV;AAEIT,MAAAA,SAAS,EAAE,YAAY;AAAE,eAAOjC,KAAK,CAACkD,cAAN,EAAP;AAAgC;AAF7D,KALG,CAAP;AAUH,GAZD;;AAaAnE,EAAAA,eAAe,CAACf,SAAhB,CAA0BqE,WAA1B,GAAwC,YAAY;AAChD,SAAKQ,cAAL,CAAoB,IAApB;AACH,GAFD;;AAGA,SAAO9D,eAAP;AACH,CA9DsB,CA8DrBC,iBA9DqB,CAAvB;;AA+DAP,OAAO,CAACM,eAAR,GAA0BA,eAA1B;;AACA,IAAID,aAAa,GAAI,UAAUY,MAAV,EAAkB;AACnCnC,EAAAA,SAAS,CAACuB,aAAD,EAAgBY,MAAhB,CAAT;;AACA,WAASZ,aAAT,CAAuBa,IAAvB,EAA6BC,WAA7B,EAA0CC,SAA1C,EAAqDC,SAArD,EAAgE6D,UAAhE,EAA4E3B,SAA5E,EAAuFjC,iBAAvF,EAA0G6D,KAA1G,EAAiH;AAC7G,QAAI5D,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,EAAkByB,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2D,IAA3D,EAAiEC,iBAAjE,KAAuF,IAAnG;;AACAC,IAAAA,KAAK,CAAC4D,KAAN,GAAcA,KAAd;AACA5D,IAAAA,KAAK,CAAC6D,UAAN,GAAmB;AACf3B,MAAAA,WAAW,EAAE,UAAUP,IAAV,EAAgB;AACzB,eAAO3B,KAAK,CAAC8D,SAAN,EAAP;AACH,OAHc;AAIfxB,MAAAA,cAAc,EAAE,eAJD;AAKfC,MAAAA,iBAAiB,EAAE,0BALJ;AAMfE,MAAAA,IAAI,EAAEjD,oBAAoB,CAACkD,eAArB,CAAqC,YAArC,EAAmD,6CAAnD;AANS,KAAnB;AAQA1C,IAAAA,KAAK,CAAC+D,YAAN,GAAqB;AACjB7B,MAAAA,WAAW,EAAE,UAAUP,IAAV,EAAgB;AACzB3B,QAAAA,KAAK,CAACgE,WAAN,CAAkB;AAAEC,UAAAA,KAAK,EAAEtC,IAAI,CAACuC;AAAd,SAAlB;AACH,OAHgB;AAIjB5B,MAAAA,cAAc,EAAE,wBAJC;AAKjBC,MAAAA,iBAAiB,EAAE,iCALF;AAMjBE,MAAAA,IAAI,EAAEjD,oBAAoB,CAACkD,eAArB,CAAqC,cAArC,EAAqD,+CAArD;AANW,KAArB;AAQA1C,IAAAA,KAAK,CAAC2D,UAAN,GAAmBA,UAAnB;;AACA3D,IAAAA,KAAK,CAACgE,WAAN,GAAoB,UAAUpB,CAAV,EAAa;AAC7B,UAAI,CAACA,CAAC,CAACqB,KAAF,CAAQzD,SAAR,EAAL,EAA0B;AACtBoC,QAAAA,CAAC,CAACqB,KAAF,CAAQxD,aAAR;AACH;;AACDuB,MAAAA,SAAS,GAAGmC,YAAZ,CAAyBvB,CAAC,CAACqB,KAAF,CAAQtE,IAAjC;AACH,KALD;;AAMAK,IAAAA,KAAK,CAAC8D,SAAN,GAAkB,UAAUlB,CAAV,EAAa;AAC3BZ,MAAAA,SAAS,GAAGiB,cAAZ,CAA2BjD,KAAK,CAACL,IAAjC;AACH,KAFD;;AAGAK,IAAAA,KAAK,CAACc,QAAN,GAAiB,IAAjB;AACA,WAAOd,KAAP;AACH;;AACDlB,EAAAA,aAAa,CAACd,SAAd,CAAwBoG,iBAAxB,GAA4C,UAAUzE,IAAV,EAAgB;AACxD,QAAIK,KAAK,GAAG,IAAZ;;AACA,SAAKqE,KAAL,GAAa1E,IAAb;AACA,KAAC,MAAD,EAAS,aAAT,EAAwB+B,OAAxB,CAAgC,UAAU4C,YAAV,EAAwB;AACpD,aAAO3G,MAAM,CAACa,cAAP,CAAsBwB,KAAtB,EAA6BsE,YAA7B,EAA2C;AAC9CC,QAAAA,GAAG,EAAE,YAAY;AACb,iBAAO,KAAKF,KAAL,EAAP;AACH,SAH6C;AAI9CG,QAAAA,GAAG,EAAE,UAAUC,MAAV,EAAkB;AACnB,iBAAO,KAAKJ,KAAL,CAAWI,MAAX,CAAP;AACH,SAN6C;AAO9CC,QAAAA,YAAY,EAAE;AAPgC,OAA3C,CAAP;AASH,KAVD;AAWH,GAdD;;AAeA5F,EAAAA,aAAa,CAACd,SAAd,CAAwBqF,UAAxB,GAAqC,UAAUC,OAAV,EAAmB;AACpD,QAAIC,MAAM,GAAG,EAAb;AACAA,IAAAA,MAAM,CAACE,IAAP,CAAY,KAAKM,YAAjB;AACAR,IAAAA,MAAM,CAACE,IAAP,CAAY,KAAKI,UAAjB;AACA,WAAON,MAAP;AACH,GALD;;AAMA,SAAOzE,aAAP;AACH,CAxDoB,CAwDnBI,YAxDmB,CAArB;;AAyDAT,OAAO,CAACK,aAAR,GAAwBA,aAAxB;;AACA,IAAID,aAAa,GAAI,UAAUa,MAAV,EAAkB;AACnCnC,EAAAA,SAAS,CAACsB,aAAD,EAAgBa,MAAhB,CAAT;;AACA,WAASb,aAAT,CAAuBc,IAAvB,EAA6BC,WAA7B,EAA0CC,SAA1C,EAAqDC,SAArD,EAAgEkD,IAAhE,EAAsEjD,iBAAtE,EAAyF4E,WAAzF,EAAsG;AAClG,QAAIA,WAAW,KAAK,KAAK,CAAzB,EAA4B;AAAEA,MAAAA,WAAW,GAAG,KAAd;AAAsB;;AACpD,QAAI3E,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,EAAkByB,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2DC,iBAA3D,KAAiF,IAA7F;;AACAC,IAAAA,KAAK,CAAC4E,OAAN,GAAgBrF,EAAE,CAACc,UAAH,CAAc,IAAd,CAAhB;AACAL,IAAAA,KAAK,CAAC6E,QAAN,GAAiBtF,EAAE,CAACc,UAAH,CAAc,KAAd,CAAjB;AACAL,IAAAA,KAAK,CAACgD,IAAN,GAAaA,IAAb;AACAhD,IAAAA,KAAK,CAAC8E,SAAN,GAAkBjF,SAAS,KAAKpB,OAAO,CAACW,oCAAxC;AACA,QAAIuF,WAAJ,EACI3E,KAAK,CAAC+E,QAAN,GAAiB;AAAEC,MAAAA,UAAU,EAAE;AAAd,KAAjB;AACJ,WAAOhF,KAAP;AACH;;AACD,SAAOnB,aAAP;AACH,CAdoB,CAcnBM,YAdmB,CAArB;;AAeAV,OAAO,CAACI,aAAR,GAAwBA,aAAxB;;AACA,IAAID,kBAAkB,GAAI,UAAUc,MAAV,EAAkB;AACxCnC,EAAAA,SAAS,CAACqB,kBAAD,EAAqBc,MAArB,CAAT;;AACA,WAASd,kBAAT,CAA4Be,IAA5B,EAAkCC,WAAlC,EAA+CC,SAA/C,EAA0DC,SAA1D,EAAqEkD,IAArE,EAA2EjD,iBAA3E,EAA8F;AAC1F,QAAIC,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,EAAkByB,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2DC,iBAA3D,KAAiF,IAA7F;;AACAC,IAAAA,KAAK,CAAC4E,OAAN,GAAgBrF,EAAE,CAACc,UAAH,CAAc,IAAd,CAAhB;AACAL,IAAAA,KAAK,CAACgD,IAAN,GAAaA,IAAb;AACAhD,IAAAA,KAAK,CAAC8E,SAAN,GAAkB9E,KAAK,CAACI,MAAN,IAAgBP,SAAS,KAAKpB,OAAO,CAACW,oCAAxD;AACAY,IAAAA,KAAK,CAACC,OAAN,GAAgBV,EAAE,CAACW,YAAH,CAAgB;AAC5BoB,MAAAA,IAAI,EAAE,YAAY;AACd,YAAI,CAACtB,KAAK,CAACuB,WAAN,EAAL,EAA0B;AACtB,iBAAOvB,KAAK,CAACG,QAAN,EAAP;AACH,SAFD,MAGK;AACD,cAAIqB,aAAa,GAAG,CAApB;AACA,cAAIC,sBAAsB,GAAG,CAA7B;;AACA,cAAIwD,eAAe,GAAGjF,KAAK,CAACmB,QAAN,GAAiB+D,MAAjB,CAAwB,UAAUvD,IAAV,EAAgB;AAAE,mBAAOA,IAAI,CAACiD,OAAL,EAAP;AAAwB,WAAlE,CAAtB;;AACAK,UAAAA,eAAe,CAACvD,OAAhB,CAAwB,UAAUC,IAAV,EAAgB;AACpC,gBAAIA,IAAI,CAAC1B,OAAL,OAAmB,IAAvB,EAA6B;AACzBuB,cAAAA,aAAa;AAChB,aAFD,MAGK,IAAIG,IAAI,CAAC1B,OAAL,OAAmB,KAAvB,EAA8B;AAC/BwB,cAAAA,sBAAsB;AACzB;AACJ,WAPD;;AAQA,cAAID,aAAa,KAAK,CAAlB,IAAuBC,sBAAsB,KAAK,CAAtD,EAAyD;AACrD,mBAAO,KAAP;AACH;;AACD,cAAID,aAAa,KAAKyD,eAAe,CAAC7D,MAAtC,EAA8C;AAC1C,mBAAO,IAAP;AACH;;AACD,iBAAOQ,SAAP;AACH;AACJ;AAzB2B,KAAhB,CAAhB;AA2BA,WAAO5B,KAAP;AACH;;AACDpB,EAAAA,kBAAkB,CAACZ,SAAnB,CAA6B0C,UAA7B,GAA0C,UAAUhC,KAAV,EAAiB;AACvDgB,IAAAA,MAAM,CAAC1B,SAAP,CAAiB0C,UAAjB,CAA4BxC,IAA5B,CAAiC,IAAjC,EAAuC,KAAK0G,OAAL,KAAiBlG,KAAjB,GAAyB,KAAhE;AACH,GAFD;;AAGA,SAAOE,kBAAP;AACH,CAxCyB,CAwCxBK,QAxCwB,CAA1B;;AAyCAR,OAAO,CAACG,kBAAR,GAA6BA,kBAA7B;;AACA,IAAID,+BAA+B,GAAI,UAAUe,MAAV,EAAkB;AACrDnC,EAAAA,SAAS,CAACoB,+BAAD,EAAkCe,MAAlC,CAAT;;AACA,WAASf,+BAAT,CAAyCgB,IAAzC,EAA+CC,WAA/C,EAA4DC,SAA5D,EAAuEC,SAAvE,EAAkFkD,IAAlF,EAAwFjD,iBAAxF,EAA2G;AACvG,QAAIC,KAAK,GAAGN,MAAM,CAACxB,IAAP,CAAY,IAAZ,EAAkByB,IAAlB,EAAwBC,WAAxB,EAAqCC,SAArC,EAAgDC,SAAhD,EAA2DkD,IAA3D,EAAiEjD,iBAAjE,KAAuF,IAAnG;;AACAC,IAAAA,KAAK,CAACC,OAAN,GAAgBV,EAAE,CAACW,YAAH,CAAgB;AAC5BoB,MAAAA,IAAI,EAAE,YAAY;AACd,eAAOtB,KAAK,CAACG,QAAN,EAAP;AACH;AAH2B,KAAhB,CAAhB;AAKA,WAAOH,KAAP;AACH;;AACD,SAAOrB,+BAAP;AACH,CAZsC,CAYrCC,kBAZqC,CAAvC;;AAaAH,OAAO,CAACE,+BAAR,GAA0CA,+BAA1C","sourcesContent":["/**\n* DevExpress Analytics (query-builder\\wizard\\internal\\_treeListNode.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SingleCheckedDataMemberTreeNode = exports.DataMemberTreeNode = exports.FieldTreeNode = exports.TreeQueryNode = exports.QueriesTreeNode = exports.ParameterTreeNode = exports.TreeNode = exports.TreeLeafNode = exports.TreeNodeBase = exports.defaultObjectDataSourceItemSpecifics = void 0;\nvar $ = require(\"jquery\");\nvar ko = require(\"knockout\");\nvar localization_utils_1 = require(\"../../../property-grid/localization/localization_utils\");\nvar utils_1 = require(\"../../../serializer/utils\");\nexports.defaultObjectDataSourceItemSpecifics = 'Default';\nvar TreeNodeBase = (function (_super) {\n    __extends(TreeNodeBase, _super);\n    function TreeNodeBase(name, displayName, specifics, isChecked, afterCheckToggled) {\n        if (isChecked === void 0) { isChecked = false; }\n        var _this = _super.call(this) || this;\n        _this.name = name;\n        _this.displayName = displayName;\n        _this.specifics = specifics;\n        _this.checked = ko.pureComputed(function () { return _this._checked(); });\n        _this.isList = false;\n        _this._checked = ko.observable(isChecked);\n        _this._afterCheckToggled = afterCheckToggled || $.noop;\n        return _this;\n    }\n    TreeNodeBase.prototype.unChecked = function () {\n        return this.checked() === false;\n    };\n    TreeNodeBase.prototype.toggleChecked = function () {\n        this.setChecked(!this.checked.peek());\n        this._afterCheckToggled(this);\n    };\n    TreeNodeBase.prototype.setChecked = function (value) {\n        this._checked(value);\n    };\n    return TreeNodeBase;\n}(utils_1.Disposable));\nexports.TreeNodeBase = TreeNodeBase;\nvar TreeLeafNode = (function (_super) {\n    __extends(TreeLeafNode, _super);\n    function TreeLeafNode(name, displayName, specifics, isChecked, nodeArguments, afterCheckToggled) {\n        if (isChecked === void 0) { isChecked = false; }\n        if (nodeArguments === void 0) { nodeArguments = null; }\n        var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n        _this.name = name;\n        _this.displayName = displayName;\n        _this.specifics = specifics;\n        _this.hasQuery = false;\n        _this.arguments = nodeArguments;\n        return _this;\n    }\n    return TreeLeafNode;\n}(TreeNodeBase));\nexports.TreeLeafNode = TreeLeafNode;\nvar TreeNode = (function (_super) {\n    __extends(TreeNode, _super);\n    function TreeNode(name, displayName, specifics, isChecked, afterCheckToggled) {\n        var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n        _this.countChecked = ko.pureComputed(function () {\n            var count = 0;\n            for (var i = 0; i < _this.children().length; i++) {\n                if (!_this.children()[i].unChecked()) {\n                    if (count > 1)\n                        break;\n                    count++;\n                }\n            }\n            return count;\n        });\n        _this.isList = true;\n        _this.children = ko.observableArray([]);\n        _this.checked = ko.pureComputed({\n            read: function () {\n                if (!_this.initialized()) {\n                    return _this._checked();\n                }\n                else {\n                    var selectedItems = 0;\n                    var partiallySelectedItems = 0;\n                    _this.children().forEach(function (item) {\n                        if (item.checked() === true) {\n                            selectedItems++;\n                        }\n                        else if (item.checked() !== false) {\n                            partiallySelectedItems++;\n                        }\n                    });\n                    if (selectedItems === 0 && partiallySelectedItems === 0) {\n                        return false;\n                    }\n                    if (selectedItems === _this.children.peek().length) {\n                        return true;\n                    }\n                    return undefined;\n                }\n            }\n        });\n        return _this;\n    }\n    TreeNode.prototype.initialized = function () {\n        return this.children().length > 0;\n    };\n    TreeNode.prototype.setChecked = function (value) {\n        this._checked(value);\n        this.children.peek().forEach(function (item) {\n            item.setChecked(value);\n        });\n    };\n    TreeNode.prototype.initializeChildren = function (children) {\n        this.children(children || []);\n    };\n    return TreeNode;\n}(TreeNodeBase));\nexports.TreeNode = TreeNode;\nvar ParameterTreeNode = (function (_super) {\n    __extends(ParameterTreeNode, _super);\n    function ParameterTreeNode(name, displayName, specifics, isChecked, afterCheckToggled) {\n        var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n        _this.countChecked = ko.pureComputed(function () {\n            var count = 0;\n            _this.hasParamsToEdit(false);\n            for (var i = 0; i < _this.children().length; i++) {\n                var child = _this.children()[i];\n                if (!child.unChecked()) {\n                    if (count > 1)\n                        break;\n                    count++;\n                    if (child.arguments && child.arguments.length > 0)\n                        _this.hasParamsToEdit(true);\n                    if (child.specifics === 'query')\n                        _this.hasParamsToEdit(true);\n                }\n            }\n            return count;\n        });\n        _this.hasParamsToEdit = ko.observable(false);\n        return _this;\n    }\n    return ParameterTreeNode;\n}(TreeNode));\nexports.ParameterTreeNode = ParameterTreeNode;\nvar QueriesTreeNode = (function (_super) {\n    __extends(QueriesTreeNode, _super);\n    function QueriesTreeNode(name, displayName, specifics, isChecked, callbacks, afterCheckToggled) {\n        var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n        _this.addAction = {\n            clickAction: function (item) {\n                if (_this.disableCustomSql()) {\n                    return _this.addQuery();\n                }\n                else {\n                    return _this.showPopover();\n                }\n            },\n            imageClassName: 'dxrd-image-add',\n            imageTemplateName: 'dxrd-svg-operations-add',\n            templateName: 'dx-treelist-action-with-popover',\n            text: localization_utils_1.getLocalization('Add query', 'AnalyticsCoreStringId.SqlDSWizard_AddQuery')\n        };\n        _this.itemClickAction = function (e) {\n            _this.popoverVisible(false);\n            e.itemData.addAction();\n        };\n        _this.className = 'dx-addqueries-popover';\n        _this.popoverVisible = ko.observable(false);\n        _this.path = name;\n        _this.addQuery = function () {\n            callbacks().showQbCallBack();\n        };\n        _this.addCustomQuery = function () {\n            callbacks().showQbCallBack(null, true);\n        };\n        _this.disableCustomSql = function () { return callbacks && callbacks().disableCustomSql; };\n        _this.target = '.' + _this.addAction.templateName;\n        _this.selectionDisabled = ko.pureComputed(function () {\n            return !_this.children().length;\n        });\n        return _this;\n    }\n    QueriesTreeNode.prototype.getActions = function (context) {\n        var result = [];\n        if (context.path.indexOf('queries') === 0) {\n            result.push(this.addAction);\n        }\n        return result;\n    };\n    QueriesTreeNode.prototype.popoverListItems = function () {\n        var _this = this;\n        return [\n            {\n                name: localization_utils_1.getLocalization('Run Query Builder', 'DataAccessUIStringId.Button_QueryBuilder'),\n                addAction: function () { return _this.addQuery(); }\n            },\n            {\n                name: localization_utils_1.getLocalization('Write Custom SQL', 'AnalyticsCoreStringId.SqlDSWizard_WriteCustomSQL'),\n                addAction: function () { return _this.addCustomQuery(); }\n            }\n        ];\n    };\n    QueriesTreeNode.prototype.showPopover = function () {\n        this.popoverVisible(true);\n    };\n    return QueriesTreeNode;\n}(ParameterTreeNode));\nexports.QueriesTreeNode = QueriesTreeNode;\nvar TreeQueryNode = (function (_super) {\n    __extends(TreeQueryNode, _super);\n    function TreeQueryNode(name, displayName, specifics, isChecked, parameters, callbacks, afterCheckToggled, query) {\n        var _this = _super.call(this, name, displayName, specifics, isChecked, null, afterCheckToggled) || this;\n        _this.query = query;\n        _this.editAction = {\n            clickAction: function (item) {\n                return _this.editQuery();\n            },\n            imageClassName: 'dx-image-edit',\n            imageTemplateName: 'dxrd-svg-operations-edit',\n            text: localization_utils_1.getLocalization('Edit query', 'AnalyticsCoreStringId.SqlDSWizard_EditQuery')\n        };\n        _this.removeAction = {\n            clickAction: function (item) {\n                _this.removeQuery({ model: item.data });\n            },\n            imageClassName: 'dxrd-image-recycle-bin',\n            imageTemplateName: 'dxrd-svg-operations-recycle_bin',\n            text: localization_utils_1.getLocalization('Remove query', 'AnalyticsCoreStringId.SqlDSWizard_RemoveQuery')\n        };\n        _this.parameters = parameters;\n        _this.removeQuery = function (e) {\n            if (!e.model.unChecked()) {\n                e.model.toggleChecked();\n            }\n            callbacks().deleteAction(e.model.name);\n        };\n        _this.editQuery = function (e) {\n            callbacks().showQbCallBack(_this.name);\n        };\n        _this.hasQuery = true;\n        return _this;\n    }\n    TreeQueryNode.prototype.setObservableName = function (name) {\n        var _this = this;\n        this._name = name;\n        ['name', 'displayName'].forEach(function (propertyName) {\n            return Object.defineProperty(_this, propertyName, {\n                get: function () {\n                    return this._name();\n                },\n                set: function (newVal) {\n                    return this._name(newVal);\n                },\n                configurable: true\n            });\n        });\n    };\n    TreeQueryNode.prototype.getActions = function (context) {\n        var result = [];\n        result.push(this.removeAction);\n        result.push(this.editAction);\n        return result;\n    };\n    return TreeQueryNode;\n}(TreeLeafNode));\nexports.TreeQueryNode = TreeQueryNode;\nvar FieldTreeNode = (function (_super) {\n    __extends(FieldTreeNode, _super);\n    function FieldTreeNode(name, displayName, specifics, isChecked, path, afterCheckToggled, isDraggable) {\n        if (isDraggable === void 0) { isDraggable = false; }\n        var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n        _this.visible = ko.observable(true);\n        _this.disabled = ko.observable(false);\n        _this.path = path;\n        _this.isComplex = specifics === exports.defaultObjectDataSourceItemSpecifics;\n        if (isDraggable)\n            _this.dragData = { noDragable: false };\n        return _this;\n    }\n    return FieldTreeNode;\n}(TreeNodeBase));\nexports.FieldTreeNode = FieldTreeNode;\nvar DataMemberTreeNode = (function (_super) {\n    __extends(DataMemberTreeNode, _super);\n    function DataMemberTreeNode(name, displayName, specifics, isChecked, path, afterCheckToggled) {\n        var _this = _super.call(this, name, displayName, specifics, isChecked, afterCheckToggled) || this;\n        _this.visible = ko.observable(true);\n        _this.path = path;\n        _this.isComplex = _this.isList && specifics === exports.defaultObjectDataSourceItemSpecifics;\n        _this.checked = ko.pureComputed({\n            read: function () {\n                if (!_this.initialized()) {\n                    return _this._checked();\n                }\n                else {\n                    var selectedItems = 0;\n                    var partiallySelectedItems = 0;\n                    var visibleChildren = _this.children().filter(function (item) { return item.visible(); });\n                    visibleChildren.forEach(function (item) {\n                        if (item.checked() === true) {\n                            selectedItems++;\n                        }\n                        else if (item.checked() !== false) {\n                            partiallySelectedItems++;\n                        }\n                    });\n                    if (selectedItems === 0 && partiallySelectedItems === 0) {\n                        return false;\n                    }\n                    if (selectedItems === visibleChildren.length) {\n                        return true;\n                    }\n                    return undefined;\n                }\n            }\n        });\n        return _this;\n    }\n    DataMemberTreeNode.prototype.setChecked = function (value) {\n        _super.prototype.setChecked.call(this, this.visible() ? value : false);\n    };\n    return DataMemberTreeNode;\n}(TreeNode));\nexports.DataMemberTreeNode = DataMemberTreeNode;\nvar SingleCheckedDataMemberTreeNode = (function (_super) {\n    __extends(SingleCheckedDataMemberTreeNode, _super);\n    function SingleCheckedDataMemberTreeNode(name, displayName, specifics, isChecked, path, afterCheckToggled) {\n        var _this = _super.call(this, name, displayName, specifics, isChecked, path, afterCheckToggled) || this;\n        _this.checked = ko.pureComputed({\n            read: function () {\n                return _this._checked();\n            }\n        });\n        return _this;\n    }\n    return SingleCheckedDataMemberTreeNode;\n}(DataMemberTreeNode));\nexports.SingleCheckedDataMemberTreeNode = SingleCheckedDataMemberTreeNode;\n"]},"metadata":{},"sourceType":"script"}