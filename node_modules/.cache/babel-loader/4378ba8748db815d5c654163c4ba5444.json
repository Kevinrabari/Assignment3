{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_helpers.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.renameDataMember = exports.FederationDataSourceAnalyticsWrapper = exports.FederationDataSourceProviderWrapper = exports.getFederationFieldList = exports.createWizardSettings = exports.createDataSourceInfos = exports.addOrUpdateQuery = exports.initialQueryAliasSymbol = exports.toAnalyticsFederationDataSource = exports.toSameSourcesFederationQuery = exports.addSourceIfNotExists = exports.toFederationDataSource = exports.createNewFederationDataSource = exports.getDataSourceInfo = void 0;\n\nvar analytics_data_1 = require(\"@devexpress/analytics-core/analytics-data\");\n\nvar analytics_internal_1 = require(\"@devexpress/analytics-core/analytics-internal\");\n\nvar analytics_utils_1 = require(\"@devexpress/analytics-core/analytics-utils\");\n\nvar analytics_wizard_1 = require(\"@devexpress/analytics-core/analytics-wizard\");\n\nvar analytics_wizard_internal_1 = require(\"@devexpress/analytics-core/analytics-wizard-internal\");\n\nvar utils_1 = require(\"@devexpress/analytics-core/query-builder/dataSource/utils\");\n\nvar ko = require(\"knockout\");\n\nvar _default_1 = require(\"../../data/localization/_default\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar model_1 = require(\"../../model\");\n\nvar json_data_source_1 = require(\"../../model/data-sources/json-data-source\");\n\nvar _helper_classes_1 = require(\"../../model/internal/_helper-classes\");\n\nvar _field_list_provider_1 = require(\"./pages/_field-list-provider\");\n\nfunction getDataSourceInfo(dataSource) {\n  var dataSourceInfo = {\n    name: dataSource.name(),\n    data: null,\n    id: dataSource.componentName(),\n    isSqlDataSource: dataSource instanceof model_1.SqlDataSource,\n    isJsonDataSource: dataSource instanceof json_data_source_1.JsonDataSource,\n    isObjectDataSource: dataSource instanceof model_1.ObjectDataSource,\n    isFederationDataSource: dataSource instanceof model_1.FederationDataSource,\n    isListType: !dataSource.supportDataMembers,\n    isSupportQueries: dataSource.supportDataMembers\n  };\n  return __assign(__assign({}, dataSourceInfo), {\n    componentName: dataSource.componentName()\n  });\n}\n\nexports.getDataSourceInfo = getDataSourceInfo;\n\nfunction createNewFederationDataSource(federationWizardModel, usedDataSources) {\n  var analyticsDataSource = analytics_wizard_1._restoreFederationDataSourceFromState(federationWizardModel, usedDataSources);\n\n  var federationDataSource = toFederationDataSource(analyticsDataSource, usedDataSources());\n  federationDataSource.name(_default_1.getLocalizationById('DashboardStringId.DefaultFederationDataSourceName'));\n  return federationDataSource;\n}\n\nexports.createNewFederationDataSource = createNewFederationDataSource;\n\nfunction toFederationDataSource(analyticsDataSource, usedDataSources) {\n  var federationDataSource = new model_1.FederationDataSource({\n    '@ItemType': 'FederationDataSource'\n  }, new analytics_utils_1.ModelSerializer());\n  analyticsDataSource.sources().forEach(function (analyticsSource) {\n    var source = toFederationSource(analyticsSource, usedDataSources);\n    federationDataSource.sources.push(source);\n  });\n  analyticsDataSource.queries().forEach(function (analyticsQuery) {\n    var query = toSameSourcesFederationQuery(analyticsQuery);\n    federationDataSource.queries.push(query);\n  });\n  return federationDataSource;\n}\n\nexports.toFederationDataSource = toFederationDataSource;\n\nfunction toFederationSource(analyticsSource, usedDataSources) {\n  var source = new model_1.Source({\n    '@ItemType': 'Source'\n  });\n  source.name(analyticsSource.sourceName());\n  source.dataMember(analyticsSource.dataMember() || '');\n  var dataSourceInfoName = getDataSourceName(analyticsSource.sourceName(), analyticsSource.dataMember());\n  var dataSourceInfo = usedDataSources.find(function (dsInfo) {\n    return dsInfo.name === dataSourceInfoName;\n  });\n  if (!dataSourceInfo) throw new Error(\"The dashboard DataSource for SourceName '\" + analyticsSource.sourceName() + \"' is not found.\");\n  source.dataSource(dataSourceInfo.componentName);\n  return source;\n}\n\nfunction getDataSourceName(analyticsSourceName, analyticsDataMember) {\n  return analyticsSourceName && analyticsDataMember ? analyticsSourceName.slice(0, -(analyticsDataMember.length + 1)) : analyticsSourceName;\n}\n\nfunction addSourceIfNotExists(analyticsSource, dashboardFederationDataSource, usedDataSources) {\n  var existingSource = dashboardFederationDataSource.sources().find(function (s) {\n    return s.name() === analyticsSource.sourceName();\n  });\n\n  if (existingSource === undefined) {\n    var newSource = toFederationSource(analyticsSource, usedDataSources);\n    dashboardFederationDataSource.sources.push(newSource);\n  }\n}\n\nexports.addSourceIfNotExists = addSourceIfNotExists;\n\nfunction toSameSourcesFederationQuery(analyticsQuery) {\n  var analyticsQueryJson = new analytics_utils_1.ModelSerializer().serialize(analyticsQuery);\n  return new model_1.QueryNode(analyticsQueryJson);\n}\n\nexports.toSameSourcesFederationQuery = toSameSourcesFederationQuery;\n\nfunction toAnalyticsFederationDataSource(federationDataSource, usedDataSources, dataSourceBrowser) {\n  var observableDataSourceInfos = ko.observableArray(usedDataSources);\n  var fieldListProvider = new analytics_internal_1.FieldListProvider(function (pathRequest) {\n    return getFederationFieldList(pathRequest, dataSourceBrowser);\n  }, observableDataSourceInfos, [new analytics_wizard_internal_1.FederationDataSourceItemsExtender(observableDataSourceInfos)], true);\n  var analyticsFederationDataSource = new FederationDataSourceAnalyticsWrapper(federationDataSource.sources(), observableDataSourceInfos, fieldListProvider);\n  analyticsFederationDataSource.name(federationDataSource.name());\n  federationDataSource.sources().forEach(function (source) {\n    var analyticsSource = toAnalyticsFederationSource(source);\n    analyticsFederationDataSource.sources.push(analyticsSource);\n  });\n  federationDataSource.queries().forEach(function (query) {\n    var analyticsQuery = toSameSourcesAnalyticsFederationQuery(query, analyticsFederationDataSource);\n    analyticsFederationDataSource.queries.push(analyticsQuery);\n  });\n  return analyticsFederationDataSource;\n}\n\nexports.toAnalyticsFederationDataSource = toAnalyticsFederationDataSource;\n\nfunction toAnalyticsFederationSource(source) {\n  var analyticsSource = new analytics_data_1.FederationSource({});\n  analyticsSource.dataMember(source.dataMember());\n  analyticsSource.sourceName(source.name());\n  return analyticsSource;\n}\n\nexports.initialQueryAliasSymbol = '__initialQuery';\n\nfunction toSameSourcesAnalyticsFederationQuery(query, analyticsFederationDataSource) {\n  var queryJson = new analytics_utils_1.ModelSerializer().serialize(query);\n  var analyticsQuery = analyticsFederationDataSource.createQuery(queryJson);\n  analyticsQuery[exports.initialQueryAliasSymbol] = query.alias();\n  return analyticsQuery;\n}\n\nfunction addOrUpdateQuery(dashboard, federationDataSource, index, newQuery) {\n  _helper_classes_1.Guard.isNotFalsy(newQuery, \"'newQuery'\");\n\n  _helper_classes_1.Guard.requires(!federationDataSource.queries().some(function (q, i) {\n    return i !== index && q === newQuery;\n  }));\n\n  var oldQuery = federationDataSource.queries()[index];\n  if (oldQuery === newQuery) return;\n  if (oldQuery) federationDataSource.queries.splice(index, 1, newQuery);else federationDataSource.queries.push(newQuery);\n  var nameIndex = 1;\n  var baseAlias = newQuery.alias();\n  var newQueryAlias = baseAlias;\n\n  while (federationDataSource.queries().find(function (q, i) {\n    return i !== index && q.alias() === newQueryAlias;\n  }) !== undefined) {\n    newQueryAlias = baseAlias + ' ' + nameIndex++;\n  }\n\n  newQuery.alias(newQueryAlias);\n\n  if (oldQuery && newQuery.alias() !== oldQuery.alias()) {\n    renameDataMember(dashboard, federationDataSource, oldQuery.alias(), newQuery.alias());\n  }\n}\n\nexports.addOrUpdateQuery = addOrUpdateQuery;\n\nfunction createDataSourceInfos(dashboardDataSources) {\n  var dataSourceInfos = dashboardDataSources.map(function (ds) {\n    return getDataSourceInfo(ds);\n  });\n  var dataSourceInfosByName = new Map();\n\n  for (var _i = 0, dataSourceInfos_1 = dataSourceInfos; _i < dataSourceInfos_1.length; _i++) {\n    var info = dataSourceInfos_1[_i];\n    var inDict = dataSourceInfosByName.get(info.name);\n    if (inDict !== undefined) inDict.push(info);else dataSourceInfosByName.set(info.name, [info]);\n  }\n\n  dataSourceInfosByName.forEach(function (infos, name) {\n    for (var i = 1; i < infos.length; i++) infos[i].name = name + ' ' + i;\n  });\n  return dataSourceInfos.map(function (info) {\n    return __assign(__assign({}, info), {\n      id: info.componentName\n    });\n  });\n}\n\nexports.createDataSourceInfos = createDataSourceInfos;\n\nfunction createWizardSettings(publicSettings) {\n  return {\n    enableSqlDataSource: publicSettings && _utils_1.type.isDefined(publicSettings.enableSqlDataSource) ? publicSettings.enableSqlDataSource : true,\n    enableJsonDataSource: publicSettings && _utils_1.type.isDefined(publicSettings.enableJsonDataSource) ? publicSettings.enableJsonDataSource : true,\n    enableObjectDataSource: false,\n    enableFederationDataSource: publicSettings && _utils_1.type.isDefined(publicSettings.enableFederationDataSource) ? publicSettings.enableFederationDataSource : true,\n    enableOlapDataSource: publicSettings && _utils_1.type.isDefined(publicSettings.enableOlapDataSource) ? publicSettings.enableOlapDataSource : true\n  };\n}\n\nexports.createWizardSettings = createWizardSettings;\n\nfunction getFederationFieldList(pathRequest, dataSourceBrowser) {\n  return _field_list_provider_1.getFieldList(pathRequest, new _field_list_provider_1.FlatteningDataFieldsProviderWrapper(dataSourceBrowser, function (field) {\n    return field && (field.isDataTableNode && field.isDataTableNode() || field.isExpressionsNode && field.isExpressionsNode());\n  }), new FederationDataSourceProviderWrapper(dataSourceBrowser), function (field) {\n    return field && field.nodeType() !== 'CalculatedDataField';\n  });\n}\n\nexports.getFederationFieldList = getFederationFieldList;\n\nvar FederationDataSourceProviderWrapper = function () {\n  function FederationDataSourceProviderWrapper(basic) {\n    this._basic = basic;\n  }\n\n  FederationDataSourceProviderWrapper.prototype.findDataSource = function (name) {\n    var basicDataSource = this._basic.findDataSource(name);\n\n    return basicDataSource && basicDataSource._isFederationDataProvider ? basicDataSource : undefined;\n  };\n\n  return FederationDataSourceProviderWrapper;\n}();\n\nexports.FederationDataSourceProviderWrapper = FederationDataSourceProviderWrapper;\n\nvar FederationDataSourceAnalyticsWrapper = function (_super) {\n  __extends(FederationDataSourceAnalyticsWrapper, _super);\n\n  function FederationDataSourceAnalyticsWrapper(sources, dataSources, fieldListProvider) {\n    var _this = _super.call(this, {}, dataSources, fieldListProvider, new analytics_utils_1.ModelSerializer()) || this;\n\n    _this._sources = sources;\n    _this._dataSources = dataSources();\n    return _this;\n  }\n\n  FederationDataSourceAnalyticsWrapper.prototype.getQueryNameFromPath = function (path) {\n    if (!path) return '';\n    var pathParts = path.split('.');\n\n    _helper_classes_1.Guard.requires(!!pathParts && !!pathParts.length);\n\n    var dataSourceInfo = this._dataSources.find(function (x) {\n      return x.ref == pathParts[0] || x.id == pathParts[0];\n    });\n\n    if (dataSourceInfo === undefined) throw new Error(\"The dataSource for path '\" + path + \"' cannot be found.\");\n\n    var sameDataSourceSources = this._sources.filter(function (s) {\n      return s.dataSource() === dataSourceInfo.componentName;\n    });\n\n    if (!sameDataSourceSources || sameDataSourceSources.length === 0) return _super.prototype.getQueryNameFromPath.call(this, path);\n\n    if (sameDataSourceSources.length === 1) {\n      return sameDataSourceSources[0].name();\n    } else {\n      var dataMember_1 = pathParts.slice(1).join('.');\n      var source = sameDataSourceSources.find(function (s) {\n        return s.dataMember() === dataMember_1;\n      });\n      if (source === undefined) return _super.prototype.getQueryNameFromPath.call(this, path);\n      return source.name();\n    }\n  };\n\n  FederationDataSourceAnalyticsWrapper.prototype.getPathFromQueryName = function (sourceName) {\n    var source = this._sources.find(function (s) {\n      return s.name() === sourceName;\n    });\n\n    if (source === undefined) return _super.prototype.getPathFromQueryName.call(this, sourceName);\n    return getPath(source);\n  };\n\n  FederationDataSourceAnalyticsWrapper.prototype.createQuery = function (queryJson) {\n    var _this = this;\n\n    var query = _super.prototype.createQuery.call(this, queryJson);\n\n    if (query.queryType() === utils_1.FederationQueryType[utils_1.FederationQueryType.UnionNode]) {\n      query.getQueryNameFromPath = function (path) {\n        return _this.getQueryNameFromPath(path);\n      };\n\n      query.getPathFromQueryName = function (sourceName) {\n        return _this.getPathFromQueryName(sourceName);\n      };\n    }\n\n    return query;\n  };\n\n  return FederationDataSourceAnalyticsWrapper;\n}(analytics_data_1.FederationDataSource);\n\nexports.FederationDataSourceAnalyticsWrapper = FederationDataSourceAnalyticsWrapper;\n\nfunction getPath(source) {\n  _helper_classes_1.Guard.isNotFalsy(source, 'source');\n\n  return !!source.dataMember() ? source.dataSource() + '.' + source.dataMember() : source.dataSource();\n}\n\nfunction renameDataMember(dashboard, dataSource, oldDataMember, newDataMember) {\n  dashboard.items().filter(function (item) {\n    return item instanceof model_1.DataDashboardItem && item.dataSource() === dataSource.componentName() && item.dataMember() === oldDataMember;\n  }).forEach(function (item) {\n    item.dataMember(newDataMember);\n  });\n  dataSource.calculatedFields().filter(function (calcField) {\n    return calcField.dataMember() === oldDataMember;\n  }).forEach(function (calcField) {\n    return calcField.dataMember(newDataMember);\n  });\n  dashboard.parameters().map(function (parameter) {\n    return parameter.dynamicListLookUpSettings();\n  }).filter(function (lookUpSettings) {\n    return !!lookUpSettings && lookUpSettings.dataSource() === dataSource.componentName() && lookUpSettings.dataMember() === oldDataMember;\n  }).forEach(function (lookUpSettings) {\n    return lookUpSettings.dataMember(newDataMember);\n  });\n  dashboard.colorScheme().filter(function (entry) {\n    return entry.dataMember() === oldDataMember;\n  }).forEach(function (entry) {\n    return entry.dataMember(newDataMember);\n  });\n  dashboard.items().filter(function (item) {\n    return item instanceof model_1.DataDashboardItem;\n  }).map(function (item) {\n    return item.colorScheme();\n  }).forEach(function (colorScheme) {\n    return colorScheme.filter(function (entry) {\n      return entry.dataMember() === oldDataMember;\n    }).forEach(function (entry) {\n      return entry.dataMember(newDataMember);\n    });\n  });\n}\n\nexports.renameDataMember = renameDataMember;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/data-source-wizard/_helpers.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","defineProperty","exports","value","renameDataMember","FederationDataSourceAnalyticsWrapper","FederationDataSourceProviderWrapper","getFederationFieldList","createWizardSettings","createDataSourceInfos","addOrUpdateQuery","initialQueryAliasSymbol","toAnalyticsFederationDataSource","toSameSourcesFederationQuery","addSourceIfNotExists","toFederationDataSource","createNewFederationDataSource","getDataSourceInfo","analytics_data_1","require","analytics_internal_1","analytics_utils_1","analytics_wizard_1","analytics_wizard_internal_1","utils_1","ko","_default_1","_utils_1","model_1","json_data_source_1","_helper_classes_1","_field_list_provider_1","dataSource","dataSourceInfo","name","data","id","componentName","isSqlDataSource","SqlDataSource","isJsonDataSource","JsonDataSource","isObjectDataSource","ObjectDataSource","isFederationDataSource","FederationDataSource","isListType","supportDataMembers","isSupportQueries","federationWizardModel","usedDataSources","analyticsDataSource","_restoreFederationDataSourceFromState","federationDataSource","getLocalizationById","ModelSerializer","sources","forEach","analyticsSource","source","toFederationSource","push","queries","analyticsQuery","query","Source","sourceName","dataMember","dataSourceInfoName","getDataSourceName","find","dsInfo","Error","analyticsSourceName","analyticsDataMember","slice","dashboardFederationDataSource","existingSource","undefined","newSource","analyticsQueryJson","serialize","QueryNode","dataSourceBrowser","observableDataSourceInfos","observableArray","fieldListProvider","FieldListProvider","pathRequest","FederationDataSourceItemsExtender","analyticsFederationDataSource","toAnalyticsFederationSource","toSameSourcesAnalyticsFederationQuery","FederationSource","queryJson","createQuery","alias","dashboard","index","newQuery","Guard","isNotFalsy","requires","some","q","oldQuery","splice","nameIndex","baseAlias","newQueryAlias","dashboardDataSources","dataSourceInfos","map","ds","dataSourceInfosByName","Map","_i","dataSourceInfos_1","info","inDict","get","set","infos","publicSettings","enableSqlDataSource","type","isDefined","enableJsonDataSource","enableObjectDataSource","enableFederationDataSource","enableOlapDataSource","getFieldList","FlatteningDataFieldsProviderWrapper","field","isDataTableNode","isExpressionsNode","nodeType","basic","_basic","findDataSource","basicDataSource","_isFederationDataProvider","_super","dataSources","_this","_sources","_dataSources","getQueryNameFromPath","path","pathParts","split","x","ref","sameDataSourceSources","filter","dataMember_1","join","getPathFromQueryName","getPath","queryType","FederationQueryType","UnionNode","oldDataMember","newDataMember","items","item","DataDashboardItem","calculatedFields","calcField","parameters","parameter","dynamicListLookUpSettings","lookUpSettings","colorScheme","entry"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_helpers.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renameDataMember = exports.FederationDataSourceAnalyticsWrapper = exports.FederationDataSourceProviderWrapper = exports.getFederationFieldList = exports.createWizardSettings = exports.createDataSourceInfos = exports.addOrUpdateQuery = exports.initialQueryAliasSymbol = exports.toAnalyticsFederationDataSource = exports.toSameSourcesFederationQuery = exports.addSourceIfNotExists = exports.toFederationDataSource = exports.createNewFederationDataSource = exports.getDataSourceInfo = void 0;\nvar analytics_data_1 = require(\"@devexpress/analytics-core/analytics-data\");\nvar analytics_internal_1 = require(\"@devexpress/analytics-core/analytics-internal\");\nvar analytics_utils_1 = require(\"@devexpress/analytics-core/analytics-utils\");\nvar analytics_wizard_1 = require(\"@devexpress/analytics-core/analytics-wizard\");\nvar analytics_wizard_internal_1 = require(\"@devexpress/analytics-core/analytics-wizard-internal\");\nvar utils_1 = require(\"@devexpress/analytics-core/query-builder/dataSource/utils\");\nvar ko = require(\"knockout\");\nvar _default_1 = require(\"../../data/localization/_default\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar model_1 = require(\"../../model\");\nvar json_data_source_1 = require(\"../../model/data-sources/json-data-source\");\nvar _helper_classes_1 = require(\"../../model/internal/_helper-classes\");\nvar _field_list_provider_1 = require(\"./pages/_field-list-provider\");\nfunction getDataSourceInfo(dataSource) {\n    var dataSourceInfo = {\n        name: dataSource.name(),\n        data: null,\n        id: dataSource.componentName(),\n        isSqlDataSource: dataSource instanceof model_1.SqlDataSource,\n        isJsonDataSource: dataSource instanceof json_data_source_1.JsonDataSource,\n        isObjectDataSource: dataSource instanceof model_1.ObjectDataSource,\n        isFederationDataSource: dataSource instanceof model_1.FederationDataSource,\n        isListType: !dataSource.supportDataMembers,\n        isSupportQueries: dataSource.supportDataMembers\n    };\n    return __assign(__assign({}, dataSourceInfo), { componentName: dataSource.componentName() });\n}\nexports.getDataSourceInfo = getDataSourceInfo;\nfunction createNewFederationDataSource(federationWizardModel, usedDataSources) {\n    var analyticsDataSource = analytics_wizard_1._restoreFederationDataSourceFromState(federationWizardModel, usedDataSources);\n    var federationDataSource = toFederationDataSource(analyticsDataSource, usedDataSources());\n    federationDataSource.name(_default_1.getLocalizationById('DashboardStringId.DefaultFederationDataSourceName'));\n    return federationDataSource;\n}\nexports.createNewFederationDataSource = createNewFederationDataSource;\nfunction toFederationDataSource(analyticsDataSource, usedDataSources) {\n    var federationDataSource = new model_1.FederationDataSource({ '@ItemType': 'FederationDataSource' }, new analytics_utils_1.ModelSerializer());\n    analyticsDataSource.sources().forEach(function (analyticsSource) {\n        var source = toFederationSource(analyticsSource, usedDataSources);\n        federationDataSource.sources.push(source);\n    });\n    analyticsDataSource.queries().forEach(function (analyticsQuery) {\n        var query = toSameSourcesFederationQuery(analyticsQuery);\n        federationDataSource.queries.push(query);\n    });\n    return federationDataSource;\n}\nexports.toFederationDataSource = toFederationDataSource;\nfunction toFederationSource(analyticsSource, usedDataSources) {\n    var source = new model_1.Source({ '@ItemType': 'Source' });\n    source.name(analyticsSource.sourceName());\n    source.dataMember(analyticsSource.dataMember() || '');\n    var dataSourceInfoName = getDataSourceName(analyticsSource.sourceName(), analyticsSource.dataMember());\n    var dataSourceInfo = usedDataSources.find(function (dsInfo) { return dsInfo.name === dataSourceInfoName; });\n    if (!dataSourceInfo)\n        throw new Error(\"The dashboard DataSource for SourceName '\" + analyticsSource.sourceName() + \"' is not found.\");\n    source.dataSource(dataSourceInfo.componentName);\n    return source;\n}\nfunction getDataSourceName(analyticsSourceName, analyticsDataMember) {\n    return analyticsSourceName && analyticsDataMember ? analyticsSourceName.slice(0, -(analyticsDataMember.length + 1)) : analyticsSourceName;\n}\nfunction addSourceIfNotExists(analyticsSource, dashboardFederationDataSource, usedDataSources) {\n    var existingSource = dashboardFederationDataSource.sources().find(function (s) { return s.name() === analyticsSource.sourceName(); });\n    if (existingSource === undefined) {\n        var newSource = toFederationSource(analyticsSource, usedDataSources);\n        dashboardFederationDataSource.sources.push(newSource);\n    }\n}\nexports.addSourceIfNotExists = addSourceIfNotExists;\nfunction toSameSourcesFederationQuery(analyticsQuery) {\n    var analyticsQueryJson = new analytics_utils_1.ModelSerializer().serialize(analyticsQuery);\n    return new model_1.QueryNode(analyticsQueryJson);\n}\nexports.toSameSourcesFederationQuery = toSameSourcesFederationQuery;\nfunction toAnalyticsFederationDataSource(federationDataSource, usedDataSources, dataSourceBrowser) {\n    var observableDataSourceInfos = ko.observableArray(usedDataSources);\n    var fieldListProvider = new analytics_internal_1.FieldListProvider(function (pathRequest) { return getFederationFieldList(pathRequest, dataSourceBrowser); }, observableDataSourceInfos, [new analytics_wizard_internal_1.FederationDataSourceItemsExtender(observableDataSourceInfos)], true);\n    var analyticsFederationDataSource = new FederationDataSourceAnalyticsWrapper(federationDataSource.sources(), observableDataSourceInfos, fieldListProvider);\n    analyticsFederationDataSource.name(federationDataSource.name());\n    federationDataSource.sources().forEach(function (source) {\n        var analyticsSource = toAnalyticsFederationSource(source);\n        analyticsFederationDataSource.sources.push(analyticsSource);\n    });\n    federationDataSource.queries().forEach(function (query) {\n        var analyticsQuery = toSameSourcesAnalyticsFederationQuery(query, analyticsFederationDataSource);\n        analyticsFederationDataSource.queries.push(analyticsQuery);\n    });\n    return analyticsFederationDataSource;\n}\nexports.toAnalyticsFederationDataSource = toAnalyticsFederationDataSource;\nfunction toAnalyticsFederationSource(source) {\n    var analyticsSource = new analytics_data_1.FederationSource({});\n    analyticsSource.dataMember(source.dataMember());\n    analyticsSource.sourceName(source.name());\n    return analyticsSource;\n}\nexports.initialQueryAliasSymbol = '__initialQuery';\nfunction toSameSourcesAnalyticsFederationQuery(query, analyticsFederationDataSource) {\n    var queryJson = new analytics_utils_1.ModelSerializer().serialize(query);\n    var analyticsQuery = analyticsFederationDataSource.createQuery(queryJson);\n    analyticsQuery[exports.initialQueryAliasSymbol] = query.alias();\n    return analyticsQuery;\n}\nfunction addOrUpdateQuery(dashboard, federationDataSource, index, newQuery) {\n    _helper_classes_1.Guard.isNotFalsy(newQuery, \"'newQuery'\");\n    _helper_classes_1.Guard.requires(!federationDataSource.queries().some(function (q, i) { return i !== index && q === newQuery; }));\n    var oldQuery = federationDataSource.queries()[index];\n    if (oldQuery === newQuery)\n        return;\n    if (oldQuery)\n        federationDataSource.queries.splice(index, 1, newQuery);\n    else\n        federationDataSource.queries.push(newQuery);\n    var nameIndex = 1;\n    var baseAlias = newQuery.alias();\n    var newQueryAlias = baseAlias;\n    while (federationDataSource.queries().find(function (q, i) { return i !== index && q.alias() === newQueryAlias; }) !== undefined) {\n        newQueryAlias = baseAlias + ' ' + nameIndex++;\n    }\n    newQuery.alias(newQueryAlias);\n    if (oldQuery && newQuery.alias() !== oldQuery.alias()) {\n        renameDataMember(dashboard, federationDataSource, oldQuery.alias(), newQuery.alias());\n    }\n}\nexports.addOrUpdateQuery = addOrUpdateQuery;\nfunction createDataSourceInfos(dashboardDataSources) {\n    var dataSourceInfos = dashboardDataSources.map(function (ds) { return getDataSourceInfo(ds); });\n    var dataSourceInfosByName = new Map();\n    for (var _i = 0, dataSourceInfos_1 = dataSourceInfos; _i < dataSourceInfos_1.length; _i++) {\n        var info = dataSourceInfos_1[_i];\n        var inDict = dataSourceInfosByName.get(info.name);\n        if (inDict !== undefined)\n            inDict.push(info);\n        else\n            dataSourceInfosByName.set(info.name, [info]);\n    }\n    dataSourceInfosByName.forEach(function (infos, name) {\n        for (var i = 1; i < infos.length; i++)\n            infos[i].name = name + ' ' + i;\n    });\n    return dataSourceInfos.map(function (info) {\n        return __assign(__assign({}, info), { id: info.componentName });\n    });\n}\nexports.createDataSourceInfos = createDataSourceInfos;\nfunction createWizardSettings(publicSettings) {\n    return {\n        enableSqlDataSource: publicSettings && _utils_1.type.isDefined(publicSettings.enableSqlDataSource) ? publicSettings.enableSqlDataSource : true,\n        enableJsonDataSource: publicSettings && _utils_1.type.isDefined(publicSettings.enableJsonDataSource) ? publicSettings.enableJsonDataSource : true,\n        enableObjectDataSource: false,\n        enableFederationDataSource: publicSettings && _utils_1.type.isDefined(publicSettings.enableFederationDataSource) ? publicSettings.enableFederationDataSource : true,\n        enableOlapDataSource: publicSettings && _utils_1.type.isDefined(publicSettings.enableOlapDataSource) ? publicSettings.enableOlapDataSource : true,\n    };\n}\nexports.createWizardSettings = createWizardSettings;\nfunction getFederationFieldList(pathRequest, dataSourceBrowser) {\n    return _field_list_provider_1.getFieldList(pathRequest, new _field_list_provider_1.FlatteningDataFieldsProviderWrapper(dataSourceBrowser, function (field) { return field && (field.isDataTableNode && field.isDataTableNode() || field.isExpressionsNode && field.isExpressionsNode()); }), new FederationDataSourceProviderWrapper(dataSourceBrowser), function (field) { return field && field.nodeType() !== 'CalculatedDataField'; });\n}\nexports.getFederationFieldList = getFederationFieldList;\nvar FederationDataSourceProviderWrapper = (function () {\n    function FederationDataSourceProviderWrapper(basic) {\n        this._basic = basic;\n    }\n    FederationDataSourceProviderWrapper.prototype.findDataSource = function (name) {\n        var basicDataSource = this._basic.findDataSource(name);\n        return basicDataSource && basicDataSource._isFederationDataProvider ? basicDataSource : undefined;\n    };\n    return FederationDataSourceProviderWrapper;\n}());\nexports.FederationDataSourceProviderWrapper = FederationDataSourceProviderWrapper;\nvar FederationDataSourceAnalyticsWrapper = (function (_super) {\n    __extends(FederationDataSourceAnalyticsWrapper, _super);\n    function FederationDataSourceAnalyticsWrapper(sources, dataSources, fieldListProvider) {\n        var _this = _super.call(this, {}, dataSources, fieldListProvider, new analytics_utils_1.ModelSerializer()) || this;\n        _this._sources = sources;\n        _this._dataSources = dataSources();\n        return _this;\n    }\n    FederationDataSourceAnalyticsWrapper.prototype.getQueryNameFromPath = function (path) {\n        if (!path)\n            return '';\n        var pathParts = path.split('.');\n        _helper_classes_1.Guard.requires(!!pathParts && !!pathParts.length);\n        var dataSourceInfo = this._dataSources.find(function (x) { return x.ref == pathParts[0] || x.id == pathParts[0]; });\n        if (dataSourceInfo === undefined)\n            throw new Error(\"The dataSource for path '\" + path + \"' cannot be found.\");\n        var sameDataSourceSources = this._sources.filter(function (s) { return s.dataSource() === dataSourceInfo.componentName; });\n        if (!sameDataSourceSources || sameDataSourceSources.length === 0)\n            return _super.prototype.getQueryNameFromPath.call(this, path);\n        if (sameDataSourceSources.length === 1) {\n            return sameDataSourceSources[0].name();\n        }\n        else {\n            var dataMember_1 = pathParts.slice(1).join('.');\n            var source = sameDataSourceSources.find(function (s) { return s.dataMember() === dataMember_1; });\n            if (source === undefined)\n                return _super.prototype.getQueryNameFromPath.call(this, path);\n            return source.name();\n        }\n    };\n    FederationDataSourceAnalyticsWrapper.prototype.getPathFromQueryName = function (sourceName) {\n        var source = this._sources.find(function (s) { return s.name() === sourceName; });\n        if (source === undefined)\n            return _super.prototype.getPathFromQueryName.call(this, sourceName);\n        return getPath(source);\n    };\n    FederationDataSourceAnalyticsWrapper.prototype.createQuery = function (queryJson) {\n        var _this = this;\n        var query = _super.prototype.createQuery.call(this, queryJson);\n        if (query.queryType() === utils_1.FederationQueryType[utils_1.FederationQueryType.UnionNode]) {\n            query.getQueryNameFromPath = function (path) { return _this.getQueryNameFromPath(path); };\n            query.getPathFromQueryName = function (sourceName) { return _this.getPathFromQueryName(sourceName); };\n        }\n        return query;\n    };\n    return FederationDataSourceAnalyticsWrapper;\n}(analytics_data_1.FederationDataSource));\nexports.FederationDataSourceAnalyticsWrapper = FederationDataSourceAnalyticsWrapper;\nfunction getPath(source) {\n    _helper_classes_1.Guard.isNotFalsy(source, 'source');\n    return !!source.dataMember() ? source.dataSource() + '.' + source.dataMember() : source.dataSource();\n}\nfunction renameDataMember(dashboard, dataSource, oldDataMember, newDataMember) {\n    dashboard.items()\n        .filter(function (item) { return item instanceof model_1.DataDashboardItem\n        && item.dataSource() === dataSource.componentName()\n        && item.dataMember() === oldDataMember; })\n        .forEach(function (item) {\n        item.dataMember(newDataMember);\n    });\n    dataSource.calculatedFields()\n        .filter(function (calcField) { return calcField.dataMember() === oldDataMember; })\n        .forEach(function (calcField) { return calcField.dataMember(newDataMember); });\n    dashboard.parameters()\n        .map(function (parameter) { return parameter.dynamicListLookUpSettings(); })\n        .filter(function (lookUpSettings) { return !!lookUpSettings\n        && lookUpSettings.dataSource() === dataSource.componentName()\n        && lookUpSettings.dataMember() === oldDataMember; })\n        .forEach(function (lookUpSettings) { return lookUpSettings.dataMember(newDataMember); });\n    dashboard.colorScheme()\n        .filter(function (entry) { return entry.dataMember() === oldDataMember; })\n        .forEach(function (entry) { return entry.dataMember(newDataMember); });\n    dashboard.items()\n        .filter(function (item) { return item instanceof model_1.DataDashboardItem; })\n        .map(function (item) { return item.colorScheme(); })\n        .forEach(function (colorScheme) { return colorScheme\n        .filter(function (entry) { return entry.dataMember() === oldDataMember; })\n        .forEach(function (entry) { return entry.dataMember(newDataMember); }); });\n}\nexports.renameDataMember = renameDataMember;\n"]},"metadata":{},"sourceType":"script"}