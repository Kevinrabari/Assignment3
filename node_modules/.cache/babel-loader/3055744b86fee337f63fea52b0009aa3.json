{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_dashboard-item-menu.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ItemMenuPositionCalculator = exports.DashboardItemMenu = exports.createContextPopupMenuViewModel = exports.DashboardItemMenuSizes = void 0;\n\nvar events_1 = require(\"devextreme/events\");\n\nvar ko = require(\"knockout\");\n\nvar _default_1 = require(\"../../data/localization/_default\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar disposable_object_1 = require(\"../../model/disposable-object\");\n\nvar _knockout_utils_1 = require(\"../../model/internal/_knockout-utils\");\n\nvar _properties_controller_1 = require(\"../properties-controller/_properties-controller\");\n\nvar _dashboard_item_menu_popover_1 = require(\"./_dashboard-item-menu-popover\");\n\nvar _section_descriptors_1 = require(\"./_section-descriptors\");\n\nexports.DashboardItemMenuSizes = {\n  BindingPanelPanelWidth: 495,\n  OptionsPanelWidth: 274\n};\n\nvar createContextPopupMenuViewModel = function (menuItem, dashboardItemMenu) {\n  return {\n    menuButton: {\n      icon: menuItem.icon,\n      hint: _default_1.getLocalizationById(menuItem.hint || menuItem.title),\n      cssClass: _knockout_utils_1.safeComputed({\n        detailVisible: menuItem.detailVisible\n      }, function (args) {\n        var classes = ['dx-dashboard-' + menuItem.menuItemId + '-options-button'];\n        if (args.detailVisible) classes.push('dx-state-selected');\n        return classes.join(' ');\n      }),\n      clickHandler: function () {\n        return dashboardItemMenu.menuItemClick(menuItem && menuItem.menuItemId);\n      }\n    },\n    menuPropertiesPanel: {\n      title: _default_1.getLocalizationById(menuItem.title),\n      panelContent: {\n        view: menuItem.templateName,\n        viewModel: {\n          data: menuItem.customData,\n          isSecondaryPanelVisible: dashboardItemMenu.isSecondaryPanelVisible,\n          hideBindingPanel: dashboardItemMenu.hideBindingPanel,\n          hideBindingProperties: dashboardItemMenu.hideBindingProperties,\n          detailVisible: menuItem.detailVisible\n        }\n      },\n      cssClasses: ko.pureComputed(function () {\n        return dashboardItemMenu.selectedItemSurface && dashboardItemMenu.selectedItemSurface.propertiesController.mainModel() ? 'dx-visible-properties' : '';\n      }),\n      style: dashboardItemMenu.propertiesPanelStyle,\n      detailVisible: menuItem.detailVisible,\n      hidePanelAction: dashboardItemMenu.hideBindingPanel\n    },\n    getPopoverOptions: _dashboard_item_menu_popover_1.createPopoverOptionsGetterFunction(menuItem, dashboardItemMenu)\n  };\n};\n\nexports.createContextPopupMenuViewModel = createContextPopupMenuViewModel;\n\nvar DashboardItemMenu = function (_super) {\n  __extends(DashboardItemMenu, _super);\n\n  function DashboardItemMenu(layoutController, layoutItem, _positionCalculator, propertiesController, itemSurface) {\n    var _this = _super.call(this) || this;\n\n    _this.layoutController = layoutController;\n    _this.layoutItem = layoutItem;\n    _this._positionCalculator = _positionCalculator;\n    _this.propertiesController = propertiesController;\n\n    _this.menuItemClick = function (menuItemId) {\n      _this.contextMenuItems().forEach(function (contextMenuItem) {\n        if (contextMenuItem.menuItemId !== menuItemId) {\n          contextMenuItem.detailVisible(false);\n        } else {\n          _this.propertiesController.mainModel(null);\n\n          if (contextMenuItem.detailVisible.peek()) {\n            contextMenuItem.detailVisible(false);\n          } else {\n            contextMenuItem.showMenu && contextMenuItem.showMenu();\n            contextMenuItem.detailVisible(true);\n          }\n        }\n      });\n    };\n\n    _this.contextMenuItems = ko.observableArray();\n    _this.contextMenuItemViewModels = _knockout_utils_1.safeComputed({\n      contextMenuItems: _this.contextMenuItems\n    }, function (args) {\n      return args.contextMenuItems.sort(function (a, b) {\n        return (a.index || Number.MAX_VALUE) - (b.index || Number.MAX_VALUE);\n      }).map(function (item) {\n        return exports.createContextPopupMenuViewModel(item, _this);\n      });\n    });\n    _this.menuItemDetailVisible = ko.pureComputed(function () {\n      return _this.contextMenuItems().some(function (contextMenuItem) {\n        return contextMenuItem.detailVisible();\n      });\n    });\n    _this.verticalPosition = ko.observable();\n    _this.isLeft = ko.observable();\n    _this.isCollapsed = ko.observable(false);\n    _this.isCollapsedStateToggleVisible = ko.observable(false);\n\n    _this._recalculateVerticalPosition = function () {\n      window.setTimeout(function () {\n        _this.verticalPosition(_this._positionCalculator.calculateVPosition());\n      }, 1);\n    };\n\n    _this._recalculatePosition = function () {\n      _this.verticalPosition(_this._positionCalculator.calculateVPosition());\n\n      _this.isLeft(_this._positionCalculator.calculateIsLeft());\n    };\n\n    _this._recalculatePositionDebounced = _utils_1.debounce(_this._recalculatePosition, 1);\n\n    _this.hideBindingProperties = function () {\n      if (_this.propertiesController.secondaryModel() && _this.isSecondaryPanelVisible()) {\n        _this.isSecondaryPanelVisible(false);\n      } else {\n        _this.propertiesController.mainModel(null);\n\n        if (_this.contextMenuItems().filter(function (mi) {\n          return mi.detailVisible() && mi.menuItemId !== 'item-binding-panel';\n        })[0]) {\n          _this.hideBindingPanel();\n        }\n      }\n    };\n\n    _this.hideBindingPanel = function () {\n      _this.propertiesController.secondaryModel(null);\n\n      _this.propertiesController.mainModel(null);\n\n      _this.menuItemClick(null);\n    };\n\n    _this.isSecondaryPanelVisible = ko.observable(false);\n    _this.__secondaryPanelVisibleTimeout = 0;\n    _this._repaintHandlers = [];\n    _this.selectedItemSurface = itemSurface;\n    ko.computed(function () {\n      layoutController.itemInteractionInProgress(_this.menuItemDetailVisible());\n    });\n\n    _this.isSecondaryPanelVisible.subscribe(function (visibility) {\n      if (!visibility) {\n        _this.__secondaryPanelVisibleTimeout = window.setTimeout(function () {\n          _this.propertiesController.secondaryModel(undefined);\n\n          _this.__secondaryPanelVisibleTimeout = 0;\n        }, 350);\n      }\n    });\n\n    _this.propertiesController.secondaryModel.subscribe(function (model) {\n      _this.isSecondaryPanelVisible(!!model);\n\n      if (_this.__secondaryPanelVisibleTimeout) clearTimeout(_this.__secondaryPanelVisibleTimeout);\n    });\n\n    _this.propertiesPanelStyle = ko.computed(function () {\n      var visiblePanel = _this.contextMenuItems().filter(function (contextMenuItem) {\n        return contextMenuItem.detailVisible();\n      })[0],\n          mainModel = _this.propertiesController.mainModel();\n\n      if (visiblePanel) {\n        if (visiblePanel.menuItemId === 'item-binding-panel') {\n          if (mainModel) {\n            return {\n              width: exports.DashboardItemMenuSizes.BindingPanelPanelWidth.toString() + 'px',\n              marginLeft: ''\n            };\n          } else {\n            return {\n              width: '220px',\n              marginLeft: ''\n            };\n          }\n        }\n      }\n\n      return {\n        width: exports.DashboardItemMenuSizes.OptionsPanelWidth.toString() + 'px',\n        marginLeft: '0px'\n      };\n    });\n\n    _this.subscribeLayoutItemRepaintRequest(_this._recalculatePositionDebounced);\n\n    _this.toDispose(_this.contextMenuItemViewModels.subscribe(function () {\n      return _this._recalculatePositionDebounced();\n    }));\n\n    _this.toDispose(_this.layoutItem.isSelected.subscribe(function () {\n      return _this._recalculatePositionDebounced();\n    }));\n\n    _this.toDispose(_this.isCollapsed.subscribe(function () {\n      return _this._recalculatePositionDebounced();\n    }));\n\n    _this._recalculatePosition();\n\n    return _this;\n  }\n\n  DashboardItemMenu.prototype.createViewModel = function () {\n    var _this = this;\n\n    return {\n      isCollapsedStateToggleVisible: _knockout_utils_1.safeComputed({\n        isLeft: this.isLeft\n      }, function (args) {\n        return args.isLeft && _this._positionCalculator.calculateIsLeftAndInside();\n      }),\n      isCollapsed: this.isCollapsed,\n      collapsedStateToggle: function () {\n        return _this.isCollapsed(!_this.isCollapsed());\n      },\n      menuContainerCssClasses: _knockout_utils_1.safeComputed({\n        isLeft: this.isLeft,\n        isSelected: this.layoutItem.isSelected,\n        verticalPosition: this.verticalPosition,\n        isCollapsed: this.isCollapsed\n      }, function (args) {\n        var classes = [];\n\n        var isInnerMenu = args.isLeft && _this._positionCalculator.calculateIsLeftAndInside();\n\n        if (isInnerMenu) {\n          classes.push('dx-position-left-inside');\n        } else if (args.isLeft) {\n          classes.push('dx-position-left');\n        }\n\n        args.isSelected && classes.push('dx-state-selected');\n        args.verticalPosition === 'top' && classes.push('dx-dashboard-item-top');\n\n        if (args.verticalPosition === 'bottom') {\n          args.isCollapsed && isInnerMenu ? classes.push('dx-dashboard-item-top') : classes.push('dx-dashboard-item-bottom');\n        }\n\n        return classes.join(' ');\n      }),\n      menuItemDetailVisible: this.menuItemDetailVisible,\n      contextMenuItemViewModels: this.contextMenuItemViewModels,\n      deleteCurrentItemAction: function () {\n        return _this.layoutController._selectedLayoutItem().delete();\n      },\n      deleteCurrentItemActionCaption: _default_1.getLocalizationById('DashboardWebStringId.Remove')\n    };\n  };\n\n  DashboardItemMenu.prototype.subscribeLayoutItemRepaintRequest = function (handler) {\n    this.layoutItem.repaintCallbacks.add(handler);\n\n    this._repaintHandlers.push(handler);\n  };\n\n  DashboardItemMenu.prototype.unsubscribeLayoutItemRepaintRequest = function (handler) {\n    this.layoutItem.repaintCallbacks.remove(handler);\n\n    this._repaintHandlers.splice(this._repaintHandlers.indexOf(handler), 1);\n  };\n\n  DashboardItemMenu.prototype.dispose = function () {\n    var _this = this;\n\n    _super.prototype.dispose.call(this);\n\n    this._repaintHandlers.forEach(function (handler) {\n      return _this.layoutItem.repaintCallbacks.remove(handler);\n    });\n\n    this._repaintHandlers = [];\n    this.selectedItemSurface && this.selectedItemSurface.dispose();\n  };\n\n  return DashboardItemMenu;\n}(disposable_object_1.DisposableObject);\n\nexports.DashboardItemMenu = DashboardItemMenu;\nko.components.register('dx-dashboard-item-menu', {\n  viewModel: {\n    createViewModel: function (_a, componentInfo) {\n      var layoutController = _a.layoutController,\n          layoutItem = _a.layoutItem,\n          itemMenuViewModelContainer = _a.itemMenuViewModelContainer,\n          notificationController = _a.notificationController;\n      var positionCalculator = new ItemMenuPositionCalculator(componentInfo.element);\n\n      var itemSurface = _section_descriptors_1.surfaceItemsFactory.createSurfaceItem(layoutItem.viewModel.item(), layoutController.dashboardModel, layoutController.dataSourceBrowser, notificationController);\n\n      var propertiesController = new _properties_controller_1.PropertiesController();\n      itemSurface.propertiesController = propertiesController;\n      var itemMenu = new DashboardItemMenu(layoutController, layoutItem, positionCalculator, propertiesController, itemSurface);\n      itemMenuViewModelContainer(itemMenu);\n      ko.utils.domNodeDisposal.addDisposeCallback(componentInfo.element, function () {\n        itemMenu.dispose();\n        propertiesController.dispose();\n        itemMenuViewModelContainer(undefined);\n      });\n      return itemMenu.createViewModel();\n    }\n  },\n  template: {\n    element: 'dx-dashboard-item-menu'\n  }\n});\n\nvar ItemMenuPositionCalculator = function () {\n  function ItemMenuPositionCalculator(element) {\n    this.element = element;\n    this.layoutContainer = _jquery_helpers_1.closest(this.element, '.dx-dashboard-layout-container');\n  }\n\n  ItemMenuPositionCalculator.prototype._isValidElement = function () {\n    return this.element.parentElement && this.layoutContainer;\n  };\n\n  ItemMenuPositionCalculator.prototype.calculateIsLeft = function () {\n    if (!this._isValidElement()) {\n      return false;\n    }\n\n    var elementParentBounds = this.element.parentElement.getBoundingClientRect();\n    var rootBounds = this.layoutContainer.getBoundingClientRect();\n    var left = elementParentBounds.left,\n        right = elementParentBounds.right,\n        rootLeft = rootBounds.left,\n        rootRight = rootBounds.right;\n    return rootRight - right < exports.DashboardItemMenuSizes.BindingPanelPanelWidth && left - rootLeft > exports.DashboardItemMenuSizes.BindingPanelPanelWidth || rootRight - right < 50;\n  };\n\n  ItemMenuPositionCalculator.prototype.calculateVPosition = function () {\n    var itemMenuElement = this.element.querySelector('.dx-dashboard-item-menu');\n\n    var layoutItem = _jquery_helpers_1.closest(this.element, '.dx-layout-item-wrapper');\n\n    if (!this._isValidElement() || !layoutItem || !itemMenuElement) {\n      return 'center';\n    }\n\n    var layoutItemBounds = layoutItem.getBoundingClientRect();\n    var layoutRootBounds = this.layoutContainer.getBoundingClientRect();\n    var itemMenuBounds = itemMenuElement.getBoundingClientRect();\n\n    if (itemMenuBounds.height <= layoutItemBounds.height) {\n      return 'center';\n    } else {\n      if (layoutItemBounds.top + layoutItemBounds.height - itemMenuBounds.height < layoutRootBounds.top) {\n        return 'top';\n      } else {\n        return 'bottom';\n      }\n    }\n  };\n\n  ItemMenuPositionCalculator.prototype.calculateIsLeftAndInside = function () {\n    if (!this._isValidElement()) {\n      return false;\n    }\n\n    var elementParentBounds = this.element.parentElement.getBoundingClientRect();\n    var layoutRootBounds = this.layoutContainer.getBoundingClientRect();\n    return elementParentBounds.left - 50 < layoutRootBounds.left;\n  };\n\n  return ItemMenuPositionCalculator;\n}();\n\nexports.ItemMenuPositionCalculator = ItemMenuPositionCalculator;\nvar DISAPPEARING_EVENT_NAMESPACE = '.disappearing';\n\nvar findContainer = function (element) {\n  return _jquery_helpers_1.closest(element, '.dx-layout-item-wrapper').querySelector('.dx-layout-item-container');\n};\n\nko.bindingHandlers['menuVisibilitySubscription'] = {\n  init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n      events_1.off(findContainer(element), DISAPPEARING_EVENT_NAMESPACE);\n    });\n  },\n  update: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n    var toggleClass = function (state) {\n      var cssClass = 'dx-target-widget-hovered';\n      var nodes = document.querySelectorAll('.dx-disappearing-overlay>.dx-overlay-content');\n\n      for (var i = 0; i < nodes.length; i++) {\n        if (state) {\n          nodes[i].classList.add(cssClass);\n        } else {\n          nodes[i].classList.remove(cssClass);\n        }\n      }\n    };\n\n    valueAccessor().visible.subscribe(function (val) {\n      var container = findContainer(element);\n\n      if (val) {\n        events_1.on(container, 'mouseenter' + DISAPPEARING_EVENT_NAMESPACE, function () {\n          toggleClass(true);\n        });\n        events_1.on(container, 'mouseleave' + DISAPPEARING_EVENT_NAMESPACE, function () {\n          toggleClass(false);\n        });\n      } else {\n        events_1.off(container, DISAPPEARING_EVENT_NAMESPACE);\n        toggleClass(false);\n      }\n    });\n  }\n};","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/items/_dashboard-item-menu.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","ItemMenuPositionCalculator","DashboardItemMenu","createContextPopupMenuViewModel","DashboardItemMenuSizes","events_1","require","ko","_default_1","_jquery_helpers_1","_utils_1","disposable_object_1","_knockout_utils_1","_properties_controller_1","_dashboard_item_menu_popover_1","_section_descriptors_1","BindingPanelPanelWidth","OptionsPanelWidth","menuItem","dashboardItemMenu","menuButton","icon","hint","getLocalizationById","title","cssClass","safeComputed","detailVisible","args","classes","menuItemId","push","join","clickHandler","menuItemClick","menuPropertiesPanel","panelContent","view","templateName","viewModel","data","customData","isSecondaryPanelVisible","hideBindingPanel","hideBindingProperties","cssClasses","pureComputed","selectedItemSurface","propertiesController","mainModel","style","propertiesPanelStyle","hidePanelAction","getPopoverOptions","createPopoverOptionsGetterFunction","_super","layoutController","layoutItem","_positionCalculator","itemSurface","_this","contextMenuItems","forEach","contextMenuItem","peek","showMenu","observableArray","contextMenuItemViewModels","sort","a","index","Number","MAX_VALUE","map","item","menuItemDetailVisible","some","verticalPosition","observable","isLeft","isCollapsed","isCollapsedStateToggleVisible","_recalculateVerticalPosition","window","setTimeout","calculateVPosition","_recalculatePosition","calculateIsLeft","_recalculatePositionDebounced","debounce","secondaryModel","filter","mi","__secondaryPanelVisibleTimeout","_repaintHandlers","computed","itemInteractionInProgress","subscribe","visibility","undefined","model","clearTimeout","visiblePanel","width","toString","marginLeft","subscribeLayoutItemRepaintRequest","toDispose","isSelected","createViewModel","calculateIsLeftAndInside","collapsedStateToggle","menuContainerCssClasses","isInnerMenu","deleteCurrentItemAction","_selectedLayoutItem","delete","deleteCurrentItemActionCaption","handler","repaintCallbacks","add","unsubscribeLayoutItemRepaintRequest","remove","splice","indexOf","dispose","DisposableObject","components","register","_a","componentInfo","itemMenuViewModelContainer","notificationController","positionCalculator","element","surfaceItemsFactory","createSurfaceItem","dashboardModel","dataSourceBrowser","PropertiesController","itemMenu","utils","domNodeDisposal","addDisposeCallback","template","layoutContainer","closest","_isValidElement","parentElement","elementParentBounds","getBoundingClientRect","rootBounds","left","right","rootLeft","rootRight","itemMenuElement","querySelector","layoutItemBounds","layoutRootBounds","itemMenuBounds","height","top","DISAPPEARING_EVENT_NAMESPACE","findContainer","bindingHandlers","init","valueAccessor","allBindings","bindingContext","off","update","toggleClass","state","nodes","document","querySelectorAll","i","length","classList","visible","val","container","on"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_dashboard-item-menu.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ItemMenuPositionCalculator = exports.DashboardItemMenu = exports.createContextPopupMenuViewModel = exports.DashboardItemMenuSizes = void 0;\nvar events_1 = require(\"devextreme/events\");\nvar ko = require(\"knockout\");\nvar _default_1 = require(\"../../data/localization/_default\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar disposable_object_1 = require(\"../../model/disposable-object\");\nvar _knockout_utils_1 = require(\"../../model/internal/_knockout-utils\");\nvar _properties_controller_1 = require(\"../properties-controller/_properties-controller\");\nvar _dashboard_item_menu_popover_1 = require(\"./_dashboard-item-menu-popover\");\nvar _section_descriptors_1 = require(\"./_section-descriptors\");\nexports.DashboardItemMenuSizes = {\n    BindingPanelPanelWidth: 495,\n    OptionsPanelWidth: 274\n};\nvar createContextPopupMenuViewModel = function (menuItem, dashboardItemMenu) {\n    return {\n        menuButton: {\n            icon: menuItem.icon,\n            hint: _default_1.getLocalizationById(menuItem.hint || menuItem.title),\n            cssClass: _knockout_utils_1.safeComputed({ detailVisible: menuItem.detailVisible }, function (args) {\n                var classes = ['dx-dashboard-' + menuItem.menuItemId + '-options-button'];\n                if (args.detailVisible)\n                    classes.push('dx-state-selected');\n                return classes.join(' ');\n            }),\n            clickHandler: function () { return dashboardItemMenu.menuItemClick(menuItem && menuItem.menuItemId); },\n        },\n        menuPropertiesPanel: {\n            title: _default_1.getLocalizationById(menuItem.title),\n            panelContent: {\n                view: menuItem.templateName,\n                viewModel: {\n                    data: menuItem.customData,\n                    isSecondaryPanelVisible: dashboardItemMenu.isSecondaryPanelVisible,\n                    hideBindingPanel: dashboardItemMenu.hideBindingPanel,\n                    hideBindingProperties: dashboardItemMenu.hideBindingProperties,\n                    detailVisible: menuItem.detailVisible\n                }\n            },\n            cssClasses: ko.pureComputed(function () {\n                return dashboardItemMenu.selectedItemSurface\n                    && dashboardItemMenu.selectedItemSurface.propertiesController.mainModel() ? 'dx-visible-properties' : '';\n            }),\n            style: dashboardItemMenu.propertiesPanelStyle,\n            detailVisible: menuItem.detailVisible,\n            hidePanelAction: dashboardItemMenu.hideBindingPanel,\n        },\n        getPopoverOptions: _dashboard_item_menu_popover_1.createPopoverOptionsGetterFunction(menuItem, dashboardItemMenu)\n    };\n};\nexports.createContextPopupMenuViewModel = createContextPopupMenuViewModel;\nvar DashboardItemMenu = (function (_super) {\n    __extends(DashboardItemMenu, _super);\n    function DashboardItemMenu(layoutController, layoutItem, _positionCalculator, propertiesController, itemSurface) {\n        var _this = _super.call(this) || this;\n        _this.layoutController = layoutController;\n        _this.layoutItem = layoutItem;\n        _this._positionCalculator = _positionCalculator;\n        _this.propertiesController = propertiesController;\n        _this.menuItemClick = function (menuItemId) {\n            _this.contextMenuItems().forEach(function (contextMenuItem) {\n                if (contextMenuItem.menuItemId !== menuItemId) {\n                    contextMenuItem.detailVisible(false);\n                }\n                else {\n                    _this.propertiesController.mainModel(null);\n                    if (contextMenuItem.detailVisible.peek()) {\n                        contextMenuItem.detailVisible(false);\n                    }\n                    else {\n                        contextMenuItem.showMenu && contextMenuItem.showMenu();\n                        contextMenuItem.detailVisible(true);\n                    }\n                }\n            });\n        };\n        _this.contextMenuItems = ko.observableArray();\n        _this.contextMenuItemViewModels = _knockout_utils_1.safeComputed({ contextMenuItems: _this.contextMenuItems }, function (args) {\n            return args.contextMenuItems\n                .sort(function (a, b) { return (a.index || Number.MAX_VALUE) - (b.index || Number.MAX_VALUE); })\n                .map(function (item) { return exports.createContextPopupMenuViewModel(item, _this); });\n        });\n        _this.menuItemDetailVisible = ko.pureComputed(function () { return _this.contextMenuItems().some(function (contextMenuItem) { return contextMenuItem.detailVisible(); }); });\n        _this.verticalPosition = ko.observable();\n        _this.isLeft = ko.observable();\n        _this.isCollapsed = ko.observable(false);\n        _this.isCollapsedStateToggleVisible = ko.observable(false);\n        _this._recalculateVerticalPosition = function () {\n            window.setTimeout(function () {\n                _this.verticalPosition(_this._positionCalculator.calculateVPosition());\n            }, 1);\n        };\n        _this._recalculatePosition = function () {\n            _this.verticalPosition(_this._positionCalculator.calculateVPosition());\n            _this.isLeft(_this._positionCalculator.calculateIsLeft());\n        };\n        _this._recalculatePositionDebounced = _utils_1.debounce(_this._recalculatePosition, 1);\n        _this.hideBindingProperties = function () {\n            if (_this.propertiesController.secondaryModel() && _this.isSecondaryPanelVisible()) {\n                _this.isSecondaryPanelVisible(false);\n            }\n            else {\n                _this.propertiesController.mainModel(null);\n                if (_this.contextMenuItems().filter(function (mi) { return mi.detailVisible() && mi.menuItemId !== 'item-binding-panel'; })[0]) {\n                    _this.hideBindingPanel();\n                }\n            }\n        };\n        _this.hideBindingPanel = function () {\n            _this.propertiesController.secondaryModel(null);\n            _this.propertiesController.mainModel(null);\n            _this.menuItemClick(null);\n        };\n        _this.isSecondaryPanelVisible = ko.observable(false);\n        _this.__secondaryPanelVisibleTimeout = 0;\n        _this._repaintHandlers = [];\n        _this.selectedItemSurface = itemSurface;\n        ko.computed(function () {\n            layoutController.itemInteractionInProgress(_this.menuItemDetailVisible());\n        });\n        _this.isSecondaryPanelVisible.subscribe(function (visibility) {\n            if (!visibility) {\n                _this.__secondaryPanelVisibleTimeout = window.setTimeout(function () {\n                    _this.propertiesController.secondaryModel(undefined);\n                    _this.__secondaryPanelVisibleTimeout = 0;\n                }, 350);\n            }\n        });\n        _this.propertiesController.secondaryModel.subscribe(function (model) {\n            _this.isSecondaryPanelVisible(!!model);\n            if (_this.__secondaryPanelVisibleTimeout)\n                clearTimeout(_this.__secondaryPanelVisibleTimeout);\n        });\n        _this.propertiesPanelStyle = ko.computed(function () {\n            var visiblePanel = _this.contextMenuItems().filter(function (contextMenuItem) { return contextMenuItem.detailVisible(); })[0], mainModel = _this.propertiesController.mainModel();\n            if (visiblePanel) {\n                if (visiblePanel.menuItemId === 'item-binding-panel') {\n                    if (mainModel) {\n                        return { width: exports.DashboardItemMenuSizes.BindingPanelPanelWidth.toString() + 'px', marginLeft: '' };\n                    }\n                    else {\n                        return { width: '220px', marginLeft: '' };\n                    }\n                }\n            }\n            return { width: exports.DashboardItemMenuSizes.OptionsPanelWidth.toString() + 'px', marginLeft: '0px' };\n        });\n        _this.subscribeLayoutItemRepaintRequest(_this._recalculatePositionDebounced);\n        _this.toDispose(_this.contextMenuItemViewModels.subscribe(function () { return _this._recalculatePositionDebounced(); }));\n        _this.toDispose(_this.layoutItem.isSelected.subscribe(function () { return _this._recalculatePositionDebounced(); }));\n        _this.toDispose(_this.isCollapsed.subscribe(function () { return _this._recalculatePositionDebounced(); }));\n        _this._recalculatePosition();\n        return _this;\n    }\n    DashboardItemMenu.prototype.createViewModel = function () {\n        var _this = this;\n        return {\n            isCollapsedStateToggleVisible: _knockout_utils_1.safeComputed({ isLeft: this.isLeft }, function (args) { return args.isLeft && _this._positionCalculator.calculateIsLeftAndInside(); }),\n            isCollapsed: this.isCollapsed,\n            collapsedStateToggle: function () { return _this.isCollapsed(!_this.isCollapsed()); },\n            menuContainerCssClasses: _knockout_utils_1.safeComputed({\n                isLeft: this.isLeft,\n                isSelected: this.layoutItem.isSelected,\n                verticalPosition: this.verticalPosition,\n                isCollapsed: this.isCollapsed,\n            }, function (args) {\n                var classes = [];\n                var isInnerMenu = args.isLeft && _this._positionCalculator.calculateIsLeftAndInside();\n                if (isInnerMenu) {\n                    classes.push('dx-position-left-inside');\n                }\n                else if (args.isLeft) {\n                    classes.push('dx-position-left');\n                }\n                args.isSelected && classes.push('dx-state-selected');\n                args.verticalPosition === 'top' && classes.push('dx-dashboard-item-top');\n                if (args.verticalPosition === 'bottom') {\n                    args.isCollapsed && isInnerMenu ? classes.push('dx-dashboard-item-top') : classes.push('dx-dashboard-item-bottom');\n                }\n                return classes.join(' ');\n            }),\n            menuItemDetailVisible: this.menuItemDetailVisible,\n            contextMenuItemViewModels: this.contextMenuItemViewModels,\n            deleteCurrentItemAction: function () { return _this.layoutController._selectedLayoutItem().delete(); },\n            deleteCurrentItemActionCaption: _default_1.getLocalizationById('DashboardWebStringId.Remove'),\n        };\n    };\n    DashboardItemMenu.prototype.subscribeLayoutItemRepaintRequest = function (handler) {\n        this.layoutItem.repaintCallbacks.add(handler);\n        this._repaintHandlers.push(handler);\n    };\n    DashboardItemMenu.prototype.unsubscribeLayoutItemRepaintRequest = function (handler) {\n        this.layoutItem.repaintCallbacks.remove(handler);\n        this._repaintHandlers.splice(this._repaintHandlers.indexOf(handler), 1);\n    };\n    DashboardItemMenu.prototype.dispose = function () {\n        var _this = this;\n        _super.prototype.dispose.call(this);\n        this._repaintHandlers.forEach(function (handler) { return _this.layoutItem.repaintCallbacks.remove(handler); });\n        this._repaintHandlers = [];\n        this.selectedItemSurface && this.selectedItemSurface.dispose();\n    };\n    return DashboardItemMenu;\n}(disposable_object_1.DisposableObject));\nexports.DashboardItemMenu = DashboardItemMenu;\nko.components.register('dx-dashboard-item-menu', {\n    viewModel: {\n        createViewModel: function (_a, componentInfo) {\n            var layoutController = _a.layoutController, layoutItem = _a.layoutItem, itemMenuViewModelContainer = _a.itemMenuViewModelContainer, notificationController = _a.notificationController;\n            var positionCalculator = new ItemMenuPositionCalculator(componentInfo.element);\n            var itemSurface = _section_descriptors_1.surfaceItemsFactory.createSurfaceItem(layoutItem.viewModel.item(), layoutController.dashboardModel, layoutController.dataSourceBrowser, notificationController);\n            var propertiesController = new _properties_controller_1.PropertiesController();\n            itemSurface.propertiesController = propertiesController;\n            var itemMenu = new DashboardItemMenu(layoutController, layoutItem, positionCalculator, propertiesController, itemSurface);\n            itemMenuViewModelContainer(itemMenu);\n            ko.utils.domNodeDisposal.addDisposeCallback(componentInfo.element, function () {\n                itemMenu.dispose();\n                propertiesController.dispose();\n                itemMenuViewModelContainer(undefined);\n            });\n            return itemMenu.createViewModel();\n        }\n    },\n    template: { element: 'dx-dashboard-item-menu' }\n});\nvar ItemMenuPositionCalculator = (function () {\n    function ItemMenuPositionCalculator(element) {\n        this.element = element;\n        this.layoutContainer = _jquery_helpers_1.closest(this.element, '.dx-dashboard-layout-container');\n    }\n    ItemMenuPositionCalculator.prototype._isValidElement = function () {\n        return this.element.parentElement && this.layoutContainer;\n    };\n    ItemMenuPositionCalculator.prototype.calculateIsLeft = function () {\n        if (!this._isValidElement()) {\n            return false;\n        }\n        var elementParentBounds = this.element.parentElement.getBoundingClientRect();\n        var rootBounds = this.layoutContainer.getBoundingClientRect();\n        var left = elementParentBounds.left, right = elementParentBounds.right, rootLeft = rootBounds.left, rootRight = rootBounds.right;\n        return (rootRight - right < exports.DashboardItemMenuSizes.BindingPanelPanelWidth &&\n            left - rootLeft > exports.DashboardItemMenuSizes.BindingPanelPanelWidth) || (rootRight - right < 50);\n    };\n    ItemMenuPositionCalculator.prototype.calculateVPosition = function () {\n        var itemMenuElement = this.element.querySelector('.dx-dashboard-item-menu');\n        var layoutItem = _jquery_helpers_1.closest(this.element, '.dx-layout-item-wrapper');\n        if (!this._isValidElement() || !layoutItem || !itemMenuElement) {\n            return 'center';\n        }\n        var layoutItemBounds = layoutItem.getBoundingClientRect();\n        var layoutRootBounds = this.layoutContainer.getBoundingClientRect();\n        var itemMenuBounds = itemMenuElement.getBoundingClientRect();\n        if (itemMenuBounds.height <= layoutItemBounds.height) {\n            return 'center';\n        }\n        else {\n            if (layoutItemBounds.top + layoutItemBounds.height - itemMenuBounds.height < layoutRootBounds.top) {\n                return 'top';\n            }\n            else {\n                return 'bottom';\n            }\n        }\n    };\n    ItemMenuPositionCalculator.prototype.calculateIsLeftAndInside = function () {\n        if (!this._isValidElement()) {\n            return false;\n        }\n        var elementParentBounds = this.element.parentElement.getBoundingClientRect();\n        var layoutRootBounds = this.layoutContainer.getBoundingClientRect();\n        return elementParentBounds.left - 50 < layoutRootBounds.left;\n    };\n    return ItemMenuPositionCalculator;\n}());\nexports.ItemMenuPositionCalculator = ItemMenuPositionCalculator;\nvar DISAPPEARING_EVENT_NAMESPACE = '.disappearing';\nvar findContainer = function (element) {\n    return _jquery_helpers_1.closest(element, '.dx-layout-item-wrapper').querySelector('.dx-layout-item-container');\n};\nko.bindingHandlers['menuVisibilitySubscription'] = {\n    init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\n            events_1.off(findContainer(element), DISAPPEARING_EVENT_NAMESPACE);\n        });\n    },\n    update: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var toggleClass = function (state) {\n            var cssClass = 'dx-target-widget-hovered';\n            var nodes = document.querySelectorAll('.dx-disappearing-overlay>.dx-overlay-content');\n            for (var i = 0; i < nodes.length; i++) {\n                if (state) {\n                    nodes[i].classList.add(cssClass);\n                }\n                else {\n                    nodes[i].classList.remove(cssClass);\n                }\n            }\n        };\n        valueAccessor().visible.subscribe(function (val) {\n            var container = findContainer(element);\n            if (val) {\n                events_1.on(container, 'mouseenter' + DISAPPEARING_EVENT_NAMESPACE, function () { toggleClass(true); });\n                events_1.on(container, 'mouseleave' + DISAPPEARING_EVENT_NAMESPACE, function () { toggleClass(false); });\n            }\n            else {\n                events_1.off(container, DISAPPEARING_EVENT_NAMESPACE);\n                toggleClass(false);\n            }\n        });\n    }\n};\n"]},"metadata":{},"sourceType":"script"}