{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/color_box/color_view.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { getHeight, getWidth, getOuterHeight } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport eventsEngine from \"../../events/core/events_engine\";\nimport { locate, move } from \"../../animation/translator\";\nimport { extend } from \"../../core/utils/extend\";\nimport Color from \"../../color\";\nimport messageLocalization from \"../../localization/message\";\nimport devices from \"../../core/devices\";\nimport registerComponent from \"../../core/component_registrator\";\nimport Editor from \"../editor/editor\";\nimport NumberBox from \"../number_box\";\nimport TextBox from \"../text_box\";\nimport Draggable from \"../draggable\";\nimport { isCommandKeyPressed } from \"../../events/utils/index\";\nimport { name as clickEventName } from \"../../events/click\";\nvar COLOR_VIEW_CLASS = \"dx-colorview\";\nvar COLOR_VIEW_CONTAINER_CLASS = \"dx-colorview-container\";\nvar COLOR_VIEW_ROW_CLASS = \"dx-colorview-container-row\";\nvar COLOR_VIEW_CELL_CLASS = \"dx-colorview-container-cell\";\nvar COLOR_VIEW_PALETTE_CLASS = \"dx-colorview-palette\";\nvar COLOR_VIEW_PALETTE_CELL_CLASS = \"dx-colorview-palette-cell\";\nvar COLOR_VIEW_PALETTE_HANDLE_CLASS = \"dx-colorview-palette-handle\";\nvar COLOR_VIEW_PALETTE_GRADIENT_CLASS = \"dx-colorview-palette-gradient\";\nvar COLOR_VIEW_PALETTE_GRADIENT_WHITE_CLASS = \"dx-colorview-palette-gradient-white\";\nvar COLOR_VIEW_PALETTE_GRADIENT_BLACK_CLASS = \"dx-colorview-palette-gradient-black\";\nvar COLOR_VIEW_HUE_SCALE_CLASS = \"dx-colorview-hue-scale\";\nvar COLOR_VIEW_HUE_SCALE_CELL_CLASS = \"dx-colorview-hue-scale-cell\";\nvar COLOR_VIEW_HUE_SCALE_HANDLE_CLASS = \"dx-colorview-hue-scale-handle\";\nvar COLOR_VIEW_HUE_SCALE_WRAPPER_CLASS = \"dx-colorview-hue-scale-wrapper\";\nvar COLOR_VIEW_CONTROLS_CONTAINER_CLASS = \"dx-colorview-controls-container\";\nvar COLOR_VIEW_RED_LABEL_CLASS = \"dx-colorview-label-red\";\nvar COLOR_VIEW_GREEN_LABEL_CLASS = \"dx-colorview-label-green\";\nvar COLOR_VIEW_BLUE_LABEL_CLASS = \"dx-colorview-label-blue\";\nvar COLOR_VIEW_HEX_LABEL_CLASS = \"dx-colorview-label-hex\";\nvar COLOR_VIEW_ALPHA_CHANNEL_SCALE_CLASS = \"dx-colorview-alpha-channel-scale\";\nvar COLOR_VIEW_APLHA_CHANNEL_ROW_CLASS = \"dx-colorview-alpha-channel-row\";\nvar COLOR_VIEW_ALPHA_CHANNEL_SCALE_WRAPPER_CLASS = \"dx-colorview-alpha-channel-wrapper\";\nvar COLOR_VIEW_ALPHA_CHANNEL_LABEL_CLASS = \"dx-colorview-alpha-channel-label\";\nvar COLOR_VIEW_ALPHA_CHANNEL_HANDLE_CLASS = \"dx-colorview-alpha-channel-handle\";\nvar COLOR_VIEW_ALPHA_CHANNEL_CELL_CLASS = \"dx-colorview-alpha-channel-cell\";\nvar COLOR_VIEW_ALPHA_CHANNEL_BORDER_CLASS = \"dx-colorview-alpha-channel-border\";\nvar COLOR_VIEW_COLOR_PREVIEW = \"dx-colorview-color-preview\";\nvar COLOR_VIEW_COLOR_PREVIEW_CONTAINER_CLASS = \"dx-colorview-color-preview-container\";\nvar COLOR_VIEW_COLOR_PREVIEW_CONTAINER_INNER_CLASS = \"dx-colorview-color-preview-container-inner\";\nvar COLOR_VIEW_COLOR_PREVIEW_COLOR_CURRENT = \"dx-colorview-color-preview-color-current\";\nvar COLOR_VIEW_COLOR_PREVIEW_COLOR_NEW = \"dx-colorview-color-preview-color-new\";\nvar ColorView = Editor.inherit({\n  _supportedKeys: function () {\n    var isRTL = this.option(\"rtlEnabled\");\n    var that = this;\n\n    var getHorizontalPaletteStep = function (e) {\n      var step = 100 / that._paletteWidth;\n\n      if (e.shiftKey) {\n        step *= that.option(\"keyStep\");\n      }\n\n      step = step > 1 ? step : 1;\n      return Math.round(step);\n    };\n\n    var updateHorizontalPaletteValue = function (step) {\n      var value = that._currentColor.hsv.s + step;\n\n      if (value > 100) {\n        value = 100;\n      } else if (value < 0) {\n        value = 0;\n      }\n\n      that._currentColor.hsv.s = value;\n      updatePaletteValue();\n    };\n\n    var getVerticalPaletteStep = function (e) {\n      var step = 100 / that._paletteHeight;\n\n      if (e.shiftKey) {\n        step *= that.option(\"keyStep\");\n      }\n\n      step = step > 1 ? step : 1;\n      return Math.round(step);\n    };\n\n    var updateVerticalPaletteValue = function (step) {\n      var value = that._currentColor.hsv.v + step;\n\n      if (value > 100) {\n        value = 100;\n      } else if (value < 0) {\n        value = 0;\n      }\n\n      that._currentColor.hsv.v = value;\n      updatePaletteValue();\n    };\n\n    function updatePaletteValue() {\n      that._placePaletteHandle();\n\n      that._updateColorFromHsv(that._currentColor.hsv.h, that._currentColor.hsv.s, that._currentColor.hsv.v);\n    }\n\n    var getHueScaleStep = function (e) {\n      var step = 360 / (that._hueScaleWrapperHeight - that._hueScaleHandleHeight);\n\n      if (e.shiftKey) {\n        step *= that.option(\"keyStep\");\n      }\n\n      step = step > 1 ? step : 1;\n      return step;\n    };\n\n    var updateHueScaleValue = function (step) {\n      that._currentColor.hsv.h += step;\n\n      that._placeHueScaleHandle();\n\n      var handleLocation = locate(that._$hueScaleHandle);\n\n      that._updateColorHue(handleLocation.top + that._hueScaleHandleHeight / 2);\n    };\n\n    var getAlphaScaleStep = function (e) {\n      var step = 1 / that._alphaChannelScaleWorkWidth;\n\n      if (e.shiftKey) {\n        step *= that.option(\"keyStep\");\n      }\n\n      step = step > .01 ? step : .01;\n      step = isRTL ? -step : step;\n      return step;\n    };\n\n    var updateAlphaScaleValue = function (step) {\n      that._currentColor.a += step;\n\n      that._placeAlphaChannelHandle();\n\n      var handleLocation = locate(that._$alphaChannelHandle);\n\n      that._calculateColorTransparencyByScaleWidth(handleLocation.left + that._alphaChannelHandleWidth / 2);\n    };\n\n    return extend(this.callBase(), {\n      upArrow: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (isCommandKeyPressed(e)) {\n          if (this._currentColor.hsv.h <= 360 && !this._isTopColorHue) {\n            this._saveValueChangeEvent(e);\n\n            updateHueScaleValue(getHueScaleStep(e));\n          }\n        } else if (this._currentColor.hsv.v < 100) {\n          this._saveValueChangeEvent(e);\n\n          updateVerticalPaletteValue(getVerticalPaletteStep(e));\n        }\n      },\n      downArrow: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (isCommandKeyPressed(e)) {\n          if (this._currentColor.hsv.h >= 0) {\n            if (this._isTopColorHue) {\n              this._currentColor.hsv.h = 360;\n            }\n\n            this._saveValueChangeEvent(e);\n\n            updateHueScaleValue(-getHueScaleStep(e));\n          }\n        } else if (this._currentColor.hsv.v > 0) {\n          this._saveValueChangeEvent(e);\n\n          updateVerticalPaletteValue(-getVerticalPaletteStep(e));\n        }\n      },\n      rightArrow: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (isCommandKeyPressed(e)) {\n          if (isRTL ? this._currentColor.a < 1 : this._currentColor.a > 0 && this.option(\"editAlphaChannel\")) {\n            this._saveValueChangeEvent(e);\n\n            updateAlphaScaleValue(-getAlphaScaleStep(e));\n          }\n        } else if (this._currentColor.hsv.s < 100) {\n          this._saveValueChangeEvent(e);\n\n          updateHorizontalPaletteValue(getHorizontalPaletteStep(e));\n        }\n      },\n      leftArrow: function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (isCommandKeyPressed(e)) {\n          if (isRTL ? this._currentColor.a > 0 : this._currentColor.a < 1 && this.option(\"editAlphaChannel\")) {\n            this._saveValueChangeEvent(e);\n\n            updateAlphaScaleValue(getAlphaScaleStep(e));\n          }\n        } else if (this._currentColor.hsv.s > 0) {\n          this._saveValueChangeEvent(e);\n\n          updateHorizontalPaletteValue(-getHorizontalPaletteStep(e));\n        }\n      },\n      enter: function (e) {\n        this._fireEnterKeyPressed(e);\n      }\n    });\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), {\n      value: null,\n      matchValue: null,\n      onEnterKeyPressed: void 0,\n      editAlphaChannel: false,\n      keyStep: 1,\n      stylingMode: void 0\n    });\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: function () {\n        return \"desktop\" === devices.real().deviceType && !devices.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }]);\n  },\n  _init: function () {\n    this.callBase();\n\n    this._initColorAndOpacity();\n\n    this._initEnterKeyPressedAction();\n  },\n  _initEnterKeyPressedAction: function () {\n    this._onEnterKeyPressedAction = this._createActionByOption(\"onEnterKeyPressed\");\n  },\n  _fireEnterKeyPressed: function (e) {\n    if (!this._onEnterKeyPressedAction) {\n      return;\n    }\n\n    this._onEnterKeyPressedAction({\n      event: e\n    });\n  },\n  _initColorAndOpacity: function () {\n    this._setCurrentColor(this.option(\"value\"));\n  },\n  _setCurrentColor: function (value) {\n    value = value || \"#000000\";\n    var newColor = new Color(value);\n\n    if (!newColor.colorIsInvalid) {\n      if (!this._currentColor || this._makeRgba(this._currentColor) !== this._makeRgba(newColor)) {\n        this._currentColor = newColor;\n\n        if (this._$currentColor) {\n          this._makeTransparentBackground(this._$currentColor, newColor);\n        }\n      }\n    } else {\n      this.option(\"value\", this._currentColor.baseColor);\n    }\n  },\n  _setBaseColor: function (value) {\n    var color = value || \"#000000\";\n    var newColor = new Color(color);\n\n    if (!newColor.colorIsInvalid) {\n      var isBaseColorChanged = this._makeRgba(this.option(\"matchValue\") !== this._makeRgba(newColor));\n\n      if (isBaseColorChanged) {\n        if (this._$baseColor) {\n          this._makeTransparentBackground(this._$baseColor, newColor);\n        }\n      }\n    }\n  },\n  _initMarkup: function () {\n    this.callBase();\n    this.$element().addClass(COLOR_VIEW_CLASS);\n\n    this._renderColorPickerContainer();\n  },\n  _render: function () {\n    this.callBase();\n\n    this._renderPalette();\n\n    this._renderHueScale();\n\n    this._renderControlsContainer();\n\n    this._renderControls();\n\n    this._renderAlphaChannelElements();\n  },\n  _makeTransparentBackground: function ($el, color) {\n    if (!(color instanceof Color)) {\n      color = new Color(color);\n    }\n\n    $el.css(\"backgroundColor\", this._makeRgba(color));\n  },\n  _makeRgba: function (color) {\n    if (!(color instanceof Color)) {\n      color = new Color(color);\n    }\n\n    return \"rgba(\" + [color.r, color.g, color.b, color.a].join(\", \") + \")\";\n  },\n  _renderValue: function () {\n    this.callBase(this.option(\"editAlphaChannel\") ? this._makeRgba(this._currentColor) : this.option(\"value\"));\n  },\n  _renderColorPickerContainer: function () {\n    var $parent = this.$element();\n    this._$colorPickerContainer = $(\"<div>\").addClass(COLOR_VIEW_CONTAINER_CLASS).appendTo($parent);\n\n    this._renderHtmlRows();\n  },\n  _renderHtmlRows: function (updatedOption) {\n    var $renderedRows = this._$colorPickerContainer.find(\".\" + COLOR_VIEW_ROW_CLASS);\n\n    var renderedRowsCount = $renderedRows.length;\n    var rowCount = this.option(\"editAlphaChannel\") ? 2 : 1;\n    var delta = renderedRowsCount - rowCount;\n\n    if (delta > 0) {\n      $renderedRows.eq(-1).remove();\n    }\n\n    if (delta < 0) {\n      delta = Math.abs(delta);\n      var rows = [];\n      var i;\n\n      for (i = 0; i < delta; i++) {\n        rows.push($(\"<div>\").addClass(COLOR_VIEW_ROW_CLASS));\n      }\n\n      if (renderedRowsCount) {\n        for (i = 0; i < rows.length; i++) {\n          $renderedRows.eq(0).after(rows[i]);\n        }\n      } else {\n        this._$colorPickerContainer.append(rows);\n      }\n    }\n  },\n  _renderHtmlCellInsideRow: function (index, $rowParent, additionalClass) {\n    return $(\"<div>\").addClass(COLOR_VIEW_CELL_CLASS).addClass(additionalClass).appendTo($rowParent.find(\".\" + COLOR_VIEW_ROW_CLASS).eq(index));\n  },\n  _renderPalette: function () {\n    var $paletteCell = this._renderHtmlCellInsideRow(0, this._$colorPickerContainer, COLOR_VIEW_PALETTE_CELL_CLASS);\n\n    var $paletteGradientWhite = $(\"<div>\").addClass([COLOR_VIEW_PALETTE_GRADIENT_CLASS, COLOR_VIEW_PALETTE_GRADIENT_WHITE_CLASS].join(\" \"));\n    var $paletteGradientBlack = $(\"<div>\").addClass([COLOR_VIEW_PALETTE_GRADIENT_CLASS, COLOR_VIEW_PALETTE_GRADIENT_BLACK_CLASS].join(\" \"));\n    this._$palette = $(\"<div>\").addClass(COLOR_VIEW_PALETTE_CLASS).css(\"backgroundColor\", this._currentColor.getPureColor().toHex()).appendTo($paletteCell);\n    this._paletteHeight = getHeight(this._$palette);\n    this._paletteWidth = getWidth(this._$palette);\n\n    this._renderPaletteHandle();\n\n    this._$palette.append([$paletteGradientWhite, $paletteGradientBlack]);\n  },\n  _renderPaletteHandle: function () {\n    this._$paletteHandle = $(\"<div>\").addClass(COLOR_VIEW_PALETTE_HANDLE_CLASS).appendTo(this._$palette);\n\n    this._createComponent(this._$paletteHandle, Draggable, {\n      contentTemplate: null,\n      boundary: this._$palette,\n      allowMoveByClick: true,\n      boundOffset: function () {\n        return -this._paletteHandleHeight / 2;\n      }.bind(this),\n      onDragMove: _ref => {\n        var {\n          event: event\n        } = _ref;\n        var paletteHandlePosition = locate(this._$paletteHandle);\n        this._updateByDrag = true;\n\n        this._saveValueChangeEvent(event);\n\n        this._updateColorFromHsv(this._currentColor.hsv.h, this._calculateColorSaturation(paletteHandlePosition), this._calculateColorValue(paletteHandlePosition));\n      }\n    });\n\n    this._paletteHandleWidth = getWidth(this._$paletteHandle);\n    this._paletteHandleHeight = getHeight(this._$paletteHandle);\n\n    this._placePaletteHandle();\n  },\n  _placePaletteHandle: function () {\n    move(this._$paletteHandle, {\n      left: Math.round(this._paletteWidth * this._currentColor.hsv.s / 100 - this._paletteHandleWidth / 2),\n      top: Math.round(this._paletteHeight - this._paletteHeight * this._currentColor.hsv.v / 100 - this._paletteHandleHeight / 2)\n    });\n  },\n  _calculateColorValue: function (paletteHandlePosition) {\n    var value = Math.floor(paletteHandlePosition.top + this._paletteHandleHeight / 2);\n    return 100 - Math.round(100 * value / this._paletteHeight);\n  },\n  _calculateColorSaturation: function (paletteHandlePosition) {\n    var saturation = Math.floor(paletteHandlePosition.left + this._paletteHandleWidth / 2);\n    return Math.round(100 * saturation / this._paletteWidth);\n  },\n  _updateColorFromHsv: function (hue, saturation, value) {\n    var a = this._currentColor.a;\n    this._currentColor = new Color(\"hsv(\" + [hue, saturation, value].join(\",\") + \")\");\n    this._currentColor.a = a;\n\n    this._updateColorParamsAndColorPreview();\n\n    this.applyColor();\n  },\n  _renderHueScale: function () {\n    var $hueScaleCell = this._renderHtmlCellInsideRow(0, this._$colorPickerContainer, COLOR_VIEW_HUE_SCALE_CELL_CLASS);\n\n    this._$hueScaleWrapper = $(\"<div>\").addClass(COLOR_VIEW_HUE_SCALE_WRAPPER_CLASS).appendTo($hueScaleCell);\n    this._$hueScale = $(\"<div>\").addClass(COLOR_VIEW_HUE_SCALE_CLASS).appendTo(this._$hueScaleWrapper);\n    this._hueScaleHeight = getHeight(this._$hueScale);\n    this._hueScaleWrapperHeight = getOuterHeight(this._$hueScaleWrapper);\n\n    this._renderHueScaleHandle();\n  },\n  _renderHueScaleHandle: function () {\n    this._$hueScaleHandle = $(\"<div>\").addClass(COLOR_VIEW_HUE_SCALE_HANDLE_CLASS).appendTo(this._$hueScaleWrapper);\n\n    this._createComponent(this._$hueScaleHandle, Draggable, {\n      contentTemplate: null,\n      boundary: this._$hueScaleWrapper,\n      allowMoveByClick: true,\n      dragDirection: \"vertical\",\n      onDragMove: _ref2 => {\n        var {\n          event: event\n        } = _ref2;\n        this._updateByDrag = true;\n\n        this._saveValueChangeEvent(event);\n\n        this._updateColorHue(locate(this._$hueScaleHandle).top + this._hueScaleHandleHeight / 2);\n      }\n    });\n\n    this._hueScaleHandleHeight = getHeight(this._$hueScaleHandle);\n\n    this._placeHueScaleHandle();\n  },\n  _placeHueScaleHandle: function () {\n    var hueScaleHeight = this._hueScaleWrapperHeight;\n    var handleHeight = this._hueScaleHandleHeight;\n    var top = (hueScaleHeight - handleHeight) * (360 - this._currentColor.hsv.h) / 360;\n\n    if (hueScaleHeight < top + handleHeight) {\n      top = hueScaleHeight - handleHeight;\n    }\n\n    if (top < 0) {\n      top = 0;\n    }\n\n    move(this._$hueScaleHandle, {\n      top: Math.round(top)\n    });\n  },\n  _updateColorHue: function (handlePosition) {\n    var hue = 360 - Math.round(360 * (handlePosition - this._hueScaleHandleHeight / 2) / (this._hueScaleWrapperHeight - this._hueScaleHandleHeight));\n    var saturation = this._currentColor.hsv.s;\n    var value = this._currentColor.hsv.v;\n    this._isTopColorHue = false;\n    hue = hue < 0 ? 0 : hue;\n\n    if (hue >= 360) {\n      this._isTopColorHue = true;\n      hue = 0;\n    }\n\n    this._updateColorFromHsv(hue, saturation, value);\n\n    this._$palette.css(\"backgroundColor\", this._currentColor.getPureColor().toHex());\n  },\n  _renderControlsContainer: function () {\n    var $controlsContainerCell = this._renderHtmlCellInsideRow(0, this._$colorPickerContainer);\n\n    this._$controlsContainer = $(\"<div>\").addClass(COLOR_VIEW_CONTROLS_CONTAINER_CLASS).appendTo($controlsContainerCell);\n  },\n  _renderControls: function () {\n    this._renderColorsPreview();\n\n    this._renderRgbInputs();\n\n    this._renderHexInput();\n  },\n  _renderColorsPreview: function () {\n    var $colorsPreviewContainer = $(\"<div>\").addClass(COLOR_VIEW_COLOR_PREVIEW_CONTAINER_CLASS).appendTo(this._$controlsContainer);\n    var $colorsPreviewContainerInner = $(\"<div>\").addClass(COLOR_VIEW_COLOR_PREVIEW_CONTAINER_INNER_CLASS).appendTo($colorsPreviewContainer);\n    this._$currentColor = $(\"<div>\").addClass([COLOR_VIEW_COLOR_PREVIEW, COLOR_VIEW_COLOR_PREVIEW_COLOR_NEW].join(\" \"));\n    this._$baseColor = $(\"<div>\").addClass([COLOR_VIEW_COLOR_PREVIEW, COLOR_VIEW_COLOR_PREVIEW_COLOR_CURRENT].join(\" \"));\n\n    this._makeTransparentBackground(this._$baseColor, this.option(\"matchValue\"));\n\n    this._makeTransparentBackground(this._$currentColor, this._currentColor);\n\n    $colorsPreviewContainerInner.append([this._$baseColor, this._$currentColor]);\n  },\n  _renderAlphaChannelElements: function () {\n    if (this.option(\"editAlphaChannel\")) {\n      this._$colorPickerContainer.find(\".\" + COLOR_VIEW_ROW_CLASS).eq(1).addClass(COLOR_VIEW_APLHA_CHANNEL_ROW_CLASS);\n\n      this._renderAlphaChannelScale();\n\n      this._renderAlphaChannelInput();\n    }\n  },\n  _renderRgbInputs: function () {\n    this._rgbInputsWithLabels = [this._renderEditorWithLabel({\n      editorType: NumberBox,\n      value: this._currentColor.r,\n      onValueChanged: this._updateColor.bind(this, false),\n      labelText: \"R\",\n      labelAriaText: messageLocalization.format(\"dxColorView-ariaRed\"),\n      labelClass: COLOR_VIEW_RED_LABEL_CLASS\n    }), this._renderEditorWithLabel({\n      editorType: NumberBox,\n      value: this._currentColor.g,\n      onValueChanged: this._updateColor.bind(this, false),\n      labelText: \"G\",\n      labelAriaText: messageLocalization.format(\"dxColorView-ariaGreen\"),\n      labelClass: COLOR_VIEW_GREEN_LABEL_CLASS\n    }), this._renderEditorWithLabel({\n      editorType: NumberBox,\n      value: this._currentColor.b,\n      onValueChanged: this._updateColor.bind(this, false),\n      labelText: \"B\",\n      labelAriaText: messageLocalization.format(\"dxColorView-ariaBlue\"),\n      labelClass: COLOR_VIEW_BLUE_LABEL_CLASS\n    })];\n\n    this._$controlsContainer.append(this._rgbInputsWithLabels);\n\n    this._rgbInputs = [this._rgbInputsWithLabels[0].find(\".dx-numberbox\").dxNumberBox(\"instance\"), this._rgbInputsWithLabels[1].find(\".dx-numberbox\").dxNumberBox(\"instance\"), this._rgbInputsWithLabels[2].find(\".dx-numberbox\").dxNumberBox(\"instance\")];\n  },\n  _renderEditorWithLabel: function (options) {\n    var $editor = $(\"<div>\");\n    var $label = $(\"<label>\").addClass(options.labelClass).text(options.labelText + \":\").append($editor);\n    eventsEngine.off($label, clickEventName);\n    eventsEngine.on($label, clickEventName, function (e) {\n      e.preventDefault();\n    });\n    var editorType = options.editorType;\n    var editorOptions = extend({\n      value: options.value,\n      onValueChanged: options.onValueChanged,\n      onKeyboardHandled: opts => this._keyboardHandler(opts)\n    }, {\n      stylingMode: this.option(\"stylingMode\")\n    });\n\n    if (editorType === NumberBox) {\n      editorOptions.min = options.min || 0;\n      editorOptions.max = options.max || 255;\n      editorOptions.step = options.step || 1;\n    }\n\n    var editor = new editorType($editor, editorOptions);\n    editor.registerKeyHandler(\"enter\", function (e) {\n      this._fireEnterKeyPressed(e);\n    }.bind(this));\n    this.setAria(\"label\", options.labelAriaText, $editor);\n    return $label;\n  },\n  hexInputOptions: function () {\n    return {\n      editorType: TextBox,\n      value: this._currentColor.toHex().replace(\"#\", \"\"),\n      onValueChanged: this._updateColor.bind(this, true),\n      labelClass: COLOR_VIEW_HEX_LABEL_CLASS,\n      labelText: \"#\",\n      labelAriaText: messageLocalization.format(\"dxColorView-ariaHex\")\n    };\n  },\n  _renderHexInput: function () {\n    this._hexInput = TextBox.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(\".dx-textbox\"));\n  },\n  _renderAlphaChannelScale: function () {\n    var $alphaChannelScaleCell = this._renderHtmlCellInsideRow(1, this._$colorPickerContainer, COLOR_VIEW_ALPHA_CHANNEL_CELL_CLASS);\n\n    var $alphaChannelBorder = $(\"<div>\").addClass(COLOR_VIEW_ALPHA_CHANNEL_BORDER_CLASS).appendTo($alphaChannelScaleCell);\n    var $alphaChannelScaleWrapper = $(\"<div>\").addClass(COLOR_VIEW_ALPHA_CHANNEL_SCALE_WRAPPER_CLASS).appendTo($alphaChannelBorder);\n    this._$alphaChannelScale = $(\"<div>\").addClass(COLOR_VIEW_ALPHA_CHANNEL_SCALE_CLASS).appendTo($alphaChannelScaleWrapper);\n\n    this._makeCSSLinearGradient(this._$alphaChannelScale);\n\n    this._renderAlphaChannelHandle($alphaChannelScaleCell);\n  },\n  _makeCSSLinearGradient: function ($el) {\n    var color = this._currentColor;\n    var colorAsRgb = [color.r, color.g, color.b].join(\",\");\n    var colorAsHex = color.toHex().replace(\"#\", \"\");\n    $el.attr(\"style\", function (colorAsRgb, colorAsHex) {\n      var rtlEnabled = this.option(\"rtlEnabled\");\n      var startColor = \"rgba(\" + colorAsRgb + \", \" + (rtlEnabled ? \"1\" : \"0\") + \")\";\n      var finishColor = \"rgba(\" + colorAsRgb + \", \" + (rtlEnabled ? \"0\" : \"1\") + \")\";\n      return [\"background-image: -webkit-linear-gradient(180deg, \" + startColor + \", \" + finishColor + \")\", \"background-image: -moz-linear-gradient(-90deg, \" + startColor + \", \" + finishColor + \")\", \"background-image: -o-linear-gradient(-90deg, \" + startColor + \", \" + finishColor + \")\", \"background-image: linear-gradient(-90deg, \" + startColor + \", \" + finishColor + \")\"].join(\";\");\n    }.call(this, colorAsRgb, colorAsHex));\n  },\n  _renderAlphaChannelInput: function () {\n    var that = this;\n\n    var $alphaChannelInputCell = this._renderHtmlCellInsideRow(1, this._$colorPickerContainer);\n\n    that._alphaChannelInput = this._renderEditorWithLabel({\n      editorType: NumberBox,\n      value: this._currentColor.a,\n      max: 1,\n      step: .1,\n      onValueChanged: function (args) {\n        var value = args.value;\n        value = that._currentColor.isValidAlpha(value) ? value : that._currentColor.a;\n        args.event && that._saveValueChangeEvent(args.event);\n\n        that._updateColorTransparency(value);\n\n        that._placeAlphaChannelHandle();\n      },\n      labelClass: COLOR_VIEW_ALPHA_CHANNEL_LABEL_CLASS,\n      labelText: \"Alpha\",\n      labelAriaText: messageLocalization.format(\"dxColorView-ariaAlpha\")\n    }).appendTo($alphaChannelInputCell).find(\".dx-numberbox\").dxNumberBox(\"instance\");\n  },\n  _updateColorTransparency: function (transparency) {\n    this._currentColor.a = transparency;\n    this.applyColor();\n  },\n  _renderAlphaChannelHandle: function ($parent) {\n    this._$alphaChannelHandle = $(\"<div>\").addClass(COLOR_VIEW_ALPHA_CHANNEL_HANDLE_CLASS).appendTo($parent);\n\n    this._createComponent(this._$alphaChannelHandle, Draggable, {\n      contentTemplate: null,\n      boundary: $parent,\n      allowMoveByClick: true,\n      dragDirection: \"horizontal\",\n      onDragMove: _ref3 => {\n        var {\n          event: event\n        } = _ref3;\n        this._updateByDrag = true;\n        var $alphaChannelHandle = this._$alphaChannelHandle;\n        var alphaChannelHandlePosition = locate($alphaChannelHandle).left + this._alphaChannelHandleWidth / 2;\n\n        this._saveValueChangeEvent(event);\n\n        this._calculateColorTransparencyByScaleWidth(alphaChannelHandlePosition);\n      }\n    });\n\n    this._alphaChannelHandleWidth = getWidth(this._$alphaChannelHandle);\n    this._alphaChannelScaleWorkWidth = getWidth($parent) - this._alphaChannelHandleWidth;\n\n    this._placeAlphaChannelHandle();\n  },\n  _calculateColorTransparencyByScaleWidth: function (handlePosition) {\n    var transparency = (handlePosition - this._alphaChannelHandleWidth / 2) / this._alphaChannelScaleWorkWidth;\n    var rtlEnabled = this.option(\"rtlEnabled\");\n    transparency = rtlEnabled ? transparency : 1 - transparency;\n\n    if (handlePosition >= this._alphaChannelScaleWorkWidth + this._alphaChannelHandleWidth / 2) {\n      transparency = rtlEnabled ? 1 : 0;\n    } else if (transparency < 1) {\n      transparency = transparency.toFixed(2);\n    }\n\n    var previousTransparency = this._alphaChannelInput.option(\"value\");\n\n    transparency = Math.max(transparency, 0);\n    transparency = Math.min(transparency, 1);\n\n    if (transparency === previousTransparency) {\n      this._updateByDrag = false;\n    } else {\n      this._alphaChannelInput.option(\"value\", transparency);\n    }\n  },\n  _placeAlphaChannelHandle: function () {\n    var left = this._alphaChannelScaleWorkWidth * (1 - this._currentColor.a);\n\n    if (left < 0) {\n      left = 0;\n    }\n\n    if (this._alphaChannelScaleWorkWidth < left) {\n      left = this._alphaChannelScaleWorkWidth;\n    }\n\n    move(this._$alphaChannelHandle, {\n      left: this.option(\"rtlEnabled\") ? this._alphaChannelScaleWorkWidth - left : left\n    });\n  },\n  applyColor: function () {\n    var previousValue = this.option(\"value\");\n    var colorValue = this.option(\"editAlphaChannel\") ? this._makeRgba(this._currentColor) : this._currentColor.toHex();\n\n    this._makeTransparentBackground(this._$currentColor, this._currentColor);\n\n    if (colorValue === previousValue) {\n      this._updateByDrag = false;\n    } else {\n      this.option(\"value\", colorValue);\n    }\n  },\n  cancelColor: function () {\n    this._initColorAndOpacity();\n\n    this._refreshMarkup();\n  },\n  _updateColor: function (isHex, args) {\n    var rgba;\n    var newColor;\n\n    if (isHex) {\n      newColor = this._validateHex(\"#\" + this._hexInput.option(\"value\"));\n    } else {\n      rgba = this._validateRgb();\n\n      if (this._alphaChannelInput) {\n        rgba.push(this._alphaChannelInput.option(\"value\"));\n        newColor = \"rgba(\" + rgba.join(\", \") + \")\";\n      } else {\n        newColor = \"rgb(\" + rgba.join(\", \") + \")\";\n      }\n    }\n\n    if (!this._suppressEditorsValueUpdating) {\n      this._currentColor = new Color(newColor);\n\n      this._saveValueChangeEvent(args.event);\n\n      this.applyColor();\n\n      this._refreshMarkup();\n    }\n  },\n  _validateHex: function (hex) {\n    return this._currentColor.isValidHex(hex) ? hex : this._currentColor.toHex();\n  },\n  _validateRgb: function () {\n    var r = this._rgbInputs[0].option(\"value\");\n\n    var g = this._rgbInputs[1].option(\"value\");\n\n    var b = this._rgbInputs[2].option(\"value\");\n\n    if (!this._currentColor.isValidRGB(r, g, b)) {\n      r = this._currentColor.r;\n      g = this._currentColor.g;\n      b = this._currentColor.b;\n    }\n\n    return [r, g, b];\n  },\n  _refreshMarkup: function () {\n    this._placeHueScaleHandle();\n\n    this._placePaletteHandle();\n\n    this._updateColorParamsAndColorPreview();\n\n    this._$palette.css(\"backgroundColor\", this._currentColor.getPureColor().toHex());\n\n    if (this._$alphaChannelHandle) {\n      this._updateColorTransparency(this._currentColor.a);\n\n      this._placeAlphaChannelHandle();\n    }\n  },\n  _updateColorParamsAndColorPreview: function () {\n    this._suppressEditorsValueUpdating = true;\n\n    this._hexInput.option(\"value\", this._currentColor.toHex().replace(\"#\", \"\"));\n\n    this._rgbInputs[0].option(\"value\", this._currentColor.r);\n\n    this._rgbInputs[1].option(\"value\", this._currentColor.g);\n\n    this._rgbInputs[2].option(\"value\", this._currentColor.b);\n\n    this._suppressEditorsValueUpdating = false;\n\n    if (this.option(\"editAlphaChannel\")) {\n      this._makeCSSLinearGradient.call(this, this._$alphaChannelScale);\n\n      this._alphaChannelInput.option(\"value\", this._currentColor.a);\n    }\n  },\n  _optionChanged: function (args) {\n    var value = args.value;\n\n    switch (args.name) {\n      case \"value\":\n        this._setCurrentColor(value);\n\n        if (!this._updateByDrag) {\n          this._refreshMarkup();\n        }\n\n        this._updateByDrag = false;\n        this.callBase(args);\n        break;\n\n      case \"matchValue\":\n        this._setBaseColor(value);\n\n        break;\n\n      case \"onEnterKeyPressed\":\n        this._initEnterKeyPressedAction();\n\n        break;\n\n      case \"editAlphaChannel\":\n        if (this._$colorPickerContainer) {\n          this._renderHtmlRows(\"editAlphaChannel\");\n\n          this._renderAlphaChannelElements();\n        }\n\n        break;\n\n      case \"keyStep\":\n        break;\n\n      case \"stylingMode\":\n        this._renderControls();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n});\nregisterComponent(\"dxColorView\", ColorView);\nexport default ColorView;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devextreme/esm/ui/color_box/color_view.js"],"names":["getHeight","getWidth","getOuterHeight","$","eventsEngine","locate","move","extend","Color","messageLocalization","devices","registerComponent","Editor","NumberBox","TextBox","Draggable","isCommandKeyPressed","name","clickEventName","COLOR_VIEW_CLASS","COLOR_VIEW_CONTAINER_CLASS","COLOR_VIEW_ROW_CLASS","COLOR_VIEW_CELL_CLASS","COLOR_VIEW_PALETTE_CLASS","COLOR_VIEW_PALETTE_CELL_CLASS","COLOR_VIEW_PALETTE_HANDLE_CLASS","COLOR_VIEW_PALETTE_GRADIENT_CLASS","COLOR_VIEW_PALETTE_GRADIENT_WHITE_CLASS","COLOR_VIEW_PALETTE_GRADIENT_BLACK_CLASS","COLOR_VIEW_HUE_SCALE_CLASS","COLOR_VIEW_HUE_SCALE_CELL_CLASS","COLOR_VIEW_HUE_SCALE_HANDLE_CLASS","COLOR_VIEW_HUE_SCALE_WRAPPER_CLASS","COLOR_VIEW_CONTROLS_CONTAINER_CLASS","COLOR_VIEW_RED_LABEL_CLASS","COLOR_VIEW_GREEN_LABEL_CLASS","COLOR_VIEW_BLUE_LABEL_CLASS","COLOR_VIEW_HEX_LABEL_CLASS","COLOR_VIEW_ALPHA_CHANNEL_SCALE_CLASS","COLOR_VIEW_APLHA_CHANNEL_ROW_CLASS","COLOR_VIEW_ALPHA_CHANNEL_SCALE_WRAPPER_CLASS","COLOR_VIEW_ALPHA_CHANNEL_LABEL_CLASS","COLOR_VIEW_ALPHA_CHANNEL_HANDLE_CLASS","COLOR_VIEW_ALPHA_CHANNEL_CELL_CLASS","COLOR_VIEW_ALPHA_CHANNEL_BORDER_CLASS","COLOR_VIEW_COLOR_PREVIEW","COLOR_VIEW_COLOR_PREVIEW_CONTAINER_CLASS","COLOR_VIEW_COLOR_PREVIEW_CONTAINER_INNER_CLASS","COLOR_VIEW_COLOR_PREVIEW_COLOR_CURRENT","COLOR_VIEW_COLOR_PREVIEW_COLOR_NEW","ColorView","inherit","_supportedKeys","isRTL","option","that","getHorizontalPaletteStep","e","step","_paletteWidth","shiftKey","Math","round","updateHorizontalPaletteValue","value","_currentColor","hsv","s","updatePaletteValue","getVerticalPaletteStep","_paletteHeight","updateVerticalPaletteValue","v","_placePaletteHandle","_updateColorFromHsv","h","getHueScaleStep","_hueScaleWrapperHeight","_hueScaleHandleHeight","updateHueScaleValue","_placeHueScaleHandle","handleLocation","_$hueScaleHandle","_updateColorHue","top","getAlphaScaleStep","_alphaChannelScaleWorkWidth","updateAlphaScaleValue","a","_placeAlphaChannelHandle","_$alphaChannelHandle","_calculateColorTransparencyByScaleWidth","left","_alphaChannelHandleWidth","callBase","upArrow","preventDefault","stopPropagation","_isTopColorHue","_saveValueChangeEvent","downArrow","rightArrow","leftArrow","enter","_fireEnterKeyPressed","_getDefaultOptions","matchValue","onEnterKeyPressed","editAlphaChannel","keyStep","stylingMode","_defaultOptionsRules","concat","device","real","deviceType","isSimulator","options","focusStateEnabled","_init","_initColorAndOpacity","_initEnterKeyPressedAction","_onEnterKeyPressedAction","_createActionByOption","event","_setCurrentColor","newColor","colorIsInvalid","_makeRgba","_$currentColor","_makeTransparentBackground","baseColor","_setBaseColor","color","isBaseColorChanged","_$baseColor","_initMarkup","$element","addClass","_renderColorPickerContainer","_render","_renderPalette","_renderHueScale","_renderControlsContainer","_renderControls","_renderAlphaChannelElements","$el","css","r","g","b","join","_renderValue","$parent","_$colorPickerContainer","appendTo","_renderHtmlRows","updatedOption","$renderedRows","find","renderedRowsCount","length","rowCount","delta","eq","remove","abs","rows","i","push","after","append","_renderHtmlCellInsideRow","index","$rowParent","additionalClass","$paletteCell","$paletteGradientWhite","$paletteGradientBlack","_$palette","getPureColor","toHex","_renderPaletteHandle","_$paletteHandle","_createComponent","contentTemplate","boundary","allowMoveByClick","boundOffset","_paletteHandleHeight","bind","onDragMove","_ref","paletteHandlePosition","_updateByDrag","_calculateColorSaturation","_calculateColorValue","_paletteHandleWidth","floor","saturation","hue","_updateColorParamsAndColorPreview","applyColor","$hueScaleCell","_$hueScaleWrapper","_$hueScale","_hueScaleHeight","_renderHueScaleHandle","dragDirection","_ref2","hueScaleHeight","handleHeight","handlePosition","$controlsContainerCell","_$controlsContainer","_renderColorsPreview","_renderRgbInputs","_renderHexInput","$colorsPreviewContainer","$colorsPreviewContainerInner","_renderAlphaChannelScale","_renderAlphaChannelInput","_rgbInputsWithLabels","_renderEditorWithLabel","editorType","onValueChanged","_updateColor","labelText","labelAriaText","format","labelClass","_rgbInputs","dxNumberBox","$editor","$label","text","off","on","editorOptions","onKeyboardHandled","opts","_keyboardHandler","min","max","editor","registerKeyHandler","setAria","hexInputOptions","replace","_hexInput","getInstance","$alphaChannelScaleCell","$alphaChannelBorder","$alphaChannelScaleWrapper","_$alphaChannelScale","_makeCSSLinearGradient","_renderAlphaChannelHandle","colorAsRgb","colorAsHex","attr","rtlEnabled","startColor","finishColor","call","$alphaChannelInputCell","_alphaChannelInput","args","isValidAlpha","_updateColorTransparency","transparency","_ref3","$alphaChannelHandle","alphaChannelHandlePosition","toFixed","previousTransparency","previousValue","colorValue","cancelColor","_refreshMarkup","isHex","rgba","_validateHex","_validateRgb","_suppressEditorsValueUpdating","hex","isValidHex","isValidRGB","_optionChanged"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/color_box/color_view.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    getWidth,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    locate,\r\n    move\r\n} from \"../../animation/translator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Color from \"../../color\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport devices from \"../../core/devices\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport Editor from \"../editor/editor\";\r\nimport NumberBox from \"../number_box\";\r\nimport TextBox from \"../text_box\";\r\nimport Draggable from \"../draggable\";\r\nimport {\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nvar COLOR_VIEW_CLASS = \"dx-colorview\";\r\nvar COLOR_VIEW_CONTAINER_CLASS = \"dx-colorview-container\";\r\nvar COLOR_VIEW_ROW_CLASS = \"dx-colorview-container-row\";\r\nvar COLOR_VIEW_CELL_CLASS = \"dx-colorview-container-cell\";\r\nvar COLOR_VIEW_PALETTE_CLASS = \"dx-colorview-palette\";\r\nvar COLOR_VIEW_PALETTE_CELL_CLASS = \"dx-colorview-palette-cell\";\r\nvar COLOR_VIEW_PALETTE_HANDLE_CLASS = \"dx-colorview-palette-handle\";\r\nvar COLOR_VIEW_PALETTE_GRADIENT_CLASS = \"dx-colorview-palette-gradient\";\r\nvar COLOR_VIEW_PALETTE_GRADIENT_WHITE_CLASS = \"dx-colorview-palette-gradient-white\";\r\nvar COLOR_VIEW_PALETTE_GRADIENT_BLACK_CLASS = \"dx-colorview-palette-gradient-black\";\r\nvar COLOR_VIEW_HUE_SCALE_CLASS = \"dx-colorview-hue-scale\";\r\nvar COLOR_VIEW_HUE_SCALE_CELL_CLASS = \"dx-colorview-hue-scale-cell\";\r\nvar COLOR_VIEW_HUE_SCALE_HANDLE_CLASS = \"dx-colorview-hue-scale-handle\";\r\nvar COLOR_VIEW_HUE_SCALE_WRAPPER_CLASS = \"dx-colorview-hue-scale-wrapper\";\r\nvar COLOR_VIEW_CONTROLS_CONTAINER_CLASS = \"dx-colorview-controls-container\";\r\nvar COLOR_VIEW_RED_LABEL_CLASS = \"dx-colorview-label-red\";\r\nvar COLOR_VIEW_GREEN_LABEL_CLASS = \"dx-colorview-label-green\";\r\nvar COLOR_VIEW_BLUE_LABEL_CLASS = \"dx-colorview-label-blue\";\r\nvar COLOR_VIEW_HEX_LABEL_CLASS = \"dx-colorview-label-hex\";\r\nvar COLOR_VIEW_ALPHA_CHANNEL_SCALE_CLASS = \"dx-colorview-alpha-channel-scale\";\r\nvar COLOR_VIEW_APLHA_CHANNEL_ROW_CLASS = \"dx-colorview-alpha-channel-row\";\r\nvar COLOR_VIEW_ALPHA_CHANNEL_SCALE_WRAPPER_CLASS = \"dx-colorview-alpha-channel-wrapper\";\r\nvar COLOR_VIEW_ALPHA_CHANNEL_LABEL_CLASS = \"dx-colorview-alpha-channel-label\";\r\nvar COLOR_VIEW_ALPHA_CHANNEL_HANDLE_CLASS = \"dx-colorview-alpha-channel-handle\";\r\nvar COLOR_VIEW_ALPHA_CHANNEL_CELL_CLASS = \"dx-colorview-alpha-channel-cell\";\r\nvar COLOR_VIEW_ALPHA_CHANNEL_BORDER_CLASS = \"dx-colorview-alpha-channel-border\";\r\nvar COLOR_VIEW_COLOR_PREVIEW = \"dx-colorview-color-preview\";\r\nvar COLOR_VIEW_COLOR_PREVIEW_CONTAINER_CLASS = \"dx-colorview-color-preview-container\";\r\nvar COLOR_VIEW_COLOR_PREVIEW_CONTAINER_INNER_CLASS = \"dx-colorview-color-preview-container-inner\";\r\nvar COLOR_VIEW_COLOR_PREVIEW_COLOR_CURRENT = \"dx-colorview-color-preview-color-current\";\r\nvar COLOR_VIEW_COLOR_PREVIEW_COLOR_NEW = \"dx-colorview-color-preview-color-new\";\r\nvar ColorView = Editor.inherit({\r\n    _supportedKeys: function() {\r\n        var isRTL = this.option(\"rtlEnabled\");\r\n        var that = this;\r\n        var getHorizontalPaletteStep = function(e) {\r\n            var step = 100 / that._paletteWidth;\r\n            if (e.shiftKey) {\r\n                step *= that.option(\"keyStep\")\r\n            }\r\n            step = step > 1 ? step : 1;\r\n            return Math.round(step)\r\n        };\r\n        var updateHorizontalPaletteValue = function(step) {\r\n            var value = that._currentColor.hsv.s + step;\r\n            if (value > 100) {\r\n                value = 100\r\n            } else if (value < 0) {\r\n                value = 0\r\n            }\r\n            that._currentColor.hsv.s = value;\r\n            updatePaletteValue()\r\n        };\r\n        var getVerticalPaletteStep = function(e) {\r\n            var step = 100 / that._paletteHeight;\r\n            if (e.shiftKey) {\r\n                step *= that.option(\"keyStep\")\r\n            }\r\n            step = step > 1 ? step : 1;\r\n            return Math.round(step)\r\n        };\r\n        var updateVerticalPaletteValue = function(step) {\r\n            var value = that._currentColor.hsv.v + step;\r\n            if (value > 100) {\r\n                value = 100\r\n            } else if (value < 0) {\r\n                value = 0\r\n            }\r\n            that._currentColor.hsv.v = value;\r\n            updatePaletteValue()\r\n        };\r\n\r\n        function updatePaletteValue() {\r\n            that._placePaletteHandle();\r\n            that._updateColorFromHsv(that._currentColor.hsv.h, that._currentColor.hsv.s, that._currentColor.hsv.v)\r\n        }\r\n        var getHueScaleStep = function(e) {\r\n            var step = 360 / (that._hueScaleWrapperHeight - that._hueScaleHandleHeight);\r\n            if (e.shiftKey) {\r\n                step *= that.option(\"keyStep\")\r\n            }\r\n            step = step > 1 ? step : 1;\r\n            return step\r\n        };\r\n        var updateHueScaleValue = function(step) {\r\n            that._currentColor.hsv.h += step;\r\n            that._placeHueScaleHandle();\r\n            var handleLocation = locate(that._$hueScaleHandle);\r\n            that._updateColorHue(handleLocation.top + that._hueScaleHandleHeight / 2)\r\n        };\r\n        var getAlphaScaleStep = function(e) {\r\n            var step = 1 / that._alphaChannelScaleWorkWidth;\r\n            if (e.shiftKey) {\r\n                step *= that.option(\"keyStep\")\r\n            }\r\n            step = step > .01 ? step : .01;\r\n            step = isRTL ? -step : step;\r\n            return step\r\n        };\r\n        var updateAlphaScaleValue = function(step) {\r\n            that._currentColor.a += step;\r\n            that._placeAlphaChannelHandle();\r\n            var handleLocation = locate(that._$alphaChannelHandle);\r\n            that._calculateColorTransparencyByScaleWidth(handleLocation.left + that._alphaChannelHandleWidth / 2)\r\n        };\r\n        return extend(this.callBase(), {\r\n            upArrow: function(e) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                if (isCommandKeyPressed(e)) {\r\n                    if (this._currentColor.hsv.h <= 360 && !this._isTopColorHue) {\r\n                        this._saveValueChangeEvent(e);\r\n                        updateHueScaleValue(getHueScaleStep(e))\r\n                    }\r\n                } else if (this._currentColor.hsv.v < 100) {\r\n                    this._saveValueChangeEvent(e);\r\n                    updateVerticalPaletteValue(getVerticalPaletteStep(e))\r\n                }\r\n            },\r\n            downArrow: function(e) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                if (isCommandKeyPressed(e)) {\r\n                    if (this._currentColor.hsv.h >= 0) {\r\n                        if (this._isTopColorHue) {\r\n                            this._currentColor.hsv.h = 360\r\n                        }\r\n                        this._saveValueChangeEvent(e);\r\n                        updateHueScaleValue(-getHueScaleStep(e))\r\n                    }\r\n                } else if (this._currentColor.hsv.v > 0) {\r\n                    this._saveValueChangeEvent(e);\r\n                    updateVerticalPaletteValue(-getVerticalPaletteStep(e))\r\n                }\r\n            },\r\n            rightArrow: function(e) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                if (isCommandKeyPressed(e)) {\r\n                    if (isRTL ? this._currentColor.a < 1 : this._currentColor.a > 0 && this.option(\"editAlphaChannel\")) {\r\n                        this._saveValueChangeEvent(e);\r\n                        updateAlphaScaleValue(-getAlphaScaleStep(e))\r\n                    }\r\n                } else if (this._currentColor.hsv.s < 100) {\r\n                    this._saveValueChangeEvent(e);\r\n                    updateHorizontalPaletteValue(getHorizontalPaletteStep(e))\r\n                }\r\n            },\r\n            leftArrow: function(e) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                if (isCommandKeyPressed(e)) {\r\n                    if (isRTL ? this._currentColor.a > 0 : this._currentColor.a < 1 && this.option(\"editAlphaChannel\")) {\r\n                        this._saveValueChangeEvent(e);\r\n                        updateAlphaScaleValue(getAlphaScaleStep(e))\r\n                    }\r\n                } else if (this._currentColor.hsv.s > 0) {\r\n                    this._saveValueChangeEvent(e);\r\n                    updateHorizontalPaletteValue(-getHorizontalPaletteStep(e))\r\n                }\r\n            },\r\n            enter: function(e) {\r\n                this._fireEnterKeyPressed(e)\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            value: null,\r\n            matchValue: null,\r\n            onEnterKeyPressed: void 0,\r\n            editAlphaChannel: false,\r\n            keyStep: 1,\r\n            stylingMode: void 0\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initColorAndOpacity();\r\n        this._initEnterKeyPressedAction()\r\n    },\r\n    _initEnterKeyPressedAction: function() {\r\n        this._onEnterKeyPressedAction = this._createActionByOption(\"onEnterKeyPressed\")\r\n    },\r\n    _fireEnterKeyPressed: function(e) {\r\n        if (!this._onEnterKeyPressedAction) {\r\n            return\r\n        }\r\n        this._onEnterKeyPressedAction({\r\n            event: e\r\n        })\r\n    },\r\n    _initColorAndOpacity: function() {\r\n        this._setCurrentColor(this.option(\"value\"))\r\n    },\r\n    _setCurrentColor: function(value) {\r\n        value = value || \"#000000\";\r\n        var newColor = new Color(value);\r\n        if (!newColor.colorIsInvalid) {\r\n            if (!this._currentColor || this._makeRgba(this._currentColor) !== this._makeRgba(newColor)) {\r\n                this._currentColor = newColor;\r\n                if (this._$currentColor) {\r\n                    this._makeTransparentBackground(this._$currentColor, newColor)\r\n                }\r\n            }\r\n        } else {\r\n            this.option(\"value\", this._currentColor.baseColor)\r\n        }\r\n    },\r\n    _setBaseColor: function(value) {\r\n        var color = value || \"#000000\";\r\n        var newColor = new Color(color);\r\n        if (!newColor.colorIsInvalid) {\r\n            var isBaseColorChanged = this._makeRgba(this.option(\"matchValue\") !== this._makeRgba(newColor));\r\n            if (isBaseColorChanged) {\r\n                if (this._$baseColor) {\r\n                    this._makeTransparentBackground(this._$baseColor, newColor)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(COLOR_VIEW_CLASS);\r\n        this._renderColorPickerContainer()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._renderPalette();\r\n        this._renderHueScale();\r\n        this._renderControlsContainer();\r\n        this._renderControls();\r\n        this._renderAlphaChannelElements()\r\n    },\r\n    _makeTransparentBackground: function($el, color) {\r\n        if (!(color instanceof Color)) {\r\n            color = new Color(color)\r\n        }\r\n        $el.css(\"backgroundColor\", this._makeRgba(color))\r\n    },\r\n    _makeRgba: function(color) {\r\n        if (!(color instanceof Color)) {\r\n            color = new Color(color)\r\n        }\r\n        return \"rgba(\" + [color.r, color.g, color.b, color.a].join(\", \") + \")\"\r\n    },\r\n    _renderValue: function() {\r\n        this.callBase(this.option(\"editAlphaChannel\") ? this._makeRgba(this._currentColor) : this.option(\"value\"))\r\n    },\r\n    _renderColorPickerContainer: function() {\r\n        var $parent = this.$element();\r\n        this._$colorPickerContainer = $(\"<div>\").addClass(COLOR_VIEW_CONTAINER_CLASS).appendTo($parent);\r\n        this._renderHtmlRows()\r\n    },\r\n    _renderHtmlRows: function(updatedOption) {\r\n        var $renderedRows = this._$colorPickerContainer.find(\".\" + COLOR_VIEW_ROW_CLASS);\r\n        var renderedRowsCount = $renderedRows.length;\r\n        var rowCount = this.option(\"editAlphaChannel\") ? 2 : 1;\r\n        var delta = renderedRowsCount - rowCount;\r\n        if (delta > 0) {\r\n            $renderedRows.eq(-1).remove()\r\n        }\r\n        if (delta < 0) {\r\n            delta = Math.abs(delta);\r\n            var rows = [];\r\n            var i;\r\n            for (i = 0; i < delta; i++) {\r\n                rows.push($(\"<div>\").addClass(COLOR_VIEW_ROW_CLASS))\r\n            }\r\n            if (renderedRowsCount) {\r\n                for (i = 0; i < rows.length; i++) {\r\n                    $renderedRows.eq(0).after(rows[i])\r\n                }\r\n            } else {\r\n                this._$colorPickerContainer.append(rows)\r\n            }\r\n        }\r\n    },\r\n    _renderHtmlCellInsideRow: function(index, $rowParent, additionalClass) {\r\n        return $(\"<div>\").addClass(COLOR_VIEW_CELL_CLASS).addClass(additionalClass).appendTo($rowParent.find(\".\" + COLOR_VIEW_ROW_CLASS).eq(index))\r\n    },\r\n    _renderPalette: function() {\r\n        var $paletteCell = this._renderHtmlCellInsideRow(0, this._$colorPickerContainer, COLOR_VIEW_PALETTE_CELL_CLASS);\r\n        var $paletteGradientWhite = $(\"<div>\").addClass([COLOR_VIEW_PALETTE_GRADIENT_CLASS, COLOR_VIEW_PALETTE_GRADIENT_WHITE_CLASS].join(\" \"));\r\n        var $paletteGradientBlack = $(\"<div>\").addClass([COLOR_VIEW_PALETTE_GRADIENT_CLASS, COLOR_VIEW_PALETTE_GRADIENT_BLACK_CLASS].join(\" \"));\r\n        this._$palette = $(\"<div>\").addClass(COLOR_VIEW_PALETTE_CLASS).css(\"backgroundColor\", this._currentColor.getPureColor().toHex()).appendTo($paletteCell);\r\n        this._paletteHeight = getHeight(this._$palette);\r\n        this._paletteWidth = getWidth(this._$palette);\r\n        this._renderPaletteHandle();\r\n        this._$palette.append([$paletteGradientWhite, $paletteGradientBlack])\r\n    },\r\n    _renderPaletteHandle: function() {\r\n        this._$paletteHandle = $(\"<div>\").addClass(COLOR_VIEW_PALETTE_HANDLE_CLASS).appendTo(this._$palette);\r\n        this._createComponent(this._$paletteHandle, Draggable, {\r\n            contentTemplate: null,\r\n            boundary: this._$palette,\r\n            allowMoveByClick: true,\r\n            boundOffset: function() {\r\n                return -this._paletteHandleHeight / 2\r\n            }.bind(this),\r\n            onDragMove: _ref => {\r\n                var {\r\n                    event: event\r\n                } = _ref;\r\n                var paletteHandlePosition = locate(this._$paletteHandle);\r\n                this._updateByDrag = true;\r\n                this._saveValueChangeEvent(event);\r\n                this._updateColorFromHsv(this._currentColor.hsv.h, this._calculateColorSaturation(paletteHandlePosition), this._calculateColorValue(paletteHandlePosition))\r\n            }\r\n        });\r\n        this._paletteHandleWidth = getWidth(this._$paletteHandle);\r\n        this._paletteHandleHeight = getHeight(this._$paletteHandle);\r\n        this._placePaletteHandle()\r\n    },\r\n    _placePaletteHandle: function() {\r\n        move(this._$paletteHandle, {\r\n            left: Math.round(this._paletteWidth * this._currentColor.hsv.s / 100 - this._paletteHandleWidth / 2),\r\n            top: Math.round(this._paletteHeight - this._paletteHeight * this._currentColor.hsv.v / 100 - this._paletteHandleHeight / 2)\r\n        })\r\n    },\r\n    _calculateColorValue: function(paletteHandlePosition) {\r\n        var value = Math.floor(paletteHandlePosition.top + this._paletteHandleHeight / 2);\r\n        return 100 - Math.round(100 * value / this._paletteHeight)\r\n    },\r\n    _calculateColorSaturation: function(paletteHandlePosition) {\r\n        var saturation = Math.floor(paletteHandlePosition.left + this._paletteHandleWidth / 2);\r\n        return Math.round(100 * saturation / this._paletteWidth)\r\n    },\r\n    _updateColorFromHsv: function(hue, saturation, value) {\r\n        var a = this._currentColor.a;\r\n        this._currentColor = new Color(\"hsv(\" + [hue, saturation, value].join(\",\") + \")\");\r\n        this._currentColor.a = a;\r\n        this._updateColorParamsAndColorPreview();\r\n        this.applyColor()\r\n    },\r\n    _renderHueScale: function() {\r\n        var $hueScaleCell = this._renderHtmlCellInsideRow(0, this._$colorPickerContainer, COLOR_VIEW_HUE_SCALE_CELL_CLASS);\r\n        this._$hueScaleWrapper = $(\"<div>\").addClass(COLOR_VIEW_HUE_SCALE_WRAPPER_CLASS).appendTo($hueScaleCell);\r\n        this._$hueScale = $(\"<div>\").addClass(COLOR_VIEW_HUE_SCALE_CLASS).appendTo(this._$hueScaleWrapper);\r\n        this._hueScaleHeight = getHeight(this._$hueScale);\r\n        this._hueScaleWrapperHeight = getOuterHeight(this._$hueScaleWrapper);\r\n        this._renderHueScaleHandle()\r\n    },\r\n    _renderHueScaleHandle: function() {\r\n        this._$hueScaleHandle = $(\"<div>\").addClass(COLOR_VIEW_HUE_SCALE_HANDLE_CLASS).appendTo(this._$hueScaleWrapper);\r\n        this._createComponent(this._$hueScaleHandle, Draggable, {\r\n            contentTemplate: null,\r\n            boundary: this._$hueScaleWrapper,\r\n            allowMoveByClick: true,\r\n            dragDirection: \"vertical\",\r\n            onDragMove: _ref2 => {\r\n                var {\r\n                    event: event\r\n                } = _ref2;\r\n                this._updateByDrag = true;\r\n                this._saveValueChangeEvent(event);\r\n                this._updateColorHue(locate(this._$hueScaleHandle).top + this._hueScaleHandleHeight / 2)\r\n            }\r\n        });\r\n        this._hueScaleHandleHeight = getHeight(this._$hueScaleHandle);\r\n        this._placeHueScaleHandle()\r\n    },\r\n    _placeHueScaleHandle: function() {\r\n        var hueScaleHeight = this._hueScaleWrapperHeight;\r\n        var handleHeight = this._hueScaleHandleHeight;\r\n        var top = (hueScaleHeight - handleHeight) * (360 - this._currentColor.hsv.h) / 360;\r\n        if (hueScaleHeight < top + handleHeight) {\r\n            top = hueScaleHeight - handleHeight\r\n        }\r\n        if (top < 0) {\r\n            top = 0\r\n        }\r\n        move(this._$hueScaleHandle, {\r\n            top: Math.round(top)\r\n        })\r\n    },\r\n    _updateColorHue: function(handlePosition) {\r\n        var hue = 360 - Math.round(360 * (handlePosition - this._hueScaleHandleHeight / 2) / (this._hueScaleWrapperHeight - this._hueScaleHandleHeight));\r\n        var saturation = this._currentColor.hsv.s;\r\n        var value = this._currentColor.hsv.v;\r\n        this._isTopColorHue = false;\r\n        hue = hue < 0 ? 0 : hue;\r\n        if (hue >= 360) {\r\n            this._isTopColorHue = true;\r\n            hue = 0\r\n        }\r\n        this._updateColorFromHsv(hue, saturation, value);\r\n        this._$palette.css(\"backgroundColor\", this._currentColor.getPureColor().toHex())\r\n    },\r\n    _renderControlsContainer: function() {\r\n        var $controlsContainerCell = this._renderHtmlCellInsideRow(0, this._$colorPickerContainer);\r\n        this._$controlsContainer = $(\"<div>\").addClass(COLOR_VIEW_CONTROLS_CONTAINER_CLASS).appendTo($controlsContainerCell)\r\n    },\r\n    _renderControls: function() {\r\n        this._renderColorsPreview();\r\n        this._renderRgbInputs();\r\n        this._renderHexInput()\r\n    },\r\n    _renderColorsPreview: function() {\r\n        var $colorsPreviewContainer = $(\"<div>\").addClass(COLOR_VIEW_COLOR_PREVIEW_CONTAINER_CLASS).appendTo(this._$controlsContainer);\r\n        var $colorsPreviewContainerInner = $(\"<div>\").addClass(COLOR_VIEW_COLOR_PREVIEW_CONTAINER_INNER_CLASS).appendTo($colorsPreviewContainer);\r\n        this._$currentColor = $(\"<div>\").addClass([COLOR_VIEW_COLOR_PREVIEW, COLOR_VIEW_COLOR_PREVIEW_COLOR_NEW].join(\" \"));\r\n        this._$baseColor = $(\"<div>\").addClass([COLOR_VIEW_COLOR_PREVIEW, COLOR_VIEW_COLOR_PREVIEW_COLOR_CURRENT].join(\" \"));\r\n        this._makeTransparentBackground(this._$baseColor, this.option(\"matchValue\"));\r\n        this._makeTransparentBackground(this._$currentColor, this._currentColor);\r\n        $colorsPreviewContainerInner.append([this._$baseColor, this._$currentColor])\r\n    },\r\n    _renderAlphaChannelElements: function() {\r\n        if (this.option(\"editAlphaChannel\")) {\r\n            this._$colorPickerContainer.find(\".\" + COLOR_VIEW_ROW_CLASS).eq(1).addClass(COLOR_VIEW_APLHA_CHANNEL_ROW_CLASS);\r\n            this._renderAlphaChannelScale();\r\n            this._renderAlphaChannelInput()\r\n        }\r\n    },\r\n    _renderRgbInputs: function() {\r\n        this._rgbInputsWithLabels = [this._renderEditorWithLabel({\r\n            editorType: NumberBox,\r\n            value: this._currentColor.r,\r\n            onValueChanged: this._updateColor.bind(this, false),\r\n            labelText: \"R\",\r\n            labelAriaText: messageLocalization.format(\"dxColorView-ariaRed\"),\r\n            labelClass: COLOR_VIEW_RED_LABEL_CLASS\r\n        }), this._renderEditorWithLabel({\r\n            editorType: NumberBox,\r\n            value: this._currentColor.g,\r\n            onValueChanged: this._updateColor.bind(this, false),\r\n            labelText: \"G\",\r\n            labelAriaText: messageLocalization.format(\"dxColorView-ariaGreen\"),\r\n            labelClass: COLOR_VIEW_GREEN_LABEL_CLASS\r\n        }), this._renderEditorWithLabel({\r\n            editorType: NumberBox,\r\n            value: this._currentColor.b,\r\n            onValueChanged: this._updateColor.bind(this, false),\r\n            labelText: \"B\",\r\n            labelAriaText: messageLocalization.format(\"dxColorView-ariaBlue\"),\r\n            labelClass: COLOR_VIEW_BLUE_LABEL_CLASS\r\n        })];\r\n        this._$controlsContainer.append(this._rgbInputsWithLabels);\r\n        this._rgbInputs = [this._rgbInputsWithLabels[0].find(\".dx-numberbox\").dxNumberBox(\"instance\"), this._rgbInputsWithLabels[1].find(\".dx-numberbox\").dxNumberBox(\"instance\"), this._rgbInputsWithLabels[2].find(\".dx-numberbox\").dxNumberBox(\"instance\")]\r\n    },\r\n    _renderEditorWithLabel: function(options) {\r\n        var $editor = $(\"<div>\");\r\n        var $label = $(\"<label>\").addClass(options.labelClass).text(options.labelText + \":\").append($editor);\r\n        eventsEngine.off($label, clickEventName);\r\n        eventsEngine.on($label, clickEventName, (function(e) {\r\n            e.preventDefault()\r\n        }));\r\n        var editorType = options.editorType;\r\n        var editorOptions = extend({\r\n            value: options.value,\r\n            onValueChanged: options.onValueChanged,\r\n            onKeyboardHandled: opts => this._keyboardHandler(opts)\r\n        }, {\r\n            stylingMode: this.option(\"stylingMode\")\r\n        });\r\n        if (editorType === NumberBox) {\r\n            editorOptions.min = options.min || 0;\r\n            editorOptions.max = options.max || 255;\r\n            editorOptions.step = options.step || 1\r\n        }\r\n        var editor = new editorType($editor, editorOptions);\r\n        editor.registerKeyHandler(\"enter\", function(e) {\r\n            this._fireEnterKeyPressed(e)\r\n        }.bind(this));\r\n        this.setAria(\"label\", options.labelAriaText, $editor);\r\n        return $label\r\n    },\r\n    hexInputOptions: function() {\r\n        return {\r\n            editorType: TextBox,\r\n            value: this._currentColor.toHex().replace(\"#\", \"\"),\r\n            onValueChanged: this._updateColor.bind(this, true),\r\n            labelClass: COLOR_VIEW_HEX_LABEL_CLASS,\r\n            labelText: \"#\",\r\n            labelAriaText: messageLocalization.format(\"dxColorView-ariaHex\")\r\n        }\r\n    },\r\n    _renderHexInput: function() {\r\n        this._hexInput = TextBox.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(\".dx-textbox\"))\r\n    },\r\n    _renderAlphaChannelScale: function() {\r\n        var $alphaChannelScaleCell = this._renderHtmlCellInsideRow(1, this._$colorPickerContainer, COLOR_VIEW_ALPHA_CHANNEL_CELL_CLASS);\r\n        var $alphaChannelBorder = $(\"<div>\").addClass(COLOR_VIEW_ALPHA_CHANNEL_BORDER_CLASS).appendTo($alphaChannelScaleCell);\r\n        var $alphaChannelScaleWrapper = $(\"<div>\").addClass(COLOR_VIEW_ALPHA_CHANNEL_SCALE_WRAPPER_CLASS).appendTo($alphaChannelBorder);\r\n        this._$alphaChannelScale = $(\"<div>\").addClass(COLOR_VIEW_ALPHA_CHANNEL_SCALE_CLASS).appendTo($alphaChannelScaleWrapper);\r\n        this._makeCSSLinearGradient(this._$alphaChannelScale);\r\n        this._renderAlphaChannelHandle($alphaChannelScaleCell)\r\n    },\r\n    _makeCSSLinearGradient: function($el) {\r\n        var color = this._currentColor;\r\n        var colorAsRgb = [color.r, color.g, color.b].join(\",\");\r\n        var colorAsHex = color.toHex().replace(\"#\", \"\");\r\n        $el.attr(\"style\", function(colorAsRgb, colorAsHex) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            var startColor = \"rgba(\" + colorAsRgb + \", \" + (rtlEnabled ? \"1\" : \"0\") + \")\";\r\n            var finishColor = \"rgba(\" + colorAsRgb + \", \" + (rtlEnabled ? \"0\" : \"1\") + \")\";\r\n            return [\"background-image: -webkit-linear-gradient(180deg, \" + startColor + \", \" + finishColor + \")\", \"background-image: -moz-linear-gradient(-90deg, \" + startColor + \", \" + finishColor + \")\", \"background-image: -o-linear-gradient(-90deg, \" + startColor + \", \" + finishColor + \")\", \"background-image: linear-gradient(-90deg, \" + startColor + \", \" + finishColor + \")\"].join(\";\")\r\n        }.call(this, colorAsRgb, colorAsHex))\r\n    },\r\n    _renderAlphaChannelInput: function() {\r\n        var that = this;\r\n        var $alphaChannelInputCell = this._renderHtmlCellInsideRow(1, this._$colorPickerContainer);\r\n        that._alphaChannelInput = this._renderEditorWithLabel({\r\n            editorType: NumberBox,\r\n            value: this._currentColor.a,\r\n            max: 1,\r\n            step: .1,\r\n            onValueChanged: function(args) {\r\n                var value = args.value;\r\n                value = that._currentColor.isValidAlpha(value) ? value : that._currentColor.a;\r\n                args.event && that._saveValueChangeEvent(args.event);\r\n                that._updateColorTransparency(value);\r\n                that._placeAlphaChannelHandle()\r\n            },\r\n            labelClass: COLOR_VIEW_ALPHA_CHANNEL_LABEL_CLASS,\r\n            labelText: \"Alpha\",\r\n            labelAriaText: messageLocalization.format(\"dxColorView-ariaAlpha\")\r\n        }).appendTo($alphaChannelInputCell).find(\".dx-numberbox\").dxNumberBox(\"instance\")\r\n    },\r\n    _updateColorTransparency: function(transparency) {\r\n        this._currentColor.a = transparency;\r\n        this.applyColor()\r\n    },\r\n    _renderAlphaChannelHandle: function($parent) {\r\n        this._$alphaChannelHandle = $(\"<div>\").addClass(COLOR_VIEW_ALPHA_CHANNEL_HANDLE_CLASS).appendTo($parent);\r\n        this._createComponent(this._$alphaChannelHandle, Draggable, {\r\n            contentTemplate: null,\r\n            boundary: $parent,\r\n            allowMoveByClick: true,\r\n            dragDirection: \"horizontal\",\r\n            onDragMove: _ref3 => {\r\n                var {\r\n                    event: event\r\n                } = _ref3;\r\n                this._updateByDrag = true;\r\n                var $alphaChannelHandle = this._$alphaChannelHandle;\r\n                var alphaChannelHandlePosition = locate($alphaChannelHandle).left + this._alphaChannelHandleWidth / 2;\r\n                this._saveValueChangeEvent(event);\r\n                this._calculateColorTransparencyByScaleWidth(alphaChannelHandlePosition)\r\n            }\r\n        });\r\n        this._alphaChannelHandleWidth = getWidth(this._$alphaChannelHandle);\r\n        this._alphaChannelScaleWorkWidth = getWidth($parent) - this._alphaChannelHandleWidth;\r\n        this._placeAlphaChannelHandle()\r\n    },\r\n    _calculateColorTransparencyByScaleWidth: function(handlePosition) {\r\n        var transparency = (handlePosition - this._alphaChannelHandleWidth / 2) / this._alphaChannelScaleWorkWidth;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        transparency = rtlEnabled ? transparency : 1 - transparency;\r\n        if (handlePosition >= this._alphaChannelScaleWorkWidth + this._alphaChannelHandleWidth / 2) {\r\n            transparency = rtlEnabled ? 1 : 0\r\n        } else if (transparency < 1) {\r\n            transparency = transparency.toFixed(2)\r\n        }\r\n        var previousTransparency = this._alphaChannelInput.option(\"value\");\r\n        transparency = Math.max(transparency, 0);\r\n        transparency = Math.min(transparency, 1);\r\n        if (transparency === previousTransparency) {\r\n            this._updateByDrag = false\r\n        } else {\r\n            this._alphaChannelInput.option(\"value\", transparency)\r\n        }\r\n    },\r\n    _placeAlphaChannelHandle: function() {\r\n        var left = this._alphaChannelScaleWorkWidth * (1 - this._currentColor.a);\r\n        if (left < 0) {\r\n            left = 0\r\n        }\r\n        if (this._alphaChannelScaleWorkWidth < left) {\r\n            left = this._alphaChannelScaleWorkWidth\r\n        }\r\n        move(this._$alphaChannelHandle, {\r\n            left: this.option(\"rtlEnabled\") ? this._alphaChannelScaleWorkWidth - left : left\r\n        })\r\n    },\r\n    applyColor: function() {\r\n        var previousValue = this.option(\"value\");\r\n        var colorValue = this.option(\"editAlphaChannel\") ? this._makeRgba(this._currentColor) : this._currentColor.toHex();\r\n        this._makeTransparentBackground(this._$currentColor, this._currentColor);\r\n        if (colorValue === previousValue) {\r\n            this._updateByDrag = false\r\n        } else {\r\n            this.option(\"value\", colorValue)\r\n        }\r\n    },\r\n    cancelColor: function() {\r\n        this._initColorAndOpacity();\r\n        this._refreshMarkup()\r\n    },\r\n    _updateColor: function(isHex, args) {\r\n        var rgba;\r\n        var newColor;\r\n        if (isHex) {\r\n            newColor = this._validateHex(\"#\" + this._hexInput.option(\"value\"))\r\n        } else {\r\n            rgba = this._validateRgb();\r\n            if (this._alphaChannelInput) {\r\n                rgba.push(this._alphaChannelInput.option(\"value\"));\r\n                newColor = \"rgba(\" + rgba.join(\", \") + \")\"\r\n            } else {\r\n                newColor = \"rgb(\" + rgba.join(\", \") + \")\"\r\n            }\r\n        }\r\n        if (!this._suppressEditorsValueUpdating) {\r\n            this._currentColor = new Color(newColor);\r\n            this._saveValueChangeEvent(args.event);\r\n            this.applyColor();\r\n            this._refreshMarkup()\r\n        }\r\n    },\r\n    _validateHex: function(hex) {\r\n        return this._currentColor.isValidHex(hex) ? hex : this._currentColor.toHex()\r\n    },\r\n    _validateRgb: function() {\r\n        var r = this._rgbInputs[0].option(\"value\");\r\n        var g = this._rgbInputs[1].option(\"value\");\r\n        var b = this._rgbInputs[2].option(\"value\");\r\n        if (!this._currentColor.isValidRGB(r, g, b)) {\r\n            r = this._currentColor.r;\r\n            g = this._currentColor.g;\r\n            b = this._currentColor.b\r\n        }\r\n        return [r, g, b]\r\n    },\r\n    _refreshMarkup: function() {\r\n        this._placeHueScaleHandle();\r\n        this._placePaletteHandle();\r\n        this._updateColorParamsAndColorPreview();\r\n        this._$palette.css(\"backgroundColor\", this._currentColor.getPureColor().toHex());\r\n        if (this._$alphaChannelHandle) {\r\n            this._updateColorTransparency(this._currentColor.a);\r\n            this._placeAlphaChannelHandle()\r\n        }\r\n    },\r\n    _updateColorParamsAndColorPreview: function() {\r\n        this._suppressEditorsValueUpdating = true;\r\n        this._hexInput.option(\"value\", this._currentColor.toHex().replace(\"#\", \"\"));\r\n        this._rgbInputs[0].option(\"value\", this._currentColor.r);\r\n        this._rgbInputs[1].option(\"value\", this._currentColor.g);\r\n        this._rgbInputs[2].option(\"value\", this._currentColor.b);\r\n        this._suppressEditorsValueUpdating = false;\r\n        if (this.option(\"editAlphaChannel\")) {\r\n            this._makeCSSLinearGradient.call(this, this._$alphaChannelScale);\r\n            this._alphaChannelInput.option(\"value\", this._currentColor.a)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"value\":\r\n                this._setCurrentColor(value);\r\n                if (!this._updateByDrag) {\r\n                    this._refreshMarkup()\r\n                }\r\n                this._updateByDrag = false;\r\n                this.callBase(args);\r\n                break;\r\n            case \"matchValue\":\r\n                this._setBaseColor(value);\r\n                break;\r\n            case \"onEnterKeyPressed\":\r\n                this._initEnterKeyPressedAction();\r\n                break;\r\n            case \"editAlphaChannel\":\r\n                if (this._$colorPickerContainer) {\r\n                    this._renderHtmlRows(\"editAlphaChannel\");\r\n                    this._renderAlphaChannelElements()\r\n                }\r\n                break;\r\n            case \"keyStep\":\r\n                break;\r\n            case \"stylingMode\":\r\n                this._renderControls();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxColorView\", ColorView);\r\nexport default ColorView;\r\n"]},"metadata":{},"sourceType":"module"}