{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_date-filter-element.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.dateFilterElement = exports.cssDateFilterClassNames = void 0;\n\nvar _common_1 = require(\"../../../data/_common\");\n\nvar _format_helper_1 = require(\"../../../data/_format-helper\");\n\nvar _formatter_1 = require(\"../../../data/_formatter\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar _base_item_1 = require(\"../_base-item\");\n\nvar date_filter_widget_1 = require(\"./date-filter-widget\");\n\nexports.cssDateFilterClassNames = {\n  item: 'dx-dashboard-date-filter-item'\n};\n\nvar dateFilterElement = function (_super) {\n  __extends(dateFilterElement, _super);\n\n  function dateFilterElement(container, options) {\n    return _super.call(this, container, options) || this;\n  }\n\n  Object.defineProperty(dateFilterElement.prototype, \"_allowPreview\", {\n    get: function () {\n      return true;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  dateFilterElement.prototype._getMinContentHeight = function () {\n    if (this.widget && this._isFixedHeight) return this.widget._getHeight();\n    return 0;\n  };\n\n  dateFilterElement.prototype.renderContentUnsafe = function (element, changeExisting, afterRenderCallback) {\n    _super.prototype.renderContentUnsafe.call(this, element, changeExisting, afterRenderCallback);\n\n    var isFirstInitialization = !changeExisting || !this.widget;\n    if (isFirstInitialization) this.widget = new date_filter_widget_1.DateFilterWidget(element, {\n      useNativeScrolling: this.options.useNativeScrolling,\n      overflow: this.options.overflow\n    }, this._getBoundaryContainer());\n    var options = this.getWidgetOptions();\n\n    this._lock();\n\n    this.widget._update(options);\n\n    this._unlock();\n\n    this.widget._updateSize(_jquery_helpers_1.getWidth(this.contentRoot), _jquery_helpers_1.getHeight(this.contentRoot));\n\n    this._isFixedHeight = options.arrangementMode === 'AutoHeight';\n    this.timePeriodMenuSelectedIndex = this.options.ViewModel.SelectedPeriodIndex;\n\n    this._applySelectionToWidget();\n\n    return false;\n  };\n\n  dateFilterElement.prototype.getInfoUnsafe = function () {\n    return __assign(__assign({}, _super.prototype.getInfoUnsafe.call(this)), {\n      selectedPeriodName: this._getCurrentPredefinedRange()\n    });\n  };\n\n  dateFilterElement.prototype._setSelectionUnsafe = function (values) {\n    _super.prototype._setSelectionUnsafe.call(this, values);\n\n    this._applySelectionToWidget();\n  };\n\n  dateFilterElement.prototype._clearSelectionUnsafe = function () {\n    _super.prototype._clearSelectionUnsafe.call(this);\n\n    if (this.widget) {\n      this.timePeriodMenuSelectedIndex = undefined;\n\n      this._clearSelectedValues();\n    }\n  };\n\n  dateFilterElement.prototype._initializeData = function (newOptions) {\n    _super.prototype._initializeData.call(this, newOptions);\n\n    if (this.options) {\n      this.options.allowExport = false;\n    }\n  };\n\n  dateFilterElement.prototype._clearSelectedValues = function () {\n    this._lock();\n\n    this.widget._clearSelectedValues();\n\n    this._unlock();\n  };\n\n  dateFilterElement.prototype._applySelectionToWidget = function () {\n    var _this = this;\n\n    this._lock();\n\n    if (this.timePeriodMenuSelectedIndex !== undefined) {\n      this.widget._setPeriod(this.timePeriodMenuSelectedIndex);\n    } else {\n      var selectedValues = this.options.SelectedValues && this.options.SelectedValues[0] && this.options.SelectedValues[0].map(function (v) {\n        return _this._convertSelectedValues(v);\n      });\n\n      this.widget._setSelectedValues(selectedValues);\n    }\n\n    this._unlock();\n\n    this.updateConstraints();\n  };\n\n  dateFilterElement.prototype.getWidgetOptions = function () {\n    var _this = this;\n\n    var multiData = this.options.multiData;\n    var filterViewModel = this.options.ViewModel;\n\n    var getValue = function (name) {\n      return multiData && multiData.getMeasureValue(name).getValue();\n    };\n\n    return {\n      filterType: filterViewModel.FilterType,\n      arrangementMode: filterViewModel.ArrangementMode,\n      datePickerLocation: filterViewModel.DatePickerLocation,\n      displayTextPattern: filterViewModel.DisplayTextPattern,\n      groupInterval: filterViewModel.GroupInterval,\n      format: function (value) {\n        var valueToFormat = value;\n        if (filterViewModel.GroupInterval === 'Year') valueToFormat = _this._ensureYearValue(valueToFormat);\n        return _format_helper_1.formatHelper.format(valueToFormat, _formatter_1.convertToFormat({\n          DateTimeFormat: filterViewModel.DateTimeFormat\n        }));\n      },\n      buttonClick: function (name) {\n        if (!_this._isLocked()) {\n          for (var i = 0; i < filterViewModel.DateTimePeriods.length; i++) {\n            if (name === filterViewModel.DateTimePeriods[i].Name && name !== _this._getCurrentPredefinedRange()) {\n              _this.predefinedRangeChanged && _this.predefinedRangeChanged(name);\n              break;\n            }\n          }\n        }\n      },\n      buttonsInfo: filterViewModel.DateTimePeriods.map(function (period) {\n        return period.Name;\n      }),\n      valueChanged: function (values) {\n        if (!_this._isLocked()) _this.selected.fire(_this.getName(), _common_1.viewerActions.setMasterFilter, [values]);\n      },\n      minimum: getValue(filterViewModel.MinimumId),\n      maximum: getValue(filterViewModel.MaximumId),\n      clearAction: function () {\n        return _this.clearMasterFilter.fire(_this.getName());\n      },\n      hasOuterMargin: !this._isPaneEmpty() || this.visualMode === 'content',\n      mobileLayout: this._mobileLayout()\n    };\n  };\n\n  dateFilterElement.prototype._mobileLayout = function () {\n    return false;\n  };\n\n  dateFilterElement.prototype._convertSelectedValues = function (value) {\n    return value != null && this.options.ViewModel.GroupInterval == 'Year' && typeof value === 'number' ? new Date(value, 0, 1) : value;\n  };\n\n  dateFilterElement.prototype._getCurrentPredefinedRange = function () {\n    return this.timePeriodMenuSelectedIndex !== undefined ? this.options.ViewModel.DateTimePeriods[this.timePeriodMenuSelectedIndex].Name : '';\n  };\n\n  dateFilterElement.prototype._setPredefinedRange = function (dateTimePeriodName) {\n    if (dateTimePeriodName) {\n      var dateTimePeriods = this.options.ViewModel.DateTimePeriods;\n      var period = dateTimePeriods.filter(function (dateTimePeriod) {\n        return dateTimePeriod.Name === dateTimePeriodName;\n      })[0];\n\n      if (period) {\n        var index = dateTimePeriods.indexOf(period);\n        this.timePeriodMenuSelectedIndex = index;\n\n        this._applySelectionToWidget();\n      }\n    } else {\n      this.timePeriodMenuSelectedIndex = undefined;\n    }\n  };\n\n  dateFilterElement.prototype._ensureYearValue = function (value) {\n    return value instanceof Date ? value.getFullYear() : value;\n  };\n\n  dateFilterElement.prototype._updateContentSizeUnsafe = function () {\n    _super.prototype._updateContentSizeUnsafe.call(this);\n\n    var newContentWidth = _jquery_helpers_1.getWidth(this.contentRoot),\n        newContentHeight = _jquery_helpers_1.getHeight(this.contentRoot);\n\n    if (this.options.ViewModel.ArrangementMode === 'AutoHeight') {\n      var oldMinContentHeight = this._getMinContentHeight();\n\n      this.widget._updateSize(newContentWidth, newContentHeight);\n\n      var newMinContentHeight = this._getMinContentHeight();\n\n      if (oldMinContentHeight && oldMinContentHeight !== newMinContentHeight) {\n        this.updateConstraints();\n      }\n    } else this.widget._updateSize(newContentWidth, newContentHeight);\n  };\n\n  dateFilterElement.prototype._getWidget = function () {\n    return this.widget;\n  };\n\n  dateFilterElement.prototype._isBorderRequired = function () {\n    return false;\n  };\n\n  dateFilterElement.prototype._isPaneEmpty = function () {\n    return _super.prototype._isPaneEmpty.call(this) || !this.hasCaption();\n  };\n\n  dateFilterElement.prototype._isTransparentBackground = function () {\n    return this._isPaneEmpty() && this.visualMode !== 'content';\n  };\n\n  dateFilterElement.prototype._generateInnerBorderClassesUnsafe = function (element) {\n    var classes = _super.prototype._generateInnerBorderClassesUnsafe.call(this, element);\n\n    if (!this._isPaneEmpty()) {\n      classes.push(exports.cssDateFilterClassNames.item);\n    }\n\n    if (element) {\n      if (this._isPaneEmpty()) {\n        element.classList.remove(exports.cssDateFilterClassNames.item);\n      } else {\n        element.classList.add(exports.cssDateFilterClassNames.item);\n      }\n    }\n\n    return classes;\n  };\n\n  dateFilterElement.prototype.dispose = function () {\n    if (this.widget) {\n      this.widget.dispose();\n    }\n\n    _super.prototype.dispose.call(this);\n  };\n\n  dateFilterElement.MinMeasureId = 'DateFilterMin';\n  dateFilterElement.MaxMeasureId = 'DateFilterMax';\n  return dateFilterElement;\n}(_base_item_1.baseItem);\n\nexports.dateFilterElement = dateFilterElement;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/viewer-items/filter-items/_date-filter-element.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","defineProperty","exports","value","dateFilterElement","cssDateFilterClassNames","_common_1","require","_format_helper_1","_formatter_1","_jquery_helpers_1","_base_item_1","date_filter_widget_1","item","_super","container","options","get","enumerable","configurable","_getMinContentHeight","widget","_isFixedHeight","_getHeight","renderContentUnsafe","element","changeExisting","afterRenderCallback","isFirstInitialization","DateFilterWidget","useNativeScrolling","overflow","_getBoundaryContainer","getWidgetOptions","_lock","_update","_unlock","_updateSize","getWidth","contentRoot","getHeight","arrangementMode","timePeriodMenuSelectedIndex","ViewModel","SelectedPeriodIndex","_applySelectionToWidget","getInfoUnsafe","selectedPeriodName","_getCurrentPredefinedRange","_setSelectionUnsafe","values","_clearSelectionUnsafe","undefined","_clearSelectedValues","_initializeData","newOptions","allowExport","_this","_setPeriod","selectedValues","SelectedValues","map","v","_convertSelectedValues","_setSelectedValues","updateConstraints","multiData","filterViewModel","getValue","name","getMeasureValue","filterType","FilterType","ArrangementMode","datePickerLocation","DatePickerLocation","displayTextPattern","DisplayTextPattern","groupInterval","GroupInterval","format","valueToFormat","_ensureYearValue","formatHelper","convertToFormat","DateTimeFormat","buttonClick","_isLocked","DateTimePeriods","Name","predefinedRangeChanged","buttonsInfo","period","valueChanged","selected","fire","getName","viewerActions","setMasterFilter","minimum","MinimumId","maximum","MaximumId","clearAction","clearMasterFilter","hasOuterMargin","_isPaneEmpty","visualMode","mobileLayout","_mobileLayout","Date","_setPredefinedRange","dateTimePeriodName","dateTimePeriods","filter","dateTimePeriod","index","indexOf","getFullYear","_updateContentSizeUnsafe","newContentWidth","newContentHeight","oldMinContentHeight","newMinContentHeight","_getWidget","_isBorderRequired","hasCaption","_isTransparentBackground","_generateInnerBorderClassesUnsafe","classes","push","classList","remove","add","dispose","MinMeasureId","MaxMeasureId","baseItem"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_date-filter-element.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.dateFilterElement = exports.cssDateFilterClassNames = void 0;\nvar _common_1 = require(\"../../../data/_common\");\nvar _format_helper_1 = require(\"../../../data/_format-helper\");\nvar _formatter_1 = require(\"../../../data/_formatter\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar _base_item_1 = require(\"../_base-item\");\nvar date_filter_widget_1 = require(\"./date-filter-widget\");\nexports.cssDateFilterClassNames = {\n    item: 'dx-dashboard-date-filter-item'\n};\nvar dateFilterElement = (function (_super) {\n    __extends(dateFilterElement, _super);\n    function dateFilterElement(container, options) {\n        return _super.call(this, container, options) || this;\n    }\n    Object.defineProperty(dateFilterElement.prototype, \"_allowPreview\", {\n        get: function () {\n            return true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    dateFilterElement.prototype._getMinContentHeight = function () {\n        if (this.widget && this._isFixedHeight)\n            return this.widget._getHeight();\n        return 0;\n    };\n    dateFilterElement.prototype.renderContentUnsafe = function (element, changeExisting, afterRenderCallback) {\n        _super.prototype.renderContentUnsafe.call(this, element, changeExisting, afterRenderCallback);\n        var isFirstInitialization = !changeExisting || !this.widget;\n        if (isFirstInitialization)\n            this.widget = new date_filter_widget_1.DateFilterWidget(element, { useNativeScrolling: this.options.useNativeScrolling, overflow: this.options.overflow }, this._getBoundaryContainer());\n        var options = this.getWidgetOptions();\n        this._lock();\n        this.widget._update(options);\n        this._unlock();\n        this.widget._updateSize(_jquery_helpers_1.getWidth(this.contentRoot), _jquery_helpers_1.getHeight(this.contentRoot));\n        this._isFixedHeight = options.arrangementMode === 'AutoHeight';\n        this.timePeriodMenuSelectedIndex = this.options.ViewModel.SelectedPeriodIndex;\n        this._applySelectionToWidget();\n        return false;\n    };\n    dateFilterElement.prototype.getInfoUnsafe = function () {\n        return __assign(__assign({}, _super.prototype.getInfoUnsafe.call(this)), { selectedPeriodName: this._getCurrentPredefinedRange() });\n    };\n    dateFilterElement.prototype._setSelectionUnsafe = function (values) {\n        _super.prototype._setSelectionUnsafe.call(this, values);\n        this._applySelectionToWidget();\n    };\n    dateFilterElement.prototype._clearSelectionUnsafe = function () {\n        _super.prototype._clearSelectionUnsafe.call(this);\n        if (this.widget) {\n            this.timePeriodMenuSelectedIndex = undefined;\n            this._clearSelectedValues();\n        }\n    };\n    dateFilterElement.prototype._initializeData = function (newOptions) {\n        _super.prototype._initializeData.call(this, newOptions);\n        if (this.options) {\n            this.options.allowExport = false;\n        }\n    };\n    dateFilterElement.prototype._clearSelectedValues = function () {\n        this._lock();\n        this.widget._clearSelectedValues();\n        this._unlock();\n    };\n    dateFilterElement.prototype._applySelectionToWidget = function () {\n        var _this = this;\n        this._lock();\n        if (this.timePeriodMenuSelectedIndex !== undefined) {\n            this.widget._setPeriod(this.timePeriodMenuSelectedIndex);\n        }\n        else {\n            var selectedValues = this.options.SelectedValues && this.options.SelectedValues[0] && this.options.SelectedValues[0].map(function (v) { return _this._convertSelectedValues(v); });\n            this.widget._setSelectedValues(selectedValues);\n        }\n        this._unlock();\n        this.updateConstraints();\n    };\n    dateFilterElement.prototype.getWidgetOptions = function () {\n        var _this = this;\n        var multiData = this.options.multiData;\n        var filterViewModel = this.options.ViewModel;\n        var getValue = function (name) {\n            return multiData && multiData.getMeasureValue(name).getValue();\n        };\n        return {\n            filterType: filterViewModel.FilterType,\n            arrangementMode: filterViewModel.ArrangementMode,\n            datePickerLocation: filterViewModel.DatePickerLocation,\n            displayTextPattern: filterViewModel.DisplayTextPattern,\n            groupInterval: filterViewModel.GroupInterval,\n            format: function (value) {\n                var valueToFormat = value;\n                if (filterViewModel.GroupInterval === 'Year')\n                    valueToFormat = _this._ensureYearValue(valueToFormat);\n                return _format_helper_1.formatHelper.format(valueToFormat, _formatter_1.convertToFormat({ DateTimeFormat: filterViewModel.DateTimeFormat }));\n            },\n            buttonClick: function (name) {\n                if (!_this._isLocked()) {\n                    for (var i = 0; i < filterViewModel.DateTimePeriods.length; i++) {\n                        if (name === filterViewModel.DateTimePeriods[i].Name && (name !== _this._getCurrentPredefinedRange())) {\n                            _this.predefinedRangeChanged && _this.predefinedRangeChanged(name);\n                            break;\n                        }\n                    }\n                }\n            },\n            buttonsInfo: filterViewModel.DateTimePeriods.map(function (period) { return period.Name; }),\n            valueChanged: function (values) {\n                if (!_this._isLocked())\n                    _this.selected.fire(_this.getName(), _common_1.viewerActions.setMasterFilter, [values]);\n            },\n            minimum: getValue(filterViewModel.MinimumId),\n            maximum: getValue(filterViewModel.MaximumId),\n            clearAction: function () { return _this.clearMasterFilter.fire(_this.getName()); },\n            hasOuterMargin: !this._isPaneEmpty() || this.visualMode === 'content',\n            mobileLayout: this._mobileLayout()\n        };\n    };\n    dateFilterElement.prototype._mobileLayout = function () {\n        return false;\n    };\n    dateFilterElement.prototype._convertSelectedValues = function (value) {\n        return value != null && this.options.ViewModel.GroupInterval == 'Year' && typeof value === 'number' ? new Date(value, 0, 1) : value;\n    };\n    dateFilterElement.prototype._getCurrentPredefinedRange = function () {\n        return this.timePeriodMenuSelectedIndex !== undefined ? this.options.ViewModel.DateTimePeriods[this.timePeriodMenuSelectedIndex].Name : '';\n    };\n    dateFilterElement.prototype._setPredefinedRange = function (dateTimePeriodName) {\n        if (dateTimePeriodName) {\n            var dateTimePeriods = this.options.ViewModel.DateTimePeriods;\n            var period = dateTimePeriods.filter(function (dateTimePeriod) { return dateTimePeriod.Name === dateTimePeriodName; })[0];\n            if (period) {\n                var index = dateTimePeriods.indexOf(period);\n                this.timePeriodMenuSelectedIndex = index;\n                this._applySelectionToWidget();\n            }\n        }\n        else {\n            this.timePeriodMenuSelectedIndex = undefined;\n        }\n    };\n    dateFilterElement.prototype._ensureYearValue = function (value) {\n        return value instanceof Date ? value.getFullYear() : value;\n    };\n    dateFilterElement.prototype._updateContentSizeUnsafe = function () {\n        _super.prototype._updateContentSizeUnsafe.call(this);\n        var newContentWidth = _jquery_helpers_1.getWidth(this.contentRoot), newContentHeight = _jquery_helpers_1.getHeight(this.contentRoot);\n        if (this.options.ViewModel.ArrangementMode === 'AutoHeight') {\n            var oldMinContentHeight = this._getMinContentHeight();\n            this.widget._updateSize(newContentWidth, newContentHeight);\n            var newMinContentHeight = this._getMinContentHeight();\n            if (oldMinContentHeight && oldMinContentHeight !== newMinContentHeight) {\n                this.updateConstraints();\n            }\n        }\n        else\n            this.widget._updateSize(newContentWidth, newContentHeight);\n    };\n    dateFilterElement.prototype._getWidget = function () {\n        return this.widget;\n    };\n    dateFilterElement.prototype._isBorderRequired = function () {\n        return false;\n    };\n    dateFilterElement.prototype._isPaneEmpty = function () {\n        return _super.prototype._isPaneEmpty.call(this) || !this.hasCaption();\n    };\n    dateFilterElement.prototype._isTransparentBackground = function () {\n        return this._isPaneEmpty() && this.visualMode !== 'content';\n    };\n    dateFilterElement.prototype._generateInnerBorderClassesUnsafe = function (element) {\n        var classes = _super.prototype._generateInnerBorderClassesUnsafe.call(this, element);\n        if (!this._isPaneEmpty()) {\n            classes.push(exports.cssDateFilterClassNames.item);\n        }\n        if (element) {\n            if (this._isPaneEmpty()) {\n                element.classList.remove(exports.cssDateFilterClassNames.item);\n            }\n            else {\n                element.classList.add(exports.cssDateFilterClassNames.item);\n            }\n        }\n        return classes;\n    };\n    dateFilterElement.prototype.dispose = function () {\n        if (this.widget) {\n            this.widget.dispose();\n        }\n        _super.prototype.dispose.call(this);\n    };\n    dateFilterElement.MinMeasureId = 'DateFilterMin';\n    dateFilterElement.MaxMeasureId = 'DateFilterMax';\n    return dateFilterElement;\n}(_base_item_1.baseItem));\nexports.dateFilterElement = dateFilterElement;\n"]},"metadata":{},"sourceType":"script"}