{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_chart-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) to[j] = from[i];\n\n  return to;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.chartItem = void 0;\n\nvar chart_1 = require(\"devextreme/viz/chart\");\n\nvar item_data_axis_names_1 = require(\"../../data/item-data/item-data-axis-names\");\n\nvar _chart_helper_1 = require(\"../../data/_chart-helper\");\n\nvar _common_1 = require(\"../../data/_common\");\n\nvar _format_helper_1 = require(\"../../data/_format-helper\");\n\nvar _formatter_1 = require(\"../../data/_formatter\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar _selection_helper_1 = require(\"../../data/_selection-helper\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar _z_index_1 = require(\"../../data/_z-index\");\n\nvar _chart_item_style_settings_provider_1 = require(\"../conditional-formatting/_chart-item-style-settings-provider\");\n\nvar _render_helper_1 = require(\"../widgets/_render-helper\");\n\nvar _dx_devextreme_themes_integration_1 = require(\"../_dx-devextreme-themes-integration\");\n\nvar _base_item_1 = require(\"./_base-item\");\n\nvar chartItem = function (_super) {\n  __extends(chartItem, _super);\n\n  function chartItem(container, options) {\n    var _this = _super.call(this, container, options) || this;\n\n    _this.itemElementCustomColor = _jquery_helpers_1.createJQueryCallbacks();\n    return _this;\n  }\n\n  Object.defineProperty(chartItem.prototype, \"dataController\", {\n    get: function () {\n      return this._dataController;\n    },\n    set: function (dataController) {\n      this._dataController = dataController;\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  chartItem.prototype.dispose = function () {\n    _super.prototype.dispose.call(this);\n\n    this.chartViewer && this.chartViewer.dispose();\n  };\n\n  chartItem.prototype._initializeData = function (newOptions) {\n    var _this = this;\n\n    _super.prototype._initializeData.call(this, newOptions);\n\n    this._styleSettingsProvider = new _chart_item_style_settings_provider_1.СhartItemStyleSettingsProvider();\n\n    this._styleSettingsProvider.initialize(this.options.ConditionalFormattingModel);\n\n    if (this.dataController) {\n      this._dataController.elementCustomColor = function (e) {\n        return _this._elementCustomColor(e);\n      };\n\n      this._dataController.styleSettingsProvider = this._styleSettingsProvider;\n    }\n  };\n\n  chartItem.prototype._clearSelectionUnsafe = function () {\n    this.chartViewer.clearSelection();\n  };\n\n  chartItem.prototype.selectTupleUnsafe = function (tuple, state) {\n    _selection_helper_1.selectionHelper.setSelectedPoint(this.chartViewer, _utils_1.getAxisPointValue(tuple, item_data_axis_names_1.itemDataAxisNames.chartSeriesAxis), _utils_1.getAxisPointValue(tuple, item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis), state);\n  };\n\n  chartItem.prototype._setSelectionUnsafe = function (values) {\n    _super.prototype._setSelectionUnsafe.call(this, values);\n\n    this.clearSelection();\n\n    this._applySelection();\n  };\n\n  chartItem.prototype.updateContentStateUnsafe = function () {\n    if (this._getCustomHoverEnabled()) {\n      var hoverMode = null,\n          targetAxes = this._getTargetAxes();\n\n      if (targetAxes.length == 1) {\n        if (targetAxes[0] == item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis) hoverMode = _chart_helper_1.chartHelper.SelectionMode.Argument;else hoverMode = _chart_helper_1.chartHelper.SelectionMode.Series;\n      } else if (targetAxes.length == 2) {\n        hoverMode = _chart_helper_1.chartHelper.SelectionMode.Points;\n      }\n\n      this.chartViewer.option('commonSeriesSettings.hoverMode', this._convertHoverMode(hoverMode));\n      this.chartViewer.option('commonSeriesSettings.point.hoverMode', this._convertPointHoverMode(hoverMode));\n    }\n  };\n\n  chartItem.prototype.renderContentUnsafe = function (element, changeExisting, afterRenderCallback) {\n    var opts = this._getViewOptions();\n\n    if (changeExisting && this.chartViewer) {\n      switch (this.options.ContentType) {\n        case _common_1.contentType.viewModel:\n          break;\n\n        default:\n          _jquery_helpers_1.deepExtend(opts, this._getCommonOptions());\n\n          break;\n      }\n\n      this._raiseItemWidgetOptionsPrepared(opts);\n\n      this.chartViewer.option(opts);\n    } else {\n      var options = __assign(__assign({}, opts), this._getCommonOptions());\n\n      this._raiseItemWidgetOptionsPrepared(options);\n\n      this.chartViewer = new chart_1.default(element, options);\n    }\n\n    return false;\n  };\n\n  chartItem.prototype.getInfoUnsafe = function () {\n    var info = _super.prototype.getInfoUnsafe.call(this);\n\n    var zoomAndPanMode = this.chartViewer.option('zoomAndPan');\n\n    if (zoomAndPanMode && (zoomAndPanMode === 'both' || zoomAndPanMode === 'pan')) {\n      var viewport = this.chartViewer.getVisibleArgumentBounds();\n      info = _jquery_helpers_1.deepExtend(info, {\n        chartViewport: {\n          min: this._dataController.getArgumentUniquePath(viewport.minVisible),\n          max: this._dataController.getArgumentUniquePath(viewport.maxVisible)\n        }\n      });\n    }\n\n    return info;\n  };\n\n  chartItem.prototype._elementCustomColor = function (eventArgs) {\n    this.itemElementCustomColor.fire(this.getName(), eventArgs);\n  };\n\n  chartItem.prototype._getZoomAndPanOption = function (viewModel) {\n    var zoomAndPanOptions = {\n      argumentAxis: 'none'\n    };\n\n    if (viewModel.AxisX.EnableZooming) {\n      zoomAndPanOptions.argumentAxis = 'both';\n    } else if (viewModel.AxisX.LimitVisiblePoints) {\n      zoomAndPanOptions.argumentAxis = 'pan';\n    }\n\n    return zoomAndPanOptions;\n  };\n\n  chartItem.prototype._getViewOptions = function () {\n    var _this = this;\n\n    var viewModel = this.options ? this.options.ViewModel : undefined;\n    if (!viewModel) return {};\n    var that = this;\n    var forceShowPointMarkers = viewModel.Panes.reduce(function (seriesTemplates, pane) {\n      return __spreadArray(__spreadArray([], seriesTemplates), pane.SeriesTemplates);\n    }, []).reduce(function (forceShow, seriesTemplate) {\n      return forceShow || seriesTemplate.ForceShowPointMarkers;\n    }, false);\n\n    var dataSourceAndSeries = that._dataController.getDataSourceAndSeries(that._isEncodeHtml()),\n        panes = viewModel.Panes,\n        isSelectable = that.isInteractivityActionEnabled(),\n        seriesFormats = {},\n        isDiscreteArgument = that._dataController.isDiscreteArgument(),\n        argumentAxisLabelFormat = that._dataController.getAxisXFormat(),\n        rotated = viewModel.Rotated,\n        axisGridColor = _dx_devextreme_themes_integration_1.getBaseColorScheme() === 'light' ? '#d3d3d3' : '#555555',\n        isOverlappingModeHide = function () {\n      var isHideMode = false;\n      panes.forEach(function (pane) {\n        pane.SeriesTemplates.forEach(function (seriesTemplate) {\n          if (seriesTemplate.PointLabel) {\n            var pointLabelsEnabled = that._dataController.checkSeriesTemplatePointLabels(seriesTemplate);\n\n            if (pointLabelsEnabled && (seriesTemplate.PointLabel.OverlappingMode == 'Hide' || seriesTemplate.PointLabel.OverlappingMode == 'Reposition')) isHideMode = true;\n          }\n        });\n      });\n      return isHideMode;\n    },\n        configureLogarithmicOptions = function (axis, axisModel) {\n      if (axisModel.Logarithmic) {\n        axis.type = 'logarithmic';\n        axis.logarithmBase = axisModel.LogarithmicBase;\n      }\n    },\n        customizeTextProc = function (isPercentAxis, isScientificAxis, customFormat) {\n      return function () {\n        if (customFormat != null) return _format_helper_1.formatHelper.format(this.value, _formatter_1.convertToFormat({\n          NumericFormat: customFormat\n        }));\n        if (isPercentAxis) return _formatter_1.formatPercentValue(this.value);\n        if (isScientificAxis) return _formatter_1.formatScientificAxisValue(this.value);\n        return _formatter_1.formatAxisValue(this.value, this.min, this.max);\n      };\n    },\n        options = {\n      panes: [],\n      valueAxis: [],\n      rotated: rotated,\n      zoomAndPan: this._getZoomAndPanOption(viewModel),\n      resizePanesOnZoom: true,\n      scrollBar: {\n        visible: viewModel.AxisX.EnableZooming || viewModel.AxisX.LimitVisiblePoints,\n        position: 'bottom'\n      },\n      autoHidePointMarkers: !forceShowPointMarkers\n    };\n\n    options.resolveLabelsOverlapping = isOverlappingModeHide();\n    options.disableTwoWayBinding = true;\n    options.resolveLabelOverlapping = isOverlappingModeHide() ? 'hide' : 'none';\n    panes.forEach(function (pane, index) {\n      var paneName = that._dataController.generatePaneName(pane.Name, index),\n          isPrimaryAxisInPercentFormat = that._isAxisInPercentFormat(pane, false),\n          isPrimaryAxisInScientificFormat = that._isAxisInScientificFormat(pane, false),\n          isSecondaryAxisInPercentFormat = that._isAxisInPercentFormat(pane, true),\n          isSecondaryAxisInScientificFormat = that._isAxisInScientificFormat(pane, true);\n\n      seriesFormats[paneName] = {};\n      options.panes.push({\n        name: paneName\n      });\n      var axis = {\n        name: paneName + 'primary',\n        position: rotated ? 'bottom' : 'left',\n        pane: paneName,\n        inverted: pane.PrimaryAxisY.Reverse,\n        color: axisGridColor,\n        tick: {\n          visible: false\n        },\n        minorTick: {\n          visible: false\n        },\n        label: {\n          visible: pane.PrimaryAxisY.Visible,\n          customizeText: customizeTextProc(isPrimaryAxisInPercentFormat, isPrimaryAxisInScientificFormat, pane.PrimaryAxisY.Format && pane.PrimaryAxisY.Format.NumericFormat)\n        },\n        title: {\n          text: pane.PrimaryAxisY.Visible ? pane.PrimaryAxisY.Title : null\n        },\n        visible: pane.PrimaryAxisY.Visible,\n        grid: {\n          visible: pane.PrimaryAxisY.ShowGridLines\n        },\n        showZero: pane.PrimaryAxisY.ShowZeroLevel\n      };\n      configureLogarithmicOptions(axis, pane.PrimaryAxisY);\n      options.valueAxis.push(axis);\n\n      if (pane.SecondaryAxisY) {\n        var axis_1 = {\n          name: paneName + 'secondary',\n          position: rotated ? 'top' : 'right',\n          pane: paneName,\n          inverted: pane.SecondaryAxisY.Reverse,\n          color: axisGridColor,\n          tick: {\n            visible: false\n          },\n          minorTick: {\n            visible: false\n          },\n          label: {\n            visible: pane.SecondaryAxisY.Visible,\n            customizeText: customizeTextProc(isSecondaryAxisInPercentFormat, isSecondaryAxisInScientificFormat, pane.SecondaryAxisY.Format && pane.SecondaryAxisY.Format.NumericFormat)\n          },\n          title: {\n            text: pane.SecondaryAxisY.Visible ? pane.SecondaryAxisY.Title : null\n          },\n          visible: pane.SecondaryAxisY.Visible,\n          grid: {\n            visible: pane.SecondaryAxisY.ShowGridLines\n          },\n          showZero: pane.SecondaryAxisY.ShowZeroLevel\n        };\n        configureLogarithmicOptions(axis_1, pane.SecondaryAxisY);\n        options.valueAxis.push(axis_1);\n      }\n    });\n\n    if (rotated) {\n      options.panes.reverse();\n    }\n\n    options.commonSeriesSettings = {\n      hoverMode: isSelectable ? that._convertHoverMode(viewModel.SelectionMode) : 'none',\n      point: {\n        visible: false,\n        hoverMode: isSelectable ? that._convertPointHoverMode(viewModel.SelectionMode) : 'none'\n      },\n      stackedbar: {\n        label: {\n          backgroundColor: 'none'\n        }\n      }\n    };\n    var zoomArguments = that._dataController ? that._dataController.getZoomArguments() : null;\n    options.argumentAxis = {\n      argumentType: null,\n      inverted: viewModel.AxisX.Reverse,\n      color: axisGridColor,\n      tick: {\n        visible: false\n      },\n      minorTick: {\n        visible: false\n      },\n      label: {\n        visible: viewModel.AxisX.Visible,\n        overlappingBehavior: !viewModel.Argument.IsOrderedDiscrete && isDiscreteArgument ? 'auto' : 'hide',\n        customizeText: function (argument) {\n          return that._dataController.getAxisXLabelText(argument);\n        }\n      },\n      title: {\n        text: viewModel.AxisX.Visible ? viewModel.AxisX.Title : null\n      },\n      grid: {\n        visible: viewModel.AxisX.ShowGridLines\n      },\n      visible: viewModel.AxisX.Visible,\n      valueMarginsEnabled: _chart_helper_1.chartHelper.allowArgumentAxisMargins(panes),\n      tickInterval: null,\n      visualRange: zoomArguments ? [zoomArguments.start, zoomArguments.end] : [null, null]\n    };\n    configureLogarithmicOptions(options.argumentAxis, viewModel.AxisX);\n\n    if (isDiscreteArgument) {\n      options.argumentAxis.type = 'discrete';\n      options.argumentAxis.argumentType = 'string';\n    } else {\n      if (options.argumentAxis.type === undefined) options.argumentAxis.type = 'continuous';\n    }\n\n    options.dataPrepareSettings = {\n      sortingMethod: false\n    };\n\n    if (argumentAxisLabelFormat && !(viewModel.Argument && viewModel.Argument.IsContinuousDateTimeScale)) {\n      options.argumentAxis.axisDivisionFactor = 70;\n\n      switch (argumentAxisLabelFormat.format) {\n        case 'monthYear':\n          options.argumentAxis.tickInterval = 'month';\n          options.argumentAxis.label.minSpacing = 10;\n          break;\n\n        case 'dayMonthYear':\n          options.argumentAxis.tickInterval = 'day';\n          options.argumentAxis.label.minSpacing = 10;\n          break;\n\n        case 'quarterYear':\n          options.argumentAxis.tickInterval = 'quarter';\n          options.argumentAxis.label.minSpacing = 10;\n          break;\n\n        case 'dateHour':\n          options.argumentAxis.tickInterval = 'hour';\n          options.argumentAxis.label.minSpacing = 10;\n          break;\n\n        case 'dateHourMinute':\n          options.argumentAxis.tickInterval = 'minute';\n          options.argumentAxis.label.minSpacing = 10;\n          break;\n\n        case 'dateHourMinuteSecond':\n          options.argumentAxis.tickInterval = 'second';\n          options.argumentAxis.label.minSpacing = 10;\n          break;\n\n        case 'weekYear':\n          options.argumentAxis.workWeek = [argumentAxisLabelFormat.firstDayOfWeek];\n          options.argumentAxis.tickInterval = 'week';\n          options.argumentAxis.label.minSpacing = 10;\n          break;\n\n        default:\n          options.argumentAxis.tickInterval = null;\n          break;\n      }\n    }\n\n    if (viewModel.Legend) {\n      var legendParams = viewModel.Legend.IsInsideDiagram ? _chart_helper_1.chartHelper.convertLegendInsidePosition(viewModel.Legend.InsidePosition) : _chart_helper_1.chartHelper.convertLegendOutsidePosition(viewModel.Legend.OutsidePosition);\n      legendParams.border = {\n        visible: viewModel.Legend.IsInsideDiagram\n      };\n      options.legend = __assign(__assign({}, legendParams), {\n        position: viewModel.Legend.IsInsideDiagram ? 'inside' : 'outside',\n        visible: viewModel.Legend.Visible,\n        itemTextPosition: 'right',\n        customizeText: function (args) {\n          return _this._dataController.getLegendSeriesDisplayName(args.seriesName);\n        }\n      });\n      if (viewModel.Legend.IsInsideDiagram) options.legend.margin = 10;\n    }\n\n    return _jquery_helpers_1.deepExtend(dataSourceAndSeries, options);\n  };\n\n  chartItem.prototype._getCommonOptions = function () {\n    var that = this,\n        animation = that._getAnimationOptions(),\n        options = {\n      sortSeriesPointsByAxis: true,\n      redrawOnResize: false,\n      pointSelectionMode: 'multiple',\n      seriesSelectionMode: 'multiple',\n      palette: _render_helper_1.RenderHelper.getDefaultPalette(),\n      encodeHtml: that._isEncodeHtml(),\n      onIncidentOccurred: function (e) {\n        if (e['target'].id === 'W2002' && (e['target'].args.indexOf('legendFakeArgument') || e['target'].args.indexOf('legendFakeValue'))) return;\n        if (e['target'].id === 'W2103' || e['target'].id === 'W2104' || e['target'].id === 'W2105' || e['target'].id === 'W2106') return;\n\n        _render_helper_1.RenderHelper.widgetIncidentOccurred(e);\n      },\n      adjustOnZoom: false,\n      customizePoint: function () {\n        var argumentTag = this.tag,\n            seriesTag = this.series.tag,\n            result = {};\n\n        if (!_chart_helper_1.chartHelper.isFinancialType(this.series.type)) {\n          result.color = that._dataController.getColor(argumentTag.axisPoint, seriesTag.axisPoint, that._getMeasuresIds(seriesTag), seriesTag.colorMeasureId);\n        }\n\n        var interactionValue = that._getElementInteractionValue(this, that.options.ViewModel);\n\n        if (interactionValue && interactionValue.axisPoint && !_utils_1.allowSelectValue(interactionValue.axisPoint.getUniquePath())) {\n          result.hoverStyle = {\n            hatching: 'none'\n          };\n        }\n\n        return result;\n      }\n    };\n\n    options.onPointClick = function (e) {\n      that._raiseItemClick(e.target);\n\n      e['cancel'] = true;\n    };\n\n    options.onSeriesClick = function (e) {\n      that._raiseItemClick({\n        series: e.target\n      });\n    };\n\n    options.onPointHoverChanged = function (e) {\n      that._raiseItemHover(e.target);\n    };\n\n    options.tooltip = {\n      enabled: true,\n      container: _utils_1.tooltipContainerSelector,\n      customizeTooltip: function (obj) {\n        var pane = obj.point.series.pane,\n            argumentText = that._dataController.getTooltipArgumentText(obj),\n            allSeries = that.chartViewer.getAllSeries(),\n            resultHtml = '<table>';\n\n        var ARGUMENT_VALUE_CLASS = 'dx-argument-value';\n\n        var createCell = function (text, className) {\n          return '<tr><td ' + (className ? 'class=\"' + className + '\"' : '') + '>' + text + '</td></tr>';\n        };\n\n        resultHtml += createCell(that._getHtml(argumentText), ARGUMENT_VALUE_CLASS);\n        var valueCount = 0;\n        var truncated = false;\n\n        for (var i = 0; i < allSeries.length; i++) {\n          var series = allSeries[i];\n\n          if (series.pane === pane) {\n            var points = series.getPointsByArg(obj.argument),\n                point = points.length > 1 ? obj.point : points[0];\n\n            if (point) {\n              var text = that._dataController.customizeTooltipText(series, point, series.tag.valueFormats, that._isEncodeHtml());\n\n              if (text) {\n                if (valueCount < chartItem._maxTooltipValues) {\n                  resultHtml += createCell(text);\n                  valueCount++;\n                } else {\n                  truncated = true;\n                  break;\n                }\n              }\n            }\n          }\n        }\n\n        if (truncated) {\n          resultHtml += createCell('...');\n        }\n\n        resultHtml += '</table>';\n        return {\n          html: resultHtml\n        };\n      },\n      font: {\n        size: 14\n      },\n      zIndex: _z_index_1.zIndex.dashboardItemTooltips\n    };\n    options.commonPaneSettings = {\n      border: {\n        visible: true\n      }\n    };\n    options.animation = {\n      enabled: animation.enabled,\n      duration: animation.duration\n    };\n    options.margin = {\n      top: 10,\n      right: 22,\n      bottom: 22,\n      left: 22\n    };\n    return options;\n  };\n\n  chartItem.prototype._applySelectionUnsafe = function () {\n    var that = this,\n        viewModel = that.options.ViewModel,\n        tuples = that.getSelectedTuples();\n\n    if (viewModel && viewModel.SelectionEnabled && tuples.length > 0) {\n      that.chartViewer.clearSelection();\n      tuples.forEach(function (tuple) {\n        that.selectTuple(tuple, true);\n      });\n    }\n  };\n\n  chartItem.prototype._getDataPoint = function (element) {\n    var that = this,\n        elementTag = element.tag,\n        elementSeries = element.series,\n        elementSeriesTag = elementSeries ? elementSeries.tag : undefined,\n        seriesValues = elementSeriesTag ? _utils_1.getTagValue(elementSeriesTag) : [],\n        argumentValues = elementTag ? _utils_1.getTagValue(elementTag) : [],\n        seriesIndex = elementSeries ? elementSeries.index : undefined;\n    return {\n      getValues: function (name) {\n        switch (name) {\n          case item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis:\n            return argumentValues;\n\n          case item_data_axis_names_1.itemDataAxisNames.chartSeriesAxis:\n            return seriesValues;\n\n          default:\n            return null;\n        }\n      },\n      getDeltaIds: function () {\n        return [];\n      },\n      getMeasureIds: function () {\n        return that._getMeasuresIds(elementSeriesTag);\n      }\n    };\n  };\n\n  chartItem.prototype._getMeasuresIds = function (elementSeriesTag) {\n    return elementSeriesTag ? elementSeriesTag.dataMembers : [];\n  };\n\n  chartItem.prototype._isMultiDataSupported = function () {\n    return true;\n  };\n\n  chartItem.prototype._getElementInteractionValue = function (element, viewModel) {\n    return viewModel.SelectionEnabled && viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Series ? element.series.tag : element.tag;\n  };\n\n  chartItem.prototype._isAxisInPercentFormat = function (pane, isSecondaryAxis) {\n    var seriesTemplate;\n\n    for (var i = 0; i < pane.SeriesTemplates.length; i++) {\n      seriesTemplate = pane.SeriesTemplates[i];\n      if (isSecondaryAxis == seriesTemplate.PlotOnSecondaryAxis && !seriesTemplate.OnlyPercentValues && !this._isFullStackedSeriesType(seriesTemplate.SeriesType)) return false;\n    }\n\n    return true;\n  };\n\n  chartItem.prototype._isAxisInScientificFormat = function (pane, isSecondaryAxis) {\n    var seriesTemplate;\n\n    for (var i = 0; i < pane.SeriesTemplates.length; i++) {\n      seriesTemplate = pane.SeriesTemplates[i];\n      if (isSecondaryAxis == seriesTemplate.PlotOnSecondaryAxis && !seriesTemplate.OnlyScientificValues) return false;\n    }\n\n    return true;\n  };\n\n  chartItem.prototype._isFullStackedSeriesType = function (seriesType) {\n    switch (seriesType) {\n      case 'FullStackedArea':\n      case 'FullStackedBar':\n      case 'FullStackedLine':\n      case 'FullStackedSplineArea':\n        return true;\n\n      default:\n        return false;\n    }\n  };\n\n  chartItem.prototype._convertHoverMode = function (selectionMode) {\n    switch (selectionMode) {\n      case _chart_helper_1.chartHelper.SelectionMode.Argument:\n        return 'allArgumentPoints';\n\n      case _chart_helper_1.chartHelper.SelectionMode.Series:\n        return 'allSeriesPoints';\n\n      case _chart_helper_1.chartHelper.SelectionMode.Points:\n      default:\n        return 'none';\n    }\n  };\n\n  chartItem.prototype._convertPointHoverMode = function (selectionMode) {\n    switch (selectionMode) {\n      case _chart_helper_1.chartHelper.SelectionMode.Argument:\n        return 'allArgumentPoints';\n\n      case _chart_helper_1.chartHelper.SelectionMode.Series:\n        return 'allSeriesPoints';\n\n      case _chart_helper_1.chartHelper.SelectionMode.Points:\n        return 'onlyPoint';\n\n      default:\n        return 'none';\n    }\n  };\n\n  chartItem.prototype._resizeUnsafe = function () {\n    _super.prototype._resizeUnsafe.call(this);\n\n    if (_jquery_helpers_1.isVisible(this.container)) {\n      this.chartViewer.render();\n    }\n  };\n\n  chartItem.prototype._getWidget = function () {\n    return this.chartViewer;\n  };\n\n  chartItem._maxTooltipValues = 20;\n  return chartItem;\n}(_base_item_1.baseItem);\n\nexports.chartItem = chartItem;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/viewer-items/_chart-item.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","il","j","defineProperty","exports","value","chartItem","chart_1","require","item_data_axis_names_1","_chart_helper_1","_common_1","_format_helper_1","_formatter_1","_jquery_helpers_1","_selection_helper_1","_utils_1","_z_index_1","_chart_item_style_settings_provider_1","_render_helper_1","_dx_devextreme_themes_integration_1","_base_item_1","_super","container","options","_this","itemElementCustomColor","createJQueryCallbacks","get","_dataController","set","dataController","enumerable","configurable","dispose","chartViewer","_initializeData","newOptions","_styleSettingsProvider","СhartItemStyleSettingsProvider","initialize","ConditionalFormattingModel","elementCustomColor","e","_elementCustomColor","styleSettingsProvider","_clearSelectionUnsafe","clearSelection","selectTupleUnsafe","tuple","state","selectionHelper","setSelectedPoint","getAxisPointValue","itemDataAxisNames","chartSeriesAxis","chartArgumentAxis","_setSelectionUnsafe","values","_applySelection","updateContentStateUnsafe","_getCustomHoverEnabled","hoverMode","targetAxes","_getTargetAxes","chartHelper","SelectionMode","Argument","Series","Points","option","_convertHoverMode","_convertPointHoverMode","renderContentUnsafe","element","changeExisting","afterRenderCallback","opts","_getViewOptions","ContentType","contentType","viewModel","deepExtend","_getCommonOptions","_raiseItemWidgetOptionsPrepared","default","getInfoUnsafe","info","zoomAndPanMode","viewport","getVisibleArgumentBounds","chartViewport","min","getArgumentUniquePath","minVisible","max","maxVisible","eventArgs","fire","getName","_getZoomAndPanOption","zoomAndPanOptions","argumentAxis","AxisX","EnableZooming","LimitVisiblePoints","ViewModel","undefined","that","forceShowPointMarkers","Panes","reduce","seriesTemplates","pane","SeriesTemplates","forceShow","seriesTemplate","ForceShowPointMarkers","dataSourceAndSeries","getDataSourceAndSeries","_isEncodeHtml","panes","isSelectable","isInteractivityActionEnabled","seriesFormats","isDiscreteArgument","argumentAxisLabelFormat","getAxisXFormat","rotated","Rotated","axisGridColor","getBaseColorScheme","isOverlappingModeHide","isHideMode","forEach","PointLabel","pointLabelsEnabled","checkSeriesTemplatePointLabels","OverlappingMode","configureLogarithmicOptions","axis","axisModel","Logarithmic","type","logarithmBase","LogarithmicBase","customizeTextProc","isPercentAxis","isScientificAxis","customFormat","formatHelper","format","convertToFormat","NumericFormat","formatPercentValue","formatScientificAxisValue","formatAxisValue","valueAxis","zoomAndPan","resizePanesOnZoom","scrollBar","visible","position","autoHidePointMarkers","resolveLabelsOverlapping","disableTwoWayBinding","resolveLabelOverlapping","index","paneName","generatePaneName","Name","isPrimaryAxisInPercentFormat","_isAxisInPercentFormat","isPrimaryAxisInScientificFormat","_isAxisInScientificFormat","isSecondaryAxisInPercentFormat","isSecondaryAxisInScientificFormat","push","name","inverted","PrimaryAxisY","Reverse","color","tick","minorTick","label","Visible","customizeText","Format","title","text","Title","grid","ShowGridLines","showZero","ShowZeroLevel","SecondaryAxisY","axis_1","reverse","commonSeriesSettings","point","stackedbar","backgroundColor","zoomArguments","getZoomArguments","argumentType","overlappingBehavior","IsOrderedDiscrete","argument","getAxisXLabelText","valueMarginsEnabled","allowArgumentAxisMargins","tickInterval","visualRange","start","end","dataPrepareSettings","sortingMethod","IsContinuousDateTimeScale","axisDivisionFactor","minSpacing","workWeek","firstDayOfWeek","Legend","legendParams","IsInsideDiagram","convertLegendInsidePosition","InsidePosition","convertLegendOutsidePosition","OutsidePosition","border","legend","itemTextPosition","args","getLegendSeriesDisplayName","seriesName","margin","animation","_getAnimationOptions","sortSeriesPointsByAxis","redrawOnResize","pointSelectionMode","seriesSelectionMode","palette","RenderHelper","getDefaultPalette","encodeHtml","onIncidentOccurred","id","indexOf","widgetIncidentOccurred","adjustOnZoom","customizePoint","argumentTag","tag","seriesTag","series","result","isFinancialType","getColor","axisPoint","_getMeasuresIds","colorMeasureId","interactionValue","_getElementInteractionValue","allowSelectValue","getUniquePath","hoverStyle","hatching","onPointClick","_raiseItemClick","target","onSeriesClick","onPointHoverChanged","_raiseItemHover","tooltip","enabled","tooltipContainerSelector","customizeTooltip","obj","argumentText","getTooltipArgumentText","allSeries","getAllSeries","resultHtml","ARGUMENT_VALUE_CLASS","createCell","className","_getHtml","valueCount","truncated","points","getPointsByArg","customizeTooltipText","valueFormats","_maxTooltipValues","html","font","size","zIndex","dashboardItemTooltips","commonPaneSettings","duration","top","right","bottom","left","_applySelectionUnsafe","tuples","getSelectedTuples","SelectionEnabled","selectTuple","_getDataPoint","elementTag","elementSeries","elementSeriesTag","seriesValues","getTagValue","argumentValues","seriesIndex","getValues","getDeltaIds","getMeasureIds","dataMembers","_isMultiDataSupported","isSecondaryAxis","PlotOnSecondaryAxis","OnlyPercentValues","_isFullStackedSeriesType","SeriesType","OnlyScientificValues","seriesType","selectionMode","_resizeUnsafe","isVisible","render","_getWidget","baseItem"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_chart-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.chartItem = void 0;\nvar chart_1 = require(\"devextreme/viz/chart\");\nvar item_data_axis_names_1 = require(\"../../data/item-data/item-data-axis-names\");\nvar _chart_helper_1 = require(\"../../data/_chart-helper\");\nvar _common_1 = require(\"../../data/_common\");\nvar _format_helper_1 = require(\"../../data/_format-helper\");\nvar _formatter_1 = require(\"../../data/_formatter\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar _selection_helper_1 = require(\"../../data/_selection-helper\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar _z_index_1 = require(\"../../data/_z-index\");\nvar _chart_item_style_settings_provider_1 = require(\"../conditional-formatting/_chart-item-style-settings-provider\");\nvar _render_helper_1 = require(\"../widgets/_render-helper\");\nvar _dx_devextreme_themes_integration_1 = require(\"../_dx-devextreme-themes-integration\");\nvar _base_item_1 = require(\"./_base-item\");\nvar chartItem = (function (_super) {\n    __extends(chartItem, _super);\n    function chartItem(container, options) {\n        var _this = _super.call(this, container, options) || this;\n        _this.itemElementCustomColor = _jquery_helpers_1.createJQueryCallbacks();\n        return _this;\n    }\n    Object.defineProperty(chartItem.prototype, \"dataController\", {\n        get: function () { return this._dataController; },\n        set: function (dataController) { this._dataController = dataController; },\n        enumerable: false,\n        configurable: true\n    });\n    chartItem.prototype.dispose = function () {\n        _super.prototype.dispose.call(this);\n        this.chartViewer && this.chartViewer.dispose();\n    };\n    chartItem.prototype._initializeData = function (newOptions) {\n        var _this = this;\n        _super.prototype._initializeData.call(this, newOptions);\n        this._styleSettingsProvider = new _chart_item_style_settings_provider_1.СhartItemStyleSettingsProvider();\n        this._styleSettingsProvider.initialize(this.options.ConditionalFormattingModel);\n        if (this.dataController) {\n            this._dataController.elementCustomColor = function (e) { return _this._elementCustomColor(e); };\n            this._dataController.styleSettingsProvider = this._styleSettingsProvider;\n        }\n    };\n    chartItem.prototype._clearSelectionUnsafe = function () {\n        this.chartViewer.clearSelection();\n    };\n    chartItem.prototype.selectTupleUnsafe = function (tuple, state) {\n        _selection_helper_1.selectionHelper.setSelectedPoint(this.chartViewer, _utils_1.getAxisPointValue(tuple, item_data_axis_names_1.itemDataAxisNames.chartSeriesAxis), _utils_1.getAxisPointValue(tuple, item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis), state);\n    };\n    chartItem.prototype._setSelectionUnsafe = function (values) {\n        _super.prototype._setSelectionUnsafe.call(this, values);\n        this.clearSelection();\n        this._applySelection();\n    };\n    chartItem.prototype.updateContentStateUnsafe = function () {\n        if (this._getCustomHoverEnabled()) {\n            var hoverMode = null, targetAxes = this._getTargetAxes();\n            if (targetAxes.length == 1) {\n                if (targetAxes[0] == item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis)\n                    hoverMode = _chart_helper_1.chartHelper.SelectionMode.Argument;\n                else\n                    hoverMode = _chart_helper_1.chartHelper.SelectionMode.Series;\n            }\n            else if (targetAxes.length == 2) {\n                hoverMode = _chart_helper_1.chartHelper.SelectionMode.Points;\n            }\n            this.chartViewer.option('commonSeriesSettings.hoverMode', this._convertHoverMode(hoverMode));\n            this.chartViewer.option('commonSeriesSettings.point.hoverMode', this._convertPointHoverMode(hoverMode));\n        }\n    };\n    chartItem.prototype.renderContentUnsafe = function (element, changeExisting, afterRenderCallback) {\n        var opts = this._getViewOptions();\n        if (changeExisting && this.chartViewer) {\n            switch (this.options.ContentType) {\n                case _common_1.contentType.viewModel:\n                    break;\n                default:\n                    _jquery_helpers_1.deepExtend(opts, this._getCommonOptions());\n                    break;\n            }\n            this._raiseItemWidgetOptionsPrepared(opts);\n            this.chartViewer.option(opts);\n        }\n        else {\n            var options = __assign(__assign({}, opts), this._getCommonOptions());\n            this._raiseItemWidgetOptionsPrepared(options);\n            this.chartViewer = new chart_1.default(element, options);\n        }\n        return false;\n    };\n    chartItem.prototype.getInfoUnsafe = function () {\n        var info = _super.prototype.getInfoUnsafe.call(this);\n        var zoomAndPanMode = this.chartViewer.option('zoomAndPan');\n        if (zoomAndPanMode && (zoomAndPanMode === 'both' || zoomAndPanMode === 'pan')) {\n            var viewport = this.chartViewer.getVisibleArgumentBounds();\n            info = _jquery_helpers_1.deepExtend(info, {\n                chartViewport: {\n                    min: this._dataController.getArgumentUniquePath(viewport.minVisible),\n                    max: this._dataController.getArgumentUniquePath(viewport.maxVisible)\n                }\n            });\n        }\n        return info;\n    };\n    chartItem.prototype._elementCustomColor = function (eventArgs) {\n        this.itemElementCustomColor.fire(this.getName(), eventArgs);\n    };\n    chartItem.prototype._getZoomAndPanOption = function (viewModel) {\n        var zoomAndPanOptions = {\n            argumentAxis: 'none'\n        };\n        if (viewModel.AxisX.EnableZooming) {\n            zoomAndPanOptions.argumentAxis = 'both';\n        }\n        else if (viewModel.AxisX.LimitVisiblePoints) {\n            zoomAndPanOptions.argumentAxis = 'pan';\n        }\n        return zoomAndPanOptions;\n    };\n    chartItem.prototype._getViewOptions = function () {\n        var _this = this;\n        var viewModel = this.options ? this.options.ViewModel : undefined;\n        if (!viewModel)\n            return {};\n        var that = this;\n        var forceShowPointMarkers = viewModel.Panes\n            .reduce(function (seriesTemplates, pane) { return __spreadArray(__spreadArray([], seriesTemplates), pane.SeriesTemplates); }, [])\n            .reduce(function (forceShow, seriesTemplate) { return forceShow || seriesTemplate.ForceShowPointMarkers; }, false);\n        var dataSourceAndSeries = that._dataController.getDataSourceAndSeries(that._isEncodeHtml()), panes = viewModel.Panes, isSelectable = that.isInteractivityActionEnabled(), seriesFormats = {}, isDiscreteArgument = that._dataController.isDiscreteArgument(), argumentAxisLabelFormat = that._dataController.getAxisXFormat(), rotated = viewModel.Rotated, axisGridColor = _dx_devextreme_themes_integration_1.getBaseColorScheme() === 'light' ? '#d3d3d3' : '#555555', isOverlappingModeHide = function () {\n            var isHideMode = false;\n            panes.forEach(function (pane) {\n                pane.SeriesTemplates.forEach(function (seriesTemplate) {\n                    if (seriesTemplate.PointLabel) {\n                        var pointLabelsEnabled = that._dataController.checkSeriesTemplatePointLabels(seriesTemplate);\n                        if (pointLabelsEnabled && (seriesTemplate.PointLabel.OverlappingMode == 'Hide' || seriesTemplate.PointLabel.OverlappingMode == 'Reposition'))\n                            isHideMode = true;\n                    }\n                });\n            });\n            return isHideMode;\n        }, configureLogarithmicOptions = function (axis, axisModel) {\n            if (axisModel.Logarithmic) {\n                axis.type = 'logarithmic';\n                axis.logarithmBase = axisModel.LogarithmicBase;\n            }\n        }, customizeTextProc = function (isPercentAxis, isScientificAxis, customFormat) {\n            return function () {\n                if (customFormat != null)\n                    return _format_helper_1.formatHelper.format(this.value, _formatter_1.convertToFormat({ NumericFormat: customFormat }));\n                if (isPercentAxis)\n                    return _formatter_1.formatPercentValue(this.value);\n                if (isScientificAxis)\n                    return _formatter_1.formatScientificAxisValue(this.value);\n                return _formatter_1.formatAxisValue(this.value, this.min, this.max);\n            };\n        }, options = {\n            panes: [],\n            valueAxis: [],\n            rotated: rotated,\n            zoomAndPan: this._getZoomAndPanOption(viewModel),\n            resizePanesOnZoom: true,\n            scrollBar: {\n                visible: viewModel.AxisX.EnableZooming || viewModel.AxisX.LimitVisiblePoints,\n                position: 'bottom'\n            },\n            autoHidePointMarkers: !forceShowPointMarkers\n        };\n        options.resolveLabelsOverlapping = isOverlappingModeHide();\n        options.disableTwoWayBinding = true;\n        options.resolveLabelOverlapping = isOverlappingModeHide() ? 'hide' : 'none';\n        panes.forEach(function (pane, index) {\n            var paneName = that._dataController.generatePaneName(pane.Name, index), isPrimaryAxisInPercentFormat = that._isAxisInPercentFormat(pane, false), isPrimaryAxisInScientificFormat = that._isAxisInScientificFormat(pane, false), isSecondaryAxisInPercentFormat = that._isAxisInPercentFormat(pane, true), isSecondaryAxisInScientificFormat = that._isAxisInScientificFormat(pane, true);\n            seriesFormats[paneName] = {};\n            options.panes.push({\n                name: paneName\n            });\n            var axis = {\n                name: paneName + 'primary',\n                position: rotated ? 'bottom' : 'left',\n                pane: paneName,\n                inverted: pane.PrimaryAxisY.Reverse,\n                color: axisGridColor,\n                tick: {\n                    visible: false,\n                },\n                minorTick: {\n                    visible: false,\n                },\n                label: {\n                    visible: pane.PrimaryAxisY.Visible,\n                    customizeText: customizeTextProc(isPrimaryAxisInPercentFormat, isPrimaryAxisInScientificFormat, pane.PrimaryAxisY.Format && pane.PrimaryAxisY.Format.NumericFormat)\n                },\n                title: {\n                    text: pane.PrimaryAxisY.Visible ? pane.PrimaryAxisY.Title : null\n                },\n                visible: pane.PrimaryAxisY.Visible,\n                grid: {\n                    visible: pane.PrimaryAxisY.ShowGridLines\n                },\n                showZero: pane.PrimaryAxisY.ShowZeroLevel\n            };\n            configureLogarithmicOptions(axis, pane.PrimaryAxisY);\n            options.valueAxis.push(axis);\n            if (pane.SecondaryAxisY) {\n                var axis_1 = {\n                    name: paneName + 'secondary',\n                    position: rotated ? 'top' : 'right',\n                    pane: paneName,\n                    inverted: pane.SecondaryAxisY.Reverse,\n                    color: axisGridColor,\n                    tick: {\n                        visible: false,\n                    },\n                    minorTick: {\n                        visible: false,\n                    },\n                    label: {\n                        visible: pane.SecondaryAxisY.Visible,\n                        customizeText: customizeTextProc(isSecondaryAxisInPercentFormat, isSecondaryAxisInScientificFormat, pane.SecondaryAxisY.Format && pane.SecondaryAxisY.Format.NumericFormat)\n                    },\n                    title: {\n                        text: pane.SecondaryAxisY.Visible ? pane.SecondaryAxisY.Title : null\n                    },\n                    visible: pane.SecondaryAxisY.Visible,\n                    grid: {\n                        visible: pane.SecondaryAxisY.ShowGridLines\n                    },\n                    showZero: pane.SecondaryAxisY.ShowZeroLevel\n                };\n                configureLogarithmicOptions(axis_1, pane.SecondaryAxisY);\n                options.valueAxis.push(axis_1);\n            }\n        });\n        if (rotated) {\n            options.panes.reverse();\n        }\n        options.commonSeriesSettings = {\n            hoverMode: isSelectable ? that._convertHoverMode(viewModel.SelectionMode) : 'none',\n            point: {\n                visible: false,\n                hoverMode: isSelectable ? that._convertPointHoverMode(viewModel.SelectionMode) : 'none'\n            },\n            stackedbar: {\n                label: {\n                    backgroundColor: 'none'\n                }\n            }\n        };\n        var zoomArguments = that._dataController ? that._dataController.getZoomArguments() : null;\n        options.argumentAxis = {\n            argumentType: null,\n            inverted: viewModel.AxisX.Reverse,\n            color: axisGridColor,\n            tick: {\n                visible: false,\n            },\n            minorTick: {\n                visible: false,\n            },\n            label: {\n                visible: viewModel.AxisX.Visible,\n                overlappingBehavior: (!viewModel.Argument.IsOrderedDiscrete && isDiscreteArgument ? 'auto' : 'hide'),\n                customizeText: function (argument) {\n                    return that._dataController.getAxisXLabelText(argument);\n                }\n            },\n            title: {\n                text: viewModel.AxisX.Visible ? viewModel.AxisX.Title : null\n            },\n            grid: {\n                visible: viewModel.AxisX.ShowGridLines\n            },\n            visible: viewModel.AxisX.Visible,\n            valueMarginsEnabled: _chart_helper_1.chartHelper.allowArgumentAxisMargins(panes),\n            tickInterval: null,\n            visualRange: zoomArguments ? [zoomArguments.start, zoomArguments.end] : [null, null]\n        };\n        configureLogarithmicOptions(options.argumentAxis, viewModel.AxisX);\n        if (isDiscreteArgument) {\n            options.argumentAxis.type = 'discrete';\n            options.argumentAxis.argumentType = 'string';\n        }\n        else {\n            if (options.argumentAxis.type === undefined)\n                options.argumentAxis.type = 'continuous';\n        }\n        options.dataPrepareSettings = {\n            sortingMethod: false\n        };\n        if (argumentAxisLabelFormat && !(viewModel.Argument && viewModel.Argument.IsContinuousDateTimeScale)) {\n            options.argumentAxis.axisDivisionFactor = 70;\n            switch (argumentAxisLabelFormat.format) {\n                case 'monthYear':\n                    options.argumentAxis.tickInterval = 'month';\n                    options.argumentAxis.label.minSpacing = 10;\n                    break;\n                case 'dayMonthYear':\n                    options.argumentAxis.tickInterval = 'day';\n                    options.argumentAxis.label.minSpacing = 10;\n                    break;\n                case 'quarterYear':\n                    options.argumentAxis.tickInterval = 'quarter';\n                    options.argumentAxis.label.minSpacing = 10;\n                    break;\n                case 'dateHour':\n                    options.argumentAxis.tickInterval = 'hour';\n                    options.argumentAxis.label.minSpacing = 10;\n                    break;\n                case 'dateHourMinute':\n                    options.argumentAxis.tickInterval = 'minute';\n                    options.argumentAxis.label.minSpacing = 10;\n                    break;\n                case 'dateHourMinuteSecond':\n                    options.argumentAxis.tickInterval = 'second';\n                    options.argumentAxis.label.minSpacing = 10;\n                    break;\n                case 'weekYear':\n                    options.argumentAxis.workWeek = [argumentAxisLabelFormat.firstDayOfWeek];\n                    options.argumentAxis.tickInterval = 'week';\n                    options.argumentAxis.label.minSpacing = 10;\n                    break;\n                default:\n                    options.argumentAxis.tickInterval = null;\n                    break;\n            }\n        }\n        if (viewModel.Legend) {\n            var legendParams = viewModel.Legend.IsInsideDiagram ?\n                _chart_helper_1.chartHelper.convertLegendInsidePosition(viewModel.Legend.InsidePosition) :\n                _chart_helper_1.chartHelper.convertLegendOutsidePosition(viewModel.Legend.OutsidePosition);\n            legendParams.border = {\n                visible: viewModel.Legend.IsInsideDiagram\n            };\n            options.legend = __assign(__assign({}, legendParams), { position: viewModel.Legend.IsInsideDiagram ? 'inside' : 'outside', visible: viewModel.Legend.Visible, itemTextPosition: 'right', customizeText: function (args) { return _this._dataController.getLegendSeriesDisplayName(args.seriesName); } });\n            if (viewModel.Legend.IsInsideDiagram)\n                options.legend.margin = 10;\n        }\n        return _jquery_helpers_1.deepExtend(dataSourceAndSeries, options);\n    };\n    chartItem.prototype._getCommonOptions = function () {\n        var that = this, animation = that._getAnimationOptions(), options = {\n            sortSeriesPointsByAxis: true,\n            redrawOnResize: false,\n            pointSelectionMode: 'multiple',\n            seriesSelectionMode: 'multiple',\n            palette: _render_helper_1.RenderHelper.getDefaultPalette(),\n            encodeHtml: that._isEncodeHtml(),\n            onIncidentOccurred: function (e) {\n                if (e['target'].id === 'W2002' && (e['target'].args.indexOf('legendFakeArgument') || (e['target'].args.indexOf('legendFakeValue'))))\n                    return;\n                if (e['target'].id === 'W2103' || e['target'].id === 'W2104' || e['target'].id === 'W2105' || e['target'].id === 'W2106')\n                    return;\n                _render_helper_1.RenderHelper.widgetIncidentOccurred(e);\n            },\n            adjustOnZoom: false,\n            customizePoint: function () {\n                var argumentTag = this.tag, seriesTag = this.series.tag, result = {};\n                if (!_chart_helper_1.chartHelper.isFinancialType(this.series.type)) {\n                    result.color = that._dataController.getColor(argumentTag.axisPoint, seriesTag.axisPoint, that._getMeasuresIds(seriesTag), seriesTag.colorMeasureId);\n                }\n                var interactionValue = that._getElementInteractionValue(this, that.options.ViewModel);\n                if (interactionValue && interactionValue.axisPoint && !_utils_1.allowSelectValue(interactionValue.axisPoint.getUniquePath())) {\n                    result.hoverStyle = { hatching: 'none' };\n                }\n                return result;\n            }\n        };\n        options.onPointClick = function (e) {\n            that._raiseItemClick(e.target);\n            e['cancel'] = true;\n        };\n        options.onSeriesClick = function (e) {\n            that._raiseItemClick({ series: e.target });\n        };\n        options.onPointHoverChanged = function (e) {\n            that._raiseItemHover(e.target);\n        };\n        options.tooltip = {\n            enabled: true,\n            container: _utils_1.tooltipContainerSelector,\n            customizeTooltip: function (obj) {\n                var pane = obj.point.series.pane, argumentText = that._dataController.getTooltipArgumentText(obj), allSeries = that.chartViewer.getAllSeries(), resultHtml = '<table>';\n                var ARGUMENT_VALUE_CLASS = 'dx-argument-value';\n                var createCell = function (text, className) {\n                    return '<tr><td ' + (className ? 'class=\"' + className + '\"' : '') + '>' + text + '</td></tr>';\n                };\n                resultHtml += createCell(that._getHtml(argumentText), ARGUMENT_VALUE_CLASS);\n                var valueCount = 0;\n                var truncated = false;\n                for (var i = 0; i < allSeries.length; i++) {\n                    var series = allSeries[i];\n                    if (series.pane === pane) {\n                        var points = series.getPointsByArg(obj.argument), point = points.length > 1 ? obj.point : points[0];\n                        if (point) {\n                            var text = that._dataController.customizeTooltipText(series, point, series.tag.valueFormats, that._isEncodeHtml());\n                            if (text) {\n                                if (valueCount < chartItem._maxTooltipValues) {\n                                    resultHtml += createCell(text);\n                                    valueCount++;\n                                }\n                                else {\n                                    truncated = true;\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n                if (truncated) {\n                    resultHtml += createCell('...');\n                }\n                resultHtml += '</table>';\n                return {\n                    html: resultHtml\n                };\n            },\n            font: {\n                size: 14\n            },\n            zIndex: _z_index_1.zIndex.dashboardItemTooltips\n        };\n        options.commonPaneSettings = {\n            border: {\n                visible: true\n            }\n        };\n        options.animation = {\n            enabled: animation.enabled,\n            duration: animation.duration\n        };\n        options.margin = {\n            top: 10,\n            right: 22,\n            bottom: 22,\n            left: 22\n        };\n        return options;\n    };\n    chartItem.prototype._applySelectionUnsafe = function () {\n        var that = this, viewModel = that.options.ViewModel, tuples = that.getSelectedTuples();\n        if (viewModel && viewModel.SelectionEnabled && tuples.length > 0) {\n            that.chartViewer.clearSelection();\n            tuples.forEach(function (tuple) {\n                that.selectTuple(tuple, true);\n            });\n        }\n    };\n    chartItem.prototype._getDataPoint = function (element) {\n        var that = this, elementTag = element.tag, elementSeries = element.series, elementSeriesTag = elementSeries ? elementSeries.tag : undefined, seriesValues = elementSeriesTag ? _utils_1.getTagValue(elementSeriesTag) : [], argumentValues = elementTag ? _utils_1.getTagValue(elementTag) : [], seriesIndex = elementSeries ? elementSeries.index : undefined;\n        return {\n            getValues: function (name) {\n                switch (name) {\n                    case item_data_axis_names_1.itemDataAxisNames.chartArgumentAxis:\n                        return argumentValues;\n                    case item_data_axis_names_1.itemDataAxisNames.chartSeriesAxis:\n                        return seriesValues;\n                    default:\n                        return null;\n                }\n            },\n            getDeltaIds: function () {\n                return [];\n            },\n            getMeasureIds: function () {\n                return that._getMeasuresIds(elementSeriesTag);\n            }\n        };\n    };\n    chartItem.prototype._getMeasuresIds = function (elementSeriesTag) {\n        return elementSeriesTag ? elementSeriesTag.dataMembers : [];\n    };\n    chartItem.prototype._isMultiDataSupported = function () {\n        return true;\n    };\n    chartItem.prototype._getElementInteractionValue = function (element, viewModel) {\n        return (viewModel.SelectionEnabled && viewModel.SelectionMode === _chart_helper_1.chartHelper.SelectionMode.Series) ? element.series.tag : element.tag;\n    };\n    chartItem.prototype._isAxisInPercentFormat = function (pane, isSecondaryAxis) {\n        var seriesTemplate;\n        for (var i = 0; i < pane.SeriesTemplates.length; i++) {\n            seriesTemplate = pane.SeriesTemplates[i];\n            if (isSecondaryAxis == seriesTemplate.PlotOnSecondaryAxis && !seriesTemplate.OnlyPercentValues && !this._isFullStackedSeriesType(seriesTemplate.SeriesType))\n                return false;\n        }\n        return true;\n    };\n    chartItem.prototype._isAxisInScientificFormat = function (pane, isSecondaryAxis) {\n        var seriesTemplate;\n        for (var i = 0; i < pane.SeriesTemplates.length; i++) {\n            seriesTemplate = pane.SeriesTemplates[i];\n            if (isSecondaryAxis == seriesTemplate.PlotOnSecondaryAxis && !seriesTemplate.OnlyScientificValues)\n                return false;\n        }\n        return true;\n    };\n    chartItem.prototype._isFullStackedSeriesType = function (seriesType) {\n        switch (seriesType) {\n            case 'FullStackedArea':\n            case 'FullStackedBar':\n            case 'FullStackedLine':\n            case 'FullStackedSplineArea':\n                return true;\n            default:\n                return false;\n        }\n    };\n    chartItem.prototype._convertHoverMode = function (selectionMode) {\n        switch (selectionMode) {\n            case _chart_helper_1.chartHelper.SelectionMode.Argument:\n                return 'allArgumentPoints';\n            case _chart_helper_1.chartHelper.SelectionMode.Series:\n                return 'allSeriesPoints';\n            case _chart_helper_1.chartHelper.SelectionMode.Points:\n            default:\n                return 'none';\n        }\n    };\n    chartItem.prototype._convertPointHoverMode = function (selectionMode) {\n        switch (selectionMode) {\n            case _chart_helper_1.chartHelper.SelectionMode.Argument:\n                return 'allArgumentPoints';\n            case _chart_helper_1.chartHelper.SelectionMode.Series:\n                return 'allSeriesPoints';\n            case _chart_helper_1.chartHelper.SelectionMode.Points:\n                return 'onlyPoint';\n            default:\n                return 'none';\n        }\n    };\n    chartItem.prototype._resizeUnsafe = function () {\n        _super.prototype._resizeUnsafe.call(this);\n        if (_jquery_helpers_1.isVisible(this.container)) {\n            this.chartViewer.render();\n        }\n    };\n    chartItem.prototype._getWidget = function () {\n        return this.chartViewer;\n    };\n    chartItem._maxTooltipValues = 20;\n    return chartItem;\n}(_base_item_1.baseItem));\nexports.chartItem = chartItem;\n"]},"metadata":{},"sourceType":"script"}