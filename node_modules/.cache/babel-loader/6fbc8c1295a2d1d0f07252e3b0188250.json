{"ast":null,"code":"/**\n* DevExpress Analytics (query-builder\\utils\\requestwrapper.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RequestWrapper = void 0;\n\nvar _utils_1 = require(\"../../core/utils/_utils\");\n\nvar initializer_1 = require(\"../initializer\");\n\nvar serializer_1 = require(\"../../serializer/serializer\");\n\nvar _dataConnection_1 = require(\"./_dataConnection\");\n\nvar RequestWrapper = function () {\n  function RequestWrapper() {}\n\n  RequestWrapper.prototype.sendRequest = function (action, arg) {\n    return _utils_1.ajax(initializer_1.HandlerUri(), action, arg);\n  };\n\n  RequestWrapper.prototype._sendRequest = function (settings) {\n    return _utils_1.ajax(settings);\n  };\n\n  RequestWrapper.prototype.getDbSchema = function (connection, tables) {\n    var requestModel = {\n      connectionJSON: _dataConnection_1.serializeDataConnection(connection),\n      tables: null,\n      views: null\n    };\n\n    if (tables && tables.length > 0) {\n      requestModel.tables = (tables || []).filter(function (x) {\n        return !x.isView;\n      }).map(function (x) {\n        return x.name;\n      });\n      requestModel.views = (tables || []).filter(function (x) {\n        return x.isView;\n      }).map(function (x) {\n        return x.name;\n      });\n    }\n\n    return this.sendRequest('getDBSchema', encodeURIComponent(JSON.stringify(requestModel)));\n  };\n\n  RequestWrapper.prototype.getDbStoredProcedures = function (connection) {\n    var requestJson = JSON.stringify({\n      connectionJSON: _dataConnection_1.serializeDataConnection(connection)\n    });\n    return this.sendRequest('getDBStoredProcedures', encodeURIComponent(requestJson));\n  };\n\n  RequestWrapper.prototype.getSelectStatement = function (connection, queryJSON) {\n    var requestJson = JSON.stringify({\n      connectionJSON: _dataConnection_1.serializeDataConnection(connection),\n      sqlQueryJSON: queryJSON\n    });\n    return this.sendRequest('getSelectStatement', encodeURIComponent(requestJson));\n  };\n\n  RequestWrapper.prototype.getDataPreview = function (connection, queryJSON) {\n    var requestJson = JSON.stringify({\n      connectionJSON: _dataConnection_1.serializeDataConnection(connection),\n      sqlQueryJSON: queryJSON\n    });\n    return this.sendRequest('getDataPreview', encodeURIComponent(requestJson));\n  };\n\n  RequestWrapper.prototype.rebuildResultSchema = function (dataSource, queryName, relationsEditing) {\n    if (relationsEditing === void 0) {\n      relationsEditing = false;\n    }\n\n    var requestJson = JSON.stringify({\n      sqlDataSourceJSON: JSON.stringify({\n        'SqlDataSource': new serializer_1.ModelSerializer().serialize(dataSource)\n      }),\n      queryName: queryName,\n      relationsEditing: relationsEditing\n    });\n    return this.sendRequest('rebuildResultSchema', encodeURIComponent(requestJson));\n  };\n\n  RequestWrapper.prototype.getFederationResultSchema = function (dataSource) {\n    var serializedModel = dataSource.getSerializableModel().getSerializableFederationDataSourceInfo();\n    var requestJson = JSON.stringify({\n      federationDataSourceJSON: JSON.stringify({\n        'FederationDataSource': new serializer_1.ModelSerializer().serialize(dataSource)\n      }),\n      dataSources: serializedModel.dataSources\n    });\n    return this.sendRequest('getFederationResultSchema', encodeURIComponent(requestJson));\n  };\n\n  RequestWrapper.prototype.validateJsonUri = function (jsonDataSource) {\n    var uriJsonSourceJSON = JSON.stringify(jsonDataSource.source.serialize(true));\n    var requestJson = JSON.stringify({\n      uriJsonSourceJSON: uriJsonSourceJSON\n    });\n    var ajaxSettings = {\n      uri: initializer_1.HandlerUri(),\n      action: 'validateJsonEndPoint',\n      arg: encodeURIComponent(requestJson),\n      ignoreError: function () {\n        return true;\n      }\n    };\n    return this._sendRequest(ajaxSettings);\n  };\n\n  RequestWrapper.prototype.saveJsonSource = function (connectionName, jsonDataSource) {\n    var jsonSource = jsonDataSource.source;\n    var jsonSourceJSON = JSON.stringify(jsonSource.serialize(true));\n    var requestString = JSON.stringify({\n      connectionName: connectionName,\n      customJson: jsonSource.json(),\n      uriJsonSourceJSON: jsonSourceJSON\n    });\n    return this.sendRequest('saveJsonSource', encodeURIComponent(requestString));\n  };\n\n  RequestWrapper.prototype.getJsonSchema = function (jsonDataSource, parameters) {\n    var jsonSource = jsonDataSource.source;\n    var jsonSourceJSON = JSON.stringify(jsonSource.serialize(true));\n    var requestString = JSON.stringify({\n      connectionName: jsonDataSource.connectionName(),\n      customJson: jsonSource.json(),\n      uriJsonSourceJSON: jsonSourceJSON,\n      parameters: parameters\n    });\n    return this.sendRequest('getJsonSchema', encodeURIComponent(requestString));\n  };\n\n  RequestWrapper.prototype.getObjectTypeDescriptions = function (context) {\n    return this.sendRequest('getObjectSchema', context);\n  };\n\n  return RequestWrapper;\n}();\n\nexports.RequestWrapper = RequestWrapper;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/query-builder/utils/requestwrapper.js"],"names":["Object","defineProperty","exports","value","RequestWrapper","_utils_1","require","initializer_1","serializer_1","_dataConnection_1","prototype","sendRequest","action","arg","ajax","HandlerUri","_sendRequest","settings","getDbSchema","connection","tables","requestModel","connectionJSON","serializeDataConnection","views","length","filter","x","isView","map","name","encodeURIComponent","JSON","stringify","getDbStoredProcedures","requestJson","getSelectStatement","queryJSON","sqlQueryJSON","getDataPreview","rebuildResultSchema","dataSource","queryName","relationsEditing","sqlDataSourceJSON","ModelSerializer","serialize","getFederationResultSchema","serializedModel","getSerializableModel","getSerializableFederationDataSourceInfo","federationDataSourceJSON","dataSources","validateJsonUri","jsonDataSource","uriJsonSourceJSON","source","ajaxSettings","uri","ignoreError","saveJsonSource","connectionName","jsonSource","jsonSourceJSON","requestString","customJson","json","getJsonSchema","parameters","getObjectTypeDescriptions","context"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (query-builder\\utils\\requestwrapper.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RequestWrapper = void 0;\nvar _utils_1 = require(\"../../core/utils/_utils\");\nvar initializer_1 = require(\"../initializer\");\nvar serializer_1 = require(\"../../serializer/serializer\");\nvar _dataConnection_1 = require(\"./_dataConnection\");\nvar RequestWrapper = (function () {\n    function RequestWrapper() {\n    }\n    RequestWrapper.prototype.sendRequest = function (action, arg) {\n        return _utils_1.ajax(initializer_1.HandlerUri(), action, arg);\n    };\n    RequestWrapper.prototype._sendRequest = function (settings) {\n        return _utils_1.ajax(settings);\n    };\n    RequestWrapper.prototype.getDbSchema = function (connection, tables) {\n        var requestModel = {\n            connectionJSON: _dataConnection_1.serializeDataConnection(connection),\n            tables: null,\n            views: null\n        };\n        if (tables && tables.length > 0) {\n            requestModel.tables = (tables || []).filter(function (x) { return !x.isView; }).map(function (x) { return x.name; });\n            requestModel.views = (tables || []).filter(function (x) { return x.isView; }).map(function (x) { return x.name; });\n        }\n        return this.sendRequest('getDBSchema', encodeURIComponent(JSON.stringify(requestModel)));\n    };\n    RequestWrapper.prototype.getDbStoredProcedures = function (connection) {\n        var requestJson = JSON.stringify({\n            connectionJSON: _dataConnection_1.serializeDataConnection(connection)\n        });\n        return this.sendRequest('getDBStoredProcedures', encodeURIComponent(requestJson));\n    };\n    RequestWrapper.prototype.getSelectStatement = function (connection, queryJSON) {\n        var requestJson = JSON.stringify({\n            connectionJSON: _dataConnection_1.serializeDataConnection(connection),\n            sqlQueryJSON: queryJSON\n        });\n        return this.sendRequest('getSelectStatement', encodeURIComponent(requestJson));\n    };\n    RequestWrapper.prototype.getDataPreview = function (connection, queryJSON) {\n        var requestJson = JSON.stringify({\n            connectionJSON: _dataConnection_1.serializeDataConnection(connection),\n            sqlQueryJSON: queryJSON\n        });\n        return this.sendRequest('getDataPreview', encodeURIComponent(requestJson));\n    };\n    RequestWrapper.prototype.rebuildResultSchema = function (dataSource, queryName, relationsEditing) {\n        if (relationsEditing === void 0) { relationsEditing = false; }\n        var requestJson = JSON.stringify({\n            sqlDataSourceJSON: JSON.stringify({ 'SqlDataSource': new serializer_1.ModelSerializer().serialize(dataSource) }),\n            queryName: queryName,\n            relationsEditing: relationsEditing\n        });\n        return this.sendRequest('rebuildResultSchema', encodeURIComponent(requestJson));\n    };\n    RequestWrapper.prototype.getFederationResultSchema = function (dataSource) {\n        var serializedModel = dataSource.getSerializableModel().getSerializableFederationDataSourceInfo();\n        var requestJson = JSON.stringify({\n            federationDataSourceJSON: JSON.stringify({ 'FederationDataSource': new serializer_1.ModelSerializer().serialize(dataSource) }),\n            dataSources: serializedModel.dataSources\n        });\n        return this.sendRequest('getFederationResultSchema', encodeURIComponent(requestJson));\n    };\n    RequestWrapper.prototype.validateJsonUri = function (jsonDataSource) {\n        var uriJsonSourceJSON = JSON.stringify(jsonDataSource.source.serialize(true));\n        var requestJson = JSON.stringify({\n            uriJsonSourceJSON: uriJsonSourceJSON\n        });\n        var ajaxSettings = {\n            uri: initializer_1.HandlerUri(),\n            action: 'validateJsonEndPoint',\n            arg: encodeURIComponent(requestJson),\n            ignoreError: function () { return true; }\n        };\n        return this._sendRequest(ajaxSettings);\n    };\n    RequestWrapper.prototype.saveJsonSource = function (connectionName, jsonDataSource) {\n        var jsonSource = jsonDataSource.source;\n        var jsonSourceJSON = JSON.stringify(jsonSource.serialize(true));\n        var requestString = JSON.stringify({\n            connectionName: connectionName,\n            customJson: jsonSource.json(),\n            uriJsonSourceJSON: jsonSourceJSON\n        });\n        return this.sendRequest('saveJsonSource', encodeURIComponent(requestString));\n    };\n    RequestWrapper.prototype.getJsonSchema = function (jsonDataSource, parameters) {\n        var jsonSource = jsonDataSource.source;\n        var jsonSourceJSON = JSON.stringify(jsonSource.serialize(true));\n        var requestString = JSON.stringify({\n            connectionName: jsonDataSource.connectionName(),\n            customJson: jsonSource.json(),\n            uriJsonSourceJSON: jsonSourceJSON,\n            parameters: parameters\n        });\n        return this.sendRequest('getJsonSchema', encodeURIComponent(requestString));\n    };\n    RequestWrapper.prototype.getObjectTypeDescriptions = function (context) {\n        return this.sendRequest('getObjectSchema', context);\n    };\n    return RequestWrapper;\n}());\nexports.RequestWrapper = RequestWrapper;\n"]},"metadata":{},"sourceType":"script"}