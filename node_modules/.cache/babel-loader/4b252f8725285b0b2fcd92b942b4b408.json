{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_calculation-properties-composer.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCalculationArgumentExpression = exports.CalculationPropertiesComposer = void 0;\n\nvar ko = require(\"knockout\");\n\nvar _helpers_1 = require(\"../../../common/_helpers\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar _measure_1 = require(\"../../../model/data-item/metadata/_measure\");\n\nvar _helpers_2 = require(\"../../../model/data-item/_helpers\");\n\nvar _expression_utils_1 = require(\"../../../model/internal/_expression-utils\");\n\nvar _window_definition_editor_1 = require(\"../../calculations/_window-definition-editor\");\n\nvar _expression_editor_display_name_provider_1 = require(\"../../expression-editor/_expression-editor-display-name-provider\");\n\nvar _expression_editor_item_provider_1 = require(\"../../expression-editor/_expression-editor-item-provider\");\n\nvar _form_adapter_editors_1 = require(\"../../form-adapter/_form-adapter-editors\");\n\nvar _object_properties_wrapper_1 = require(\"../../form-adapter/_object-properties-wrapper\");\n\nvar _accordion_tab_1 = require(\"../../properties-controller/_accordion-tab\");\n\nvar CalculationPropertiesComposer = function () {\n  function CalculationPropertiesComposer() {}\n\n  CalculationPropertiesComposer.prototype.composeTabs = function (model, args) {\n    var commonTab = new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.Common, 'DashboardWebStringId.AccordionTab.Common');\n    this.fillCommonWrapper(commonTab, model, args.dashboardItem, args.dataSourceBrowser);\n    return [commonTab];\n  };\n\n  CalculationPropertiesComposer.prototype.fillCommonWrapper = function (tab, model, dashboardItem, dataSourceBrowser) {\n    var p = [];\n    var visibilityRules = {};\n    p.push(__assign(__assign({}, _measure_1.windowDefinition), {\n      formAdapterItem: _window_definition_editor_1.windowDefinitionEditor({\n        dataDashboardItem: dashboardItem,\n        dataSourceBrowser: dataSourceBrowser\n      })\n    }));\n\n    if (!model.expression()) {\n      p.push({\n        container: _measure_1.calculation,\n        properties: [{\n          container: model.calculation.getInfo()[0],\n          properties: model.calculation.calculation().getInfo()\n        }]\n      });\n    }\n\n    var wrapper = new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n      model: model,\n      properties: p,\n      visibilityFilterRules: visibilityRules\n    });\n    var expressionArgument = ko.observable();\n\n    var getExpression = function () {\n      if (!!model.expression()) {\n        return model.expression();\n      }\n\n      return !!model.calculation.calculation() ? model.calculation.calculation()._getExpression(expressionArgument()) : '';\n    };\n\n    getCalculationArgumentExpression(model, dashboardItem, dataSourceBrowser).done(function (expr) {\n      expressionArgument(expr);\n    });\n    var expression = ko.computed({\n      read: getExpression,\n      write: function (val) {\n        if (val !== getExpression()) {\n          model.expression(val);\n        }\n      }\n    });\n    var expressionOptions = {\n      value: expression,\n      path: ko.observable(dashboardItem.dataMember() ? [dashboardItem.dataSource(), dashboardItem.dataMember()].join('.') : dashboardItem.dataSource()),\n      patchFieldName: function (fieldPath) {\n        if (fieldPath.indexOf('Parameters.Parameters.') === 0) {\n          return 'Parameters.' + fieldPath.split('.')[2];\n        }\n\n        return fieldPath;\n      }\n    };\n    var itemsProvider = new _expression_editor_item_provider_1.ExpressionEditorItemsProvider(dataSourceBrowser, dataSourceBrowser, dataSourceBrowser.parameters && dataSourceBrowser.parameters(), dashboardItem.dataSource, dashboardItem.dataMember);\n\n    var displayNameProvider = _expression_editor_display_name_provider_1.ExpressionEditorDisplayNameProvider.create(dataSourceBrowser, dataSourceBrowser, dashboardItem.dataSource(), dashboardItem.dataMember());\n\n    var collectionEditorOptions = {\n      options: ko.observable(expressionOptions),\n      fieldListProvider: ko.observable(itemsProvider),\n      displayNameProvider: displayNameProvider\n    };\n    wrapper.addProperty(ko.observable(), {\n      propertyName: 'expressionOptions',\n      displayName: 'DashboardStringId.CalculationTypeExpression',\n      formAdapterItem: _form_adapter_editors_1.calculationExpressionEditor(collectionEditorOptions)\n    });\n    tab.tabModel(wrapper);\n  };\n\n  return CalculationPropertiesComposer;\n}();\n\nexports.CalculationPropertiesComposer = CalculationPropertiesComposer;\n\nfunction getCalculationArgumentExpression(measure, dashboardItem, dataFieldProvider) {\n  var deferred = _jquery_helpers_1.createJQueryDeferred();\n\n  var summaryExpression = _helpers_2.getSummaryExpression(measure.dataMember(), measure.summaryType());\n\n  if (!measure.filterString()) return deferred.resolve(summaryExpression).promise();\n\n  _helpers_1.getDimensionsExpressions(dashboardItem, dataFieldProvider).done(function (dimnensionsExpressions) {\n    var patchedExpression = _expression_utils_1.insertDimensionsExpressionsIntoFilterExpression(measure.filterString(), dimnensionsExpressions);\n\n    deferred.resolve(\"filter(\" + summaryExpression + \", \" + patchedExpression + \")\");\n  });\n\n  return deferred.promise();\n}\n\nexports.getCalculationArgumentExpression = getCalculationArgumentExpression;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/items/properties-composers/_calculation-properties-composer.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","getCalculationArgumentExpression","CalculationPropertiesComposer","ko","require","_helpers_1","_jquery_helpers_1","_measure_1","_helpers_2","_expression_utils_1","_window_definition_editor_1","_expression_editor_display_name_provider_1","_expression_editor_item_provider_1","_form_adapter_editors_1","_object_properties_wrapper_1","_accordion_tab_1","composeTabs","model","args","commonTab","AccordionTab","KnownTabs","Common","fillCommonWrapper","dashboardItem","dataSourceBrowser","tab","visibilityRules","push","windowDefinition","formAdapterItem","windowDefinitionEditor","dataDashboardItem","expression","container","calculation","properties","getInfo","wrapper","ObjectPropertiesWrapper","visibilityFilterRules","expressionArgument","observable","getExpression","_getExpression","done","expr","computed","read","write","val","expressionOptions","path","dataMember","dataSource","join","patchFieldName","fieldPath","indexOf","split","itemsProvider","ExpressionEditorItemsProvider","parameters","displayNameProvider","ExpressionEditorDisplayNameProvider","create","collectionEditorOptions","options","fieldListProvider","addProperty","propertyName","displayName","calculationExpressionEditor","tabModel","measure","dataFieldProvider","deferred","createJQueryDeferred","summaryExpression","getSummaryExpression","summaryType","filterString","resolve","promise","getDimensionsExpressions","dimnensionsExpressions","patchedExpression","insertDimensionsExpressionsIntoFilterExpression"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_calculation-properties-composer.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCalculationArgumentExpression = exports.CalculationPropertiesComposer = void 0;\nvar ko = require(\"knockout\");\nvar _helpers_1 = require(\"../../../common/_helpers\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar _measure_1 = require(\"../../../model/data-item/metadata/_measure\");\nvar _helpers_2 = require(\"../../../model/data-item/_helpers\");\nvar _expression_utils_1 = require(\"../../../model/internal/_expression-utils\");\nvar _window_definition_editor_1 = require(\"../../calculations/_window-definition-editor\");\nvar _expression_editor_display_name_provider_1 = require(\"../../expression-editor/_expression-editor-display-name-provider\");\nvar _expression_editor_item_provider_1 = require(\"../../expression-editor/_expression-editor-item-provider\");\nvar _form_adapter_editors_1 = require(\"../../form-adapter/_form-adapter-editors\");\nvar _object_properties_wrapper_1 = require(\"../../form-adapter/_object-properties-wrapper\");\nvar _accordion_tab_1 = require(\"../../properties-controller/_accordion-tab\");\nvar CalculationPropertiesComposer = (function () {\n    function CalculationPropertiesComposer() {\n    }\n    CalculationPropertiesComposer.prototype.composeTabs = function (model, args) {\n        var commonTab = new _accordion_tab_1.AccordionTab(_accordion_tab_1.KnownTabs.Common, 'DashboardWebStringId.AccordionTab.Common');\n        this.fillCommonWrapper(commonTab, model, args.dashboardItem, args.dataSourceBrowser);\n        return [commonTab];\n    };\n    CalculationPropertiesComposer.prototype.fillCommonWrapper = function (tab, model, dashboardItem, dataSourceBrowser) {\n        var p = [];\n        var visibilityRules = {};\n        p.push(__assign(__assign({}, _measure_1.windowDefinition), { formAdapterItem: _window_definition_editor_1.windowDefinitionEditor({ dataDashboardItem: dashboardItem, dataSourceBrowser: dataSourceBrowser }) }));\n        if (!model.expression()) {\n            p.push({\n                container: _measure_1.calculation,\n                properties: [{\n                        container: (model.calculation.getInfo()[0]),\n                        properties: (model.calculation.calculation().getInfo())\n                    }]\n            });\n        }\n        var wrapper = new _object_properties_wrapper_1.ObjectPropertiesWrapper({\n            model: model,\n            properties: p,\n            visibilityFilterRules: visibilityRules\n        });\n        var expressionArgument = ko.observable();\n        var getExpression = function () {\n            if (!!model.expression()) {\n                return model.expression();\n            }\n            return !!model.calculation.calculation() ? model.calculation.calculation()._getExpression(expressionArgument()) : '';\n        };\n        getCalculationArgumentExpression(model, dashboardItem, dataSourceBrowser)\n            .done(function (expr) {\n            expressionArgument(expr);\n        });\n        var expression = ko.computed({\n            read: getExpression,\n            write: function (val) {\n                if (val !== getExpression()) {\n                    model.expression(val);\n                }\n            }\n        });\n        var expressionOptions = {\n            value: expression,\n            path: ko.observable(dashboardItem.dataMember() ? [dashboardItem.dataSource(), dashboardItem.dataMember()].join('.') : dashboardItem.dataSource()),\n            patchFieldName: function (fieldPath) {\n                if (fieldPath.indexOf('Parameters.Parameters.') === 0) {\n                    return 'Parameters.' + fieldPath.split('.')[2];\n                }\n                return fieldPath;\n            },\n        };\n        var itemsProvider = new _expression_editor_item_provider_1.ExpressionEditorItemsProvider(dataSourceBrowser, dataSourceBrowser, dataSourceBrowser.parameters && dataSourceBrowser.parameters(), dashboardItem.dataSource, dashboardItem.dataMember);\n        var displayNameProvider = _expression_editor_display_name_provider_1.ExpressionEditorDisplayNameProvider.create(dataSourceBrowser, dataSourceBrowser, dashboardItem.dataSource(), dashboardItem.dataMember());\n        var collectionEditorOptions = {\n            options: ko.observable(expressionOptions),\n            fieldListProvider: ko.observable(itemsProvider),\n            displayNameProvider: displayNameProvider\n        };\n        wrapper.addProperty(ko.observable(), { propertyName: 'expressionOptions', displayName: 'DashboardStringId.CalculationTypeExpression', formAdapterItem: _form_adapter_editors_1.calculationExpressionEditor(collectionEditorOptions) });\n        tab.tabModel(wrapper);\n    };\n    return CalculationPropertiesComposer;\n}());\nexports.CalculationPropertiesComposer = CalculationPropertiesComposer;\nfunction getCalculationArgumentExpression(measure, dashboardItem, dataFieldProvider) {\n    var deferred = _jquery_helpers_1.createJQueryDeferred();\n    var summaryExpression = _helpers_2.getSummaryExpression(measure.dataMember(), measure.summaryType());\n    if (!measure.filterString())\n        return deferred.resolve(summaryExpression).promise();\n    _helpers_1.getDimensionsExpressions(dashboardItem, dataFieldProvider)\n        .done(function (dimnensionsExpressions) {\n        var patchedExpression = _expression_utils_1.insertDimensionsExpressionsIntoFilterExpression(measure.filterString(), dimnensionsExpressions);\n        deferred.resolve(\"filter(\" + summaryExpression + \", \" + patchedExpression + \")\");\n    });\n    return deferred.promise();\n}\nexports.getCalculationArgumentExpression = getCalculationArgumentExpression;\n"]},"metadata":{},"sourceType":"script"}