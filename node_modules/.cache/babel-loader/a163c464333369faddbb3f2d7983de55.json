{"ast":null,"code":"/**\n* DevExpress Analytics (query-builder\\dataSource\\json\\jsonSchemaProvider.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.JsonSchemaProvider = void 0;\n\nvar $ = require(\"jquery\");\n\nvar utils_1 = require(\"../../../serializer/utils\");\n\nvar requestwrapper_1 = require(\"../../utils/requestwrapper\");\n\nvar _jsonSchemaProvider_1 = require(\"./_jsonSchemaProvider\");\n\nvar JsonSchemaProvider = function (_super) {\n  __extends(JsonSchemaProvider, _super);\n\n  function JsonSchemaProvider(jsonDataSource, _requestWrapper) {\n    if (_requestWrapper === void 0) {\n      _requestWrapper = new requestwrapper_1.RequestWrapper();\n    }\n\n    var _this = _super.call(this) || this;\n\n    _this._requestWrapper = _requestWrapper;\n    _this._jsonDataSource = jsonDataSource;\n\n    _this._disposables.push(_this._jsonDataSource.source.sourceType.subscribe(function () {\n      _this._jsonSchemaPromise = null;\n    }));\n\n    _this.getItems = function (pathRequest) {\n      var getItemsDeferred = $.Deferred();\n      var loadSchemaPromise = !_this._jsonSchema ? _this.getJsonSchema() : $.Deferred().resolve(_this._jsonSchema).promise();\n      loadSchemaPromise.done(function (jsonSchema) {\n        _this._jsonSchema = jsonSchema;\n\n        var schemaByPath = _this.getSchemaByPath(pathRequest, jsonSchema);\n\n        getItemsDeferred.resolve(schemaByPath);\n      }).fail(getItemsDeferred.reject);\n      return getItemsDeferred.promise();\n    };\n\n    return _this;\n  }\n\n  JsonSchemaProvider.prototype.reset = function () {\n    this._jsonSchemaPromise = null;\n  };\n\n  JsonSchemaProvider.prototype.mapToDataMemberContract = function (nodes) {\n    return $.map(nodes || [], function (node) {\n      var dataMemberInfo = {\n        name: node.name(),\n        displayName: node.displayName || node.name(),\n        isSelected: node.selected(),\n        isList: node.nodes && node.nodes.length > 0,\n        specifics: 'table',\n        dragData: {\n          noDragable: false\n        }\n      };\n      return dataMemberInfo;\n    });\n  };\n\n  JsonSchemaProvider.prototype.getSchemaByPath = function (pathRequest, jsonSchema) {\n    if (!pathRequest.fullPath) {\n      return this.mapToDataMemberContract(jsonSchema.nodes);\n    } else {\n      var currentNodes = jsonSchema.nodes;\n\n      for (var i = 0; i < pathRequest.pathParts.length; i++) {\n        var pathPart = (currentNodes || []).filter(function (node) {\n          return node.name() == pathRequest.pathParts[i];\n        })[0];\n        if (!pathPart) return [];\n        currentNodes = pathPart.nodes;\n      }\n\n      return this.mapToDataMemberContract(currentNodes);\n    }\n  };\n\n  JsonSchemaProvider.prototype.getJsonSchema = function (parameters) {\n    if (parameters === void 0) {\n      parameters = [];\n    }\n\n    if (!this._jsonSchemaPromise || this._jsonSchemaPromise.state() === 'rejected') this._jsonSchemaPromise = _jsonSchemaProvider_1.getJsonSchemaCallback(this._requestWrapper, this._jsonDataSource, parameters);\n    return this._jsonSchemaPromise;\n  };\n\n  return JsonSchemaProvider;\n}(utils_1.Disposable);\n\nexports.JsonSchemaProvider = JsonSchemaProvider;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/query-builder/dataSource/json/jsonSchemaProvider.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","JsonSchemaProvider","$","require","utils_1","requestwrapper_1","_jsonSchemaProvider_1","_super","jsonDataSource","_requestWrapper","RequestWrapper","_this","_jsonDataSource","_disposables","push","source","sourceType","subscribe","_jsonSchemaPromise","getItems","pathRequest","getItemsDeferred","Deferred","loadSchemaPromise","_jsonSchema","getJsonSchema","resolve","promise","done","jsonSchema","schemaByPath","getSchemaByPath","fail","reject","reset","mapToDataMemberContract","nodes","map","node","dataMemberInfo","name","displayName","isSelected","selected","isList","length","specifics","dragData","noDragable","fullPath","currentNodes","i","pathParts","pathPart","filter","parameters","state","getJsonSchemaCallback","Disposable"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (query-builder\\dataSource\\json\\jsonSchemaProvider.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonSchemaProvider = void 0;\nvar $ = require(\"jquery\");\nvar utils_1 = require(\"../../../serializer/utils\");\nvar requestwrapper_1 = require(\"../../utils/requestwrapper\");\nvar _jsonSchemaProvider_1 = require(\"./_jsonSchemaProvider\");\nvar JsonSchemaProvider = (function (_super) {\n    __extends(JsonSchemaProvider, _super);\n    function JsonSchemaProvider(jsonDataSource, _requestWrapper) {\n        if (_requestWrapper === void 0) { _requestWrapper = new requestwrapper_1.RequestWrapper(); }\n        var _this = _super.call(this) || this;\n        _this._requestWrapper = _requestWrapper;\n        _this._jsonDataSource = jsonDataSource;\n        _this._disposables.push(_this._jsonDataSource.source.sourceType.subscribe(function () {\n            _this._jsonSchemaPromise = null;\n        }));\n        _this.getItems = function (pathRequest) {\n            var getItemsDeferred = $.Deferred();\n            var loadSchemaPromise = !_this._jsonSchema ? _this.getJsonSchema() : $.Deferred().resolve(_this._jsonSchema).promise();\n            loadSchemaPromise\n                .done(function (jsonSchema) {\n                _this._jsonSchema = jsonSchema;\n                var schemaByPath = _this.getSchemaByPath(pathRequest, jsonSchema);\n                getItemsDeferred.resolve(schemaByPath);\n            })\n                .fail(getItemsDeferred.reject);\n            return getItemsDeferred.promise();\n        };\n        return _this;\n    }\n    JsonSchemaProvider.prototype.reset = function () {\n        this._jsonSchemaPromise = null;\n    };\n    JsonSchemaProvider.prototype.mapToDataMemberContract = function (nodes) {\n        return $.map((nodes || []), function (node) {\n            var dataMemberInfo = {\n                name: node.name(),\n                displayName: node.displayName || node.name(),\n                isSelected: node.selected(),\n                isList: node.nodes && node.nodes.length > 0,\n                specifics: 'table',\n                dragData: { noDragable: false }\n            };\n            return dataMemberInfo;\n        });\n    };\n    JsonSchemaProvider.prototype.getSchemaByPath = function (pathRequest, jsonSchema) {\n        if (!pathRequest.fullPath) {\n            return this.mapToDataMemberContract(jsonSchema.nodes);\n        }\n        else {\n            var currentNodes = jsonSchema.nodes;\n            for (var i = 0; i < pathRequest.pathParts.length; i++) {\n                var pathPart = (currentNodes || []).filter(function (node) { return node.name() == pathRequest.pathParts[i]; })[0];\n                if (!pathPart)\n                    return [];\n                currentNodes = pathPart.nodes;\n            }\n            return this.mapToDataMemberContract(currentNodes);\n        }\n    };\n    JsonSchemaProvider.prototype.getJsonSchema = function (parameters) {\n        if (parameters === void 0) { parameters = []; }\n        if (!this._jsonSchemaPromise || this._jsonSchemaPromise.state() === 'rejected')\n            this._jsonSchemaPromise = _jsonSchemaProvider_1.getJsonSchemaCallback(this._requestWrapper, this._jsonDataSource, parameters);\n        return this._jsonSchemaPromise;\n    };\n    return JsonSchemaProvider;\n}(utils_1.Disposable));\nexports.JsonSchemaProvider = JsonSchemaProvider;\n"]},"metadata":{},"sourceType":"script"}