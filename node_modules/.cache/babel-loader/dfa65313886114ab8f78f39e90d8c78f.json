{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/html_editor/modules/imageCursor.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport Quill from \"devextreme-quill\";\nimport BaseModule from \"./base\";\nimport eventsEngine from \"../../../events/core/events_engine\";\nimport { addNamespace } from \"../../../events/utils/index\";\nvar MODULE_NAMESPACE = \"dxHtmlEditorImageCursor\";\nvar clickEvent = addNamespace(\"dxclick\", MODULE_NAMESPACE);\nvar ImageCursorModule = BaseModule;\n\nif (Quill) {\n  ImageCursorModule = class extends BaseModule {\n    constructor(quill, options) {\n      super(quill, options);\n      this.addCleanCallback(this.clean.bind(this));\n\n      this._attachEvents();\n    }\n\n    _attachEvents() {\n      eventsEngine.on(this.quill.root, clickEvent, this._clickHandler.bind(this));\n    }\n\n    _detachEvents() {\n      eventsEngine.off(this.quill.root, clickEvent);\n    }\n\n    _clickHandler(e) {\n      if (this._isAllowedTarget(e.target)) {\n        this._adjustSelection(e);\n      }\n    }\n\n    _isAllowedTarget(targetElement) {\n      return this._isImage(targetElement);\n    }\n\n    _isImage(targetElement) {\n      return \"IMG\" === targetElement.tagName.toUpperCase();\n    }\n\n    _adjustSelection(e) {\n      var blot = this.quill.scroll.find(e.target);\n\n      if (blot) {\n        var index = blot.offset(this.quill.scroll);\n        this.quill.setSelection(index + 1, 0);\n      } else {\n        this.quill.setSelection(0, 0);\n      }\n    }\n\n    clean() {\n      this._detachEvents();\n    }\n\n  };\n}\n\nexport default ImageCursorModule;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devextreme/esm/ui/html_editor/modules/imageCursor.js"],"names":["Quill","BaseModule","eventsEngine","addNamespace","MODULE_NAMESPACE","clickEvent","ImageCursorModule","constructor","quill","options","addCleanCallback","clean","bind","_attachEvents","on","root","_clickHandler","_detachEvents","off","e","_isAllowedTarget","target","_adjustSelection","targetElement","_isImage","tagName","toUpperCase","blot","scroll","find","index","offset","setSelection"],"mappings":"AAAA;;;;;;;;AAQA,OAAOA,KAAP,MAAkB,kBAAlB;AACA,OAAOC,UAAP,MAAuB,QAAvB;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,SACIC,YADJ,QAEO,6BAFP;AAGA,IAAIC,gBAAgB,GAAG,yBAAvB;AACA,IAAIC,UAAU,GAAGF,YAAY,CAAC,SAAD,EAAYC,gBAAZ,CAA7B;AACA,IAAIE,iBAAiB,GAAGL,UAAxB;;AACA,IAAID,KAAJ,EAAW;AACPM,EAAAA,iBAAiB,GAAG,cAAcL,UAAd,CAAyB;AACzCM,IAAAA,WAAW,CAACC,KAAD,EAAQC,OAAR,EAAiB;AACxB,YAAMD,KAAN,EAAaC,OAAb;AACA,WAAKC,gBAAL,CAAsB,KAAKC,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAtB;;AACA,WAAKC,aAAL;AACH;;AACDA,IAAAA,aAAa,GAAG;AACZX,MAAAA,YAAY,CAACY,EAAb,CAAgB,KAAKN,KAAL,CAAWO,IAA3B,EAAiCV,UAAjC,EAA6C,KAAKW,aAAL,CAAmBJ,IAAnB,CAAwB,IAAxB,CAA7C;AACH;;AACDK,IAAAA,aAAa,GAAG;AACZf,MAAAA,YAAY,CAACgB,GAAb,CAAiB,KAAKV,KAAL,CAAWO,IAA5B,EAAkCV,UAAlC;AACH;;AACDW,IAAAA,aAAa,CAACG,CAAD,EAAI;AACb,UAAI,KAAKC,gBAAL,CAAsBD,CAAC,CAACE,MAAxB,CAAJ,EAAqC;AACjC,aAAKC,gBAAL,CAAsBH,CAAtB;AACH;AACJ;;AACDC,IAAAA,gBAAgB,CAACG,aAAD,EAAgB;AAC5B,aAAO,KAAKC,QAAL,CAAcD,aAAd,CAAP;AACH;;AACDC,IAAAA,QAAQ,CAACD,aAAD,EAAgB;AACpB,aAAO,UAAUA,aAAa,CAACE,OAAd,CAAsBC,WAAtB,EAAjB;AACH;;AACDJ,IAAAA,gBAAgB,CAACH,CAAD,EAAI;AAChB,UAAIQ,IAAI,GAAG,KAAKnB,KAAL,CAAWoB,MAAX,CAAkBC,IAAlB,CAAuBV,CAAC,CAACE,MAAzB,CAAX;;AACA,UAAIM,IAAJ,EAAU;AACN,YAAIG,KAAK,GAAGH,IAAI,CAACI,MAAL,CAAY,KAAKvB,KAAL,CAAWoB,MAAvB,CAAZ;AACA,aAAKpB,KAAL,CAAWwB,YAAX,CAAwBF,KAAK,GAAG,CAAhC,EAAmC,CAAnC;AACH,OAHD,MAGO;AACH,aAAKtB,KAAL,CAAWwB,YAAX,CAAwB,CAAxB,EAA2B,CAA3B;AACH;AACJ;;AACDrB,IAAAA,KAAK,GAAG;AACJ,WAAKM,aAAL;AACH;;AAlCwC,GAA7C;AAoCH;;AACD,eAAeX,iBAAf","sourcesContent":["/**\r\n * DevExtreme (esm/ui/html_editor/modules/imageCursor.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Quill from \"devextreme-quill\";\r\nimport BaseModule from \"./base\";\r\nimport eventsEngine from \"../../../events/core/events_engine\";\r\nimport {\r\n    addNamespace\r\n} from \"../../../events/utils/index\";\r\nvar MODULE_NAMESPACE = \"dxHtmlEditorImageCursor\";\r\nvar clickEvent = addNamespace(\"dxclick\", MODULE_NAMESPACE);\r\nvar ImageCursorModule = BaseModule;\r\nif (Quill) {\r\n    ImageCursorModule = class extends BaseModule {\r\n        constructor(quill, options) {\r\n            super(quill, options);\r\n            this.addCleanCallback(this.clean.bind(this));\r\n            this._attachEvents()\r\n        }\r\n        _attachEvents() {\r\n            eventsEngine.on(this.quill.root, clickEvent, this._clickHandler.bind(this))\r\n        }\r\n        _detachEvents() {\r\n            eventsEngine.off(this.quill.root, clickEvent)\r\n        }\r\n        _clickHandler(e) {\r\n            if (this._isAllowedTarget(e.target)) {\r\n                this._adjustSelection(e)\r\n            }\r\n        }\r\n        _isAllowedTarget(targetElement) {\r\n            return this._isImage(targetElement)\r\n        }\r\n        _isImage(targetElement) {\r\n            return \"IMG\" === targetElement.tagName.toUpperCase()\r\n        }\r\n        _adjustSelection(e) {\r\n            var blot = this.quill.scroll.find(e.target);\r\n            if (blot) {\r\n                var index = blot.offset(this.quill.scroll);\r\n                this.quill.setSelection(index + 1, 0)\r\n            } else {\r\n                this.quill.setSelection(0, 0)\r\n            }\r\n        }\r\n        clean() {\r\n            this._detachEvents()\r\n        }\r\n    }\r\n}\r\nexport default ImageCursorModule;\r\n"]},"metadata":{},"sourceType":"module"}