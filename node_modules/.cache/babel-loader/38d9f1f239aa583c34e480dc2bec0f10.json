{"ast":null,"code":"/**\r\n * DevExtreme (esm/viz/gauges/common.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { BaseGauge, compareArrays as _compareArrays } from \"./base_gauge\";\nimport { isDefined as _isDefined, isNumeric as _isNumber } from \"../../core/utils/type\";\nimport { extend } from \"../../core/utils/extend\";\nvar _isArray = Array.isArray;\nimport { Axis } from \"../axes/base_axis\";\nimport { map as _map, normalizeEnum as _normalizeEnum } from \"../core/utils\";\nvar _isFinite = isFinite;\nvar _Number = Number;\nvar _min = Math.min;\nvar _max = Math.max;\nvar _extend = extend;\nimport { noop as _noop } from \"../../core/utils/common\";\nvar SHIFT_ANGLE = 90;\nvar OPTION_VALUE = \"value\";\nvar OPTION_SUBVALUES = \"subvalues\";\nvar DEFAULT_MINOR_AXIS_DIVISION_FACTOR = 5;\nvar DEFAULT_NUMBER_MULTIPLIERS = [1, 2, 5];\n\nfunction processValue(value, fallbackValue) {\n  if (null === value) {\n    return value;\n  }\n\n  return _isFinite(value) ? _Number(value) : fallbackValue;\n}\n\nfunction parseArrayOfNumbers(arg) {\n  return _isArray(arg) ? arg : _isNumber(arg) ? [arg] : null;\n}\n\nexport var dxGauge = BaseGauge.inherit({\n  _initCore: function () {\n    var that = this;\n    var renderer = that._renderer;\n\n    that._setupValue(that.option(OPTION_VALUE));\n\n    that.__subvalues = parseArrayOfNumbers(that.option(OPTION_SUBVALUES));\n\n    that._setupSubvalues(that.__subvalues);\n\n    selectMode(that);\n    that.callBase.apply(that, arguments);\n    that._rangeContainer = new that._factory.RangeContainer({\n      renderer: renderer,\n      container: renderer.root,\n      translator: that._translator,\n      themeManager: that._themeManager\n    });\n\n    that._initScale();\n\n    that._subvalueIndicatorContainer = that._renderer.g().attr({\n      class: \"dxg-subvalue-indicators\"\n    }).linkOn(that._renderer.root, \"valueIndicator\").enableLinks();\n  },\n  _fontFields: [\"scale.label.font\", \"valueIndicators.rangebar.text.font\", \"valueIndicators.textcloud.text.font\", \"indicator.text.font\"],\n  _initScale: function () {\n    this._scaleGroup = this._renderer.g().attr({\n      class: \"dxg-scale\"\n    }).linkOn(this._renderer.root, \"scale\");\n    this._labelsAxesGroup = this._renderer.g().attr({\n      class: \"dxg-scale-elements\"\n    }).linkOn(this._renderer.root, \"scale-elements\");\n    this._scale = new Axis({\n      incidentOccurred: this._incidentOccurred,\n      renderer: this._renderer,\n      axesContainerGroup: this._scaleGroup,\n      labelsAxesGroup: this._labelsAxesGroup,\n      axisType: this._scaleTypes.type,\n      drawingType: this._scaleTypes.drawingType,\n      widgetClass: \"dxg\",\n\n      getTemplate() {}\n\n    });\n  },\n  _disposeCore: function () {\n    var that = this;\n    that.callBase.apply(that, arguments);\n\n    that._scale.dispose();\n\n    that._scaleGroup.linkOff();\n\n    that._labelsAxesGroup.linkOff();\n\n    that._rangeContainer.dispose();\n\n    that._disposeValueIndicators();\n\n    that._subvalueIndicatorContainer.linkOff();\n\n    that._scale = that._scaleGroup = that._labelsAxesGroup = that._rangeContainer = null;\n  },\n  _disposeValueIndicators: function () {\n    this._valueIndicator && this._valueIndicator.dispose();\n    this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.dispose();\n    this._valueIndicator = this._subvalueIndicatorsSet = null;\n  },\n  _setupDomainCore: function () {\n    var scaleOption = this.option(\"scale\") || {};\n    var startValue = this.option(\"startValue\");\n    var endValue = this.option(\"endValue\");\n    startValue = _isNumber(startValue) ? _Number(startValue) : _isNumber(scaleOption.startValue) ? _Number(scaleOption.startValue) : 0;\n    endValue = _isNumber(endValue) ? _Number(endValue) : _isNumber(scaleOption.endValue) ? _Number(scaleOption.endValue) : 100;\n    this._baseValue = startValue < endValue ? startValue : endValue;\n\n    this._translator.setDomain(startValue, endValue);\n  },\n  _cleanContent: function () {\n    this._rangeContainer.clean();\n\n    this._cleanValueIndicators();\n  },\n  _measureScale: function (scaleOptions) {\n    var majorTick = scaleOptions.tick;\n    var majorTickEnabled = majorTick.visible && majorTick.length > 0 && majorTick.width > 0;\n    var minorTick = scaleOptions.minorTick;\n    var minorTickEnabled = minorTick.visible && minorTick.length > 0 && minorTick.width > 0;\n    var label = scaleOptions.label;\n    var indentFromTick = Number(label.indentFromTick);\n\n    if (!majorTickEnabled && !minorTickEnabled && !label.visible) {\n      return {};\n    }\n\n    var textParams = this._scale.measureLabels(extend({}, this._canvas));\n\n    var layoutValue = this._getScaleLayoutValue();\n\n    var result = {\n      min: layoutValue,\n      max: layoutValue\n    };\n\n    var coefs = this._getTicksCoefficients(scaleOptions);\n\n    var innerCoef = coefs.inner;\n    var outerCoef = coefs.outer;\n\n    if (majorTickEnabled) {\n      result.min = _min(result.min, layoutValue - innerCoef * majorTick.length);\n      result.max = _max(result.max, layoutValue + outerCoef * majorTick.length);\n    }\n\n    if (minorTickEnabled) {\n      result.min = _min(result.min, layoutValue - innerCoef * minorTick.length);\n      result.max = _max(result.max, layoutValue + outerCoef * minorTick.length);\n    }\n\n    label.visible && this._correctScaleIndents(result, indentFromTick, textParams);\n    return result;\n  },\n  _renderContent: function () {\n    var that = this;\n\n    var scaleOptions = that._prepareScaleSettings();\n\n    that._rangeContainer.render(_extend(that._getOption(\"rangeContainer\"), {\n      vertical: that._area.vertical\n    }));\n\n    that._renderScale(scaleOptions);\n\n    that._subvalueIndicatorContainer.linkAppend();\n\n    var elements = _map([that._rangeContainer].concat(that._prepareValueIndicators()), function (element) {\n      return element && element.enabled ? element : null;\n    });\n\n    that._applyMainLayout(elements, that._measureScale(scaleOptions));\n\n    elements.forEach(element => element.resize(that._getElementLayout(element.getOffset())));\n\n    that._shiftScale(that._getElementLayout(0), scaleOptions);\n\n    that._beginValueChanging();\n\n    that._updateActiveElements();\n\n    that._endValueChanging();\n  },\n  _prepareScaleSettings: function () {\n    var that = this;\n    var userOptions = that.option(\"scale\");\n    var scaleOptions = extend(true, {}, that._themeManager.theme(\"scale\"), userOptions);\n    scaleOptions.label.indentFromAxis = 0;\n    scaleOptions.isHorizontal = !that._area.vertical;\n    scaleOptions.forceUserTickInterval |= _isDefined(userOptions) && _isDefined(userOptions.tickInterval) && !_isDefined(userOptions.scaleDivisionFactor);\n    scaleOptions.axisDivisionFactor = scaleOptions.scaleDivisionFactor || that._gridSpacingFactor;\n    scaleOptions.minorAxisDivisionFactor = scaleOptions.minorScaleDivisionFactor || DEFAULT_MINOR_AXIS_DIVISION_FACTOR;\n    scaleOptions.numberMultipliers = DEFAULT_NUMBER_MULTIPLIERS;\n    scaleOptions.tickOrientation = that._getTicksOrientation(scaleOptions);\n\n    if (scaleOptions.label.useRangeColors) {\n      scaleOptions.label.customizeColor = function () {\n        return that._rangeContainer.getColorForValue(this.value);\n      };\n    }\n\n    return scaleOptions;\n  },\n  _renderScale: function (scaleOptions) {\n    var bounds = this._translator.getDomain();\n\n    var startValue = bounds[0];\n    var endValue = bounds[1];\n\n    var angles = this._translator.getCodomain();\n\n    var invert = !!(startValue > endValue ^ scaleOptions.inverted);\n\n    var min = _min(startValue, endValue);\n\n    var max = _max(startValue, endValue);\n\n    scaleOptions.min = min;\n    scaleOptions.max = max;\n    scaleOptions.startAngle = SHIFT_ANGLE - angles[0];\n    scaleOptions.endAngle = SHIFT_ANGLE - angles[1];\n    scaleOptions.skipViewportExtending = true;\n    scaleOptions.inverted = invert;\n\n    this._scale.updateOptions(scaleOptions);\n\n    this._scale.setBusinessRange({\n      axisType: \"continuous\",\n      dataType: \"numeric\",\n      min: min,\n      max: max,\n      invert: invert\n    });\n\n    this._updateScaleTickIndent(scaleOptions);\n\n    this._scaleGroup.linkAppend();\n\n    this._labelsAxesGroup.linkAppend();\n\n    this._scale.draw(extend({}, this._canvas));\n  },\n  _updateIndicatorSettings: function (settings) {\n    settings.currentValue = settings.baseValue = _isFinite(this._translator.translate(settings.baseValue)) ? _Number(settings.baseValue) : this._baseValue;\n    settings.vertical = this._area.vertical;\n\n    if (settings.text && !settings.text.format) {\n      settings.text.format = this._defaultFormatOptions;\n    }\n  },\n  _prepareIndicatorSettings: function (options, defaultTypeField) {\n    var theme = this._themeManager.theme(\"valueIndicators\");\n\n    var type = _normalizeEnum(options.type || this._themeManager.theme(defaultTypeField));\n\n    var settings = _extend(true, {}, theme._default, theme[type], options);\n\n    settings.type = type;\n    settings.animation = this._animationSettings;\n    settings.containerBackgroundColor = this._containerBackgroundColor;\n\n    this._updateIndicatorSettings(settings);\n\n    return settings;\n  },\n  _cleanValueIndicators: function () {\n    this._valueIndicator && this._valueIndicator.clean();\n    this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.clean();\n  },\n  _prepareValueIndicators: function () {\n    this._prepareValueIndicator();\n\n    null !== this.__subvalues && this._prepareSubvalueIndicators();\n    return [this._valueIndicator, this._subvalueIndicatorsSet];\n  },\n  _updateActiveElements: function () {\n    this._updateValueIndicator();\n\n    this._updateSubvalueIndicators();\n  },\n  _prepareValueIndicator: function () {\n    var target = this._valueIndicator;\n\n    var settings = this._prepareIndicatorSettings(this.option(\"valueIndicator\") || {}, \"valueIndicatorType\");\n\n    if (target && target.type !== settings.type) {\n      target.dispose();\n      target = null;\n    }\n\n    if (!target) {\n      target = this._valueIndicator = this._createIndicator(settings.type, this._renderer.root, \"dxg-value-indicator\", \"value-indicator\");\n    }\n\n    target.render(settings);\n  },\n  _createSubvalueIndicatorsSet: function () {\n    var that = this;\n    var root = that._subvalueIndicatorContainer;\n    return new ValueIndicatorsSet({\n      createIndicator: function (type, i) {\n        return that._createIndicator(type, root, \"dxg-subvalue-indicator\", \"subvalue-indicator\", i);\n      },\n      createPalette: function (palette) {\n        return that._themeManager.createPalette(palette);\n      }\n    });\n  },\n  _prepareSubvalueIndicators: function () {\n    var target = this._subvalueIndicatorsSet;\n\n    var settings = this._prepareIndicatorSettings(this.option(\"subvalueIndicator\") || {}, \"subvalueIndicatorType\");\n\n    if (!target) {\n      target = this._subvalueIndicatorsSet = this._createSubvalueIndicatorsSet();\n    }\n\n    var isRecreate = settings.type !== target.type;\n    target.type = settings.type;\n\n    var dummy = this._createIndicator(settings.type, this._renderer.root);\n\n    if (dummy) {\n      dummy.dispose();\n      target.render(settings, isRecreate);\n    }\n  },\n  _setupValue: function (value) {\n    this.__value = processValue(value, this.__value);\n  },\n  _setupSubvalues: function (subvalues) {\n    var vals = void 0 === subvalues ? this.__subvalues : parseArrayOfNumbers(subvalues);\n    var i;\n    var ii;\n    var list;\n\n    if (null === vals) {\n      return;\n    }\n\n    for (i = 0, ii = vals.length, list = []; i < ii; ++i) {\n      list.push(processValue(vals[i], this.__subvalues[i]));\n    }\n\n    this.__subvalues = list;\n  },\n  _updateValueIndicator: function () {\n    this._valueIndicator && this._valueIndicator.value(this.__value, this._noAnimation);\n  },\n  _updateSubvalueIndicators: function () {\n    this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.values(this.__subvalues, this._noAnimation);\n  },\n  value: function (arg) {\n    if (void 0 !== arg) {\n      this._changeValue(arg);\n\n      return this;\n    }\n\n    return this.__value;\n  },\n  subvalues: function (arg) {\n    if (void 0 !== arg) {\n      this._changeSubvalues(arg);\n\n      return this;\n    }\n\n    return null !== this.__subvalues ? this.__subvalues.slice() : void 0;\n  },\n  _changeValue: function (value) {\n    this._setupValue(value);\n\n    this._beginValueChanging();\n\n    this._updateValueIndicator();\n\n    if (this.__value !== this.option(OPTION_VALUE)) {\n      this.option(OPTION_VALUE, this.__value);\n    }\n\n    this._endValueChanging();\n  },\n  _changeSubvalues: function (subvalues) {\n    if (null !== this.__subvalues) {\n      this._setupSubvalues(subvalues);\n\n      this._beginValueChanging();\n\n      this._updateSubvalueIndicators();\n\n      this._endValueChanging();\n    } else {\n      this.__subvalues = parseArrayOfNumbers(subvalues);\n\n      this._setContentSize();\n\n      this._renderContent();\n    }\n\n    if (!_compareArrays(this.__subvalues, this.option(OPTION_SUBVALUES))) {\n      this.option(OPTION_SUBVALUES, this.__subvalues);\n    }\n  },\n  _optionChangesMap: {\n    scale: \"DOMAIN\",\n    rangeContainer: \"MOSTLY_TOTAL\",\n    valueIndicator: \"MOSTLY_TOTAL\",\n    subvalueIndicator: \"MOSTLY_TOTAL\",\n    containerBackgroundColor: \"MOSTLY_TOTAL\",\n    value: \"VALUE\",\n    subvalues: \"SUBVALUES\",\n    valueIndicators: \"MOSTLY_TOTAL\"\n  },\n  _customChangesOrder: [\"VALUE\", \"SUBVALUES\"],\n  _change_VALUE: function () {\n    this._changeValue(this.option(OPTION_VALUE));\n  },\n  _change_SUBVALUES: function () {\n    this._changeSubvalues(this.option(OPTION_SUBVALUES));\n  },\n  _applyMainLayout: null,\n  _getElementLayout: null,\n  _createIndicator: function (type, owner, className, trackerType, trackerIndex, _strict) {\n    var indicator = this._factory.createIndicator({\n      renderer: this._renderer,\n      translator: this._translator,\n      owner: owner,\n      tracker: this._tracker,\n      className: className\n    }, type, _strict);\n\n    if (indicator) {\n      indicator.type = type;\n      indicator._trackerInfo = {\n        type: trackerType,\n        index: trackerIndex\n      };\n    }\n\n    return indicator;\n  },\n  _getApproximateScreenRange: null\n});\n\nfunction valueGetter(arg) {\n  return arg ? arg.value : null;\n}\n\nfunction setupValues(that, fieldName, optionItems) {\n  var currentValues = that[fieldName];\n  var newValues = _isArray(optionItems) ? _map(optionItems, valueGetter) : [];\n  var i = 0;\n  var ii = newValues.length;\n  var list = [];\n\n  for (; i < ii; ++i) {\n    list.push(processValue(newValues[i], currentValues[i]));\n  }\n\n  that[fieldName] = list;\n}\n\nfunction selectMode(gauge) {\n  if (void 0 === gauge.option(OPTION_VALUE) && void 0 === gauge.option(OPTION_SUBVALUES)) {\n    if (void 0 !== gauge.option(\"valueIndicators\")) {\n      disableDefaultMode(gauge);\n      selectHardMode(gauge);\n    }\n  }\n}\n\nfunction disableDefaultMode(that) {\n  that.value = that.subvalues = _noop;\n  that._setupValue = that._setupSubvalues = that._updateValueIndicator = that._updateSubvalueIndicators = null;\n}\n\nfunction selectHardMode(that) {\n  that._indicatorValues = [];\n  setupValues(that, \"_indicatorValues\", that.option(\"valueIndicators\"));\n  that._valueIndicators = [];\n  var _applyMostlyTotalChange = that._applyMostlyTotalChange;\n\n  that._applyMostlyTotalChange = function () {\n    setupValues(this, \"_indicatorValues\", this.option(\"valueIndicators\"));\n\n    _applyMostlyTotalChange.call(this);\n  };\n\n  that._updateActiveElements = updateActiveElements_hardMode;\n  that._prepareValueIndicators = prepareValueIndicators_hardMode;\n  that._disposeValueIndicators = disposeValueIndicators_hardMode;\n  that._cleanValueIndicators = cleanValueIndicators_hardMode;\n  that.indicatorValue = indicatorValue_hardMode;\n}\n\nfunction updateActiveElements_hardMode() {\n  var that = this;\n\n  that._valueIndicators.forEach(valueIndicator => {\n    valueIndicator.value(that._indicatorValues[valueIndicator.index], that._noAnimation);\n  });\n}\n\nfunction prepareValueIndicators_hardMode() {\n  var that = this;\n  var valueIndicators = that._valueIndicators || [];\n  var userOptions = that.option(\"valueIndicators\");\n  var optionList = [];\n  var i = 0;\n  var ii;\n\n  for (ii = _isArray(userOptions) ? userOptions.length : 0; i < ii; ++i) {\n    optionList.push(userOptions[i]);\n  }\n\n  for (ii = valueIndicators.length; i < ii; ++i) {\n    optionList.push(null);\n  }\n\n  var newValueIndicators = [];\n  optionList.forEach((userSettings, i) => {\n    var valueIndicator = valueIndicators[i];\n\n    if (!userSettings) {\n      valueIndicator && valueIndicator.dispose();\n      return;\n    }\n\n    var settings = that._prepareIndicatorSettings(userSettings, \"valueIndicatorType\");\n\n    if (valueIndicator && valueIndicator.type !== settings.type) {\n      valueIndicator.dispose();\n      valueIndicator = null;\n    }\n\n    if (!valueIndicator) {\n      valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\", i, true);\n    }\n\n    if (valueIndicator) {\n      valueIndicator.index = i;\n      valueIndicator.render(settings);\n      newValueIndicators.push(valueIndicator);\n    }\n  });\n  that._valueIndicators = newValueIndicators;\n  return that._valueIndicators;\n}\n\nfunction disposeValueIndicators_hardMode() {\n  this._valueIndicators.forEach(valueIndicator => valueIndicator.dispose());\n\n  this._valueIndicators = null;\n}\n\nfunction cleanValueIndicators_hardMode() {\n  this._valueIndicators.forEach(valueIndicator => valueIndicator.clean());\n}\n\nfunction indicatorValue_hardMode(index, value) {\n  return accessPointerValue(this, this._valueIndicators, this._indicatorValues, index, value);\n}\n\nfunction accessPointerValue(that, pointers, values, index, value) {\n  if (void 0 !== value) {\n    if (void 0 !== values[index]) {\n      values[index] = processValue(value, values[index]);\n      pointers[index] && pointers[index].value(values[index]);\n    }\n\n    return that;\n  } else {\n    return values[index];\n  }\n}\n\nfunction ValueIndicatorsSet(parameters) {\n  this._parameters = parameters;\n  this._indicators = [];\n}\n\nValueIndicatorsSet.prototype = {\n  constructor: ValueIndicatorsSet,\n  dispose: function () {\n    this._indicators.forEach(indicator => indicator.dispose());\n\n    this._parameters = this._options = this._indicators = this._colorPalette = this._palette = null;\n    return this;\n  },\n  clean: function () {\n    this._sample && this._sample.clean().dispose();\n\n    this._indicators.forEach(indicator => indicator.clean());\n\n    this._sample = this._options = this._palette = null;\n    return this;\n  },\n  render: function (options, isRecreate) {\n    var that = this;\n    that._options = options;\n    that._sample = that._parameters.createIndicator(that.type);\n\n    that._sample.render(options);\n\n    that.enabled = that._sample.enabled;\n    that._palette = _isDefined(options.palette) ? that._parameters.createPalette(options.palette) : null;\n\n    if (that.enabled) {\n      that._generatePalette(that._indicators.length);\n\n      that._indicators = _map(that._indicators, function (indicator, i) {\n        if (isRecreate) {\n          indicator.dispose();\n          indicator = that._parameters.createIndicator(that.type, i);\n        }\n\n        indicator.render(that._getIndicatorOptions(i));\n        return indicator;\n      });\n    }\n\n    return that;\n  },\n  getOffset: function () {\n    return this._sample.getOffset();\n  },\n  resize: function (layout) {\n    this._layout = layout;\n\n    this._indicators.forEach(indicator => indicator.resize(layout));\n\n    return this;\n  },\n  measure: function (layout) {\n    return this._sample.measure(layout);\n  },\n  _getIndicatorOptions: function (index) {\n    var result = this._options;\n\n    if (this._colorPalette) {\n      result = _extend({}, result, {\n        color: this._colorPalette[index]\n      });\n    }\n\n    return result;\n  },\n  _generatePalette: function (count) {\n    var colors = null;\n\n    if (this._palette) {\n      this._palette.reset();\n\n      colors = this._palette.generateColors(count, {\n        repeat: true\n      });\n    }\n\n    this._colorPalette = colors;\n  },\n  _adjustIndicatorsCount: function (count) {\n    var indicators = this._indicators;\n    var i;\n    var ii;\n    var indicator;\n    var indicatorsLen = indicators.length;\n\n    if (indicatorsLen > count) {\n      for (i = count, ii = indicatorsLen; i < ii; ++i) {\n        indicators[i].clean().dispose();\n      }\n\n      this._indicators = indicators.slice(0, count);\n\n      this._generatePalette(indicators.length);\n    } else if (indicatorsLen < count) {\n      this._generatePalette(count);\n\n      for (i = indicatorsLen, ii = count; i < ii; ++i) {\n        indicator = this._parameters.createIndicator(this.type, i);\n        indicator.render(this._getIndicatorOptions(i)).resize(this._layout);\n        indicators.push(indicator);\n      }\n    }\n  },\n  values: function (arg, _noAnimation) {\n    if (!this.enabled) {\n      return;\n    }\n\n    if (void 0 !== arg) {\n      if (!_isArray(arg)) {\n        arg = _isFinite(arg) ? [Number(arg)] : null;\n      }\n\n      if (arg) {\n        this._adjustIndicatorsCount(arg.length);\n\n        this._indicators.forEach((indicator, i) => indicator.value(arg[i], _noAnimation));\n      }\n\n      return this;\n    }\n\n    return _map(this._indicators, function (indicator) {\n      return indicator.value();\n    });\n  }\n};\nexport function createIndicatorCreator(indicators) {\n  return function (parameters, type, _strict) {\n    var indicatorType = indicators[_normalizeEnum(type)] || !_strict && indicators._default;\n\n    return indicatorType ? new indicatorType(parameters) : null;\n  };\n}","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devextreme/esm/viz/gauges/common.js"],"names":["BaseGauge","compareArrays","_compareArrays","isDefined","_isDefined","isNumeric","_isNumber","extend","_isArray","Array","isArray","Axis","map","_map","normalizeEnum","_normalizeEnum","_isFinite","isFinite","_Number","Number","_min","Math","min","_max","max","_extend","noop","_noop","SHIFT_ANGLE","OPTION_VALUE","OPTION_SUBVALUES","DEFAULT_MINOR_AXIS_DIVISION_FACTOR","DEFAULT_NUMBER_MULTIPLIERS","processValue","value","fallbackValue","parseArrayOfNumbers","arg","dxGauge","inherit","_initCore","that","renderer","_renderer","_setupValue","option","__subvalues","_setupSubvalues","selectMode","callBase","apply","arguments","_rangeContainer","_factory","RangeContainer","container","root","translator","_translator","themeManager","_themeManager","_initScale","_subvalueIndicatorContainer","g","attr","class","linkOn","enableLinks","_fontFields","_scaleGroup","_labelsAxesGroup","_scale","incidentOccurred","_incidentOccurred","axesContainerGroup","labelsAxesGroup","axisType","_scaleTypes","type","drawingType","widgetClass","getTemplate","_disposeCore","dispose","linkOff","_disposeValueIndicators","_valueIndicator","_subvalueIndicatorsSet","_setupDomainCore","scaleOption","startValue","endValue","_baseValue","setDomain","_cleanContent","clean","_cleanValueIndicators","_measureScale","scaleOptions","majorTick","tick","majorTickEnabled","visible","length","width","minorTick","minorTickEnabled","label","indentFromTick","textParams","measureLabels","_canvas","layoutValue","_getScaleLayoutValue","result","coefs","_getTicksCoefficients","innerCoef","inner","outerCoef","outer","_correctScaleIndents","_renderContent","_prepareScaleSettings","render","_getOption","vertical","_area","_renderScale","linkAppend","elements","concat","_prepareValueIndicators","element","enabled","_applyMainLayout","forEach","resize","_getElementLayout","getOffset","_shiftScale","_beginValueChanging","_updateActiveElements","_endValueChanging","userOptions","theme","indentFromAxis","isHorizontal","forceUserTickInterval","tickInterval","scaleDivisionFactor","axisDivisionFactor","_gridSpacingFactor","minorAxisDivisionFactor","minorScaleDivisionFactor","numberMultipliers","tickOrientation","_getTicksOrientation","useRangeColors","customizeColor","getColorForValue","bounds","getDomain","angles","getCodomain","invert","inverted","startAngle","endAngle","skipViewportExtending","updateOptions","setBusinessRange","dataType","_updateScaleTickIndent","draw","_updateIndicatorSettings","settings","currentValue","baseValue","translate","text","format","_defaultFormatOptions","_prepareIndicatorSettings","options","defaultTypeField","_default","animation","_animationSettings","containerBackgroundColor","_containerBackgroundColor","_prepareValueIndicator","_prepareSubvalueIndicators","_updateValueIndicator","_updateSubvalueIndicators","target","_createIndicator","_createSubvalueIndicatorsSet","ValueIndicatorsSet","createIndicator","i","createPalette","palette","isRecreate","dummy","__value","subvalues","vals","ii","list","push","_noAnimation","values","_changeValue","_changeSubvalues","slice","_setContentSize","_optionChangesMap","scale","rangeContainer","valueIndicator","subvalueIndicator","valueIndicators","_customChangesOrder","_change_VALUE","_change_SUBVALUES","owner","className","trackerType","trackerIndex","_strict","indicator","tracker","_tracker","_trackerInfo","index","_getApproximateScreenRange","valueGetter","setupValues","fieldName","optionItems","currentValues","newValues","gauge","disableDefaultMode","selectHardMode","_indicatorValues","_valueIndicators","_applyMostlyTotalChange","call","updateActiveElements_hardMode","prepareValueIndicators_hardMode","disposeValueIndicators_hardMode","cleanValueIndicators_hardMode","indicatorValue","indicatorValue_hardMode","optionList","newValueIndicators","userSettings","accessPointerValue","pointers","parameters","_parameters","_indicators","prototype","constructor","_options","_colorPalette","_palette","_sample","_generatePalette","_getIndicatorOptions","layout","_layout","measure","color","count","colors","reset","generateColors","repeat","_adjustIndicatorsCount","indicators","indicatorsLen","createIndicatorCreator","indicatorType"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/viz/gauges/common.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    BaseGauge,\r\n    compareArrays as _compareArrays\r\n} from \"./base_gauge\";\r\nimport {\r\n    isDefined as _isDefined,\r\n    isNumeric as _isNumber\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nvar _isArray = Array.isArray;\r\nimport {\r\n    Axis\r\n} from \"../axes/base_axis\";\r\nimport {\r\n    map as _map,\r\n    normalizeEnum as _normalizeEnum\r\n} from \"../core/utils\";\r\nvar _isFinite = isFinite;\r\nvar _Number = Number;\r\nvar _min = Math.min;\r\nvar _max = Math.max;\r\nvar _extend = extend;\r\nimport {\r\n    noop as _noop\r\n} from \"../../core/utils/common\";\r\nvar SHIFT_ANGLE = 90;\r\nvar OPTION_VALUE = \"value\";\r\nvar OPTION_SUBVALUES = \"subvalues\";\r\nvar DEFAULT_MINOR_AXIS_DIVISION_FACTOR = 5;\r\nvar DEFAULT_NUMBER_MULTIPLIERS = [1, 2, 5];\r\n\r\nfunction processValue(value, fallbackValue) {\r\n    if (null === value) {\r\n        return value\r\n    }\r\n    return _isFinite(value) ? _Number(value) : fallbackValue\r\n}\r\n\r\nfunction parseArrayOfNumbers(arg) {\r\n    return _isArray(arg) ? arg : _isNumber(arg) ? [arg] : null\r\n}\r\nexport var dxGauge = BaseGauge.inherit({\r\n    _initCore: function() {\r\n        var that = this;\r\n        var renderer = that._renderer;\r\n        that._setupValue(that.option(OPTION_VALUE));\r\n        that.__subvalues = parseArrayOfNumbers(that.option(OPTION_SUBVALUES));\r\n        that._setupSubvalues(that.__subvalues);\r\n        selectMode(that);\r\n        that.callBase.apply(that, arguments);\r\n        that._rangeContainer = new that._factory.RangeContainer({\r\n            renderer: renderer,\r\n            container: renderer.root,\r\n            translator: that._translator,\r\n            themeManager: that._themeManager\r\n        });\r\n        that._initScale();\r\n        that._subvalueIndicatorContainer = that._renderer.g().attr({\r\n            class: \"dxg-subvalue-indicators\"\r\n        }).linkOn(that._renderer.root, \"valueIndicator\").enableLinks()\r\n    },\r\n    _fontFields: [\"scale.label.font\", \"valueIndicators.rangebar.text.font\", \"valueIndicators.textcloud.text.font\", \"indicator.text.font\"],\r\n    _initScale: function() {\r\n        this._scaleGroup = this._renderer.g().attr({\r\n            class: \"dxg-scale\"\r\n        }).linkOn(this._renderer.root, \"scale\");\r\n        this._labelsAxesGroup = this._renderer.g().attr({\r\n            class: \"dxg-scale-elements\"\r\n        }).linkOn(this._renderer.root, \"scale-elements\");\r\n        this._scale = new Axis({\r\n            incidentOccurred: this._incidentOccurred,\r\n            renderer: this._renderer,\r\n            axesContainerGroup: this._scaleGroup,\r\n            labelsAxesGroup: this._labelsAxesGroup,\r\n            axisType: this._scaleTypes.type,\r\n            drawingType: this._scaleTypes.drawingType,\r\n            widgetClass: \"dxg\",\r\n            getTemplate() {}\r\n        })\r\n    },\r\n    _disposeCore: function() {\r\n        var that = this;\r\n        that.callBase.apply(that, arguments);\r\n        that._scale.dispose();\r\n        that._scaleGroup.linkOff();\r\n        that._labelsAxesGroup.linkOff();\r\n        that._rangeContainer.dispose();\r\n        that._disposeValueIndicators();\r\n        that._subvalueIndicatorContainer.linkOff();\r\n        that._scale = that._scaleGroup = that._labelsAxesGroup = that._rangeContainer = null\r\n    },\r\n    _disposeValueIndicators: function() {\r\n        this._valueIndicator && this._valueIndicator.dispose();\r\n        this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.dispose();\r\n        this._valueIndicator = this._subvalueIndicatorsSet = null\r\n    },\r\n    _setupDomainCore: function() {\r\n        var scaleOption = this.option(\"scale\") || {};\r\n        var startValue = this.option(\"startValue\");\r\n        var endValue = this.option(\"endValue\");\r\n        startValue = _isNumber(startValue) ? _Number(startValue) : _isNumber(scaleOption.startValue) ? _Number(scaleOption.startValue) : 0;\r\n        endValue = _isNumber(endValue) ? _Number(endValue) : _isNumber(scaleOption.endValue) ? _Number(scaleOption.endValue) : 100;\r\n        this._baseValue = startValue < endValue ? startValue : endValue;\r\n        this._translator.setDomain(startValue, endValue)\r\n    },\r\n    _cleanContent: function() {\r\n        this._rangeContainer.clean();\r\n        this._cleanValueIndicators()\r\n    },\r\n    _measureScale: function(scaleOptions) {\r\n        var majorTick = scaleOptions.tick;\r\n        var majorTickEnabled = majorTick.visible && majorTick.length > 0 && majorTick.width > 0;\r\n        var minorTick = scaleOptions.minorTick;\r\n        var minorTickEnabled = minorTick.visible && minorTick.length > 0 && minorTick.width > 0;\r\n        var label = scaleOptions.label;\r\n        var indentFromTick = Number(label.indentFromTick);\r\n        if (!majorTickEnabled && !minorTickEnabled && !label.visible) {\r\n            return {}\r\n        }\r\n        var textParams = this._scale.measureLabels(extend({}, this._canvas));\r\n        var layoutValue = this._getScaleLayoutValue();\r\n        var result = {\r\n            min: layoutValue,\r\n            max: layoutValue\r\n        };\r\n        var coefs = this._getTicksCoefficients(scaleOptions);\r\n        var innerCoef = coefs.inner;\r\n        var outerCoef = coefs.outer;\r\n        if (majorTickEnabled) {\r\n            result.min = _min(result.min, layoutValue - innerCoef * majorTick.length);\r\n            result.max = _max(result.max, layoutValue + outerCoef * majorTick.length)\r\n        }\r\n        if (minorTickEnabled) {\r\n            result.min = _min(result.min, layoutValue - innerCoef * minorTick.length);\r\n            result.max = _max(result.max, layoutValue + outerCoef * minorTick.length)\r\n        }\r\n        label.visible && this._correctScaleIndents(result, indentFromTick, textParams);\r\n        return result\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        var scaleOptions = that._prepareScaleSettings();\r\n        that._rangeContainer.render(_extend(that._getOption(\"rangeContainer\"), {\r\n            vertical: that._area.vertical\r\n        }));\r\n        that._renderScale(scaleOptions);\r\n        that._subvalueIndicatorContainer.linkAppend();\r\n        var elements = _map([that._rangeContainer].concat(that._prepareValueIndicators()), (function(element) {\r\n            return element && element.enabled ? element : null\r\n        }));\r\n        that._applyMainLayout(elements, that._measureScale(scaleOptions));\r\n        elements.forEach(element => element.resize(that._getElementLayout(element.getOffset())));\r\n        that._shiftScale(that._getElementLayout(0), scaleOptions);\r\n        that._beginValueChanging();\r\n        that._updateActiveElements();\r\n        that._endValueChanging()\r\n    },\r\n    _prepareScaleSettings: function() {\r\n        var that = this;\r\n        var userOptions = that.option(\"scale\");\r\n        var scaleOptions = extend(true, {}, that._themeManager.theme(\"scale\"), userOptions);\r\n        scaleOptions.label.indentFromAxis = 0;\r\n        scaleOptions.isHorizontal = !that._area.vertical;\r\n        scaleOptions.forceUserTickInterval |= _isDefined(userOptions) && _isDefined(userOptions.tickInterval) && !_isDefined(userOptions.scaleDivisionFactor);\r\n        scaleOptions.axisDivisionFactor = scaleOptions.scaleDivisionFactor || that._gridSpacingFactor;\r\n        scaleOptions.minorAxisDivisionFactor = scaleOptions.minorScaleDivisionFactor || DEFAULT_MINOR_AXIS_DIVISION_FACTOR;\r\n        scaleOptions.numberMultipliers = DEFAULT_NUMBER_MULTIPLIERS;\r\n        scaleOptions.tickOrientation = that._getTicksOrientation(scaleOptions);\r\n        if (scaleOptions.label.useRangeColors) {\r\n            scaleOptions.label.customizeColor = function() {\r\n                return that._rangeContainer.getColorForValue(this.value)\r\n            }\r\n        }\r\n        return scaleOptions\r\n    },\r\n    _renderScale: function(scaleOptions) {\r\n        var bounds = this._translator.getDomain();\r\n        var startValue = bounds[0];\r\n        var endValue = bounds[1];\r\n        var angles = this._translator.getCodomain();\r\n        var invert = !!(startValue > endValue ^ scaleOptions.inverted);\r\n        var min = _min(startValue, endValue);\r\n        var max = _max(startValue, endValue);\r\n        scaleOptions.min = min;\r\n        scaleOptions.max = max;\r\n        scaleOptions.startAngle = SHIFT_ANGLE - angles[0];\r\n        scaleOptions.endAngle = SHIFT_ANGLE - angles[1];\r\n        scaleOptions.skipViewportExtending = true;\r\n        scaleOptions.inverted = invert;\r\n        this._scale.updateOptions(scaleOptions);\r\n        this._scale.setBusinessRange({\r\n            axisType: \"continuous\",\r\n            dataType: \"numeric\",\r\n            min: min,\r\n            max: max,\r\n            invert: invert\r\n        });\r\n        this._updateScaleTickIndent(scaleOptions);\r\n        this._scaleGroup.linkAppend();\r\n        this._labelsAxesGroup.linkAppend();\r\n        this._scale.draw(extend({}, this._canvas))\r\n    },\r\n    _updateIndicatorSettings: function(settings) {\r\n        settings.currentValue = settings.baseValue = _isFinite(this._translator.translate(settings.baseValue)) ? _Number(settings.baseValue) : this._baseValue;\r\n        settings.vertical = this._area.vertical;\r\n        if (settings.text && !settings.text.format) {\r\n            settings.text.format = this._defaultFormatOptions\r\n        }\r\n    },\r\n    _prepareIndicatorSettings: function(options, defaultTypeField) {\r\n        var theme = this._themeManager.theme(\"valueIndicators\");\r\n        var type = _normalizeEnum(options.type || this._themeManager.theme(defaultTypeField));\r\n        var settings = _extend(true, {}, theme._default, theme[type], options);\r\n        settings.type = type;\r\n        settings.animation = this._animationSettings;\r\n        settings.containerBackgroundColor = this._containerBackgroundColor;\r\n        this._updateIndicatorSettings(settings);\r\n        return settings\r\n    },\r\n    _cleanValueIndicators: function() {\r\n        this._valueIndicator && this._valueIndicator.clean();\r\n        this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.clean()\r\n    },\r\n    _prepareValueIndicators: function() {\r\n        this._prepareValueIndicator();\r\n        null !== this.__subvalues && this._prepareSubvalueIndicators();\r\n        return [this._valueIndicator, this._subvalueIndicatorsSet]\r\n    },\r\n    _updateActiveElements: function() {\r\n        this._updateValueIndicator();\r\n        this._updateSubvalueIndicators()\r\n    },\r\n    _prepareValueIndicator: function() {\r\n        var target = this._valueIndicator;\r\n        var settings = this._prepareIndicatorSettings(this.option(\"valueIndicator\") || {}, \"valueIndicatorType\");\r\n        if (target && target.type !== settings.type) {\r\n            target.dispose();\r\n            target = null\r\n        }\r\n        if (!target) {\r\n            target = this._valueIndicator = this._createIndicator(settings.type, this._renderer.root, \"dxg-value-indicator\", \"value-indicator\")\r\n        }\r\n        target.render(settings)\r\n    },\r\n    _createSubvalueIndicatorsSet: function() {\r\n        var that = this;\r\n        var root = that._subvalueIndicatorContainer;\r\n        return new ValueIndicatorsSet({\r\n            createIndicator: function(type, i) {\r\n                return that._createIndicator(type, root, \"dxg-subvalue-indicator\", \"subvalue-indicator\", i)\r\n            },\r\n            createPalette: function(palette) {\r\n                return that._themeManager.createPalette(palette)\r\n            }\r\n        })\r\n    },\r\n    _prepareSubvalueIndicators: function() {\r\n        var target = this._subvalueIndicatorsSet;\r\n        var settings = this._prepareIndicatorSettings(this.option(\"subvalueIndicator\") || {}, \"subvalueIndicatorType\");\r\n        if (!target) {\r\n            target = this._subvalueIndicatorsSet = this._createSubvalueIndicatorsSet()\r\n        }\r\n        var isRecreate = settings.type !== target.type;\r\n        target.type = settings.type;\r\n        var dummy = this._createIndicator(settings.type, this._renderer.root);\r\n        if (dummy) {\r\n            dummy.dispose();\r\n            target.render(settings, isRecreate)\r\n        }\r\n    },\r\n    _setupValue: function(value) {\r\n        this.__value = processValue(value, this.__value)\r\n    },\r\n    _setupSubvalues: function(subvalues) {\r\n        var vals = void 0 === subvalues ? this.__subvalues : parseArrayOfNumbers(subvalues);\r\n        var i;\r\n        var ii;\r\n        var list;\r\n        if (null === vals) {\r\n            return\r\n        }\r\n        for (i = 0, ii = vals.length, list = []; i < ii; ++i) {\r\n            list.push(processValue(vals[i], this.__subvalues[i]))\r\n        }\r\n        this.__subvalues = list\r\n    },\r\n    _updateValueIndicator: function() {\r\n        this._valueIndicator && this._valueIndicator.value(this.__value, this._noAnimation)\r\n    },\r\n    _updateSubvalueIndicators: function() {\r\n        this._subvalueIndicatorsSet && this._subvalueIndicatorsSet.values(this.__subvalues, this._noAnimation)\r\n    },\r\n    value: function(arg) {\r\n        if (void 0 !== arg) {\r\n            this._changeValue(arg);\r\n            return this\r\n        }\r\n        return this.__value\r\n    },\r\n    subvalues: function(arg) {\r\n        if (void 0 !== arg) {\r\n            this._changeSubvalues(arg);\r\n            return this\r\n        }\r\n        return null !== this.__subvalues ? this.__subvalues.slice() : void 0\r\n    },\r\n    _changeValue: function(value) {\r\n        this._setupValue(value);\r\n        this._beginValueChanging();\r\n        this._updateValueIndicator();\r\n        if (this.__value !== this.option(OPTION_VALUE)) {\r\n            this.option(OPTION_VALUE, this.__value)\r\n        }\r\n        this._endValueChanging()\r\n    },\r\n    _changeSubvalues: function(subvalues) {\r\n        if (null !== this.__subvalues) {\r\n            this._setupSubvalues(subvalues);\r\n            this._beginValueChanging();\r\n            this._updateSubvalueIndicators();\r\n            this._endValueChanging()\r\n        } else {\r\n            this.__subvalues = parseArrayOfNumbers(subvalues);\r\n            this._setContentSize();\r\n            this._renderContent()\r\n        }\r\n        if (!_compareArrays(this.__subvalues, this.option(OPTION_SUBVALUES))) {\r\n            this.option(OPTION_SUBVALUES, this.__subvalues)\r\n        }\r\n    },\r\n    _optionChangesMap: {\r\n        scale: \"DOMAIN\",\r\n        rangeContainer: \"MOSTLY_TOTAL\",\r\n        valueIndicator: \"MOSTLY_TOTAL\",\r\n        subvalueIndicator: \"MOSTLY_TOTAL\",\r\n        containerBackgroundColor: \"MOSTLY_TOTAL\",\r\n        value: \"VALUE\",\r\n        subvalues: \"SUBVALUES\",\r\n        valueIndicators: \"MOSTLY_TOTAL\"\r\n    },\r\n    _customChangesOrder: [\"VALUE\", \"SUBVALUES\"],\r\n    _change_VALUE: function() {\r\n        this._changeValue(this.option(OPTION_VALUE))\r\n    },\r\n    _change_SUBVALUES: function() {\r\n        this._changeSubvalues(this.option(OPTION_SUBVALUES))\r\n    },\r\n    _applyMainLayout: null,\r\n    _getElementLayout: null,\r\n    _createIndicator: function(type, owner, className, trackerType, trackerIndex, _strict) {\r\n        var indicator = this._factory.createIndicator({\r\n            renderer: this._renderer,\r\n            translator: this._translator,\r\n            owner: owner,\r\n            tracker: this._tracker,\r\n            className: className\r\n        }, type, _strict);\r\n        if (indicator) {\r\n            indicator.type = type;\r\n            indicator._trackerInfo = {\r\n                type: trackerType,\r\n                index: trackerIndex\r\n            }\r\n        }\r\n        return indicator\r\n    },\r\n    _getApproximateScreenRange: null\r\n});\r\n\r\nfunction valueGetter(arg) {\r\n    return arg ? arg.value : null\r\n}\r\n\r\nfunction setupValues(that, fieldName, optionItems) {\r\n    var currentValues = that[fieldName];\r\n    var newValues = _isArray(optionItems) ? _map(optionItems, valueGetter) : [];\r\n    var i = 0;\r\n    var ii = newValues.length;\r\n    var list = [];\r\n    for (; i < ii; ++i) {\r\n        list.push(processValue(newValues[i], currentValues[i]))\r\n    }\r\n    that[fieldName] = list\r\n}\r\n\r\nfunction selectMode(gauge) {\r\n    if (void 0 === gauge.option(OPTION_VALUE) && void 0 === gauge.option(OPTION_SUBVALUES)) {\r\n        if (void 0 !== gauge.option(\"valueIndicators\")) {\r\n            disableDefaultMode(gauge);\r\n            selectHardMode(gauge)\r\n        }\r\n    }\r\n}\r\n\r\nfunction disableDefaultMode(that) {\r\n    that.value = that.subvalues = _noop;\r\n    that._setupValue = that._setupSubvalues = that._updateValueIndicator = that._updateSubvalueIndicators = null\r\n}\r\n\r\nfunction selectHardMode(that) {\r\n    that._indicatorValues = [];\r\n    setupValues(that, \"_indicatorValues\", that.option(\"valueIndicators\"));\r\n    that._valueIndicators = [];\r\n    var _applyMostlyTotalChange = that._applyMostlyTotalChange;\r\n    that._applyMostlyTotalChange = function() {\r\n        setupValues(this, \"_indicatorValues\", this.option(\"valueIndicators\"));\r\n        _applyMostlyTotalChange.call(this)\r\n    };\r\n    that._updateActiveElements = updateActiveElements_hardMode;\r\n    that._prepareValueIndicators = prepareValueIndicators_hardMode;\r\n    that._disposeValueIndicators = disposeValueIndicators_hardMode;\r\n    that._cleanValueIndicators = cleanValueIndicators_hardMode;\r\n    that.indicatorValue = indicatorValue_hardMode\r\n}\r\n\r\nfunction updateActiveElements_hardMode() {\r\n    var that = this;\r\n    that._valueIndicators.forEach(valueIndicator => {\r\n        valueIndicator.value(that._indicatorValues[valueIndicator.index], that._noAnimation)\r\n    })\r\n}\r\n\r\nfunction prepareValueIndicators_hardMode() {\r\n    var that = this;\r\n    var valueIndicators = that._valueIndicators || [];\r\n    var userOptions = that.option(\"valueIndicators\");\r\n    var optionList = [];\r\n    var i = 0;\r\n    var ii;\r\n    for (ii = _isArray(userOptions) ? userOptions.length : 0; i < ii; ++i) {\r\n        optionList.push(userOptions[i])\r\n    }\r\n    for (ii = valueIndicators.length; i < ii; ++i) {\r\n        optionList.push(null)\r\n    }\r\n    var newValueIndicators = [];\r\n    optionList.forEach((userSettings, i) => {\r\n        var valueIndicator = valueIndicators[i];\r\n        if (!userSettings) {\r\n            valueIndicator && valueIndicator.dispose();\r\n            return\r\n        }\r\n        var settings = that._prepareIndicatorSettings(userSettings, \"valueIndicatorType\");\r\n        if (valueIndicator && valueIndicator.type !== settings.type) {\r\n            valueIndicator.dispose();\r\n            valueIndicator = null\r\n        }\r\n        if (!valueIndicator) {\r\n            valueIndicator = that._createIndicator(settings.type, that._renderer.root, \"dxg-value-indicator\", \"value-indicator\", i, true)\r\n        }\r\n        if (valueIndicator) {\r\n            valueIndicator.index = i;\r\n            valueIndicator.render(settings);\r\n            newValueIndicators.push(valueIndicator)\r\n        }\r\n    });\r\n    that._valueIndicators = newValueIndicators;\r\n    return that._valueIndicators\r\n}\r\n\r\nfunction disposeValueIndicators_hardMode() {\r\n    this._valueIndicators.forEach(valueIndicator => valueIndicator.dispose());\r\n    this._valueIndicators = null\r\n}\r\n\r\nfunction cleanValueIndicators_hardMode() {\r\n    this._valueIndicators.forEach(valueIndicator => valueIndicator.clean())\r\n}\r\n\r\nfunction indicatorValue_hardMode(index, value) {\r\n    return accessPointerValue(this, this._valueIndicators, this._indicatorValues, index, value)\r\n}\r\n\r\nfunction accessPointerValue(that, pointers, values, index, value) {\r\n    if (void 0 !== value) {\r\n        if (void 0 !== values[index]) {\r\n            values[index] = processValue(value, values[index]);\r\n            pointers[index] && pointers[index].value(values[index])\r\n        }\r\n        return that\r\n    } else {\r\n        return values[index]\r\n    }\r\n}\r\n\r\nfunction ValueIndicatorsSet(parameters) {\r\n    this._parameters = parameters;\r\n    this._indicators = []\r\n}\r\nValueIndicatorsSet.prototype = {\r\n    constructor: ValueIndicatorsSet,\r\n    dispose: function() {\r\n        this._indicators.forEach(indicator => indicator.dispose());\r\n        this._parameters = this._options = this._indicators = this._colorPalette = this._palette = null;\r\n        return this\r\n    },\r\n    clean: function() {\r\n        this._sample && this._sample.clean().dispose();\r\n        this._indicators.forEach(indicator => indicator.clean());\r\n        this._sample = this._options = this._palette = null;\r\n        return this\r\n    },\r\n    render: function(options, isRecreate) {\r\n        var that = this;\r\n        that._options = options;\r\n        that._sample = that._parameters.createIndicator(that.type);\r\n        that._sample.render(options);\r\n        that.enabled = that._sample.enabled;\r\n        that._palette = _isDefined(options.palette) ? that._parameters.createPalette(options.palette) : null;\r\n        if (that.enabled) {\r\n            that._generatePalette(that._indicators.length);\r\n            that._indicators = _map(that._indicators, (function(indicator, i) {\r\n                if (isRecreate) {\r\n                    indicator.dispose();\r\n                    indicator = that._parameters.createIndicator(that.type, i)\r\n                }\r\n                indicator.render(that._getIndicatorOptions(i));\r\n                return indicator\r\n            }))\r\n        }\r\n        return that\r\n    },\r\n    getOffset: function() {\r\n        return this._sample.getOffset()\r\n    },\r\n    resize: function(layout) {\r\n        this._layout = layout;\r\n        this._indicators.forEach(indicator => indicator.resize(layout));\r\n        return this\r\n    },\r\n    measure: function(layout) {\r\n        return this._sample.measure(layout)\r\n    },\r\n    _getIndicatorOptions: function(index) {\r\n        var result = this._options;\r\n        if (this._colorPalette) {\r\n            result = _extend({}, result, {\r\n                color: this._colorPalette[index]\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _generatePalette: function(count) {\r\n        var colors = null;\r\n        if (this._palette) {\r\n            this._palette.reset();\r\n            colors = this._palette.generateColors(count, {\r\n                repeat: true\r\n            })\r\n        }\r\n        this._colorPalette = colors\r\n    },\r\n    _adjustIndicatorsCount: function(count) {\r\n        var indicators = this._indicators;\r\n        var i;\r\n        var ii;\r\n        var indicator;\r\n        var indicatorsLen = indicators.length;\r\n        if (indicatorsLen > count) {\r\n            for (i = count, ii = indicatorsLen; i < ii; ++i) {\r\n                indicators[i].clean().dispose()\r\n            }\r\n            this._indicators = indicators.slice(0, count);\r\n            this._generatePalette(indicators.length)\r\n        } else if (indicatorsLen < count) {\r\n            this._generatePalette(count);\r\n            for (i = indicatorsLen, ii = count; i < ii; ++i) {\r\n                indicator = this._parameters.createIndicator(this.type, i);\r\n                indicator.render(this._getIndicatorOptions(i)).resize(this._layout);\r\n                indicators.push(indicator)\r\n            }\r\n        }\r\n    },\r\n    values: function(arg, _noAnimation) {\r\n        if (!this.enabled) {\r\n            return\r\n        }\r\n        if (void 0 !== arg) {\r\n            if (!_isArray(arg)) {\r\n                arg = _isFinite(arg) ? [Number(arg)] : null\r\n            }\r\n            if (arg) {\r\n                this._adjustIndicatorsCount(arg.length);\r\n                this._indicators.forEach((indicator, i) => indicator.value(arg[i], _noAnimation))\r\n            }\r\n            return this\r\n        }\r\n        return _map(this._indicators, (function(indicator) {\r\n            return indicator.value()\r\n        }))\r\n    }\r\n};\r\nexport function createIndicatorCreator(indicators) {\r\n    return function(parameters, type, _strict) {\r\n        var indicatorType = indicators[_normalizeEnum(type)] || !_strict && indicators._default;\r\n        return indicatorType ? new indicatorType(parameters) : null\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}