{"ast":null,"code":"/**\r\n* DevExpress Dashboard (date-filter-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DateFilterItem = void 0;\n\nvar analytics_utils_1 = require(\"@devexpress/analytics-core/analytics-utils\");\n\nvar ko = require(\"knockout\");\n\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\n\nvar _range_filter_selection_validator_1 = require(\"../../../viewer-parts/viewer-items/range-selector-item/_range-filter-selection-validator\");\n\nvar data_item_1 = require(\"../../data-item/data-item\");\n\nvar _utils_1 = require(\"../../internal/_utils\");\n\nvar serializable_model_1 = require(\"../../serializable-model\");\n\nvar data_dashboard_item_1 = require(\"../data-dashboard-item\");\n\nvar date_time_period_1 = require(\"../range-filter/date-time-period\");\n\nvar _range_filter_item_helper_1 = require(\"../range-filter/_range-filter-item-helper\");\n\nvar _range_state_controller_1 = require(\"../range-filter/_range-state-controller\");\n\nvar _date_filter_item_1 = require(\"./metadata/_date-filter-item\");\n\nvar DateFilterItem = function (_super) {\n  __extends(DateFilterItem, _super);\n\n  function DateFilterItem(dashboardItemJSON, serializer) {\n    if (dashboardItemJSON === void 0) {\n      dashboardItemJSON = {};\n    }\n\n    if (serializer === void 0) {\n      serializer = new analytics_utils_1.ModelSerializer();\n    }\n\n    var _this = _super.call(this, dashboardItemJSON, serializer) || this;\n\n    _this._defaultDateTimePeriodIndexSubscription = null;\n    _this.currentSelectedDateTimePeriodName = ko.observable();\n\n    _this._attachDataItem(_this, _date_filter_item_1.dateFilterDimension.propertyName);\n\n    _this.__dimension._specifics.acceptableShapingType = data_item_1.AcceptableShapingType.RangeDate;\n    _this.dateTimePeriods = analytics_utils_1.deserializeArray(dashboardItemJSON.DateTimePeriods, function (item) {\n      return new date_time_period_1.DateTimePeriod(item, serializer);\n    });\n    _this._stateController = new _range_state_controller_1.RangeStateController(_this);\n\n    _this._stateController.initialize();\n\n    _range_filter_item_helper_1._subscribeToDimension(_this.dimension, _this.dateTimePeriods, _this._dataManager);\n\n    return _this;\n  }\n\n  DateFilterItem.prototype._getSelectionByPeriod = function (period) {\n    var range = period.getDateTimeValue();\n    return [[range.startValue, range.endValue]];\n  };\n\n  DateFilterItem.prototype._clearBindings = function () {\n    _super.prototype._clearBindings.call(this);\n\n    this.dateTimePeriods.removeAll();\n  };\n\n  DateFilterItem.prototype._getInfoCore = function () {\n    return _date_filter_item_1.dateFilterDashboardItemSerializationsInfo;\n  };\n\n  DateFilterItem.prototype._getDefaultItemType = function () {\n    return 'DateFilter';\n  };\n\n  DateFilterItem.prototype._getClearMasterFilterSupported = function () {\n    return true;\n  };\n\n  DateFilterItem.prototype._getIsMasterFilter = function () {\n    return true;\n  };\n\n  DateFilterItem.prototype._getIgnoreMasterFilter = function () {\n    return this.interactivityOptions.ignoreMasterFilters();\n  };\n\n  DateFilterItem.prototype._getInteractivityDimensionLinks = function () {\n    return [this.__dimension];\n  };\n\n  DateFilterItem.prototype._getDisplayFilterValues = function (limitCount) {\n    return this._stateController._getDisplayFilterValues(limitCount);\n  };\n\n  DateFilterItem.prototype._updateContentViewModel = function (content) {\n    _super.prototype._updateContentViewModel.call(this, content);\n\n    (content.ViewModel.DateTimePeriods || []).forEach(function (p) {\n      p.Start && p.Start.Date && (p.Start.Date = new Date(p.Start.Date));\n      p.End && p.End.Date && (p.End.Date = new Date(p.End.Date));\n    });\n  };\n\n  DateFilterItem.prototype._setState = function (itemState) {\n    this._stateController.setState(itemState);\n  };\n\n  DateFilterItem.prototype._removeSelectionFromState = function (state) {\n    var itemState = _super.prototype._removeSelectionFromState.call(this, _jquery_helpers_1.deepExtend({}, state));\n\n    return this._stateController.removeSelectionFromState(itemState);\n  };\n\n  DateFilterItem.prototype._setPredefinedPeriodToState = function (state, periodName) {\n    var itemState = _super.prototype._setPredefinedPeriodToState.call(this, _jquery_helpers_1.deepExtend({}, state), periodName);\n\n    return this._stateController.setPredefinedPeriodToState(itemState, periodName);\n  };\n\n  DateFilterItem.prototype._setSelectionToState = function (state, selection) {\n    return this._stateController.setSelectionToState(state, selection);\n  };\n\n  DateFilterItem.prototype._getValidatedSelection = function (selectionValues) {\n    var validatedValues = _super.prototype._getValidatedSelection.call(this, selectionValues);\n\n    if (validatedValues && this.dimension()) {\n      var validatedRange = _range_filter_selection_validator_1.RangeFilterSelectionValidator.validate({\n        startValue: validatedValues[0][0],\n        endValue: validatedValues[0][1]\n      }, this.dimension()._actualDateTimeGroupInterval() === 'Year');\n\n      validatedValues[0] = [validatedRange.startValue, validatedRange.endValue];\n    }\n\n    return validatedValues;\n  };\n\n  DateFilterItem.prototype._extendContentState = function (content) {\n    _super.prototype._extendContentState.call(this, content);\n\n    this._stateController.extendContentState(content);\n  };\n\n  DateFilterItem.prototype._hasSelection = function () {\n    if (!!this.currentSelectedDateTimePeriodName()) return true;else if (_super.prototype._hasSelection.call(this)) {\n      if (!!this._selectionValues()[0][0] || !!this._selectionValues()[0][1]) return true;\n    }\n    return false;\n  };\n\n  DateFilterItem.prototype._isSortingEnabled = function () {\n    return false;\n  };\n\n  DateFilterItem.prototype._isTopNEnabled = function (dataItem) {\n    return false;\n  };\n\n  DateFilterItem.prototype._getEntireRange = function () {\n    if (this._multiData) {\n      var measures = this._multiData.getMeasures();\n\n      var values = [];\n\n      for (var i = 0; i < measures.length; i++) values.push(this._multiData.getMeasureValue(measures[i].id).getValue());\n\n      values.sort(function (a, b) {\n        return a > b ? 1 : -1;\n      });\n      return values;\n    }\n\n    return [];\n  };\n\n  __decorate([_utils_1.collectionItemType('DateTimePeriod')], DateFilterItem.prototype, \"dateTimePeriods\", void 0);\n\n  return DateFilterItem;\n}(data_dashboard_item_1.DataDashboardItem);\n\nexports.DateFilterItem = DateFilterItem;\nserializable_model_1.itemTypesMap['DateFilter'] = {\n  type: DateFilterItem,\n  groupName: 'filter',\n  title: 'DashboardStringId.DefaultNameDateFilterItem',\n  index: 350\n};","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/model/items/filter-items/date-filter-item.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","exports","value","DateFilterItem","analytics_utils_1","require","ko","_jquery_helpers_1","_range_filter_selection_validator_1","data_item_1","_utils_1","serializable_model_1","data_dashboard_item_1","date_time_period_1","_range_filter_item_helper_1","_range_state_controller_1","_date_filter_item_1","_super","dashboardItemJSON","serializer","ModelSerializer","_this","_defaultDateTimePeriodIndexSubscription","currentSelectedDateTimePeriodName","observable","_attachDataItem","dateFilterDimension","propertyName","__dimension","_specifics","acceptableShapingType","AcceptableShapingType","RangeDate","dateTimePeriods","deserializeArray","DateTimePeriods","item","DateTimePeriod","_stateController","RangeStateController","initialize","_subscribeToDimension","dimension","_dataManager","_getSelectionByPeriod","period","range","getDateTimeValue","startValue","endValue","_clearBindings","removeAll","_getInfoCore","dateFilterDashboardItemSerializationsInfo","_getDefaultItemType","_getClearMasterFilterSupported","_getIsMasterFilter","_getIgnoreMasterFilter","interactivityOptions","ignoreMasterFilters","_getInteractivityDimensionLinks","_getDisplayFilterValues","limitCount","_updateContentViewModel","content","ViewModel","forEach","Start","Date","End","_setState","itemState","setState","_removeSelectionFromState","state","deepExtend","removeSelectionFromState","_setPredefinedPeriodToState","periodName","setPredefinedPeriodToState","_setSelectionToState","selection","setSelectionToState","_getValidatedSelection","selectionValues","validatedValues","validatedRange","RangeFilterSelectionValidator","validate","_actualDateTimeGroupInterval","_extendContentState","extendContentState","_hasSelection","_selectionValues","_isSortingEnabled","_isTopNEnabled","dataItem","_getEntireRange","_multiData","measures","getMeasures","values","push","getMeasureValue","id","getValue","sort","a","collectionItemType","DataDashboardItem","itemTypesMap","type","groupName","title","index"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (date-filter-item.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DateFilterItem = void 0;\nvar analytics_utils_1 = require(\"@devexpress/analytics-core/analytics-utils\");\nvar ko = require(\"knockout\");\nvar _jquery_helpers_1 = require(\"../../../data/_jquery-helpers\");\nvar _range_filter_selection_validator_1 = require(\"../../../viewer-parts/viewer-items/range-selector-item/_range-filter-selection-validator\");\nvar data_item_1 = require(\"../../data-item/data-item\");\nvar _utils_1 = require(\"../../internal/_utils\");\nvar serializable_model_1 = require(\"../../serializable-model\");\nvar data_dashboard_item_1 = require(\"../data-dashboard-item\");\nvar date_time_period_1 = require(\"../range-filter/date-time-period\");\nvar _range_filter_item_helper_1 = require(\"../range-filter/_range-filter-item-helper\");\nvar _range_state_controller_1 = require(\"../range-filter/_range-state-controller\");\nvar _date_filter_item_1 = require(\"./metadata/_date-filter-item\");\nvar DateFilterItem = (function (_super) {\n    __extends(DateFilterItem, _super);\n    function DateFilterItem(dashboardItemJSON, serializer) {\n        if (dashboardItemJSON === void 0) { dashboardItemJSON = {}; }\n        if (serializer === void 0) { serializer = new analytics_utils_1.ModelSerializer(); }\n        var _this = _super.call(this, dashboardItemJSON, serializer) || this;\n        _this._defaultDateTimePeriodIndexSubscription = null;\n        _this.currentSelectedDateTimePeriodName = ko.observable();\n        _this._attachDataItem(_this, _date_filter_item_1.dateFilterDimension.propertyName);\n        _this.__dimension._specifics.acceptableShapingType = data_item_1.AcceptableShapingType.RangeDate;\n        _this.dateTimePeriods = analytics_utils_1.deserializeArray(dashboardItemJSON.DateTimePeriods, function (item) { return new date_time_period_1.DateTimePeriod(item, serializer); });\n        _this._stateController = new _range_state_controller_1.RangeStateController(_this);\n        _this._stateController.initialize();\n        _range_filter_item_helper_1._subscribeToDimension(_this.dimension, _this.dateTimePeriods, _this._dataManager);\n        return _this;\n    }\n    DateFilterItem.prototype._getSelectionByPeriod = function (period) {\n        var range = period.getDateTimeValue();\n        return [[range.startValue, range.endValue]];\n    };\n    DateFilterItem.prototype._clearBindings = function () {\n        _super.prototype._clearBindings.call(this);\n        this.dateTimePeriods.removeAll();\n    };\n    DateFilterItem.prototype._getInfoCore = function () {\n        return _date_filter_item_1.dateFilterDashboardItemSerializationsInfo;\n    };\n    DateFilterItem.prototype._getDefaultItemType = function () {\n        return 'DateFilter';\n    };\n    DateFilterItem.prototype._getClearMasterFilterSupported = function () { return true; };\n    DateFilterItem.prototype._getIsMasterFilter = function () { return true; };\n    DateFilterItem.prototype._getIgnoreMasterFilter = function () { return this.interactivityOptions.ignoreMasterFilters(); };\n    DateFilterItem.prototype._getInteractivityDimensionLinks = function () {\n        return [this.__dimension];\n    };\n    DateFilterItem.prototype._getDisplayFilterValues = function (limitCount) {\n        return this._stateController._getDisplayFilterValues(limitCount);\n    };\n    DateFilterItem.prototype._updateContentViewModel = function (content) {\n        _super.prototype._updateContentViewModel.call(this, content);\n        (content.ViewModel.DateTimePeriods || []).forEach(function (p) {\n            p.Start && p.Start.Date && (p.Start.Date = new Date(p.Start.Date));\n            p.End && p.End.Date && (p.End.Date = new Date(p.End.Date));\n        });\n    };\n    DateFilterItem.prototype._setState = function (itemState) {\n        this._stateController.setState(itemState);\n    };\n    DateFilterItem.prototype._removeSelectionFromState = function (state) {\n        var itemState = _super.prototype._removeSelectionFromState.call(this, _jquery_helpers_1.deepExtend({}, state));\n        return this._stateController.removeSelectionFromState(itemState);\n    };\n    DateFilterItem.prototype._setPredefinedPeriodToState = function (state, periodName) {\n        var itemState = _super.prototype._setPredefinedPeriodToState.call(this, _jquery_helpers_1.deepExtend({}, state), periodName);\n        return this._stateController.setPredefinedPeriodToState(itemState, periodName);\n    };\n    DateFilterItem.prototype._setSelectionToState = function (state, selection) {\n        return this._stateController.setSelectionToState(state, selection);\n    };\n    DateFilterItem.prototype._getValidatedSelection = function (selectionValues) {\n        var validatedValues = _super.prototype._getValidatedSelection.call(this, selectionValues);\n        if (validatedValues && this.dimension()) {\n            var validatedRange = _range_filter_selection_validator_1.RangeFilterSelectionValidator.validate({\n                startValue: validatedValues[0][0],\n                endValue: validatedValues[0][1]\n            }, this.dimension()._actualDateTimeGroupInterval() === 'Year');\n            validatedValues[0] = [validatedRange.startValue, validatedRange.endValue];\n        }\n        return validatedValues;\n    };\n    DateFilterItem.prototype._extendContentState = function (content) {\n        _super.prototype._extendContentState.call(this, content);\n        this._stateController.extendContentState(content);\n    };\n    DateFilterItem.prototype._hasSelection = function () {\n        if (!!this.currentSelectedDateTimePeriodName())\n            return true;\n        else if (_super.prototype._hasSelection.call(this)) {\n            if (!!this._selectionValues()[0][0] || !!this._selectionValues()[0][1])\n                return true;\n        }\n        return false;\n    };\n    DateFilterItem.prototype._isSortingEnabled = function () {\n        return false;\n    };\n    DateFilterItem.prototype._isTopNEnabled = function (dataItem) {\n        return false;\n    };\n    DateFilterItem.prototype._getEntireRange = function () {\n        if (this._multiData) {\n            var measures = this._multiData.getMeasures();\n            var values = [];\n            for (var i = 0; i < measures.length; i++)\n                values.push(this._multiData.getMeasureValue(measures[i].id).getValue());\n            values.sort(function (a, b) { return a > b ? 1 : -1; });\n            return values;\n        }\n        return [];\n    };\n    __decorate([\n        _utils_1.collectionItemType('DateTimePeriod')\n    ], DateFilterItem.prototype, \"dateTimePeriods\", void 0);\n    return DateFilterItem;\n}(data_dashboard_item_1.DataDashboardItem));\nexports.DateFilterItem = DateFilterItem;\nserializable_model_1.itemTypesMap['DateFilter'] = { type: DateFilterItem, groupName: 'filter', title: 'DashboardStringId.DefaultNameDateFilterItem', index: 350 };\n"]},"metadata":{},"sourceType":"script"}