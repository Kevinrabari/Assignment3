{"ast":null,"code":"/**\r\n* DevExpress Dashboard (convert.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ConversionPanelExtension = void 0;\n\nvar ko = require(\"knockout\");\n\nvar control_options_1 = require(\"../../common/control-options\");\n\nvar _default_1 = require(\"../../data/localization/_default\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar dashboard_1 = require(\"../../model/dashboard\");\n\nvar dashboard_item_1 = require(\"../../model/items/dashboard-item\");\n\nvar data_dashboard_item_1 = require(\"../../model/items/data-dashboard-item\");\n\nvar serializable_model_1 = require(\"../../model/serializable-model\");\n\nvar _dashboard_item_menu_1 = require(\"../items/_dashboard-item-menu\");\n\nvar name = 'item-conversion-panel';\nvar nameAlias = 'itemConversionPanel';\n\nvar ConversionPanelExtension = function () {\n  function ConversionPanelExtension(dashboardControl) {\n    this.dashboardControl = dashboardControl;\n    this.name = name;\n    this._subscriptions = [];\n  }\n\n  ConversionPanelExtension.prototype._contextMenuSubscriber = function (itemContextMenu) {\n    if (!!itemContextMenu) {\n      var item = this.dashboardControl._actualLayoutController().selectedDashboardItem();\n\n      if (item instanceof data_dashboard_item_1.DataDashboardItem) {\n        this._updateContextMenu(itemContextMenu, item, this.dashboardControl.dashboard(), this.dashboardControl._serviceClient());\n      }\n    }\n  };\n\n  ConversionPanelExtension.prototype.start = function () {\n    var contextMenuExtension = this.dashboardControl.findExtension('item-menu');\n\n    if (contextMenuExtension) {\n      this._subscriptions.push(contextMenuExtension._itemContextMenu.subscribe(this._contextMenuSubscriber, this));\n\n      this._contextMenuSubscriber(contextMenuExtension._itemContextMenu());\n    }\n  };\n\n  ConversionPanelExtension.prototype.stop = function () {\n    this._subscriptions.forEach(function (s) {\n      return s.dispose();\n    });\n\n    this._subscriptions = [];\n  };\n\n  ConversionPanelExtension.prototype._updateContextMenu = function (itemContextMenu, dashboardItem, dashboard, serviceClient) {\n    var toolboxExtension = this.dashboardControl.findExtension('toolbox');\n\n    var _convertItem = _utils_1.asyncDebounce(serviceClient.convertItem.bind(serviceClient), function (result) {\n      var tmpDashboard = new dashboard_1.Dashboard(result);\n      var newItem = tmpDashboard.items()[0];\n      newItem.dataSource(dashboardItem.dataSource());\n      newItem.componentName(undefined);\n\n      dashboard._changeItem(dashboardItem, newItem);\n    });\n\n    var groups = toolboxExtension && toolboxExtension.toolboxGroups().map(function (group) {\n      return {\n        groupTitle: _default_1.getLocalizationById(group.title),\n        items: group.items().filter(function (item) {\n          return !!item.type && item.type !== 'Group' && item.type !== 'Image' && item.type !== 'TabContainer' && !serializable_model_1.itemTypesMap[item.type].customItemType;\n        }).map(function (item) {\n          return {\n            title: _default_1.getLocalizationById(item.title),\n            icon: item.icon,\n            convert: function () {\n              return _convertItem(dashboardItem, dashboard_item_1.DashboardItem._getCommonItemType(item.type));\n            },\n            disabled: dashboardItem.itemType() === item.type,\n            type: item.type\n          };\n        })\n      };\n    }).filter(function (group) {\n      return group.items.length;\n    }) || [];\n    var viewModel = {\n      groups: groups,\n      duplicate: function () {\n        return dashboard._duplicateItem(dashboardItem);\n      },\n      duplicateActionCaption: _default_1.getLocalizationById('DashboardWebStringId.Duplicate')\n    };\n    itemContextMenu.contextMenuItems.push({\n      menuItemId: this.name,\n      icon: 'dx-dashboard-convert',\n      title: 'DashboardWebStringId.ConvertTo',\n      panelWidth: _dashboard_item_menu_1.DashboardItemMenuSizes.OptionsPanelWidth,\n      templateName: 'dx-dashboard-convert-to',\n      detailVisible: ko.observable(false),\n      customData: viewModel,\n      index: 400\n    });\n  };\n\n  return ConversionPanelExtension;\n}();\n\nexports.ConversionPanelExtension = ConversionPanelExtension;\n\ncontrol_options_1.designerExtensions[name] = function (dashboardControl, options) {\n  return new ConversionPanelExtension(dashboardControl);\n};\n\ncontrol_options_1.extensionNameMap[name] = nameAlias;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/extensions/convert.js"],"names":["Object","defineProperty","exports","value","ConversionPanelExtension","ko","require","control_options_1","_default_1","_utils_1","dashboard_1","dashboard_item_1","data_dashboard_item_1","serializable_model_1","_dashboard_item_menu_1","name","nameAlias","dashboardControl","_subscriptions","prototype","_contextMenuSubscriber","itemContextMenu","item","_actualLayoutController","selectedDashboardItem","DataDashboardItem","_updateContextMenu","dashboard","_serviceClient","start","contextMenuExtension","findExtension","push","_itemContextMenu","subscribe","stop","forEach","s","dispose","dashboardItem","serviceClient","toolboxExtension","_convertItem","asyncDebounce","convertItem","bind","result","tmpDashboard","Dashboard","newItem","items","dataSource","componentName","undefined","_changeItem","groups","toolboxGroups","map","group","groupTitle","getLocalizationById","title","filter","type","itemTypesMap","customItemType","icon","convert","DashboardItem","_getCommonItemType","disabled","itemType","length","viewModel","duplicate","_duplicateItem","duplicateActionCaption","contextMenuItems","menuItemId","panelWidth","DashboardItemMenuSizes","OptionsPanelWidth","templateName","detailVisible","observable","customData","index","designerExtensions","options","extensionNameMap"],"mappings":"AAAA;;;;;;;AAOA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,wBAAR,GAAmC,KAAK,CAAxC;;AACA,IAAIC,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAhB;;AACA,IAAIC,iBAAiB,GAAGD,OAAO,CAAC,8BAAD,CAA/B;;AACA,IAAIE,UAAU,GAAGF,OAAO,CAAC,kCAAD,CAAxB;;AACA,IAAIG,QAAQ,GAAGH,OAAO,CAAC,mBAAD,CAAtB;;AACA,IAAII,WAAW,GAAGJ,OAAO,CAAC,uBAAD,CAAzB;;AACA,IAAIK,gBAAgB,GAAGL,OAAO,CAAC,kCAAD,CAA9B;;AACA,IAAIM,qBAAqB,GAAGN,OAAO,CAAC,uCAAD,CAAnC;;AACA,IAAIO,oBAAoB,GAAGP,OAAO,CAAC,gCAAD,CAAlC;;AACA,IAAIQ,sBAAsB,GAAGR,OAAO,CAAC,+BAAD,CAApC;;AACA,IAAIS,IAAI,GAAG,uBAAX;AACA,IAAIC,SAAS,GAAG,qBAAhB;;AACA,IAAIZ,wBAAwB,GAAI,YAAY;AACxC,WAASA,wBAAT,CAAkCa,gBAAlC,EAAoD;AAChD,SAAKA,gBAAL,GAAwBA,gBAAxB;AACA,SAAKF,IAAL,GAAYA,IAAZ;AACA,SAAKG,cAAL,GAAsB,EAAtB;AACH;;AACDd,EAAAA,wBAAwB,CAACe,SAAzB,CAAmCC,sBAAnC,GAA4D,UAAUC,eAAV,EAA2B;AACnF,QAAI,CAAC,CAACA,eAAN,EAAuB;AACnB,UAAIC,IAAI,GAAG,KAAKL,gBAAL,CAAsBM,uBAAtB,GAAgDC,qBAAhD,EAAX;;AACA,UAAIF,IAAI,YAAYV,qBAAqB,CAACa,iBAA1C,EAA6D;AACzD,aAAKC,kBAAL,CAAwBL,eAAxB,EAAyCC,IAAzC,EAA+C,KAAKL,gBAAL,CAAsBU,SAAtB,EAA/C,EAAkF,KAAKV,gBAAL,CAAsBW,cAAtB,EAAlF;AACH;AACJ;AACJ,GAPD;;AAQAxB,EAAAA,wBAAwB,CAACe,SAAzB,CAAmCU,KAAnC,GAA2C,YAAY;AACnD,QAAIC,oBAAoB,GAAG,KAAKb,gBAAL,CAAsBc,aAAtB,CAAoC,WAApC,CAA3B;;AACA,QAAID,oBAAJ,EAA0B;AACtB,WAAKZ,cAAL,CAAoBc,IAApB,CAAyBF,oBAAoB,CAACG,gBAArB,CAAsCC,SAAtC,CAAgD,KAAKd,sBAArD,EAA6E,IAA7E,CAAzB;;AACA,WAAKA,sBAAL,CAA4BU,oBAAoB,CAACG,gBAArB,EAA5B;AACH;AACJ,GAND;;AAOA7B,EAAAA,wBAAwB,CAACe,SAAzB,CAAmCgB,IAAnC,GAA0C,YAAY;AAClD,SAAKjB,cAAL,CAAoBkB,OAApB,CAA4B,UAAUC,CAAV,EAAa;AAAE,aAAOA,CAAC,CAACC,OAAF,EAAP;AAAqB,KAAhE;;AACA,SAAKpB,cAAL,GAAsB,EAAtB;AACH,GAHD;;AAIAd,EAAAA,wBAAwB,CAACe,SAAzB,CAAmCO,kBAAnC,GAAwD,UAAUL,eAAV,EAA2BkB,aAA3B,EAA0CZ,SAA1C,EAAqDa,aAArD,EAAoE;AACxH,QAAIC,gBAAgB,GAAG,KAAKxB,gBAAL,CAAsBc,aAAtB,CAAoC,SAApC,CAAvB;;AACA,QAAIW,YAAY,GAAGjC,QAAQ,CAACkC,aAAT,CAAuBH,aAAa,CAACI,WAAd,CAA0BC,IAA1B,CAA+BL,aAA/B,CAAvB,EAAsE,UAAUM,MAAV,EAAkB;AACvG,UAAIC,YAAY,GAAG,IAAIrC,WAAW,CAACsC,SAAhB,CAA0BF,MAA1B,CAAnB;AACA,UAAIG,OAAO,GAAGF,YAAY,CAACG,KAAb,GAAqB,CAArB,CAAd;AACAD,MAAAA,OAAO,CAACE,UAAR,CAAmBZ,aAAa,CAACY,UAAd,EAAnB;AACAF,MAAAA,OAAO,CAACG,aAAR,CAAsBC,SAAtB;;AACA1B,MAAAA,SAAS,CAAC2B,WAAV,CAAsBf,aAAtB,EAAqCU,OAArC;AACH,KANkB,CAAnB;;AAOA,QAAIM,MAAM,GAAGd,gBAAgB,IAAIA,gBAAgB,CAC5Ce,aAD4B,GAE5BC,GAF4B,CAExB,UAAUC,KAAV,EAAiB;AAAE,aAAQ;AAChCC,QAAAA,UAAU,EAAEnD,UAAU,CAACoD,mBAAX,CAA+BF,KAAK,CAACG,KAArC,CADoB;AAEhCX,QAAAA,KAAK,EAAEQ,KAAK,CAACR,KAAN,GACFY,MADE,CACK,UAAUxC,IAAV,EAAgB;AAAE,iBAAO,CAAC,CAACA,IAAI,CAACyC,IAAP,IAAezC,IAAI,CAACyC,IAAL,KAAc,OAA7B,IAAwCzC,IAAI,CAACyC,IAAL,KAAc,OAAtD,IAAiEzC,IAAI,CAACyC,IAAL,KAAc,cAA/E,IAAiG,CAAClD,oBAAoB,CAACmD,YAArB,CAAkC1C,IAAI,CAACyC,IAAvC,EAA6CE,cAAtJ;AAAuK,SAD9L,EAEFR,GAFE,CAEE,UAAUnC,IAAV,EAAgB;AAAE,iBAAQ;AAC/BuC,YAAAA,KAAK,EAAErD,UAAU,CAACoD,mBAAX,CAA+BtC,IAAI,CAACuC,KAApC,CADwB;AAE/BK,YAAAA,IAAI,EAAE5C,IAAI,CAAC4C,IAFoB;AAG/BC,YAAAA,OAAO,EAAE,YAAY;AAAE,qBAAOzB,YAAY,CAACH,aAAD,EAAgB5B,gBAAgB,CAACyD,aAAjB,CAA+BC,kBAA/B,CAAkD/C,IAAI,CAACyC,IAAvD,CAAhB,CAAnB;AAAmG,aAH3F;AAI/BO,YAAAA,QAAQ,EAAE/B,aAAa,CAACgC,QAAd,OAA6BjD,IAAI,CAACyC,IAJb;AAK/BA,YAAAA,IAAI,EAAEzC,IAAI,CAACyC;AALoB,WAAR;AAMtB,SARE;AAFyB,OAAR;AAWvB,KAb4B,EAc5BD,MAd4B,CAcrB,UAAUJ,KAAV,EAAiB;AAAE,aAAOA,KAAK,CAACR,KAAN,CAAYsB,MAAnB;AAA4B,KAd1B,CAApB,IAcmD,EAdhE;AAeA,QAAIC,SAAS,GAAG;AACZlB,MAAAA,MAAM,EAAEA,MADI;AAEZmB,MAAAA,SAAS,EAAE,YAAY;AAAE,eAAO/C,SAAS,CAACgD,cAAV,CAAyBpC,aAAzB,CAAP;AAAiD,OAF9D;AAGZqC,MAAAA,sBAAsB,EAAEpE,UAAU,CAACoD,mBAAX,CAA+B,gCAA/B;AAHZ,KAAhB;AAKAvC,IAAAA,eAAe,CAACwD,gBAAhB,CAAiC7C,IAAjC,CAAsC;AAClC8C,MAAAA,UAAU,EAAE,KAAK/D,IADiB;AAElCmD,MAAAA,IAAI,EAAE,sBAF4B;AAGlCL,MAAAA,KAAK,EAAE,gCAH2B;AAIlCkB,MAAAA,UAAU,EAAEjE,sBAAsB,CAACkE,sBAAvB,CAA8CC,iBAJxB;AAKlCC,MAAAA,YAAY,EAAE,yBALoB;AAMlCC,MAAAA,aAAa,EAAE9E,EAAE,CAAC+E,UAAH,CAAc,KAAd,CANmB;AAOlCC,MAAAA,UAAU,EAAEZ,SAPsB;AAQlCa,MAAAA,KAAK,EAAE;AAR2B,KAAtC;AAUH,GAvCD;;AAwCA,SAAOlF,wBAAP;AACH,CAlE+B,EAAhC;;AAmEAF,OAAO,CAACE,wBAAR,GAAmCA,wBAAnC;;AACAG,iBAAiB,CAACgF,kBAAlB,CAAqCxE,IAArC,IAA6C,UAAUE,gBAAV,EAA4BuE,OAA5B,EAAqC;AAAE,SAAO,IAAIpF,wBAAJ,CAA6Ba,gBAA7B,CAAP;AAAwD,CAA5I;;AACAV,iBAAiB,CAACkF,gBAAlB,CAAmC1E,IAAnC,IAA2CC,SAA3C","sourcesContent":["/**\r\n* DevExpress Dashboard (convert.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversionPanelExtension = void 0;\nvar ko = require(\"knockout\");\nvar control_options_1 = require(\"../../common/control-options\");\nvar _default_1 = require(\"../../data/localization/_default\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar dashboard_1 = require(\"../../model/dashboard\");\nvar dashboard_item_1 = require(\"../../model/items/dashboard-item\");\nvar data_dashboard_item_1 = require(\"../../model/items/data-dashboard-item\");\nvar serializable_model_1 = require(\"../../model/serializable-model\");\nvar _dashboard_item_menu_1 = require(\"../items/_dashboard-item-menu\");\nvar name = 'item-conversion-panel';\nvar nameAlias = 'itemConversionPanel';\nvar ConversionPanelExtension = (function () {\n    function ConversionPanelExtension(dashboardControl) {\n        this.dashboardControl = dashboardControl;\n        this.name = name;\n        this._subscriptions = [];\n    }\n    ConversionPanelExtension.prototype._contextMenuSubscriber = function (itemContextMenu) {\n        if (!!itemContextMenu) {\n            var item = this.dashboardControl._actualLayoutController().selectedDashboardItem();\n            if (item instanceof data_dashboard_item_1.DataDashboardItem) {\n                this._updateContextMenu(itemContextMenu, item, this.dashboardControl.dashboard(), this.dashboardControl._serviceClient());\n            }\n        }\n    };\n    ConversionPanelExtension.prototype.start = function () {\n        var contextMenuExtension = this.dashboardControl.findExtension('item-menu');\n        if (contextMenuExtension) {\n            this._subscriptions.push(contextMenuExtension._itemContextMenu.subscribe(this._contextMenuSubscriber, this));\n            this._contextMenuSubscriber(contextMenuExtension._itemContextMenu());\n        }\n    };\n    ConversionPanelExtension.prototype.stop = function () {\n        this._subscriptions.forEach(function (s) { return s.dispose(); });\n        this._subscriptions = [];\n    };\n    ConversionPanelExtension.prototype._updateContextMenu = function (itemContextMenu, dashboardItem, dashboard, serviceClient) {\n        var toolboxExtension = this.dashboardControl.findExtension('toolbox');\n        var _convertItem = _utils_1.asyncDebounce(serviceClient.convertItem.bind(serviceClient), function (result) {\n            var tmpDashboard = new dashboard_1.Dashboard(result);\n            var newItem = tmpDashboard.items()[0];\n            newItem.dataSource(dashboardItem.dataSource());\n            newItem.componentName(undefined);\n            dashboard._changeItem(dashboardItem, newItem);\n        });\n        var groups = toolboxExtension && toolboxExtension\n            .toolboxGroups()\n            .map(function (group) { return ({\n            groupTitle: _default_1.getLocalizationById(group.title),\n            items: group.items()\n                .filter(function (item) { return !!item.type && item.type !== 'Group' && item.type !== 'Image' && item.type !== 'TabContainer' && !serializable_model_1.itemTypesMap[item.type].customItemType; })\n                .map(function (item) { return ({\n                title: _default_1.getLocalizationById(item.title),\n                icon: item.icon,\n                convert: function () { return _convertItem(dashboardItem, dashboard_item_1.DashboardItem._getCommonItemType(item.type)); },\n                disabled: dashboardItem.itemType() === item.type,\n                type: item.type\n            }); })\n        }); })\n            .filter(function (group) { return group.items.length; }) || [];\n        var viewModel = {\n            groups: groups,\n            duplicate: function () { return dashboard._duplicateItem(dashboardItem); },\n            duplicateActionCaption: _default_1.getLocalizationById('DashboardWebStringId.Duplicate'),\n        };\n        itemContextMenu.contextMenuItems.push({\n            menuItemId: this.name,\n            icon: 'dx-dashboard-convert',\n            title: 'DashboardWebStringId.ConvertTo',\n            panelWidth: _dashboard_item_menu_1.DashboardItemMenuSizes.OptionsPanelWidth,\n            templateName: 'dx-dashboard-convert-to',\n            detailVisible: ko.observable(false),\n            customData: viewModel,\n            index: 400\n        });\n    };\n    return ConversionPanelExtension;\n}());\nexports.ConversionPanelExtension = ConversionPanelExtension;\ncontrol_options_1.designerExtensions[name] = function (dashboardControl, options) { return new ConversionPanelExtension(dashboardControl); };\ncontrol_options_1.extensionNameMap[name] = nameAlias;\n"]},"metadata":{},"sourceType":"script"}