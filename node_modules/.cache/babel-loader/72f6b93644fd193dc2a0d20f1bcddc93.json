{"ast":null,"code":"/**\r\n* DevExpress Dashboard (parameter-dialog-extension.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DashboardParameterDialogExtension = void 0;\n\nvar ko = require(\"knockout\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar disposable_object_1 = require(\"../../model/disposable-object\");\n\nvar _obsolete_helper_1 = require(\"../../model/internal/_obsolete-helper\");\n\nvar _parameters_dialog_1 = require(\"../../viewer-parts/widgets/dialogs/_parameters-dialog\");\n\nvar _dashboard_layout_mode_helper_1 = require(\"../../viewer-parts/_dashboard-layout-mode-helper\");\n\nvar control_options_1 = require(\"../control-options\");\n\nvar _options_manager_1 = require(\"../internal/_options-manager\");\n\nvar _parameter_dialog_binder_1 = require(\"./_parameter-dialog-binder\");\n\nvar name = 'dashboard-parameter-dialog';\nvar nameAlias = 'dashboardParameterDialog';\n\nvar DashboardParameterDialogExtension = function (_super) {\n  __extends(DashboardParameterDialogExtension, _super);\n\n  function DashboardParameterDialogExtension(dashboardControl, options) {\n    var _this = _super.call(this) || this;\n\n    _this._customDialogContent = [];\n    _this._optionsManager = new _options_manager_1.OptionsManager();\n    _this.name = name;\n    _this.showDialogButton = ko.observable(true);\n\n    _this._updateViewModel = function (dashboard) {\n      _this._clear();\n\n      if (!!dashboard) {\n        _this._viewModel = new _parameter_dialog_binder_1.ParameterDialogViewModel(dashboard.parameters, function (parameterType, settings) {\n          return _this._dashboardControl._dataSourceBrowser.getParameterValues(parameterType, settings);\n        });\n\n        _this._viewModel.parameterCollection.subscribe(function (value) {\n          _this._clearContent();\n\n          _this._customDialogContent.concat(_this._parameterDialog).filter(function (dialog) {\n            return dialog && dialog.setActualState;\n          }).forEach(function (dialog) {\n            return dialog.setActualState();\n          });\n        });\n      }\n    };\n\n    _this._optionsManager.initialize({\n      alias: nameAlias,\n      dashboardControl: dashboardControl,\n      defaultOptions: {},\n      eventsHolder: _this,\n      initOptions: options,\n      optionChanged: function (args) {\n        return null;\n      }\n    });\n\n    _this._dashboardControl = dashboardControl;\n\n    _this._onShowing = _this._optionsManager.getInitialOptions().onShowing || function () {};\n\n    _this._onShown = _this._optionsManager.getInitialOptions().onShown || function () {};\n\n    _this._onHidden = _this._optionsManager.getInitialOptions().onHidden || function () {};\n\n    return _this;\n  }\n\n  Object.defineProperty(DashboardParameterDialogExtension.prototype, \"onShowing\", {\n    get: function () {\n      return this._onShowing;\n    },\n    set: function (value) {\n      if (this._onShowing) {\n        this.off('showing', this._onShowing);\n      }\n\n      this._onShowing = value;\n      this.on('showing', value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DashboardParameterDialogExtension.prototype, \"onShown\", {\n    get: function () {\n      return this._onShown;\n    },\n    set: function (value) {\n      if (this._onShown) {\n        this.off('shown', this._onShown);\n      }\n\n      this._onShown = value;\n      this.on('shown', value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DashboardParameterDialogExtension.prototype, \"onHidden\", {\n    get: function () {\n      return this._onHidden;\n    },\n    set: function (value) {\n      if (this._onHidden) {\n        this.off('hidden', this._onHidden);\n      }\n\n      this._onHidden = value;\n      this.on('hidden', value);\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DashboardParameterDialogExtension.prototype.start = function () {\n    var _this = this;\n\n    if (this._dashboardControl.dashboard()) {\n      this._updateViewModel(this._dashboardControl.dashboard());\n\n      this._subscribeDynamicLookUpValuesLoaded();\n    }\n\n    this.toDispose(this._dashboardControl.dashboard.subscribe(function (newDashboard) {\n      return _this._updateViewModel(newDashboard);\n    }));\n    this.toDispose(this._dashboardControl.dashboard.subscribe(function () {\n      return _this._subscribeDynamicLookUpValuesLoaded();\n    }));\n\n    _obsolete_helper_1.defineObsoleteMethod({\n      target: this,\n      memberName: 'showDialog',\n      oldMemberDisplayName: 'DashboardParameterDialogExtension.showDialog',\n      newMemberDisplayName: 'DashboardParameterDialogExtension.show',\n      action: function () {\n        return _this.show();\n      }\n    });\n\n    _obsolete_helper_1.defineObsoleteMethod({\n      target: this,\n      memberName: 'hideDialog',\n      oldMemberDisplayName: 'DashboardParameterDialogExtension.hideDialog',\n      newMemberDisplayName: 'DashboardParameterDialogExtension.hide',\n      action: function () {\n        return _this.hide();\n      }\n    });\n  };\n\n  DashboardParameterDialogExtension.prototype.stop = function () {\n    this._clear();\n\n    this.dispose();\n  };\n\n  DashboardParameterDialogExtension.prototype.show = function () {\n    if (this._parameterDialog) {\n      this._parameterDialog.dispose();\n    }\n\n    this._parameterDialog = this._createParameterDialog();\n\n    this._parameterDialog.show();\n  };\n\n  DashboardParameterDialogExtension.prototype.hide = function () {\n    if (!!this._parameterDialog) {\n      this._parameterDialog.hide();\n    }\n  };\n\n  DashboardParameterDialogExtension.prototype.subscribeToContentChanges = function (callback) {\n    return this._viewModel.parameterCollection.subscribe(callback);\n  };\n\n  DashboardParameterDialogExtension.prototype.getParameters = function () {\n    return this._getParameters();\n  };\n\n  DashboardParameterDialogExtension.prototype._getParameters = function () {\n    if (!this._viewModel) throw 'Dashboard is not loaded';\n    return this._viewModel.parameterCollection();\n  };\n\n  DashboardParameterDialogExtension.prototype.renderContent = function (element) {\n    var _this = this;\n\n    var customParameterDialog = this._createParameterDialog();\n\n    this._customDialogContent.push(customParameterDialog);\n\n    return customParameterDialog.generateContent(_jquery_helpers_1.$unwrap(element), function () {\n      _this._customDialogContent.splice(_this._customDialogContent.indexOf(customParameterDialog), 1);\n    });\n  };\n\n  DashboardParameterDialogExtension.prototype._createParameterDialog = function () {\n    var _this = this;\n\n    return new _parameters_dialog_1.parametersDialog({\n      parametersDialogContainer: _dashboard_layout_mode_helper_1.DashboardLayoutModeHelper.isMobile ? window.document.body : this._dashboardControl.getWidgetContainer(),\n      getParametersCollection: function () {\n        return _this._getParameters();\n      },\n      submitParameters: function (newParameters) {\n        _this._viewModel.parameterCollection.peek().setParameters(newParameters);\n      },\n      onShowing: function (args) {\n        return _this._optionsManager.raiseEvent('showing', args);\n      },\n      onShown: function (args) {\n        return _this._optionsManager.raiseEvent('shown', args);\n      },\n      onHidden: function (args) {\n        return _this._optionsManager.raiseEvent('hidden', args);\n      }\n    });\n  };\n\n  DashboardParameterDialogExtension.prototype._clearContent = function () {\n    this._customDialogContent.forEach(function (dialog) {\n      return dialog.dispose();\n    });\n\n    this._customDialogContent = [];\n  };\n\n  DashboardParameterDialogExtension.prototype._clear = function () {\n    this._clearContent();\n\n    if (this._parameterDialog) {\n      this._parameterDialog.dispose();\n\n      this._parameterDialog = undefined;\n    }\n\n    if (this._viewModel) {\n      this._viewModel.dispose();\n\n      this._viewModel = undefined;\n    }\n  };\n\n  DashboardParameterDialogExtension.prototype._subscribeDynamicLookUpValuesLoaded = function () {\n    var _this = this;\n\n    var dataSourceBrowser = this._dashboardControl._dataSourceBrowser;\n\n    if (dataSourceBrowser) {\n      dataSourceBrowser.dynamicLookUpValuesLoaded = function (dynamicListLookUpSettings) {\n        _this._dashboardControl.dashboard().parameters().filter(function (param) {\n          return param.dynamicListLookUpSettings() && param.dynamicListLookUpSettings().equals(dynamicListLookUpSettings);\n        }).map(function (param) {\n          return param.name();\n        }).forEach(function (paramName) {\n          _this._optionsManager.raiseEvent('dynamicLookUpValuesLoaded', {\n            parameterName: paramName\n          });\n        });\n      };\n    }\n  };\n\n  return DashboardParameterDialogExtension;\n}(disposable_object_1.DisposableObject);\n\nexports.DashboardParameterDialogExtension = DashboardParameterDialogExtension;\n\ncontrol_options_1.defaultExtensions[name] = function (dashboardControl, options) {\n  return new DashboardParameterDialogExtension(dashboardControl, options);\n};\n\ncontrol_options_1.extensionNameMap[name] = nameAlias;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/extensions/parameter-dialog-extension.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","DashboardParameterDialogExtension","ko","require","_jquery_helpers_1","disposable_object_1","_obsolete_helper_1","_parameters_dialog_1","_dashboard_layout_mode_helper_1","control_options_1","_options_manager_1","_parameter_dialog_binder_1","name","nameAlias","_super","dashboardControl","options","_this","_customDialogContent","_optionsManager","OptionsManager","showDialogButton","observable","_updateViewModel","dashboard","_clear","_viewModel","ParameterDialogViewModel","parameters","parameterType","settings","_dashboardControl","_dataSourceBrowser","getParameterValues","parameterCollection","subscribe","_clearContent","concat","_parameterDialog","filter","dialog","setActualState","forEach","initialize","alias","defaultOptions","eventsHolder","initOptions","optionChanged","args","_onShowing","getInitialOptions","onShowing","_onShown","onShown","_onHidden","onHidden","get","set","off","on","enumerable","configurable","start","_subscribeDynamicLookUpValuesLoaded","toDispose","newDashboard","defineObsoleteMethod","target","memberName","oldMemberDisplayName","newMemberDisplayName","action","show","hide","stop","dispose","_createParameterDialog","subscribeToContentChanges","callback","getParameters","_getParameters","renderContent","element","customParameterDialog","push","generateContent","$unwrap","splice","indexOf","parametersDialog","parametersDialogContainer","DashboardLayoutModeHelper","isMobile","window","document","body","getWidgetContainer","getParametersCollection","submitParameters","newParameters","peek","setParameters","raiseEvent","undefined","dataSourceBrowser","dynamicLookUpValuesLoaded","dynamicListLookUpSettings","param","equals","map","paramName","parameterName","DisposableObject","defaultExtensions","extensionNameMap"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (parameter-dialog-extension.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DashboardParameterDialogExtension = void 0;\nvar ko = require(\"knockout\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar disposable_object_1 = require(\"../../model/disposable-object\");\nvar _obsolete_helper_1 = require(\"../../model/internal/_obsolete-helper\");\nvar _parameters_dialog_1 = require(\"../../viewer-parts/widgets/dialogs/_parameters-dialog\");\nvar _dashboard_layout_mode_helper_1 = require(\"../../viewer-parts/_dashboard-layout-mode-helper\");\nvar control_options_1 = require(\"../control-options\");\nvar _options_manager_1 = require(\"../internal/_options-manager\");\nvar _parameter_dialog_binder_1 = require(\"./_parameter-dialog-binder\");\nvar name = 'dashboard-parameter-dialog';\nvar nameAlias = 'dashboardParameterDialog';\nvar DashboardParameterDialogExtension = (function (_super) {\n    __extends(DashboardParameterDialogExtension, _super);\n    function DashboardParameterDialogExtension(dashboardControl, options) {\n        var _this = _super.call(this) || this;\n        _this._customDialogContent = [];\n        _this._optionsManager = new _options_manager_1.OptionsManager();\n        _this.name = name;\n        _this.showDialogButton = ko.observable(true);\n        _this._updateViewModel = function (dashboard) {\n            _this._clear();\n            if (!!dashboard) {\n                _this._viewModel = new _parameter_dialog_binder_1.ParameterDialogViewModel(dashboard.parameters, function (parameterType, settings) { return _this._dashboardControl._dataSourceBrowser.getParameterValues(parameterType, settings); });\n                _this._viewModel.parameterCollection.subscribe(function (value) {\n                    _this._clearContent();\n                    _this._customDialogContent.concat(_this._parameterDialog)\n                        .filter(function (dialog) { return dialog && dialog.setActualState; })\n                        .forEach(function (dialog) { return dialog.setActualState(); });\n                });\n            }\n        };\n        _this._optionsManager.initialize({\n            alias: nameAlias,\n            dashboardControl: dashboardControl,\n            defaultOptions: {},\n            eventsHolder: _this,\n            initOptions: options,\n            optionChanged: function (args) { return null; }\n        });\n        _this._dashboardControl = dashboardControl;\n        _this._onShowing = _this._optionsManager.getInitialOptions().onShowing || (function () { });\n        _this._onShown = _this._optionsManager.getInitialOptions().onShown || (function () { });\n        _this._onHidden = _this._optionsManager.getInitialOptions().onHidden || (function () { });\n        return _this;\n    }\n    Object.defineProperty(DashboardParameterDialogExtension.prototype, \"onShowing\", {\n        get: function () {\n            return this._onShowing;\n        },\n        set: function (value) {\n            if (this._onShowing) {\n                this.off('showing', this._onShowing);\n            }\n            this._onShowing = value;\n            this.on('showing', value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DashboardParameterDialogExtension.prototype, \"onShown\", {\n        get: function () {\n            return this._onShown;\n        },\n        set: function (value) {\n            if (this._onShown) {\n                this.off('shown', this._onShown);\n            }\n            this._onShown = value;\n            this.on('shown', value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DashboardParameterDialogExtension.prototype, \"onHidden\", {\n        get: function () {\n            return this._onHidden;\n        },\n        set: function (value) {\n            if (this._onHidden) {\n                this.off('hidden', this._onHidden);\n            }\n            this._onHidden = value;\n            this.on('hidden', value);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DashboardParameterDialogExtension.prototype.start = function () {\n        var _this = this;\n        if (this._dashboardControl.dashboard()) {\n            this._updateViewModel(this._dashboardControl.dashboard());\n            this._subscribeDynamicLookUpValuesLoaded();\n        }\n        this.toDispose(this._dashboardControl.dashboard.subscribe(function (newDashboard) { return _this._updateViewModel(newDashboard); }));\n        this.toDispose(this._dashboardControl.dashboard.subscribe(function () { return _this._subscribeDynamicLookUpValuesLoaded(); }));\n        _obsolete_helper_1.defineObsoleteMethod({\n            target: this,\n            memberName: 'showDialog',\n            oldMemberDisplayName: 'DashboardParameterDialogExtension.showDialog',\n            newMemberDisplayName: 'DashboardParameterDialogExtension.show',\n            action: function () { return _this.show(); }\n        });\n        _obsolete_helper_1.defineObsoleteMethod({\n            target: this,\n            memberName: 'hideDialog',\n            oldMemberDisplayName: 'DashboardParameterDialogExtension.hideDialog',\n            newMemberDisplayName: 'DashboardParameterDialogExtension.hide',\n            action: function () { return _this.hide(); }\n        });\n    };\n    DashboardParameterDialogExtension.prototype.stop = function () {\n        this._clear();\n        this.dispose();\n    };\n    DashboardParameterDialogExtension.prototype.show = function () {\n        if (this._parameterDialog) {\n            this._parameterDialog.dispose();\n        }\n        this._parameterDialog = this._createParameterDialog();\n        this._parameterDialog.show();\n    };\n    DashboardParameterDialogExtension.prototype.hide = function () {\n        if (!!this._parameterDialog) {\n            this._parameterDialog.hide();\n        }\n    };\n    DashboardParameterDialogExtension.prototype.subscribeToContentChanges = function (callback) {\n        return this._viewModel.parameterCollection.subscribe(callback);\n    };\n    DashboardParameterDialogExtension.prototype.getParameters = function () {\n        return this._getParameters();\n    };\n    DashboardParameterDialogExtension.prototype._getParameters = function () {\n        if (!this._viewModel)\n            throw 'Dashboard is not loaded';\n        return this._viewModel.parameterCollection();\n    };\n    DashboardParameterDialogExtension.prototype.renderContent = function (element) {\n        var _this = this;\n        var customParameterDialog = this._createParameterDialog();\n        this._customDialogContent.push(customParameterDialog);\n        return customParameterDialog.generateContent(_jquery_helpers_1.$unwrap(element), function () {\n            _this._customDialogContent.splice(_this._customDialogContent.indexOf(customParameterDialog), 1);\n        });\n    };\n    DashboardParameterDialogExtension.prototype._createParameterDialog = function () {\n        var _this = this;\n        return new _parameters_dialog_1.parametersDialog({\n            parametersDialogContainer: _dashboard_layout_mode_helper_1.DashboardLayoutModeHelper.isMobile ? window.document.body : this._dashboardControl.getWidgetContainer(),\n            getParametersCollection: function () { return _this._getParameters(); },\n            submitParameters: function (newParameters) {\n                _this._viewModel.parameterCollection.peek().setParameters(newParameters);\n            },\n            onShowing: function (args) { return _this._optionsManager.raiseEvent('showing', args); },\n            onShown: function (args) { return _this._optionsManager.raiseEvent('shown', args); },\n            onHidden: function (args) { return _this._optionsManager.raiseEvent('hidden', args); }\n        });\n    };\n    DashboardParameterDialogExtension.prototype._clearContent = function () {\n        this._customDialogContent.forEach(function (dialog) { return dialog.dispose(); });\n        this._customDialogContent = [];\n    };\n    DashboardParameterDialogExtension.prototype._clear = function () {\n        this._clearContent();\n        if (this._parameterDialog) {\n            this._parameterDialog.dispose();\n            this._parameterDialog = undefined;\n        }\n        if (this._viewModel) {\n            this._viewModel.dispose();\n            this._viewModel = undefined;\n        }\n    };\n    DashboardParameterDialogExtension.prototype._subscribeDynamicLookUpValuesLoaded = function () {\n        var _this = this;\n        var dataSourceBrowser = this._dashboardControl._dataSourceBrowser;\n        if (dataSourceBrowser) {\n            dataSourceBrowser.dynamicLookUpValuesLoaded = function (dynamicListLookUpSettings) {\n                _this._dashboardControl\n                    .dashboard()\n                    .parameters()\n                    .filter(function (param) {\n                    return param.dynamicListLookUpSettings() && param.dynamicListLookUpSettings().equals(dynamicListLookUpSettings);\n                })\n                    .map(function (param) { return param.name(); })\n                    .forEach(function (paramName) {\n                    _this._optionsManager.raiseEvent('dynamicLookUpValuesLoaded', { parameterName: paramName });\n                });\n            };\n        }\n    };\n    return DashboardParameterDialogExtension;\n}(disposable_object_1.DisposableObject));\nexports.DashboardParameterDialogExtension = DashboardParameterDialogExtension;\ncontrol_options_1.defaultExtensions[name] = function (dashboardControl, options) { return new DashboardParameterDialogExtension(dashboardControl, options); };\ncontrol_options_1.extensionNameMap[name] = nameAlias;\n"]},"metadata":{},"sourceType":"script"}