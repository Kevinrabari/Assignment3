{"ast":null,"code":"/**\n* DevExpress Analytics (query-builder\\elements\\columnExpression.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColumnExpression = void 0;\n\nvar ko = require(\"knockout\");\n\nvar serializer_1 = require(\"../../serializer/serializer\");\n\nvar property_1 = require(\"../../widgets/criteria/operators/property\");\n\nvar _arrayutils_1 = require(\"../../core/utils/_arrayutils\");\n\nvar columnExpressionMeta_1 = require(\"./columnExpressionMeta\");\n\nvar criteriaEnumeration_1 = require(\"../../widgets/criteria/utils/criteriaEnumeration\");\n\nvar criteriaOperatorStateMachine_1 = require(\"../../widgets/criteria/utils/criteriaOperatorStateMachine\");\n\nvar ColumnExpression = function () {\n  function ColumnExpression(model, query, serializer) {\n    var _this = this;\n\n    serializer = serializer || new serializer_1.ModelSerializer();\n    serializer.deserialize(this, model);\n    this._dependedTables = [];\n\n    if (this.table()) {\n      var tableRef = query.getTable(this.table());\n      this.table = ko.pureComputed(function () {\n        return tableRef.actualName();\n      });\n\n      this._dependedTables.push(tableRef);\n    } else if (this.expression()) {\n      try {\n        this._criteria = criteriaOperatorStateMachine_1.CriteriaOperatorStateMachine.parse(this.expression());\n        criteriaEnumeration_1.criteriaForEach(this._criteria, function (operand) {\n          if (operand instanceof property_1.OperandProperty) {\n            var dependedTable = _arrayutils_1.findFirstItemMatchesCondition(query.tables(), function (table) {\n              return operand.propertyName.indexOf(table.actualName() + '.') === 0;\n            });\n\n            dependedTable && _this._dependedTables.push(dependedTable);\n          }\n        });\n      } catch (e) {}\n    }\n\n    this.__table = this.table;\n    this.__column = this.column;\n    this.__expression = this.expression;\n  }\n\n  ColumnExpression.prototype.actualName = function () {\n    return this.alias() || this.column();\n  };\n\n  ColumnExpression.prototype.toTable = function () {\n    this.table = this.__table;\n    this.column = this.__column;\n    this.expression = ko.observable(null);\n    this.itemType(columnExpressionMeta_1.ColumnType[columnExpressionMeta_1.ColumnType.Column]);\n    if (!!this.__column.peek() && this.alias().indexOf('Expr') === 0) this.alias(null);\n  };\n\n  ColumnExpression.prototype.getInfo = function () {\n    return columnExpressionMeta_1.columnExpressionSerializationsInfo;\n  };\n\n  ColumnExpression.prototype.isDepended = function (tableActualName) {\n    return !!_arrayutils_1.findFirstItemMatchesCondition(this._dependedTables, function (depended) {\n      return depended.actualName() === tableActualName;\n    });\n  };\n\n  return ColumnExpression;\n}();\n\nexports.ColumnExpression = ColumnExpression;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/@devexpress/analytics-core/query-builder/elements/columnExpression.js"],"names":["Object","defineProperty","exports","value","ColumnExpression","ko","require","serializer_1","property_1","_arrayutils_1","columnExpressionMeta_1","criteriaEnumeration_1","criteriaOperatorStateMachine_1","model","query","serializer","_this","ModelSerializer","deserialize","_dependedTables","table","tableRef","getTable","pureComputed","actualName","push","expression","_criteria","CriteriaOperatorStateMachine","parse","criteriaForEach","operand","OperandProperty","dependedTable","findFirstItemMatchesCondition","tables","propertyName","indexOf","e","__table","__column","column","__expression","prototype","alias","toTable","observable","itemType","ColumnType","Column","peek","getInfo","columnExpressionSerializationsInfo","isDepended","tableActualName","depended"],"mappings":"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","sourcesContent":["/**\n* DevExpress Analytics (query-builder\\elements\\columnExpression.js)\n* Version:  22.1.3\n* Build date: Jun 14, 2022\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\n*/\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColumnExpression = void 0;\nvar ko = require(\"knockout\");\nvar serializer_1 = require(\"../../serializer/serializer\");\nvar property_1 = require(\"../../widgets/criteria/operators/property\");\nvar _arrayutils_1 = require(\"../../core/utils/_arrayutils\");\nvar columnExpressionMeta_1 = require(\"./columnExpressionMeta\");\nvar criteriaEnumeration_1 = require(\"../../widgets/criteria/utils/criteriaEnumeration\");\nvar criteriaOperatorStateMachine_1 = require(\"../../widgets/criteria/utils/criteriaOperatorStateMachine\");\nvar ColumnExpression = (function () {\n    function ColumnExpression(model, query, serializer) {\n        var _this = this;\n        serializer = serializer || new serializer_1.ModelSerializer();\n        serializer.deserialize(this, model);\n        this._dependedTables = [];\n        if (this.table()) {\n            var tableRef = query.getTable(this.table());\n            this.table = ko.pureComputed(function () { return tableRef.actualName(); });\n            this._dependedTables.push(tableRef);\n        }\n        else if (this.expression()) {\n            try {\n                this._criteria = criteriaOperatorStateMachine_1.CriteriaOperatorStateMachine.parse(this.expression());\n                criteriaEnumeration_1.criteriaForEach(this._criteria, function (operand) {\n                    if (operand instanceof property_1.OperandProperty) {\n                        var dependedTable = _arrayutils_1.findFirstItemMatchesCondition(query.tables(), function (table) { return operand.propertyName.indexOf(table.actualName() + '.') === 0; });\n                        dependedTable && _this._dependedTables.push(dependedTable);\n                    }\n                });\n            }\n            catch (e) {\n            }\n        }\n        this.__table = this.table;\n        this.__column = this.column;\n        this.__expression = this.expression;\n    }\n    ColumnExpression.prototype.actualName = function () {\n        return this.alias() || this.column();\n    };\n    ColumnExpression.prototype.toTable = function () {\n        this.table = this.__table;\n        this.column = this.__column;\n        this.expression = ko.observable(null);\n        this.itemType(columnExpressionMeta_1.ColumnType[columnExpressionMeta_1.ColumnType.Column]);\n        if (!!this.__column.peek() && this.alias().indexOf('Expr') === 0)\n            this.alias(null);\n    };\n    ColumnExpression.prototype.getInfo = function () {\n        return columnExpressionMeta_1.columnExpressionSerializationsInfo;\n    };\n    ColumnExpression.prototype.isDepended = function (tableActualName) {\n        return !!_arrayutils_1.findFirstItemMatchesCondition(this._dependedTables, function (depended) { return depended.actualName() === tableActualName; });\n    };\n    return ColumnExpression;\n}());\nexports.ColumnExpression = ColumnExpression;\n"]},"metadata":{},"sourceType":"script"}