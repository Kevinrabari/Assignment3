{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_style-settings-provider.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cardItemStyleSettingsProvider = exports.styleSettingsProvider = exports.DrawProperty = void 0;\n\nvar color_1 = require(\"devextreme/color\");\n\nvar browser_1 = require(\"devextreme/core/utils/browser\");\n\nvar tooltip_1 = require(\"devextreme/ui/tooltip\");\n\nvar $ = require(\"jquery\");\n\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\n\nvar _utils_1 = require(\"../../data/_utils\");\n\nvar _cssHelper_1 = require(\"../viewer/_cssHelper\");\n\nvar _css_class_names_1 = require(\"../widgets/widgets-viewer/_css-class-names\");\n\nvar _appearance_settings_provider_1 = require(\"./_appearance-settings-provider\");\n\nvar ICON_TYPE_NONE = 'None',\n    APPEARANCE_TYPE_NONE = 'None',\n    APPEARANCE_TYPE_CUSTOM = 'Custom',\n    VERTICAL_AXIS_PADDING = 3,\n    HIDDEN_TEXT_PREFIX = 'hiddenText',\n    TOOLTIP_PREFIX = 'tooltip',\n    GRID_BANDED_ROW_SELECTOR = '.dx-datagrid .dx-row-alt',\n    PIVOT_AREA_SELECTOR = '.dx-pivotgrid .dx-pivotgrid-area';\nvar nbspSymbol = '\\u00A0';\n\nvar BarCacheItem = function () {\n  function BarCacheItem() {}\n\n  return BarCacheItem;\n}();\n\nvar DrawProperty = function () {\n  function DrawProperty() {\n    this.shouldDrawFontStyles = true;\n    this.shouldDrawBackColorStyle = true;\n  }\n\n  return DrawProperty;\n}();\n\nexports.DrawProperty = DrawProperty;\n\nvar styleSettingsProvider = function () {\n  function styleSettingsProvider() {\n    this.wordWrap = false;\n    this.FontStyle = {\n      Bold: 1,\n      Italic: 2,\n      Underline: 4,\n      Strikeout: 8\n    };\n    this.DataAttributes = {\n      Bar: 'bar',\n      Axis: 'axis',\n      NormalizedValue: 'normalizedValue',\n      ZeroPosition: 'zeroPosition',\n      AllowNegativeAxis: 'allowNegativeAxis',\n      DrawAxis: 'drawAxis'\n    };\n    this.cfModel = undefined;\n    this.cssCustomClasses = [];\n    this.cssCustomClassesLinks = [];\n    this.id = styleSettingsProvider.inctanceCounter++;\n    this.drawingLocked = true;\n    this.barCache = {};\n    this.padding = null;\n    this.barPrefixes = [];\n  }\n\n  styleSettingsProvider.toIconCssClass = function (iconType) {\n    return styleSettingsProvider.cssClassNames.iconConditionalFormatting + '-' + iconType.toLowerCase();\n  };\n\n  styleSettingsProvider._getRangeBackColorStyleSettings = function (styleSettings, condition) {\n    var rangeIndex = styleSettings.RangeIndex,\n        leftIndex = -1,\n        rightIndex = -1,\n        leftModel,\n        rightModel,\n        resultModel,\n        leftColor,\n        rightColor,\n        color;\n    Object.keys(condition.FixedColors).map(Number).forEach(function (index) {\n      if (index < rangeIndex && (leftIndex === -1 || index > leftIndex)) leftIndex = index;\n      if (index > rangeIndex && (rightIndex === -1 || index < rightIndex)) rightIndex = index;\n    });\n    leftModel = condition.FixedColors[leftIndex];\n    rightModel = condition.FixedColors[rightIndex];\n    leftColor = new color_1.default(_appearance_settings_provider_1.appearanceSettingsProvider.getColor(leftModel));\n    rightColor = new color_1.default(_appearance_settings_provider_1.appearanceSettingsProvider.getColor(rightModel));\n    return {\n      AppearanceType: APPEARANCE_TYPE_CUSTOM,\n      Color: leftColor.blend(rightColor, (rangeIndex - leftIndex) / (rightIndex - leftIndex)),\n      ForeColor: leftModel.ForeColor,\n      FontFamily: leftModel.FontFamily,\n      FontSize: leftModel.FontSize,\n      FontStyle: leftModel.FontStyle,\n      IsBarStyle: leftModel.IsBarStyle\n    };\n  };\n\n  styleSettingsProvider.prototype.initialize = function (cfModel, wordWrap) {\n    if (cfModel) {\n      this.cfModel = cfModel;\n\n      this._clearCssClasses();\n\n      this._registerCssClasses();\n\n      this.drawingLocked = true;\n      this.barCache = {};\n      this.padding = null;\n      this.barPrefixes = [];\n    }\n\n    this.wordWrap = wordWrap !== undefined ? wordWrap : this.wordWrap;\n  };\n\n  styleSettingsProvider.prototype.dispose = function () {\n    this._clearCssClasses();\n  };\n\n  styleSettingsProvider.prototype.draw = function () {\n    var _this = this;\n\n    Object.values(this.barCache).forEach(function (columnCacheItem) {\n      columnCacheItem.forEach(function (barCacheItem) {\n        var textDiv = barCacheItem.getTextDiv();\n\n        while (barCacheItem.container.firstChild) {\n          barCacheItem.container.removeChild(barCacheItem.container.firstChild);\n        }\n\n        if (!barCacheItem.container.classList.contains(styleSettingsProvider.cssClassNames.barContainer)) {\n          barCacheItem.container.classList.add(styleSettingsProvider.cssClassNames.barContainer);\n        }\n\n        var barContainer = barCacheItem.barContainer;\n        barCacheItem.container.appendChild(barContainer);\n        barContainer.appendChild(barCacheItem.barDiv);\n\n        if (barCacheItem.drawAxis) {\n          barContainer.appendChild(barCacheItem.axisDiv);\n        }\n\n        if (!barCacheItem.showBarOnly) {\n          barContainer.appendChild(textDiv);\n        } else {\n          barCacheItem.container.appendChild(textDiv);\n          barCacheItem.container.appendChild(barCacheItem.tooltipDiv);\n        }\n      });\n    });\n    this.drawingLocked = false;\n    this.barPrefixes.forEach(function (barPrefix) {\n      return _this.updateBarWidth(barPrefix);\n    });\n  };\n\n  styleSettingsProvider.prototype.updateBarWidth = function (barPrefix) {\n    var _this = this;\n\n    if (!this.drawingLocked) {\n      var barCacheItems = this.barCache[barPrefix],\n          containerHeights_1;\n\n      if (barCacheItems) {\n        containerHeights_1 = this._getContainerHeights(barCacheItems);\n        barCacheItems.forEach(function (barCacheItem, i) {\n          var bar = barCacheItem.barDiv,\n              normalizedValue = _jquery_helpers_1.accessJQueryData(bar, _this.DataAttributes.NormalizedValue),\n              zeroPosition = _jquery_helpers_1.accessJQueryData(bar, _this.DataAttributes.ZeroPosition),\n              allowNegativeAxis = _jquery_helpers_1.accessJQueryData(bar, _this.DataAttributes.AllowNegativeAxis),\n              drawAxis = _jquery_helpers_1.accessJQueryData(bar, _this.DataAttributes.DrawAxis),\n              containerHeight = containerHeights_1[i],\n              axisDiv = bar.parentNode && bar.parentNode.querySelector('.' + _this.DataAttributes.Axis + '_' + barPrefix);\n\n          _this._setBarBounds(bar, containerHeight, zeroPosition, normalizedValue, allowNegativeAxis, drawAxis);\n\n          if (axisDiv) {\n            _this._setAxisBounds(axisDiv, containerHeight, zeroPosition);\n          }\n        });\n      }\n    }\n  };\n\n  styleSettingsProvider.prototype.applyStyleSettings = function (container, popupContainer, styleSettingsInfo, ignoreImageSettings, barPrefix, forceLeftAlignment, isSecondaryStyle) {\n    var _this = this;\n\n    var styleSettingsModel,\n        sortedStyleIndexes = styleSettingsInfo ? styleSettingsInfo.styleIndexes : undefined,\n        condition,\n        ruleIndex,\n        barInfo,\n        iconType;\n\n    if (sortedStyleIndexes && sortedStyleIndexes.length > 0) {\n      sortedStyleIndexes.sort(function (a, b) {\n        return a - b;\n      });\n      sortedStyleIndexes.forEach(function (styleIndex) {\n        styleSettingsModel = _this.cfModel.FormatConditionStyleSettings[styleIndex];\n        ruleIndex = styleSettingsInfo.styleAndRuleMappingTable[styleIndex];\n\n        if (styleSettingsModel.IsBarStyle) {\n          condition = _this.cfModel.RuleModels[ruleIndex].ConditionModel;\n          barInfo = _this._getBarInfo(styleSettingsModel, styleIndex, condition);\n        } else if (styleSettingsModel.RangeIndex || styleSettingsModel.AppearanceType !== APPEARANCE_TYPE_NONE) {\n          var style = isSecondaryStyle === true ? _this.cssCustomClasses[styleIndex].secondary : _this.cssCustomClasses[styleIndex].primary;\n          container.classList.add(style);\n        } else if (styleSettingsModel.IconType !== ICON_TYPE_NONE) iconType = styleSettingsModel.IconType;\n      });\n\n      if (barInfo) {\n        barInfo.normalizedValue = styleSettingsInfo.normalizedValue;\n        barInfo.zeroPosition = styleSettingsInfo.zeroPosition;\n\n        this._createBarContent(container, popupContainer, barInfo, barPrefix, forceLeftAlignment);\n      } else if (!ignoreImageSettings && iconType) {\n        this._applyIconSettings(container, iconType, forceLeftAlignment);\n      }\n    }\n  };\n\n  styleSettingsProvider.prototype._getContainerHeights = function (barCacheItems) {\n    var containerHeights = [];\n    barCacheItems.forEach(function (barCacheItem) {\n      var containerElement = barCacheItem.container,\n          containerBounds = containerElement.getBoundingClientRect(),\n          containerStyles = getComputedStyle(containerElement),\n          topBorderWidth = parseInt(containerStyles.borderTopWidth) || 0,\n          bottomBorderWidth = parseInt(containerStyles.borderBottomWidth) || 0,\n          height = browser_1.default.webkit ? containerBounds.height - topBorderWidth : containerBounds.height - topBorderWidth - bottomBorderWidth;\n      containerHeights.push(height);\n    });\n    return containerHeights;\n  };\n\n  styleSettingsProvider.prototype._createCssClassName = function (prefix, styleIndex, postFix) {\n    var styleName = prefix + '-' + this.id + '-' + styleIndex;\n    if (postFix) styleName += '-' + postFix;\n    return styleName;\n  };\n\n  styleSettingsProvider.prototype._applyIconSettings = function (container, iconType, forceLeftAlignment, flexParentStyle) {\n    var _a;\n\n    if (flexParentStyle === void 0) {\n      flexParentStyle = styleSettingsProvider.cssClassNames.flexParent;\n    }\n\n    if (!container.classList.contains('dx-white-space-column')) {\n      var classes = styleSettingsProvider.cssClassNames;\n\n      var textAlignmentIsLeft = this._textAlignmentIsLeft(container);\n\n      var imageClasses = [classes.iconConditionalFormatting, styleSettingsProvider.toIconCssClass(iconType)];\n\n      this._wrapChildElementsToApplyIconSettings(container, classes, forceLeftAlignment);\n\n      var marginClass = textAlignmentIsLeft ? classes.leftMargin : classes.rightMargin;\n      imageClasses.push(classes.fixed, marginClass);\n      var imageElt = document.createElement('div');\n\n      (_a = imageElt.classList).add.apply(_a, imageClasses);\n\n      if (textAlignmentIsLeft) {\n        container.appendChild(imageElt);\n      } else {\n        container.insertBefore(imageElt, container.firstChild);\n      }\n\n      var wrappingElement = document.createElement('div');\n      wrappingElement.classList.add(flexParentStyle);\n\n      _jquery_helpers_1.wrapInner(container, wrappingElement);\n    }\n  };\n\n  styleSettingsProvider.prototype._wrapChildElementsToApplyIconSettings = function (container, classes, forceLeftAlignment) {\n    var _a;\n\n    var textClasses = [this.wordWrap ? classes.wordWrap : classes.truncated, forceLeftAlignment ? '' : classes.stretched];\n\n    if (container.children.length > 0) {\n      container.querySelectorAll('.dx-expand-icon-container').forEach(function (element) {\n        return element.classList.add(classes.fixed);\n      });\n      container.querySelectorAll(':scope>:not(.dx-expand-icon-container)').forEach(function (element) {\n        var _a;\n\n        return (_a = element.classList).add.apply(_a, textClasses);\n      });\n    } else {\n      var wrappingElement = document.createElement('div');\n\n      (_a = wrappingElement.classList).add.apply(_a, textClasses);\n\n      _jquery_helpers_1.wrapInner(container, wrappingElement);\n    }\n  };\n\n  styleSettingsProvider.prototype._textAlignmentIsLeft = function (container) {\n    var textAlignment = getComputedStyle(container).textAlign;\n    return textAlignment === 'left' || textAlignment === 'start' || textAlignment === 'center' || textAlignment === 'justify';\n  };\n\n  styleSettingsProvider.prototype._getBarInfo = function (styleSettingsModel, styleIndex, condition) {\n    if (this._shouldDrawBarStyle(styleSettingsModel)) {\n      return {\n        showBarOnly: condition.BarOptions.ShowBarOnly,\n        allowNegativeAxis: condition.BarOptions.AllowNegativeAxis,\n        drawAxis: condition.BarOptions.DrawAxis,\n        cssClass: this.cssCustomClasses[styleIndex].primary\n      };\n    }\n\n    return null;\n  };\n\n  styleSettingsProvider.prototype._createBarContent = function (container, popupContainer, barInfo, barPrefix, forceLeftAlignment) {\n    var barCacheItem = new BarCacheItem();\n    var displayText = container.textContent;\n    var containerContent = Array.from(container.childNodes);\n\n    if (!this.padding) {\n      var computedStyles = getComputedStyle(container);\n      this.padding = computedStyles.paddingTop + ' ' + computedStyles.paddingLeft;\n    }\n\n    if (!this.barCache[barPrefix]) this.barCache[barPrefix] = [];\n    this.barCache[barPrefix].push(barCacheItem);\n    var barContainer = document.createElement('div');\n    barContainer.classList.add(styleSettingsProvider.cssClassNames.relativePosition);\n    barCacheItem.container = container;\n    barCacheItem.barContainer = barContainer;\n    if (!this.barPrefixes.some(function (prefix) {\n      return prefix === barPrefix;\n    })) this.barPrefixes.push(barPrefix);\n    barCacheItem.barDiv = this._createBarDiv(barInfo, barPrefix);\n    barCacheItem.showBarOnly = barInfo.showBarOnly;\n    barCacheItem.drawAxis = barInfo.drawAxis;\n\n    if (barInfo.drawAxis) {\n      barCacheItem.axisDiv = this._createAxisDiv(barPrefix, barInfo.zeroPosition);\n    }\n\n    var textDiv;\n\n    barCacheItem.getTextDiv = function () {\n      if (!textDiv) {\n        textDiv = document.createElement('div');\n\n        if (barInfo.showBarOnly) {\n          textDiv.append(nbspSymbol);\n        } else {\n          textDiv.classList.add(styleSettingsProvider.cssClassNames.barValue);\n          containerContent.forEach(function (node) {\n            return textDiv.appendChild(node);\n          });\n        }\n      }\n\n      return textDiv;\n    };\n\n    if (barInfo.showBarOnly) {\n      var index = styleSettingsProvider.hiddenTextCounter++;\n      var tooltipId = TOOLTIP_PREFIX + index;\n      var containerId = HIDDEN_TEXT_PREFIX + index;\n      container.id = containerId;\n      var tooltipDiv = document.createElement('div');\n      tooltipDiv.innerText = displayText;\n      tooltipDiv.id = tooltipId;\n      new tooltip_1.default(tooltipDiv, {\n        target: '#' + containerId,\n        container: popupContainer,\n        showEvent: 'dxhoverstart',\n        hideEvent: 'dxhoverend'\n      });\n      barCacheItem.tooltipDiv = tooltipDiv;\n      $(container).unbind().hover(function () {\n        $(tooltipDiv).toggle();\n      });\n    }\n  };\n\n  styleSettingsProvider.prototype._createBarDiv = function (barInfo, barPrefix) {\n    var barDiv = document.createElement('div');\n    barDiv.classList.add(styleSettingsProvider.cssClassNames.absolutePosition);\n    barDiv.classList.add(barInfo.cssClass);\n    barDiv.classList.add(this.DataAttributes.Bar + '_' + barPrefix);\n    barDiv.append(nbspSymbol);\n\n    _jquery_helpers_1.accessJQueryData(barDiv, this.DataAttributes.NormalizedValue, barInfo.normalizedValue);\n\n    _jquery_helpers_1.accessJQueryData(barDiv, this.DataAttributes.ZeroPosition, barInfo.zeroPosition);\n\n    _jquery_helpers_1.accessJQueryData(barDiv, this.DataAttributes.AllowNegativeAxis, barInfo.allowNegativeAxis);\n\n    _jquery_helpers_1.accessJQueryData(barDiv, this.DataAttributes.DrawAxis, barInfo.drawAxis);\n\n    return barDiv;\n  };\n\n  styleSettingsProvider.prototype._createAxisDiv = function (barPrefix, zeroPosition) {\n    var axisDiv = document.createElement('div');\n    axisDiv.classList.add(styleSettingsProvider.cssClassNames.absolutePosition);\n    axisDiv.classList.add(this.DataAttributes.Axis + '_' + barPrefix, styleSettingsProvider.cssClassNames.barAxis);\n\n    _jquery_helpers_1.accessJQueryData(axisDiv, this.DataAttributes.ZeroPosition, zeroPosition);\n\n    return axisDiv;\n  };\n\n  styleSettingsProvider.prototype._setBarBounds = function (barDiv, containerHeight, zeroPosition, normalizedValue, allowNegativeAxis, drawAxis) {\n    var barWidth = Math.abs(normalizedValue * 100),\n        axisPosition = Math.abs(zeroPosition * 100),\n        width = allowNegativeAxis && drawAxis && normalizedValue < 0 && zeroPosition > 0 ? 'calc(' + barWidth + '% + 1px)' : barWidth + '%';\n    barDiv.style.height = containerHeight + 'px';\n    barDiv.style.width = width;\n\n    if (allowNegativeAxis && normalizedValue < 0 && zeroPosition > 0) {\n      if (drawAxis) {\n        barDiv.style.right = 'calc(' + (100 - axisPosition) + '% - 1px)';\n      } else {\n        barDiv.style.right = 100 - axisPosition + '%';\n      }\n    } else barDiv.style.left = axisPosition + '%';\n  };\n\n  styleSettingsProvider.prototype._setAxisBounds = function (axisDiv, containerHeight, zeroPosition) {\n    axisDiv.style.left = Math.abs(zeroPosition * 100) + '%';\n    axisDiv.style.height = Math.max(0, containerHeight - VERTICAL_AXIS_PADDING * 2) + 'px';\n  };\n\n  styleSettingsProvider.prototype._clearCssClasses = function () {\n    this.cssCustomClassesLinks.forEach(function (style) {\n      return style.remove();\n    });\n    this.cssCustomClassesLinks = [];\n  };\n\n  styleSettingsProvider.prototype._registerCssClasses = function () {\n    if (this.cfModel != undefined) {\n      for (var styleIndex = 0; styleIndex < this.cfModel.FormatConditionStyleSettings.length; styleIndex++) {\n        var styleSettingsModel = this.cfModel.FormatConditionStyleSettings[styleIndex];\n\n        this._registerCssClassByStyleModel(styleSettingsModel, styleIndex, false);\n\n        if (this._isShouldGenerateSecondaryStyle(styleSettingsModel)) {\n          this._registerCssClassByStyleModel(styleSettingsModel, styleIndex, true);\n        }\n      }\n    }\n  };\n\n  styleSettingsProvider.prototype._registerCssClassByStyleModel = function (styleSettingsModel, styleIndex, isSecondaryStyle) {\n    var className = this._generateCssClassName(styleIndex, isSecondaryStyle);\n\n    this._addCssClassToDictionary(className, styleIndex, isSecondaryStyle);\n\n    this._generateCssClassBody(styleSettingsModel, className, this._getDrawProperty(isSecondaryStyle));\n  };\n\n  styleSettingsProvider.prototype._addCssClassToDictionary = function (styleName, styleIndex, isSecondary) {\n    var primaryStyle, secondaryStyle;\n\n    if (this.cssCustomClasses[styleIndex]) {\n      primaryStyle = this.cssCustomClasses[styleIndex].primary;\n      secondaryStyle = this.cssCustomClasses[styleIndex].secondary;\n    }\n\n    if (isSecondary) secondaryStyle = styleName;else primaryStyle = styleName;\n    this.cssCustomClasses[styleIndex] = {\n      primary: primaryStyle,\n      secondary: secondaryStyle\n    };\n  };\n\n  styleSettingsProvider.prototype._generateCssClassName = function (styleIndex, isSecondary) {\n    var postFix = this._getStylePostFix(isSecondary);\n\n    var cssClassName = this._createCssClassName(styleSettingsProvider.cssClassNames.customStyle, styleIndex, postFix);\n\n    return cssClassName;\n  };\n\n  styleSettingsProvider.prototype.addNewStyle = function (styleName, styleIndex, isSecond) {\n    this.cssCustomClasses[styleIndex] = {\n      secondary: styleName,\n      primary: styleName\n    };\n  };\n\n  styleSettingsProvider.prototype._isShouldGenerateSecondaryStyle = function (styleSettingsModel) {\n    return false;\n  };\n\n  styleSettingsProvider.prototype._isSecondaryStyle = function (styleSettingsModel) {\n    return false;\n  };\n\n  styleSettingsProvider.prototype._getStylePostFix = function (isSecondary) {\n    return null;\n  };\n\n  styleSettingsProvider.prototype._getDrawProperty = function (isSecondaryStyle) {\n    return null;\n  };\n\n  styleSettingsProvider.prototype._shouldDrawBarStyle = function (styleSettingsModel) {\n    return true;\n  };\n\n  styleSettingsProvider.prototype._generateCssClassBody = function (styleSettingsModel, cssClassName, drawProperty) {\n    var selector = this._getCssTdSelector(cssClassName);\n\n    if (styleSettingsModel.RangeIndex) {\n      var condition = this.cfModel.RuleModels[styleSettingsModel.RuleIndex].ConditionModel;\n      styleSettingsModel = styleSettingsProvider._getRangeBackColorStyleSettings(styleSettingsModel, condition);\n\n      this._createCssClassFromCustomAppearanceType(styleSettingsModel, selector, drawProperty);\n    } else if (styleSettingsModel.AppearanceType === APPEARANCE_TYPE_CUSTOM) {\n      this._createCssClassFromCustomAppearanceType(styleSettingsModel, selector, drawProperty);\n    } else if (styleSettingsModel.AppearanceType !== APPEARANCE_TYPE_NONE) {\n      this._createCssClassFromPredefinedAppearanceType(selector, styleSettingsModel.AppearanceType, drawProperty);\n    }\n  };\n\n  styleSettingsProvider.prototype._getCssTdSelector = function (cssClassname) {\n    return '.' + styleSettingsProvider.cssClassNames.dashboardContainer + ' .' + cssClassname + ', ' + GRID_BANDED_ROW_SELECTOR + ' .' + cssClassname + ', ' + PIVOT_AREA_SELECTOR + ' .' + cssClassname;\n  };\n\n  styleSettingsProvider.prototype._createCssClassFromCustomAppearanceType = function (styleSettingsModel, cssSelector, drawProperty) {\n    var cssProperties = Array();\n    if (drawProperty == null || drawProperty.shouldDrawBackColorStyle) cssProperties.push(this._createBackColorStyle(styleSettingsModel));\n    if (drawProperty == null || drawProperty.shouldDrawFontStyles) cssProperties = cssProperties.concat(this._createFontStyles(styleSettingsModel));\n    this.cssCustomClassesLinks.push(_cssHelper_1.createCssClass(cssSelector, cssProperties));\n  };\n\n  styleSettingsProvider.prototype._createFontStyles = function (styleSettingsModel) {\n    var fontStyles = Array();\n    var isUnderline = (styleSettingsModel.FontStyle & this.FontStyle.Underline) !== 0,\n        isStrikeout = (styleSettingsModel.FontStyle & this.FontStyle.Strikeout) !== 0;\n    if (styleSettingsModel.ForeColor) fontStyles.push(_cssHelper_1.createCssPropertyWrapper('color', _utils_1.toColor(styleSettingsModel.ForeColor)));\n    if (styleSettingsModel.FontFamily) fontStyles.push(_cssHelper_1.createCssPropertyWrapper('font-family', styleSettingsModel.FontFamily));\n    if (styleSettingsModel.FontSize && styleSettingsModel.FontSize > 0) fontStyles.push(_cssHelper_1.createCssPropertyWrapper('font-size', styleSettingsModel.FontSize));\n    if ((styleSettingsModel.FontStyle & this.FontStyle.Bold) !== 0) fontStyles.push(_cssHelper_1.createCssPropertyWrapper('font-weight', 'bold'));\n    if ((styleSettingsModel.FontStyle & this.FontStyle.Italic) !== 0) fontStyles.push(_cssHelper_1.createCssPropertyWrapper('font-style', 'italic'));\n    if (isUnderline && isStrikeout) fontStyles.push(_cssHelper_1.createCssPropertyWrapper('text-decoration', 'underline line-through'));else if (isUnderline) fontStyles.push(_cssHelper_1.createCssPropertyWrapper('text-decoration', 'underline'));else if (isStrikeout) fontStyles.push(_cssHelper_1.createCssPropertyWrapper('text-decoration', 'line-through'));\n    return fontStyles;\n  };\n\n  styleSettingsProvider.prototype._createBackColorStyle = function (styleSettingsModel) {\n    return styleSettingsModel.Color ? _cssHelper_1.createCssPropertyWrapper('background-color', _appearance_settings_provider_1.appearanceSettingsProvider.getColor(styleSettingsModel)) : null;\n  };\n\n  styleSettingsProvider.prototype._createCssClassFromPredefinedAppearanceType = function (selector, appearanceType, drawProperty) {\n    this.cssCustomClassesLinks.push(_cssHelper_1.createCssClass(selector, _appearance_settings_provider_1.appearanceSettingsProvider.toCssProperties(appearanceType, drawProperty)));\n  };\n\n  styleSettingsProvider.cssClassNames = {\n    iconConditionalFormatting: 'dx-icon-dashboard-cf',\n    barAxis: 'dx-dashboard-bar-axis',\n    customStyle: 'dx-dashboard-cf-style',\n    customGradientStyle: 'dx-dashboard-cf-gradient-style',\n    dashboardContainer: 'dx-dashboard-container',\n    absolutePosition: 'dx-dashboard-absolute-position',\n    relativePosition: 'dx-dashboard-relative-position',\n    flexParent: 'dx-dashboard-flex-parent',\n    flexParentBaseline: 'dx-dashboard-flex-parent-baseline',\n    truncated: 'dx-dashboard-truncated',\n    wordWrap: 'dx-dashboard-word-wrap',\n    stretched: 'dx-dashboard-stretched',\n    fixed: 'dx-dashboard-fixed',\n    leftMargin: 'dx-dashboard-left-margin',\n    rightMargin: 'dx-dashboard-right-margin',\n    barContainer: 'dx-dashboard-cf-bar-container',\n    barValue: 'dx-dashboard-cf-bar-value'\n  };\n  styleSettingsProvider.inctanceCounter = 0;\n  styleSettingsProvider.hiddenTextCounter = 0;\n  return styleSettingsProvider;\n}();\n\nexports.styleSettingsProvider = styleSettingsProvider;\n\nvar cardItemStyleSettingsProvider = function (_super) {\n  __extends(cardItemStyleSettingsProvider, _super);\n\n  function cardItemStyleSettingsProvider() {\n    return _super.call(this) || this;\n  }\n\n  cardItemStyleSettingsProvider.prototype._getDrawProperty = function (isSecondaryStyle) {\n    var drawProperty = new DrawProperty();\n    drawProperty.shouldDrawBackColorStyle = isSecondaryStyle;\n    drawProperty.shouldDrawFontStyles = !isSecondaryStyle;\n    return drawProperty;\n  };\n\n  cardItemStyleSettingsProvider.prototype._getStylePostFix = function (isSecondaryStyle) {\n    return isSecondaryStyle ? 'card' : null;\n  };\n\n  cardItemStyleSettingsProvider.prototype._isShouldGenerateSecondaryStyle = function (styleSettingsModel) {\n    return true;\n  };\n\n  cardItemStyleSettingsProvider.prototype._shouldDrawBarStyle = function (styleSettingsModel) {\n    return false;\n  };\n\n  cardItemStyleSettingsProvider.prototype._textAlignmentIsLeft = function (container) {\n    return false;\n  };\n\n  cardItemStyleSettingsProvider.prototype._getCssTdSelector = function (cssClassname) {\n    var notSelectedOrHovered = ':not(.dx-selected-viewer-item):not(.dx-hovered-viewer-item)';\n    return '.' + styleSettingsProvider.cssClassNames.dashboardContainer + ' .' + _css_class_names_1.layoutCardCssClassNames.card + notSelectedOrHovered + ' .' + cssClassname + ', ' + '.' + styleSettingsProvider.cssClassNames.dashboardContainer + ' .' + _css_class_names_1.layoutCardCssClassNames.card + notSelectedOrHovered + '.' + cssClassname;\n  };\n\n  cardItemStyleSettingsProvider.prototype._applyIconSettings = function (container, iconType, forceLeftAlignment, flexParentStyle) {\n    if (flexParentStyle === void 0) {\n      flexParentStyle = styleSettingsProvider.cssClassNames.flexParent;\n    }\n\n    _super.prototype._applyIconSettings.call(this, container, iconType, forceLeftAlignment, styleSettingsProvider.cssClassNames.flexParentBaseline);\n  };\n\n  cardItemStyleSettingsProvider.prototype._wrapChildElementsToApplyIconSettings = function (container, classes, forceLeftAlignment) {\n    var _a;\n\n    var textClasses = [this.wordWrap ? classes.wordWrap : classes.truncated, classes.stretched];\n    var wrappingElement = document.createElement('div');\n\n    (_a = wrappingElement.classList).add.apply(_a, textClasses);\n\n    _jquery_helpers_1.wrapInner(container, wrappingElement);\n  };\n\n  cardItemStyleSettingsProvider.prototype.getIconType = function (styleSettingsInfo) {\n    var _this = this;\n\n    var sortedStyleIndexes = styleSettingsInfo ? styleSettingsInfo.styleIndexes : undefined;\n    var iconType;\n\n    if (sortedStyleIndexes && sortedStyleIndexes.length > 0) {\n      sortedStyleIndexes.sort(function (a, b) {\n        return a - b;\n      });\n      sortedStyleIndexes.forEach(function (index) {\n        var styleSettingsModel = _this.cfModel.FormatConditionStyleSettings[index];\n        if (styleSettingsModel.IconType !== ICON_TYPE_NONE) iconType = styleSettingsModel.IconType;\n      });\n    }\n\n    return iconType;\n  };\n\n  cardItemStyleSettingsProvider.prototype.applyIndicatorStyle = function (container, iconType) {\n    this._applyIconSettings(container, iconType, null);\n  };\n\n  return cardItemStyleSettingsProvider;\n}(styleSettingsProvider);\n\nexports.cardItemStyleSettingsProvider = cardItemStyleSettingsProvider;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/viewer-parts/conditional-formatting/_style-settings-provider.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","defineProperty","exports","value","cardItemStyleSettingsProvider","styleSettingsProvider","DrawProperty","color_1","require","browser_1","tooltip_1","$","_jquery_helpers_1","_utils_1","_cssHelper_1","_css_class_names_1","_appearance_settings_provider_1","ICON_TYPE_NONE","APPEARANCE_TYPE_NONE","APPEARANCE_TYPE_CUSTOM","VERTICAL_AXIS_PADDING","HIDDEN_TEXT_PREFIX","TOOLTIP_PREFIX","GRID_BANDED_ROW_SELECTOR","PIVOT_AREA_SELECTOR","nbspSymbol","BarCacheItem","shouldDrawFontStyles","shouldDrawBackColorStyle","wordWrap","FontStyle","Bold","Italic","Underline","Strikeout","DataAttributes","Bar","Axis","NormalizedValue","ZeroPosition","AllowNegativeAxis","DrawAxis","cfModel","undefined","cssCustomClasses","cssCustomClassesLinks","id","inctanceCounter","drawingLocked","barCache","padding","barPrefixes","toIconCssClass","iconType","cssClassNames","iconConditionalFormatting","toLowerCase","_getRangeBackColorStyleSettings","styleSettings","condition","rangeIndex","RangeIndex","leftIndex","rightIndex","leftModel","rightModel","resultModel","leftColor","rightColor","color","keys","FixedColors","map","Number","forEach","index","default","appearanceSettingsProvider","getColor","AppearanceType","Color","blend","ForeColor","FontFamily","FontSize","IsBarStyle","initialize","_clearCssClasses","_registerCssClasses","dispose","draw","_this","values","columnCacheItem","barCacheItem","textDiv","getTextDiv","container","firstChild","removeChild","classList","contains","barContainer","add","appendChild","barDiv","drawAxis","axisDiv","showBarOnly","tooltipDiv","barPrefix","updateBarWidth","barCacheItems","containerHeights_1","_getContainerHeights","i","bar","normalizedValue","accessJQueryData","zeroPosition","allowNegativeAxis","containerHeight","parentNode","querySelector","_setBarBounds","_setAxisBounds","applyStyleSettings","popupContainer","styleSettingsInfo","ignoreImageSettings","forceLeftAlignment","isSecondaryStyle","styleSettingsModel","sortedStyleIndexes","styleIndexes","ruleIndex","barInfo","length","sort","a","styleIndex","FormatConditionStyleSettings","styleAndRuleMappingTable","RuleModels","ConditionModel","_getBarInfo","style","secondary","primary","IconType","_createBarContent","_applyIconSettings","containerHeights","containerElement","containerBounds","getBoundingClientRect","containerStyles","getComputedStyle","topBorderWidth","parseInt","borderTopWidth","bottomBorderWidth","borderBottomWidth","height","webkit","push","_createCssClassName","prefix","postFix","styleName","flexParentStyle","_a","flexParent","classes","textAlignmentIsLeft","_textAlignmentIsLeft","imageClasses","_wrapChildElementsToApplyIconSettings","marginClass","leftMargin","rightMargin","fixed","imageElt","document","createElement","apply","insertBefore","wrappingElement","wrapInner","textClasses","truncated","stretched","children","querySelectorAll","element","textAlignment","textAlign","_shouldDrawBarStyle","BarOptions","ShowBarOnly","cssClass","displayText","textContent","containerContent","from","childNodes","computedStyles","paddingTop","paddingLeft","relativePosition","some","_createBarDiv","_createAxisDiv","append","barValue","node","hiddenTextCounter","tooltipId","containerId","innerText","target","showEvent","hideEvent","unbind","hover","toggle","absolutePosition","barAxis","barWidth","Math","abs","axisPosition","width","right","left","max","remove","_registerCssClassByStyleModel","_isShouldGenerateSecondaryStyle","className","_generateCssClassName","_addCssClassToDictionary","_generateCssClassBody","_getDrawProperty","isSecondary","primaryStyle","secondaryStyle","_getStylePostFix","cssClassName","customStyle","addNewStyle","isSecond","_isSecondaryStyle","drawProperty","selector","_getCssTdSelector","RuleIndex","_createCssClassFromCustomAppearanceType","_createCssClassFromPredefinedAppearanceType","cssClassname","dashboardContainer","cssSelector","cssProperties","_createBackColorStyle","concat","_createFontStyles","createCssClass","fontStyles","isUnderline","isStrikeout","createCssPropertyWrapper","toColor","appearanceType","toCssProperties","customGradientStyle","flexParentBaseline","_super","notSelectedOrHovered","layoutCardCssClassNames","card","getIconType","applyIndicatorStyle"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_style-settings-provider.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cardItemStyleSettingsProvider = exports.styleSettingsProvider = exports.DrawProperty = void 0;\nvar color_1 = require(\"devextreme/color\");\nvar browser_1 = require(\"devextreme/core/utils/browser\");\nvar tooltip_1 = require(\"devextreme/ui/tooltip\");\nvar $ = require(\"jquery\");\nvar _jquery_helpers_1 = require(\"../../data/_jquery-helpers\");\nvar _utils_1 = require(\"../../data/_utils\");\nvar _cssHelper_1 = require(\"../viewer/_cssHelper\");\nvar _css_class_names_1 = require(\"../widgets/widgets-viewer/_css-class-names\");\nvar _appearance_settings_provider_1 = require(\"./_appearance-settings-provider\");\nvar ICON_TYPE_NONE = 'None', APPEARANCE_TYPE_NONE = 'None', APPEARANCE_TYPE_CUSTOM = 'Custom', VERTICAL_AXIS_PADDING = 3, HIDDEN_TEXT_PREFIX = 'hiddenText', TOOLTIP_PREFIX = 'tooltip', GRID_BANDED_ROW_SELECTOR = '.dx-datagrid .dx-row-alt', PIVOT_AREA_SELECTOR = '.dx-pivotgrid .dx-pivotgrid-area';\nvar nbspSymbol = '\\u00A0';\nvar BarCacheItem = (function () {\n    function BarCacheItem() {\n    }\n    return BarCacheItem;\n}());\nvar DrawProperty = (function () {\n    function DrawProperty() {\n        this.shouldDrawFontStyles = true;\n        this.shouldDrawBackColorStyle = true;\n    }\n    return DrawProperty;\n}());\nexports.DrawProperty = DrawProperty;\nvar styleSettingsProvider = (function () {\n    function styleSettingsProvider() {\n        this.wordWrap = false;\n        this.FontStyle = {\n            Bold: 1,\n            Italic: 2,\n            Underline: 4,\n            Strikeout: 8\n        };\n        this.DataAttributes = {\n            Bar: 'bar',\n            Axis: 'axis',\n            NormalizedValue: 'normalizedValue',\n            ZeroPosition: 'zeroPosition',\n            AllowNegativeAxis: 'allowNegativeAxis',\n            DrawAxis: 'drawAxis'\n        };\n        this.cfModel = undefined;\n        this.cssCustomClasses = [];\n        this.cssCustomClassesLinks = [];\n        this.id = styleSettingsProvider.inctanceCounter++;\n        this.drawingLocked = true;\n        this.barCache = {};\n        this.padding = null;\n        this.barPrefixes = [];\n    }\n    styleSettingsProvider.toIconCssClass = function (iconType) {\n        return styleSettingsProvider.cssClassNames.iconConditionalFormatting + '-' + iconType.toLowerCase();\n    };\n    styleSettingsProvider._getRangeBackColorStyleSettings = function (styleSettings, condition) {\n        var rangeIndex = styleSettings.RangeIndex, leftIndex = -1, rightIndex = -1, leftModel, rightModel, resultModel, leftColor, rightColor, color;\n        Object.keys(condition.FixedColors)\n            .map(Number)\n            .forEach(function (index) {\n            if (index < rangeIndex && (leftIndex === -1 || index > leftIndex))\n                leftIndex = index;\n            if (index > rangeIndex && (rightIndex === -1 || index < rightIndex))\n                rightIndex = index;\n        });\n        leftModel = condition.FixedColors[leftIndex];\n        rightModel = condition.FixedColors[rightIndex];\n        leftColor = new color_1.default(_appearance_settings_provider_1.appearanceSettingsProvider.getColor(leftModel));\n        rightColor = new color_1.default(_appearance_settings_provider_1.appearanceSettingsProvider.getColor(rightModel));\n        return {\n            AppearanceType: APPEARANCE_TYPE_CUSTOM,\n            Color: leftColor.blend(rightColor, (rangeIndex - leftIndex) / (rightIndex - leftIndex)),\n            ForeColor: leftModel.ForeColor,\n            FontFamily: leftModel.FontFamily,\n            FontSize: leftModel.FontSize,\n            FontStyle: leftModel.FontStyle,\n            IsBarStyle: leftModel.IsBarStyle\n        };\n    };\n    styleSettingsProvider.prototype.initialize = function (cfModel, wordWrap) {\n        if (cfModel) {\n            this.cfModel = cfModel;\n            this._clearCssClasses();\n            this._registerCssClasses();\n            this.drawingLocked = true;\n            this.barCache = {};\n            this.padding = null;\n            this.barPrefixes = [];\n        }\n        this.wordWrap = wordWrap !== undefined ? wordWrap : this.wordWrap;\n    };\n    styleSettingsProvider.prototype.dispose = function () {\n        this._clearCssClasses();\n    };\n    styleSettingsProvider.prototype.draw = function () {\n        var _this = this;\n        Object.values(this.barCache).forEach(function (columnCacheItem) {\n            columnCacheItem.forEach(function (barCacheItem) {\n                var textDiv = barCacheItem.getTextDiv();\n                while (barCacheItem.container.firstChild) {\n                    barCacheItem.container.removeChild(barCacheItem.container.firstChild);\n                }\n                if (!barCacheItem.container.classList.contains(styleSettingsProvider.cssClassNames.barContainer)) {\n                    barCacheItem.container.classList.add(styleSettingsProvider.cssClassNames.barContainer);\n                }\n                var barContainer = barCacheItem.barContainer;\n                barCacheItem.container.appendChild(barContainer);\n                barContainer.appendChild(barCacheItem.barDiv);\n                if (barCacheItem.drawAxis) {\n                    barContainer.appendChild(barCacheItem.axisDiv);\n                }\n                if (!barCacheItem.showBarOnly) {\n                    barContainer.appendChild(textDiv);\n                }\n                else {\n                    barCacheItem.container.appendChild(textDiv);\n                    barCacheItem.container.appendChild(barCacheItem.tooltipDiv);\n                }\n            });\n        });\n        this.drawingLocked = false;\n        this.barPrefixes.forEach(function (barPrefix) { return _this.updateBarWidth(barPrefix); });\n    };\n    styleSettingsProvider.prototype.updateBarWidth = function (barPrefix) {\n        var _this = this;\n        if (!this.drawingLocked) {\n            var barCacheItems = this.barCache[barPrefix], containerHeights_1;\n            if (barCacheItems) {\n                containerHeights_1 = this._getContainerHeights(barCacheItems);\n                barCacheItems.forEach(function (barCacheItem, i) {\n                    var bar = barCacheItem.barDiv, normalizedValue = _jquery_helpers_1.accessJQueryData(bar, _this.DataAttributes.NormalizedValue), zeroPosition = _jquery_helpers_1.accessJQueryData(bar, _this.DataAttributes.ZeroPosition), allowNegativeAxis = _jquery_helpers_1.accessJQueryData(bar, _this.DataAttributes.AllowNegativeAxis), drawAxis = _jquery_helpers_1.accessJQueryData(bar, _this.DataAttributes.DrawAxis), containerHeight = containerHeights_1[i], axisDiv = bar.parentNode && bar.parentNode.querySelector('.' + _this.DataAttributes.Axis + '_' + barPrefix);\n                    _this._setBarBounds(bar, containerHeight, zeroPosition, normalizedValue, allowNegativeAxis, drawAxis);\n                    if (axisDiv) {\n                        _this._setAxisBounds(axisDiv, containerHeight, zeroPosition);\n                    }\n                });\n            }\n        }\n    };\n    styleSettingsProvider.prototype.applyStyleSettings = function (container, popupContainer, styleSettingsInfo, ignoreImageSettings, barPrefix, forceLeftAlignment, isSecondaryStyle) {\n        var _this = this;\n        var styleSettingsModel, sortedStyleIndexes = styleSettingsInfo ? styleSettingsInfo.styleIndexes : undefined, condition, ruleIndex, barInfo, iconType;\n        if (sortedStyleIndexes && sortedStyleIndexes.length > 0) {\n            sortedStyleIndexes.sort(function (a, b) { return a - b; });\n            sortedStyleIndexes.forEach(function (styleIndex) {\n                styleSettingsModel = _this.cfModel.FormatConditionStyleSettings[styleIndex];\n                ruleIndex = styleSettingsInfo.styleAndRuleMappingTable[styleIndex];\n                if (styleSettingsModel.IsBarStyle) {\n                    condition = _this.cfModel.RuleModels[ruleIndex].ConditionModel;\n                    barInfo = _this._getBarInfo(styleSettingsModel, styleIndex, condition);\n                }\n                else if (styleSettingsModel.RangeIndex || styleSettingsModel.AppearanceType !== APPEARANCE_TYPE_NONE) {\n                    var style = isSecondaryStyle === true ? _this.cssCustomClasses[styleIndex].secondary : _this.cssCustomClasses[styleIndex].primary;\n                    container.classList.add(style);\n                }\n                else if (styleSettingsModel.IconType !== ICON_TYPE_NONE)\n                    iconType = styleSettingsModel.IconType;\n            });\n            if (barInfo) {\n                barInfo.normalizedValue = styleSettingsInfo.normalizedValue;\n                barInfo.zeroPosition = styleSettingsInfo.zeroPosition;\n                this._createBarContent(container, popupContainer, barInfo, barPrefix, forceLeftAlignment);\n            }\n            else if (!ignoreImageSettings && iconType) {\n                this._applyIconSettings(container, iconType, forceLeftAlignment);\n            }\n        }\n    };\n    styleSettingsProvider.prototype._getContainerHeights = function (barCacheItems) {\n        var containerHeights = [];\n        barCacheItems.forEach(function (barCacheItem) {\n            var containerElement = barCacheItem.container, containerBounds = containerElement.getBoundingClientRect(), containerStyles = getComputedStyle(containerElement), topBorderWidth = parseInt(containerStyles.borderTopWidth) || 0, bottomBorderWidth = parseInt(containerStyles.borderBottomWidth) || 0, height = browser_1.default.webkit ? containerBounds.height - topBorderWidth : containerBounds.height - topBorderWidth - bottomBorderWidth;\n            containerHeights.push(height);\n        });\n        return containerHeights;\n    };\n    styleSettingsProvider.prototype._createCssClassName = function (prefix, styleIndex, postFix) {\n        var styleName = prefix + '-' + this.id + '-' + styleIndex;\n        if (postFix)\n            styleName += '-' + postFix;\n        return styleName;\n    };\n    styleSettingsProvider.prototype._applyIconSettings = function (container, iconType, forceLeftAlignment, flexParentStyle) {\n        var _a;\n        if (flexParentStyle === void 0) { flexParentStyle = styleSettingsProvider.cssClassNames.flexParent; }\n        if (!container.classList.contains('dx-white-space-column')) {\n            var classes = styleSettingsProvider.cssClassNames;\n            var textAlignmentIsLeft = this._textAlignmentIsLeft(container);\n            var imageClasses = [classes.iconConditionalFormatting, styleSettingsProvider.toIconCssClass(iconType)];\n            this._wrapChildElementsToApplyIconSettings(container, classes, forceLeftAlignment);\n            var marginClass = textAlignmentIsLeft ? classes.leftMargin : classes.rightMargin;\n            imageClasses.push(classes.fixed, marginClass);\n            var imageElt = document.createElement('div');\n            (_a = imageElt.classList).add.apply(_a, imageClasses);\n            if (textAlignmentIsLeft) {\n                container.appendChild(imageElt);\n            }\n            else {\n                container.insertBefore(imageElt, container.firstChild);\n            }\n            var wrappingElement = document.createElement('div');\n            wrappingElement.classList.add(flexParentStyle);\n            _jquery_helpers_1.wrapInner(container, wrappingElement);\n        }\n    };\n    styleSettingsProvider.prototype._wrapChildElementsToApplyIconSettings = function (container, classes, forceLeftAlignment) {\n        var _a;\n        var textClasses = [this.wordWrap ? classes.wordWrap : classes.truncated,\n            forceLeftAlignment ? '' : classes.stretched];\n        if (container.children.length > 0) {\n            container.querySelectorAll('.dx-expand-icon-container').forEach(function (element) { return element.classList.add(classes.fixed); });\n            container.querySelectorAll(':scope>:not(.dx-expand-icon-container)').forEach(function (element) {\n                var _a;\n                return (_a = element.classList).add.apply(_a, textClasses);\n            });\n        }\n        else {\n            var wrappingElement = document.createElement('div');\n            (_a = wrappingElement.classList).add.apply(_a, textClasses);\n            _jquery_helpers_1.wrapInner(container, wrappingElement);\n        }\n    };\n    styleSettingsProvider.prototype._textAlignmentIsLeft = function (container) {\n        var textAlignment = getComputedStyle(container).textAlign;\n        return textAlignment === 'left' || textAlignment === 'start' || textAlignment === 'center' || textAlignment === 'justify';\n    };\n    styleSettingsProvider.prototype._getBarInfo = function (styleSettingsModel, styleIndex, condition) {\n        if (this._shouldDrawBarStyle(styleSettingsModel)) {\n            return {\n                showBarOnly: condition.BarOptions.ShowBarOnly,\n                allowNegativeAxis: condition.BarOptions.AllowNegativeAxis,\n                drawAxis: condition.BarOptions.DrawAxis,\n                cssClass: this.cssCustomClasses[styleIndex].primary\n            };\n        }\n        return null;\n    };\n    styleSettingsProvider.prototype._createBarContent = function (container, popupContainer, barInfo, barPrefix, forceLeftAlignment) {\n        var barCacheItem = new BarCacheItem();\n        var displayText = container.textContent;\n        var containerContent = Array.from(container.childNodes);\n        if (!this.padding) {\n            var computedStyles = getComputedStyle(container);\n            this.padding = computedStyles.paddingTop + ' ' + computedStyles.paddingLeft;\n        }\n        if (!this.barCache[barPrefix])\n            this.barCache[barPrefix] = [];\n        this.barCache[barPrefix].push(barCacheItem);\n        var barContainer = document.createElement('div');\n        barContainer.classList.add(styleSettingsProvider.cssClassNames.relativePosition);\n        barCacheItem.container = container;\n        barCacheItem.barContainer = barContainer;\n        if (!this.barPrefixes.some(function (prefix) { return prefix === barPrefix; }))\n            this.barPrefixes.push(barPrefix);\n        barCacheItem.barDiv = this._createBarDiv(barInfo, barPrefix);\n        barCacheItem.showBarOnly = barInfo.showBarOnly;\n        barCacheItem.drawAxis = barInfo.drawAxis;\n        if (barInfo.drawAxis) {\n            barCacheItem.axisDiv = this._createAxisDiv(barPrefix, barInfo.zeroPosition);\n        }\n        var textDiv;\n        barCacheItem.getTextDiv = function () {\n            if (!textDiv) {\n                textDiv = document.createElement('div');\n                if (barInfo.showBarOnly) {\n                    textDiv.append(nbspSymbol);\n                }\n                else {\n                    textDiv.classList.add(styleSettingsProvider.cssClassNames.barValue);\n                    containerContent.forEach(function (node) { return textDiv.appendChild(node); });\n                }\n            }\n            return textDiv;\n        };\n        if (barInfo.showBarOnly) {\n            var index = styleSettingsProvider.hiddenTextCounter++;\n            var tooltipId = TOOLTIP_PREFIX + index;\n            var containerId = HIDDEN_TEXT_PREFIX + index;\n            container.id = containerId;\n            var tooltipDiv = document.createElement('div');\n            tooltipDiv.innerText = displayText;\n            tooltipDiv.id = tooltipId;\n            new tooltip_1.default(tooltipDiv, {\n                target: '#' + containerId,\n                container: popupContainer,\n                showEvent: 'dxhoverstart',\n                hideEvent: 'dxhoverend',\n            });\n            barCacheItem.tooltipDiv = tooltipDiv;\n            $(container).unbind().hover(function () { $(tooltipDiv).toggle(); });\n        }\n    };\n    styleSettingsProvider.prototype._createBarDiv = function (barInfo, barPrefix) {\n        var barDiv = document.createElement('div');\n        barDiv.classList.add(styleSettingsProvider.cssClassNames.absolutePosition);\n        barDiv.classList.add(barInfo.cssClass);\n        barDiv.classList.add(this.DataAttributes.Bar + '_' + barPrefix);\n        barDiv.append(nbspSymbol);\n        _jquery_helpers_1.accessJQueryData(barDiv, this.DataAttributes.NormalizedValue, barInfo.normalizedValue);\n        _jquery_helpers_1.accessJQueryData(barDiv, this.DataAttributes.ZeroPosition, barInfo.zeroPosition);\n        _jquery_helpers_1.accessJQueryData(barDiv, this.DataAttributes.AllowNegativeAxis, barInfo.allowNegativeAxis);\n        _jquery_helpers_1.accessJQueryData(barDiv, this.DataAttributes.DrawAxis, barInfo.drawAxis);\n        return barDiv;\n    };\n    styleSettingsProvider.prototype._createAxisDiv = function (barPrefix, zeroPosition) {\n        var axisDiv = document.createElement('div');\n        axisDiv.classList.add(styleSettingsProvider.cssClassNames.absolutePosition);\n        axisDiv.classList.add(this.DataAttributes.Axis + '_' + barPrefix, styleSettingsProvider.cssClassNames.barAxis);\n        _jquery_helpers_1.accessJQueryData(axisDiv, this.DataAttributes.ZeroPosition, zeroPosition);\n        return axisDiv;\n    };\n    styleSettingsProvider.prototype._setBarBounds = function (barDiv, containerHeight, zeroPosition, normalizedValue, allowNegativeAxis, drawAxis) {\n        var barWidth = Math.abs(normalizedValue * 100), axisPosition = Math.abs(zeroPosition * 100), width = allowNegativeAxis && drawAxis && normalizedValue < 0 && zeroPosition > 0 ? 'calc(' + barWidth + '% + 1px)' : barWidth + '%';\n        barDiv.style.height = containerHeight + 'px';\n        barDiv.style.width = width;\n        if (allowNegativeAxis && normalizedValue < 0 && zeroPosition > 0) {\n            if (drawAxis) {\n                barDiv.style.right = 'calc(' + (100 - axisPosition) + '% - 1px)';\n            }\n            else {\n                barDiv.style.right = (100 - axisPosition) + '%';\n            }\n        }\n        else\n            barDiv.style.left = axisPosition + '%';\n    };\n    styleSettingsProvider.prototype._setAxisBounds = function (axisDiv, containerHeight, zeroPosition) {\n        axisDiv.style.left = Math.abs(zeroPosition * 100) + '%';\n        axisDiv.style.height = Math.max(0, containerHeight - VERTICAL_AXIS_PADDING * 2) + 'px';\n    };\n    styleSettingsProvider.prototype._clearCssClasses = function () {\n        this.cssCustomClassesLinks.forEach(function (style) { return style.remove(); });\n        this.cssCustomClassesLinks = [];\n    };\n    styleSettingsProvider.prototype._registerCssClasses = function () {\n        if (this.cfModel != undefined) {\n            for (var styleIndex = 0; styleIndex < this.cfModel.FormatConditionStyleSettings.length; styleIndex++) {\n                var styleSettingsModel = this.cfModel.FormatConditionStyleSettings[styleIndex];\n                this._registerCssClassByStyleModel(styleSettingsModel, styleIndex, false);\n                if (this._isShouldGenerateSecondaryStyle(styleSettingsModel)) {\n                    this._registerCssClassByStyleModel(styleSettingsModel, styleIndex, true);\n                }\n            }\n        }\n    };\n    styleSettingsProvider.prototype._registerCssClassByStyleModel = function (styleSettingsModel, styleIndex, isSecondaryStyle) {\n        var className = this._generateCssClassName(styleIndex, isSecondaryStyle);\n        this._addCssClassToDictionary(className, styleIndex, isSecondaryStyle);\n        this._generateCssClassBody(styleSettingsModel, className, this._getDrawProperty(isSecondaryStyle));\n    };\n    styleSettingsProvider.prototype._addCssClassToDictionary = function (styleName, styleIndex, isSecondary) {\n        var primaryStyle, secondaryStyle;\n        if (this.cssCustomClasses[styleIndex]) {\n            primaryStyle = this.cssCustomClasses[styleIndex].primary;\n            secondaryStyle = this.cssCustomClasses[styleIndex].secondary;\n        }\n        if (isSecondary)\n            secondaryStyle = styleName;\n        else\n            primaryStyle = styleName;\n        this.cssCustomClasses[styleIndex] = {\n            primary: primaryStyle,\n            secondary: secondaryStyle\n        };\n    };\n    styleSettingsProvider.prototype._generateCssClassName = function (styleIndex, isSecondary) {\n        var postFix = this._getStylePostFix(isSecondary);\n        var cssClassName = this._createCssClassName(styleSettingsProvider.cssClassNames.customStyle, styleIndex, postFix);\n        return cssClassName;\n    };\n    styleSettingsProvider.prototype.addNewStyle = function (styleName, styleIndex, isSecond) {\n        this.cssCustomClasses[styleIndex] = {\n            secondary: styleName,\n            primary: styleName\n        };\n    };\n    styleSettingsProvider.prototype._isShouldGenerateSecondaryStyle = function (styleSettingsModel) {\n        return false;\n    };\n    styleSettingsProvider.prototype._isSecondaryStyle = function (styleSettingsModel) {\n        return false;\n    };\n    styleSettingsProvider.prototype._getStylePostFix = function (isSecondary) {\n        return null;\n    };\n    styleSettingsProvider.prototype._getDrawProperty = function (isSecondaryStyle) {\n        return null;\n    };\n    styleSettingsProvider.prototype._shouldDrawBarStyle = function (styleSettingsModel) {\n        return true;\n    };\n    styleSettingsProvider.prototype._generateCssClassBody = function (styleSettingsModel, cssClassName, drawProperty) {\n        var selector = this._getCssTdSelector(cssClassName);\n        if (styleSettingsModel.RangeIndex) {\n            var condition = this.cfModel.RuleModels[styleSettingsModel.RuleIndex].ConditionModel;\n            styleSettingsModel = styleSettingsProvider._getRangeBackColorStyleSettings(styleSettingsModel, condition);\n            this._createCssClassFromCustomAppearanceType(styleSettingsModel, selector, drawProperty);\n        }\n        else if (styleSettingsModel.AppearanceType === APPEARANCE_TYPE_CUSTOM) {\n            this._createCssClassFromCustomAppearanceType(styleSettingsModel, selector, drawProperty);\n        }\n        else if (styleSettingsModel.AppearanceType !== APPEARANCE_TYPE_NONE) {\n            this._createCssClassFromPredefinedAppearanceType(selector, styleSettingsModel.AppearanceType, drawProperty);\n        }\n    };\n    styleSettingsProvider.prototype._getCssTdSelector = function (cssClassname) {\n        return '.' + styleSettingsProvider.cssClassNames.dashboardContainer + ' .' + cssClassname + ', '\n            + GRID_BANDED_ROW_SELECTOR + ' .' + cssClassname + ', '\n            + PIVOT_AREA_SELECTOR + ' .' + cssClassname;\n    };\n    styleSettingsProvider.prototype._createCssClassFromCustomAppearanceType = function (styleSettingsModel, cssSelector, drawProperty) {\n        var cssProperties = Array();\n        if (drawProperty == null || drawProperty.shouldDrawBackColorStyle)\n            cssProperties.push(this._createBackColorStyle(styleSettingsModel));\n        if (drawProperty == null || drawProperty.shouldDrawFontStyles)\n            cssProperties = cssProperties.concat(this._createFontStyles(styleSettingsModel));\n        this.cssCustomClassesLinks.push(_cssHelper_1.createCssClass(cssSelector, cssProperties));\n    };\n    styleSettingsProvider.prototype._createFontStyles = function (styleSettingsModel) {\n        var fontStyles = Array();\n        var isUnderline = (styleSettingsModel.FontStyle & this.FontStyle.Underline) !== 0, isStrikeout = (styleSettingsModel.FontStyle & this.FontStyle.Strikeout) !== 0;\n        if (styleSettingsModel.ForeColor)\n            fontStyles.push(_cssHelper_1.createCssPropertyWrapper('color', _utils_1.toColor(styleSettingsModel.ForeColor)));\n        if (styleSettingsModel.FontFamily)\n            fontStyles.push(_cssHelper_1.createCssPropertyWrapper('font-family', styleSettingsModel.FontFamily));\n        if (styleSettingsModel.FontSize && styleSettingsModel.FontSize > 0)\n            fontStyles.push(_cssHelper_1.createCssPropertyWrapper('font-size', styleSettingsModel.FontSize));\n        if ((styleSettingsModel.FontStyle & this.FontStyle.Bold) !== 0)\n            fontStyles.push(_cssHelper_1.createCssPropertyWrapper('font-weight', 'bold'));\n        if ((styleSettingsModel.FontStyle & this.FontStyle.Italic) !== 0)\n            fontStyles.push(_cssHelper_1.createCssPropertyWrapper('font-style', 'italic'));\n        if (isUnderline && isStrikeout)\n            fontStyles.push(_cssHelper_1.createCssPropertyWrapper('text-decoration', 'underline line-through'));\n        else if (isUnderline)\n            fontStyles.push(_cssHelper_1.createCssPropertyWrapper('text-decoration', 'underline'));\n        else if (isStrikeout)\n            fontStyles.push(_cssHelper_1.createCssPropertyWrapper('text-decoration', 'line-through'));\n        return fontStyles;\n    };\n    styleSettingsProvider.prototype._createBackColorStyle = function (styleSettingsModel) {\n        return styleSettingsModel.Color ? _cssHelper_1.createCssPropertyWrapper('background-color', _appearance_settings_provider_1.appearanceSettingsProvider.getColor(styleSettingsModel)) : null;\n    };\n    styleSettingsProvider.prototype._createCssClassFromPredefinedAppearanceType = function (selector, appearanceType, drawProperty) {\n        this.cssCustomClassesLinks.push(_cssHelper_1.createCssClass(selector, _appearance_settings_provider_1.appearanceSettingsProvider.toCssProperties(appearanceType, drawProperty)));\n    };\n    styleSettingsProvider.cssClassNames = {\n        iconConditionalFormatting: 'dx-icon-dashboard-cf',\n        barAxis: 'dx-dashboard-bar-axis',\n        customStyle: 'dx-dashboard-cf-style',\n        customGradientStyle: 'dx-dashboard-cf-gradient-style',\n        dashboardContainer: 'dx-dashboard-container',\n        absolutePosition: 'dx-dashboard-absolute-position',\n        relativePosition: 'dx-dashboard-relative-position',\n        flexParent: 'dx-dashboard-flex-parent',\n        flexParentBaseline: 'dx-dashboard-flex-parent-baseline',\n        truncated: 'dx-dashboard-truncated',\n        wordWrap: 'dx-dashboard-word-wrap',\n        stretched: 'dx-dashboard-stretched',\n        fixed: 'dx-dashboard-fixed',\n        leftMargin: 'dx-dashboard-left-margin',\n        rightMargin: 'dx-dashboard-right-margin',\n        barContainer: 'dx-dashboard-cf-bar-container',\n        barValue: 'dx-dashboard-cf-bar-value'\n    };\n    styleSettingsProvider.inctanceCounter = 0;\n    styleSettingsProvider.hiddenTextCounter = 0;\n    return styleSettingsProvider;\n}());\nexports.styleSettingsProvider = styleSettingsProvider;\nvar cardItemStyleSettingsProvider = (function (_super) {\n    __extends(cardItemStyleSettingsProvider, _super);\n    function cardItemStyleSettingsProvider() {\n        return _super.call(this) || this;\n    }\n    cardItemStyleSettingsProvider.prototype._getDrawProperty = function (isSecondaryStyle) {\n        var drawProperty = new DrawProperty();\n        drawProperty.shouldDrawBackColorStyle = isSecondaryStyle;\n        drawProperty.shouldDrawFontStyles = !isSecondaryStyle;\n        return drawProperty;\n    };\n    cardItemStyleSettingsProvider.prototype._getStylePostFix = function (isSecondaryStyle) {\n        return isSecondaryStyle ? 'card' : null;\n    };\n    cardItemStyleSettingsProvider.prototype._isShouldGenerateSecondaryStyle = function (styleSettingsModel) {\n        return true;\n    };\n    cardItemStyleSettingsProvider.prototype._shouldDrawBarStyle = function (styleSettingsModel) {\n        return false;\n    };\n    cardItemStyleSettingsProvider.prototype._textAlignmentIsLeft = function (container) {\n        return false;\n    };\n    cardItemStyleSettingsProvider.prototype._getCssTdSelector = function (cssClassname) {\n        var notSelectedOrHovered = ':not(.dx-selected-viewer-item):not(.dx-hovered-viewer-item)';\n        return '.' + styleSettingsProvider.cssClassNames.dashboardContainer + ' .' + _css_class_names_1.layoutCardCssClassNames.card + notSelectedOrHovered + ' .' + cssClassname + ', '\n            + '.' + styleSettingsProvider.cssClassNames.dashboardContainer + ' .' + _css_class_names_1.layoutCardCssClassNames.card + notSelectedOrHovered + '.' + cssClassname;\n    };\n    cardItemStyleSettingsProvider.prototype._applyIconSettings = function (container, iconType, forceLeftAlignment, flexParentStyle) {\n        if (flexParentStyle === void 0) { flexParentStyle = styleSettingsProvider.cssClassNames.flexParent; }\n        _super.prototype._applyIconSettings.call(this, container, iconType, forceLeftAlignment, styleSettingsProvider.cssClassNames.flexParentBaseline);\n    };\n    cardItemStyleSettingsProvider.prototype._wrapChildElementsToApplyIconSettings = function (container, classes, forceLeftAlignment) {\n        var _a;\n        var textClasses = [this.wordWrap ? classes.wordWrap : classes.truncated, classes.stretched];\n        var wrappingElement = document.createElement('div');\n        (_a = wrappingElement.classList).add.apply(_a, textClasses);\n        _jquery_helpers_1.wrapInner(container, wrappingElement);\n    };\n    cardItemStyleSettingsProvider.prototype.getIconType = function (styleSettingsInfo) {\n        var _this = this;\n        var sortedStyleIndexes = styleSettingsInfo ? styleSettingsInfo.styleIndexes : undefined;\n        var iconType;\n        if (sortedStyleIndexes && sortedStyleIndexes.length > 0) {\n            sortedStyleIndexes.sort(function (a, b) { return a - b; });\n            sortedStyleIndexes.forEach(function (index) {\n                var styleSettingsModel = _this.cfModel.FormatConditionStyleSettings[index];\n                if (styleSettingsModel.IconType !== ICON_TYPE_NONE)\n                    iconType = styleSettingsModel.IconType;\n            });\n        }\n        return iconType;\n    };\n    cardItemStyleSettingsProvider.prototype.applyIndicatorStyle = function (container, iconType) {\n        this._applyIconSettings(container, iconType, null);\n    };\n    return cardItemStyleSettingsProvider;\n}(styleSettingsProvider));\nexports.cardItemStyleSettingsProvider = cardItemStyleSettingsProvider;\n"]},"metadata":{},"sourceType":"script"}