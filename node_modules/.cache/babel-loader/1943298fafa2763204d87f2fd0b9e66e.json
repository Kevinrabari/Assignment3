{"ast":null,"code":"/**\r\n * DevExtreme (esm/ui/pivot_grid/ui.pivot_grid.area_item.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\nimport { setWidth } from \"../../core/utils/size\";\nimport $ from \"../../core/renderer\";\nimport Class from \"../../core/class\";\nimport { getPublicElement } from \"../../core/element\";\nimport { extend } from \"../../core/utils/extend\";\nimport { getBoundingRect } from \"../../core/utils/position\";\nimport { isDefined } from \"../../core/utils/type\";\nvar PIVOTGRID_EXPAND_CLASS = \"dx-expand\";\n\nvar getRealElementWidth = function (element) {\n  var width = 0;\n  var offsetWidth = element.offsetWidth;\n\n  if (element.getBoundingClientRect) {\n    var clientRect = getBoundingRect(element);\n    width = clientRect.width;\n\n    if (!width) {\n      width = clientRect.right - clientRect.left;\n    }\n\n    if (width <= offsetWidth - 1) {\n      width = offsetWidth;\n    }\n  }\n\n  return width > 0 ? width : offsetWidth;\n};\n\nfunction getFakeTableOffset(scrollPos, elementOffset, tableSize, viewPortSize) {\n  var offset = 0;\n  var halfTableCount = 0;\n  var halfTableSize = tableSize / 2;\n\n  if (scrollPos + viewPortSize - (elementOffset + tableSize) > 1) {\n    if (scrollPos >= elementOffset + tableSize + halfTableSize) {\n      halfTableCount = parseInt((scrollPos - (elementOffset + tableSize)) / halfTableSize, 10);\n    }\n\n    offset = elementOffset + tableSize + halfTableSize * halfTableCount;\n  } else if (scrollPos < elementOffset) {\n    if (scrollPos <= elementOffset - halfTableSize) {\n      halfTableCount = parseInt((scrollPos - (elementOffset - halfTableSize)) / halfTableSize, 10);\n    }\n\n    offset = elementOffset - (tableSize - halfTableSize * halfTableCount);\n  } else {\n    offset = elementOffset;\n  }\n\n  return offset;\n}\n\nexport var AreaItem = Class.inherit({\n  ctor: function (component) {\n    this.component = component;\n  },\n  option: function () {\n    return this.component.option.apply(this.component, arguments);\n  },\n  _getRowElement: function (index) {\n    if (this._tableElement && this._tableElement.length > 0) {\n      return this._tableElement[0].rows[index];\n    }\n\n    return null;\n  },\n  _createGroupElement: function () {\n    return $(\"<div>\");\n  },\n  _createTableElement: function () {\n    return $(\"<table>\");\n  },\n  _getCellText: function (cell, encodeHtml) {\n    var cellText = cell.isWhiteSpace ? \"&nbsp\" : cell.text || \"&nbsp\";\n\n    if (encodeHtml && (-1 !== cellText.indexOf(\"<\") || -1 !== cellText.indexOf(\">\"))) {\n      cellText = $(\"<div>\").text(cellText).html();\n    }\n\n    return cellText;\n  },\n  _getRowClassNames: function () {},\n  _applyCustomStyles: function (options) {\n    if (options.cell.width) {\n      options.cssArray.push(\"min-width:\" + options.cell.width + \"px\");\n    }\n\n    if (options.cell.sorted) {\n      options.classArray.push(\"dx-pivotgrid-sorted\");\n    }\n  },\n  _getMainElementMarkup: function () {\n    return \"<tbody>\";\n  },\n  _getCloseMainElementMarkup: function () {\n    return \"</tbody>\";\n  },\n  _renderTableContent: function (tableElement, data) {\n    var rowsCount = data.length;\n    var row;\n    var cell;\n    var i;\n    var j;\n    var cellText;\n    var rtlEnabled = this.option(\"rtlEnabled\");\n    var markupArray = [];\n    var encodeHtml = this.option(\"encodeHtml\");\n    var rowClassNames;\n    tableElement.data(\"area\", this._getAreaName());\n    tableElement.data(\"data\", data);\n    tableElement.css(\"width\", \"\");\n    markupArray.push(this._getMainElementMarkup());\n\n    for (i = 0; i < rowsCount; i++) {\n      row = data[i];\n      var columnMarkupArray = [];\n      rowClassNames = [];\n      markupArray.push(\"<tr \");\n\n      for (j = 0; j < row.length; j++) {\n        cell = row[j];\n\n        this._getRowClassNames(i, cell, rowClassNames);\n\n        columnMarkupArray.push(\"<td \");\n\n        if (cell) {\n          cell.rowspan && columnMarkupArray.push(\"rowspan='\" + (cell.rowspan || 1) + \"'\");\n          cell.colspan && columnMarkupArray.push(\"colspan='\" + (cell.colspan || 1) + \"'\");\n          var styleOptions = {\n            cellElement: void 0,\n            cell: cell,\n            cellsCount: row.length,\n            cellIndex: j,\n            rowElement: void 0,\n            rowIndex: i,\n            rowsCount: rowsCount,\n            rtlEnabled: rtlEnabled,\n            classArray: [],\n            cssArray: []\n          };\n\n          this._applyCustomStyles(styleOptions);\n\n          if (styleOptions.cssArray.length) {\n            columnMarkupArray.push(\"style='\");\n            columnMarkupArray.push(styleOptions.cssArray.join(\";\"));\n            columnMarkupArray.push(\"'\");\n          }\n\n          if (styleOptions.classArray.length) {\n            columnMarkupArray.push(\"class='\");\n            columnMarkupArray.push(styleOptions.classArray.join(\" \"));\n            columnMarkupArray.push(\"'\");\n          }\n\n          columnMarkupArray.push(\">\");\n\n          if (isDefined(cell.expanded)) {\n            columnMarkupArray.push(\"<div class='dx-expand-icon-container'><span class='\" + PIVOTGRID_EXPAND_CLASS + \"'></span></div>\");\n          }\n\n          cellText = this._getCellText(cell, encodeHtml);\n        } else {\n          cellText = \"\";\n        }\n\n        columnMarkupArray.push(\"<span \");\n\n        if (isDefined(cell.wordWrapEnabled)) {\n          columnMarkupArray.push(\"style='white-space:\", cell.wordWrapEnabled ? \"normal\" : \"nowrap\", \";'\");\n        }\n\n        columnMarkupArray.push(\">\" + cellText + \"</span>\");\n\n        if (cell.sorted) {\n          columnMarkupArray.push(\"<span class='dx-icon-sorted'></span>\");\n        }\n\n        columnMarkupArray.push(\"</td>\");\n      }\n\n      if (rowClassNames.length) {\n        markupArray.push(\"class='\");\n        markupArray.push(rowClassNames.join(\" \"));\n        markupArray.push(\"'\");\n      }\n\n      markupArray.push(\">\");\n      markupArray.push(columnMarkupArray.join(\"\"));\n      markupArray.push(\"</tr>\");\n    }\n\n    markupArray.push(this._getCloseMainElementMarkup());\n    tableElement.append(markupArray.join(\"\"));\n\n    this._triggerOnCellPrepared(tableElement, data);\n  },\n  _triggerOnCellPrepared: function (tableElement, data) {\n    var rowElements = tableElement.find(\"tr\");\n\n    var areaName = this._getAreaName();\n\n    var onCellPrepared = this.option(\"onCellPrepared\");\n\n    var hasEvent = this.component._eventsStrategy.hasEvent(\"cellPrepared\");\n\n    var rowElement;\n    var $cellElement;\n    var onCellPreparedArgs;\n\n    var defaultActionArgs = this.component._defaultActionArgs();\n\n    var row;\n    var cell;\n    var rowIndex;\n    var columnIndex;\n\n    if (onCellPrepared || hasEvent) {\n      for (rowIndex = 0; rowIndex < data.length; rowIndex++) {\n        row = data[rowIndex];\n        rowElement = rowElements.eq(rowIndex);\n\n        for (columnIndex = 0; columnIndex < row.length; columnIndex++) {\n          cell = row[columnIndex];\n          $cellElement = rowElement.children().eq(columnIndex);\n          onCellPreparedArgs = {\n            area: areaName,\n            rowIndex: rowIndex,\n            columnIndex: columnIndex,\n            cellElement: getPublicElement($cellElement),\n            cell: cell\n          };\n\n          if (hasEvent) {\n            this.component._trigger(\"onCellPrepared\", onCellPreparedArgs);\n          } else {\n            onCellPrepared(extend(onCellPreparedArgs, defaultActionArgs));\n          }\n        }\n      }\n    }\n  },\n  _getRowHeight: function (index) {\n    var row = this._getRowElement(index);\n\n    var height = 0;\n    var offsetHeight = row.offsetHeight;\n\n    if (row && row.lastChild) {\n      if (row.getBoundingClientRect) {\n        var clientRect = getBoundingRect(row);\n        height = clientRect.height;\n\n        if (height <= offsetHeight - 1) {\n          height = offsetHeight;\n        }\n      }\n\n      return height > 0 ? height : offsetHeight;\n    }\n\n    return 0;\n  },\n  _setRowHeight: function (index, value) {\n    var row = this._getRowElement(index);\n\n    if (row) {\n      row.style.height = value + \"px\";\n    }\n  },\n  getRowsLength: function () {\n    if (this._tableElement && this._tableElement.length > 0) {\n      return this._tableElement[0].rows.length;\n    }\n\n    return 0;\n  },\n  getRowsHeight: function () {\n    var result = [];\n    var rowsLength = this.getRowsLength();\n    var i;\n\n    for (i = 0; i < rowsLength; i++) {\n      result.push(this._getRowHeight(i));\n    }\n\n    return result;\n  },\n  setRowsHeight: function (values) {\n    var totalHeight = 0;\n    var valuesLength = values.length;\n    var i;\n\n    for (i = 0; i < valuesLength; i++) {\n      totalHeight += values[i];\n\n      this._setRowHeight(i, values[i]);\n    }\n\n    this._tableHeight = totalHeight;\n    this._tableElement[0].style.height = totalHeight + \"px\";\n  },\n  getColumnsWidth: function () {\n    var rowsLength = this.getRowsLength();\n    var rowIndex;\n    var row;\n    var i;\n    var columnIndex;\n    var processedCells = [];\n    var result = [];\n\n    var fillCells = function (cells, rowIndex, columnIndex, rowSpan, colSpan) {\n      var rowOffset;\n      var columnOffset;\n\n      for (rowOffset = 0; rowOffset < rowSpan; rowOffset++) {\n        for (columnOffset = 0; columnOffset < colSpan; columnOffset++) {\n          cells[rowIndex + rowOffset] = cells[rowIndex + rowOffset] || [];\n          cells[rowIndex + rowOffset][columnIndex + columnOffset] = true;\n        }\n      }\n    };\n\n    if (rowsLength) {\n      for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\n        processedCells[rowIndex] = processedCells[rowIndex] || [];\n        row = this._getRowElement(rowIndex);\n\n        for (i = 0; i < row.cells.length; i++) {\n          for (columnIndex = 0; processedCells[rowIndex][columnIndex]; columnIndex++) {}\n\n          fillCells(processedCells, rowIndex, columnIndex, row.cells[i].rowSpan, row.cells[i].colSpan);\n\n          if (1 === row.cells[i].colSpan) {\n            result[columnIndex] = result[columnIndex] || getRealElementWidth(row.cells[i]);\n          }\n        }\n      }\n    }\n\n    return result;\n  },\n  setColumnsWidth: function (values) {\n    var i;\n    var tableElement = this._tableElement[0];\n    var colgroupElementHTML = \"\";\n    var columnsCount = this.getColumnsCount();\n    var columnWidth = [];\n\n    for (i = 0; i < columnsCount; i++) {\n      columnWidth.push(values[i] || 0);\n    }\n\n    for (i = columnsCount; i < values.length && values; i++) {\n      columnWidth[columnsCount - 1] += values[i];\n    }\n\n    for (i = 0; i < columnsCount; i++) {\n      colgroupElementHTML += '<col style=\"width: ' + columnWidth[i] + 'px\">';\n    }\n\n    this._colgroupElement.html(colgroupElementHTML);\n\n    this._tableWidth = columnWidth.reduce((sum, width) => sum + width, 0);\n    tableElement.style.width = this._tableWidth + \"px\";\n    tableElement.style.tableLayout = \"fixed\";\n  },\n  resetColumnsWidth: function () {\n    setWidth(this._colgroupElement.find(\"col\"), \"auto\");\n\n    this._tableElement.css({\n      width: \"\",\n      tableLayout: \"\"\n    });\n  },\n  setGroupWidth: function (value) {\n    this._getScrollable().option(\"width\", value);\n  },\n  setGroupHeight: function (value) {\n    this._getScrollable().option(\"height\", value);\n  },\n  getGroupHeight: function () {\n    return this._getGroupElementSize(\"height\");\n  },\n  getGroupWidth: function () {\n    return this._getGroupElementSize(\"width\");\n  },\n\n  _getGroupElementSize(dimension) {\n    var size = this.groupElement()[0].style[dimension];\n\n    if (size.indexOf(\"px\") > 0) {\n      return parseFloat(size);\n    }\n\n    return null;\n  },\n\n  groupElement: function () {\n    return this._groupElement;\n  },\n  tableElement: function () {\n    return this._tableElement;\n  },\n  element: function () {\n    return this._rootElement;\n  },\n  headElement: function () {\n    return this._tableElement.find(\"thead\");\n  },\n  _setTableCss: function (styles) {\n    if (this.option(\"rtlEnabled\")) {\n      styles.right = styles.left;\n      delete styles.left;\n    }\n\n    this.tableElement().css(styles);\n  },\n  setVirtualContentParams: function (params) {\n    this._virtualContent.css({\n      width: params.width,\n      height: params.height\n    });\n\n    var scrollable = this._getScrollable();\n\n    if (null !== scrollable && void 0 !== scrollable && scrollable.isRenovated()) {\n      this._getScrollable().option(\"classes\", \"dx-virtual-mode\");\n    } else {\n      this.groupElement().addClass(\"dx-virtual-mode\");\n    }\n  },\n  disableVirtualMode: function () {\n    var scrollable = this._getScrollable();\n\n    if (null !== scrollable && void 0 !== scrollable && scrollable.isRenovated()) {\n      this._getScrollable().option(\"classes\", \"\");\n    } else {\n      this.groupElement().removeClass(\"dx-virtual-mode\");\n    }\n  },\n  _renderVirtualContent: function () {\n    if (!this._virtualContent && \"virtual\" === this.option(\"scrolling.mode\")) {\n      this._virtualContent = $(\"<div>\").addClass(\"dx-virtual-content\").insertBefore(this._tableElement);\n    }\n  },\n  reset: function () {\n    var tableElement = this._tableElement[0];\n    this._fakeTable && this._fakeTable.detach();\n    this._fakeTable = null;\n    this.disableVirtualMode();\n    this.setGroupWidth(\"100%\");\n    this.setGroupHeight(\"auto\");\n    this.resetColumnsWidth();\n\n    if (tableElement) {\n      for (var i = 0; i < tableElement.rows.length; i++) {\n        tableElement.rows[i].style.height = \"\";\n      }\n\n      tableElement.style.height = \"\";\n      tableElement.style.width = \"100%\";\n    }\n  },\n  _updateFakeTableVisibility: function () {\n    var tableElement = this.tableElement()[0];\n    var horizontalOffsetName = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\n    var fakeTableElement = this._fakeTable[0];\n\n    if (tableElement.style.top === fakeTableElement.style.top && fakeTableElement.style[horizontalOffsetName] === tableElement.style[horizontalOffsetName]) {\n      this._fakeTable.addClass(\"dx-hidden\");\n    } else {\n      this._fakeTable.removeClass(\"dx-hidden\");\n    }\n  },\n  _moveFakeTableHorizontally: function (scrollPos) {\n    var rtlEnabled = this.option(\"rtlEnabled\");\n    var offsetStyleName = rtlEnabled ? \"right\" : \"left\";\n    var tableElementOffset = parseFloat(this.tableElement()[0].style[offsetStyleName]);\n    var offset = getFakeTableOffset(scrollPos, tableElementOffset, this._tableWidth, this.getGroupWidth());\n\n    if (parseFloat(this._fakeTable[0].style[offsetStyleName]) !== offset) {\n      this._fakeTable[0].style[offsetStyleName] = offset + \"px\";\n    }\n  },\n  _moveFakeTableTop: function (scrollPos) {\n    var tableElementOffsetTop = parseFloat(this.tableElement()[0].style.top);\n    var offsetTop = getFakeTableOffset(scrollPos, tableElementOffsetTop, this._tableHeight, this.getGroupHeight());\n\n    if (parseFloat(this._fakeTable[0].style.top) !== offsetTop) {\n      this._fakeTable[0].style.top = offsetTop + \"px\";\n    }\n  },\n  _moveFakeTable: function () {\n    this._updateFakeTableVisibility();\n  },\n  _createFakeTable: function () {\n    if (!this._fakeTable) {\n      this._fakeTable = this.tableElement().clone().addClass(\"dx-pivot-grid-fake-table\").appendTo(this._virtualContent);\n    }\n  },\n  render: function (rootElement, data) {\n    if (this._tableElement) {\n      try {\n        this._tableElement[0].innerHTML = \"\";\n      } catch (e) {\n        this._tableElement.empty();\n      }\n\n      this._tableElement.attr(\"style\", \"\");\n    } else {\n      this._groupElement = this._createGroupElement();\n      this._tableElement = this._createTableElement();\n\n      this._tableElement.appendTo(this._groupElement);\n\n      this._groupElement.appendTo(rootElement);\n\n      this._rootElement = rootElement;\n    }\n\n    this._colgroupElement = $(\"<colgroup>\").appendTo(this._tableElement);\n\n    this._renderTableContent(this._tableElement, data);\n\n    this._renderVirtualContent();\n  },\n  _getScrollable: function () {\n    return this.groupElement().data(\"dxScrollable\");\n  },\n\n  _getMaxLeftOffset(scrollable) {\n    var containerElement = $(scrollable.container()).get(0);\n    return containerElement.scrollWidth - containerElement.clientWidth;\n  },\n\n  on: function (eventName, handler) {\n    var that = this;\n\n    var scrollable = that._getScrollable();\n\n    if (scrollable) {\n      scrollable.on(eventName, function (e) {\n        if (that.option(\"rtlEnabled\") && isDefined(e.scrollOffset.left)) {\n          e.scrollOffset.left = that._getMaxLeftOffset(scrollable) - e.scrollOffset.left;\n        }\n\n        handler(e);\n      });\n    }\n\n    return this;\n  },\n  off: function (eventName) {\n    var scrollable = this._getScrollable();\n\n    if (scrollable) {\n      scrollable.off(eventName);\n    }\n\n    return this;\n  },\n  scrollTo: function (pos) {\n    var scrollable = this._getScrollable();\n\n    var scrollablePos = pos;\n\n    if (scrollable) {\n      if (this.option(\"rtlEnabled\")) {\n        if (\"column\" === this._getAreaName()) {\n          scrollablePos = this._getMaxLeftOffset(scrollable) - pos.left;\n        } else if (\"data\" === this._getAreaName()) {\n          scrollablePos = {\n            left: this._getMaxLeftOffset(scrollable) - pos.left,\n            top: pos.top\n          };\n        }\n      }\n\n      scrollable.scrollTo(scrollablePos);\n\n      if (this._virtualContent) {\n        this._createFakeTable();\n\n        this._moveFakeTable(pos);\n      }\n    }\n  },\n  updateScrollable: function () {\n    var scrollable = this._getScrollable();\n\n    if (scrollable) {\n      return scrollable.update();\n    }\n  },\n  getColumnsCount: function () {\n    var columnCount = 0;\n\n    var row = this._getRowElement(0);\n\n    var cells;\n\n    if (row) {\n      cells = row.cells;\n\n      for (var i = 0, len = cells.length; i < len; ++i) {\n        columnCount += cells[i].colSpan;\n      }\n    }\n\n    return columnCount;\n  },\n  getData: function () {\n    var tableElement = this._tableElement;\n    return tableElement ? tableElement.data(\"data\") : [];\n  }\n});","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devextreme/esm/ui/pivot_grid/ui.pivot_grid.area_item.js"],"names":["setWidth","$","Class","getPublicElement","extend","getBoundingRect","isDefined","PIVOTGRID_EXPAND_CLASS","getRealElementWidth","element","width","offsetWidth","getBoundingClientRect","clientRect","right","left","getFakeTableOffset","scrollPos","elementOffset","tableSize","viewPortSize","offset","halfTableCount","halfTableSize","parseInt","AreaItem","inherit","ctor","component","option","apply","arguments","_getRowElement","index","_tableElement","length","rows","_createGroupElement","_createTableElement","_getCellText","cell","encodeHtml","cellText","isWhiteSpace","text","indexOf","html","_getRowClassNames","_applyCustomStyles","options","cssArray","push","sorted","classArray","_getMainElementMarkup","_getCloseMainElementMarkup","_renderTableContent","tableElement","data","rowsCount","row","i","j","rtlEnabled","markupArray","rowClassNames","_getAreaName","css","columnMarkupArray","rowspan","colspan","styleOptions","cellElement","cellsCount","cellIndex","rowElement","rowIndex","join","expanded","wordWrapEnabled","append","_triggerOnCellPrepared","rowElements","find","areaName","onCellPrepared","hasEvent","_eventsStrategy","$cellElement","onCellPreparedArgs","defaultActionArgs","_defaultActionArgs","columnIndex","eq","children","area","_trigger","_getRowHeight","height","offsetHeight","lastChild","_setRowHeight","value","style","getRowsLength","getRowsHeight","result","rowsLength","setRowsHeight","values","totalHeight","valuesLength","_tableHeight","getColumnsWidth","processedCells","fillCells","cells","rowSpan","colSpan","rowOffset","columnOffset","setColumnsWidth","colgroupElementHTML","columnsCount","getColumnsCount","columnWidth","_colgroupElement","_tableWidth","reduce","sum","tableLayout","resetColumnsWidth","setGroupWidth","_getScrollable","setGroupHeight","getGroupHeight","_getGroupElementSize","getGroupWidth","dimension","size","groupElement","parseFloat","_groupElement","_rootElement","headElement","_setTableCss","styles","setVirtualContentParams","params","_virtualContent","scrollable","isRenovated","addClass","disableVirtualMode","removeClass","_renderVirtualContent","insertBefore","reset","_fakeTable","detach","_updateFakeTableVisibility","horizontalOffsetName","fakeTableElement","top","_moveFakeTableHorizontally","offsetStyleName","tableElementOffset","_moveFakeTableTop","tableElementOffsetTop","offsetTop","_moveFakeTable","_createFakeTable","clone","appendTo","render","rootElement","innerHTML","e","empty","attr","_getMaxLeftOffset","containerElement","container","get","scrollWidth","clientWidth","on","eventName","handler","that","scrollOffset","off","scrollTo","pos","scrollablePos","updateScrollable","update","columnCount","len","getData"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (esm/ui/pivot_grid/ui.pivot_grid.area_item.js)\r\n * Version: 22.1.3\r\n * Build date: Mon Jun 13 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar PIVOTGRID_EXPAND_CLASS = \"dx-expand\";\r\nvar getRealElementWidth = function(element) {\r\n    var width = 0;\r\n    var offsetWidth = element.offsetWidth;\r\n    if (element.getBoundingClientRect) {\r\n        var clientRect = getBoundingRect(element);\r\n        width = clientRect.width;\r\n        if (!width) {\r\n            width = clientRect.right - clientRect.left\r\n        }\r\n        if (width <= offsetWidth - 1) {\r\n            width = offsetWidth\r\n        }\r\n    }\r\n    return width > 0 ? width : offsetWidth\r\n};\r\n\r\nfunction getFakeTableOffset(scrollPos, elementOffset, tableSize, viewPortSize) {\r\n    var offset = 0;\r\n    var halfTableCount = 0;\r\n    var halfTableSize = tableSize / 2;\r\n    if (scrollPos + viewPortSize - (elementOffset + tableSize) > 1) {\r\n        if (scrollPos >= elementOffset + tableSize + halfTableSize) {\r\n            halfTableCount = parseInt((scrollPos - (elementOffset + tableSize)) / halfTableSize, 10)\r\n        }\r\n        offset = elementOffset + tableSize + halfTableSize * halfTableCount\r\n    } else if (scrollPos < elementOffset) {\r\n        if (scrollPos <= elementOffset - halfTableSize) {\r\n            halfTableCount = parseInt((scrollPos - (elementOffset - halfTableSize)) / halfTableSize, 10)\r\n        }\r\n        offset = elementOffset - (tableSize - halfTableSize * halfTableCount)\r\n    } else {\r\n        offset = elementOffset\r\n    }\r\n    return offset\r\n}\r\nexport var AreaItem = Class.inherit({\r\n    ctor: function(component) {\r\n        this.component = component\r\n    },\r\n    option: function() {\r\n        return this.component.option.apply(this.component, arguments)\r\n    },\r\n    _getRowElement: function(index) {\r\n        if (this._tableElement && this._tableElement.length > 0) {\r\n            return this._tableElement[0].rows[index]\r\n        }\r\n        return null\r\n    },\r\n    _createGroupElement: function() {\r\n        return $(\"<div>\")\r\n    },\r\n    _createTableElement: function() {\r\n        return $(\"<table>\")\r\n    },\r\n    _getCellText: function(cell, encodeHtml) {\r\n        var cellText = cell.isWhiteSpace ? \"&nbsp\" : cell.text || \"&nbsp\";\r\n        if (encodeHtml && (-1 !== cellText.indexOf(\"<\") || -1 !== cellText.indexOf(\">\"))) {\r\n            cellText = $(\"<div>\").text(cellText).html()\r\n        }\r\n        return cellText\r\n    },\r\n    _getRowClassNames: function() {},\r\n    _applyCustomStyles: function(options) {\r\n        if (options.cell.width) {\r\n            options.cssArray.push(\"min-width:\" + options.cell.width + \"px\")\r\n        }\r\n        if (options.cell.sorted) {\r\n            options.classArray.push(\"dx-pivotgrid-sorted\")\r\n        }\r\n    },\r\n    _getMainElementMarkup: function() {\r\n        return \"<tbody>\"\r\n    },\r\n    _getCloseMainElementMarkup: function() {\r\n        return \"</tbody>\"\r\n    },\r\n    _renderTableContent: function(tableElement, data) {\r\n        var rowsCount = data.length;\r\n        var row;\r\n        var cell;\r\n        var i;\r\n        var j;\r\n        var cellText;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var markupArray = [];\r\n        var encodeHtml = this.option(\"encodeHtml\");\r\n        var rowClassNames;\r\n        tableElement.data(\"area\", this._getAreaName());\r\n        tableElement.data(\"data\", data);\r\n        tableElement.css(\"width\", \"\");\r\n        markupArray.push(this._getMainElementMarkup());\r\n        for (i = 0; i < rowsCount; i++) {\r\n            row = data[i];\r\n            var columnMarkupArray = [];\r\n            rowClassNames = [];\r\n            markupArray.push(\"<tr \");\r\n            for (j = 0; j < row.length; j++) {\r\n                cell = row[j];\r\n                this._getRowClassNames(i, cell, rowClassNames);\r\n                columnMarkupArray.push(\"<td \");\r\n                if (cell) {\r\n                    cell.rowspan && columnMarkupArray.push(\"rowspan='\" + (cell.rowspan || 1) + \"'\");\r\n                    cell.colspan && columnMarkupArray.push(\"colspan='\" + (cell.colspan || 1) + \"'\");\r\n                    var styleOptions = {\r\n                        cellElement: void 0,\r\n                        cell: cell,\r\n                        cellsCount: row.length,\r\n                        cellIndex: j,\r\n                        rowElement: void 0,\r\n                        rowIndex: i,\r\n                        rowsCount: rowsCount,\r\n                        rtlEnabled: rtlEnabled,\r\n                        classArray: [],\r\n                        cssArray: []\r\n                    };\r\n                    this._applyCustomStyles(styleOptions);\r\n                    if (styleOptions.cssArray.length) {\r\n                        columnMarkupArray.push(\"style='\");\r\n                        columnMarkupArray.push(styleOptions.cssArray.join(\";\"));\r\n                        columnMarkupArray.push(\"'\")\r\n                    }\r\n                    if (styleOptions.classArray.length) {\r\n                        columnMarkupArray.push(\"class='\");\r\n                        columnMarkupArray.push(styleOptions.classArray.join(\" \"));\r\n                        columnMarkupArray.push(\"'\")\r\n                    }\r\n                    columnMarkupArray.push(\">\");\r\n                    if (isDefined(cell.expanded)) {\r\n                        columnMarkupArray.push(\"<div class='dx-expand-icon-container'><span class='\" + PIVOTGRID_EXPAND_CLASS + \"'></span></div>\")\r\n                    }\r\n                    cellText = this._getCellText(cell, encodeHtml)\r\n                } else {\r\n                    cellText = \"\"\r\n                }\r\n                columnMarkupArray.push(\"<span \");\r\n                if (isDefined(cell.wordWrapEnabled)) {\r\n                    columnMarkupArray.push(\"style='white-space:\", cell.wordWrapEnabled ? \"normal\" : \"nowrap\", \";'\")\r\n                }\r\n                columnMarkupArray.push(\">\" + cellText + \"</span>\");\r\n                if (cell.sorted) {\r\n                    columnMarkupArray.push(\"<span class='dx-icon-sorted'></span>\")\r\n                }\r\n                columnMarkupArray.push(\"</td>\")\r\n            }\r\n            if (rowClassNames.length) {\r\n                markupArray.push(\"class='\");\r\n                markupArray.push(rowClassNames.join(\" \"));\r\n                markupArray.push(\"'\")\r\n            }\r\n            markupArray.push(\">\");\r\n            markupArray.push(columnMarkupArray.join(\"\"));\r\n            markupArray.push(\"</tr>\")\r\n        }\r\n        markupArray.push(this._getCloseMainElementMarkup());\r\n        tableElement.append(markupArray.join(\"\"));\r\n        this._triggerOnCellPrepared(tableElement, data)\r\n    },\r\n    _triggerOnCellPrepared: function(tableElement, data) {\r\n        var rowElements = tableElement.find(\"tr\");\r\n        var areaName = this._getAreaName();\r\n        var onCellPrepared = this.option(\"onCellPrepared\");\r\n        var hasEvent = this.component._eventsStrategy.hasEvent(\"cellPrepared\");\r\n        var rowElement;\r\n        var $cellElement;\r\n        var onCellPreparedArgs;\r\n        var defaultActionArgs = this.component._defaultActionArgs();\r\n        var row;\r\n        var cell;\r\n        var rowIndex;\r\n        var columnIndex;\r\n        if (onCellPrepared || hasEvent) {\r\n            for (rowIndex = 0; rowIndex < data.length; rowIndex++) {\r\n                row = data[rowIndex];\r\n                rowElement = rowElements.eq(rowIndex);\r\n                for (columnIndex = 0; columnIndex < row.length; columnIndex++) {\r\n                    cell = row[columnIndex];\r\n                    $cellElement = rowElement.children().eq(columnIndex);\r\n                    onCellPreparedArgs = {\r\n                        area: areaName,\r\n                        rowIndex: rowIndex,\r\n                        columnIndex: columnIndex,\r\n                        cellElement: getPublicElement($cellElement),\r\n                        cell: cell\r\n                    };\r\n                    if (hasEvent) {\r\n                        this.component._trigger(\"onCellPrepared\", onCellPreparedArgs)\r\n                    } else {\r\n                        onCellPrepared(extend(onCellPreparedArgs, defaultActionArgs))\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _getRowHeight: function(index) {\r\n        var row = this._getRowElement(index);\r\n        var height = 0;\r\n        var offsetHeight = row.offsetHeight;\r\n        if (row && row.lastChild) {\r\n            if (row.getBoundingClientRect) {\r\n                var clientRect = getBoundingRect(row);\r\n                height = clientRect.height;\r\n                if (height <= offsetHeight - 1) {\r\n                    height = offsetHeight\r\n                }\r\n            }\r\n            return height > 0 ? height : offsetHeight\r\n        }\r\n        return 0\r\n    },\r\n    _setRowHeight: function(index, value) {\r\n        var row = this._getRowElement(index);\r\n        if (row) {\r\n            row.style.height = value + \"px\"\r\n        }\r\n    },\r\n    getRowsLength: function() {\r\n        if (this._tableElement && this._tableElement.length > 0) {\r\n            return this._tableElement[0].rows.length\r\n        }\r\n        return 0\r\n    },\r\n    getRowsHeight: function() {\r\n        var result = [];\r\n        var rowsLength = this.getRowsLength();\r\n        var i;\r\n        for (i = 0; i < rowsLength; i++) {\r\n            result.push(this._getRowHeight(i))\r\n        }\r\n        return result\r\n    },\r\n    setRowsHeight: function(values) {\r\n        var totalHeight = 0;\r\n        var valuesLength = values.length;\r\n        var i;\r\n        for (i = 0; i < valuesLength; i++) {\r\n            totalHeight += values[i];\r\n            this._setRowHeight(i, values[i])\r\n        }\r\n        this._tableHeight = totalHeight;\r\n        this._tableElement[0].style.height = totalHeight + \"px\"\r\n    },\r\n    getColumnsWidth: function() {\r\n        var rowsLength = this.getRowsLength();\r\n        var rowIndex;\r\n        var row;\r\n        var i;\r\n        var columnIndex;\r\n        var processedCells = [];\r\n        var result = [];\r\n        var fillCells = function(cells, rowIndex, columnIndex, rowSpan, colSpan) {\r\n            var rowOffset;\r\n            var columnOffset;\r\n            for (rowOffset = 0; rowOffset < rowSpan; rowOffset++) {\r\n                for (columnOffset = 0; columnOffset < colSpan; columnOffset++) {\r\n                    cells[rowIndex + rowOffset] = cells[rowIndex + rowOffset] || [];\r\n                    cells[rowIndex + rowOffset][columnIndex + columnOffset] = true\r\n                }\r\n            }\r\n        };\r\n        if (rowsLength) {\r\n            for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n                processedCells[rowIndex] = processedCells[rowIndex] || [];\r\n                row = this._getRowElement(rowIndex);\r\n                for (i = 0; i < row.cells.length; i++) {\r\n                    for (columnIndex = 0; processedCells[rowIndex][columnIndex]; columnIndex++) {}\r\n                    fillCells(processedCells, rowIndex, columnIndex, row.cells[i].rowSpan, row.cells[i].colSpan);\r\n                    if (1 === row.cells[i].colSpan) {\r\n                        result[columnIndex] = result[columnIndex] || getRealElementWidth(row.cells[i])\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    setColumnsWidth: function(values) {\r\n        var i;\r\n        var tableElement = this._tableElement[0];\r\n        var colgroupElementHTML = \"\";\r\n        var columnsCount = this.getColumnsCount();\r\n        var columnWidth = [];\r\n        for (i = 0; i < columnsCount; i++) {\r\n            columnWidth.push(values[i] || 0)\r\n        }\r\n        for (i = columnsCount; i < values.length && values; i++) {\r\n            columnWidth[columnsCount - 1] += values[i]\r\n        }\r\n        for (i = 0; i < columnsCount; i++) {\r\n            colgroupElementHTML += '<col style=\"width: ' + columnWidth[i] + 'px\">'\r\n        }\r\n        this._colgroupElement.html(colgroupElementHTML);\r\n        this._tableWidth = columnWidth.reduce((sum, width) => sum + width, 0);\r\n        tableElement.style.width = this._tableWidth + \"px\";\r\n        tableElement.style.tableLayout = \"fixed\"\r\n    },\r\n    resetColumnsWidth: function() {\r\n        setWidth(this._colgroupElement.find(\"col\"), \"auto\");\r\n        this._tableElement.css({\r\n            width: \"\",\r\n            tableLayout: \"\"\r\n        })\r\n    },\r\n    setGroupWidth: function(value) {\r\n        this._getScrollable().option(\"width\", value)\r\n    },\r\n    setGroupHeight: function(value) {\r\n        this._getScrollable().option(\"height\", value)\r\n    },\r\n    getGroupHeight: function() {\r\n        return this._getGroupElementSize(\"height\")\r\n    },\r\n    getGroupWidth: function() {\r\n        return this._getGroupElementSize(\"width\")\r\n    },\r\n    _getGroupElementSize(dimension) {\r\n        var size = this.groupElement()[0].style[dimension];\r\n        if (size.indexOf(\"px\") > 0) {\r\n            return parseFloat(size)\r\n        }\r\n        return null\r\n    },\r\n    groupElement: function() {\r\n        return this._groupElement\r\n    },\r\n    tableElement: function() {\r\n        return this._tableElement\r\n    },\r\n    element: function() {\r\n        return this._rootElement\r\n    },\r\n    headElement: function() {\r\n        return this._tableElement.find(\"thead\")\r\n    },\r\n    _setTableCss: function(styles) {\r\n        if (this.option(\"rtlEnabled\")) {\r\n            styles.right = styles.left;\r\n            delete styles.left\r\n        }\r\n        this.tableElement().css(styles)\r\n    },\r\n    setVirtualContentParams: function(params) {\r\n        this._virtualContent.css({\r\n            width: params.width,\r\n            height: params.height\r\n        });\r\n        var scrollable = this._getScrollable();\r\n        if (null !== scrollable && void 0 !== scrollable && scrollable.isRenovated()) {\r\n            this._getScrollable().option(\"classes\", \"dx-virtual-mode\")\r\n        } else {\r\n            this.groupElement().addClass(\"dx-virtual-mode\")\r\n        }\r\n    },\r\n    disableVirtualMode: function() {\r\n        var scrollable = this._getScrollable();\r\n        if (null !== scrollable && void 0 !== scrollable && scrollable.isRenovated()) {\r\n            this._getScrollable().option(\"classes\", \"\")\r\n        } else {\r\n            this.groupElement().removeClass(\"dx-virtual-mode\")\r\n        }\r\n    },\r\n    _renderVirtualContent: function() {\r\n        if (!this._virtualContent && \"virtual\" === this.option(\"scrolling.mode\")) {\r\n            this._virtualContent = $(\"<div>\").addClass(\"dx-virtual-content\").insertBefore(this._tableElement)\r\n        }\r\n    },\r\n    reset: function() {\r\n        var tableElement = this._tableElement[0];\r\n        this._fakeTable && this._fakeTable.detach();\r\n        this._fakeTable = null;\r\n        this.disableVirtualMode();\r\n        this.setGroupWidth(\"100%\");\r\n        this.setGroupHeight(\"auto\");\r\n        this.resetColumnsWidth();\r\n        if (tableElement) {\r\n            for (var i = 0; i < tableElement.rows.length; i++) {\r\n                tableElement.rows[i].style.height = \"\"\r\n            }\r\n            tableElement.style.height = \"\";\r\n            tableElement.style.width = \"100%\"\r\n        }\r\n    },\r\n    _updateFakeTableVisibility: function() {\r\n        var tableElement = this.tableElement()[0];\r\n        var horizontalOffsetName = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        var fakeTableElement = this._fakeTable[0];\r\n        if (tableElement.style.top === fakeTableElement.style.top && fakeTableElement.style[horizontalOffsetName] === tableElement.style[horizontalOffsetName]) {\r\n            this._fakeTable.addClass(\"dx-hidden\")\r\n        } else {\r\n            this._fakeTable.removeClass(\"dx-hidden\")\r\n        }\r\n    },\r\n    _moveFakeTableHorizontally: function(scrollPos) {\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var offsetStyleName = rtlEnabled ? \"right\" : \"left\";\r\n        var tableElementOffset = parseFloat(this.tableElement()[0].style[offsetStyleName]);\r\n        var offset = getFakeTableOffset(scrollPos, tableElementOffset, this._tableWidth, this.getGroupWidth());\r\n        if (parseFloat(this._fakeTable[0].style[offsetStyleName]) !== offset) {\r\n            this._fakeTable[0].style[offsetStyleName] = offset + \"px\"\r\n        }\r\n    },\r\n    _moveFakeTableTop: function(scrollPos) {\r\n        var tableElementOffsetTop = parseFloat(this.tableElement()[0].style.top);\r\n        var offsetTop = getFakeTableOffset(scrollPos, tableElementOffsetTop, this._tableHeight, this.getGroupHeight());\r\n        if (parseFloat(this._fakeTable[0].style.top) !== offsetTop) {\r\n            this._fakeTable[0].style.top = offsetTop + \"px\"\r\n        }\r\n    },\r\n    _moveFakeTable: function() {\r\n        this._updateFakeTableVisibility()\r\n    },\r\n    _createFakeTable: function() {\r\n        if (!this._fakeTable) {\r\n            this._fakeTable = this.tableElement().clone().addClass(\"dx-pivot-grid-fake-table\").appendTo(this._virtualContent)\r\n        }\r\n    },\r\n    render: function(rootElement, data) {\r\n        if (this._tableElement) {\r\n            try {\r\n                this._tableElement[0].innerHTML = \"\"\r\n            } catch (e) {\r\n                this._tableElement.empty()\r\n            }\r\n            this._tableElement.attr(\"style\", \"\")\r\n        } else {\r\n            this._groupElement = this._createGroupElement();\r\n            this._tableElement = this._createTableElement();\r\n            this._tableElement.appendTo(this._groupElement);\r\n            this._groupElement.appendTo(rootElement);\r\n            this._rootElement = rootElement\r\n        }\r\n        this._colgroupElement = $(\"<colgroup>\").appendTo(this._tableElement);\r\n        this._renderTableContent(this._tableElement, data);\r\n        this._renderVirtualContent()\r\n    },\r\n    _getScrollable: function() {\r\n        return this.groupElement().data(\"dxScrollable\")\r\n    },\r\n    _getMaxLeftOffset(scrollable) {\r\n        var containerElement = $(scrollable.container()).get(0);\r\n        return containerElement.scrollWidth - containerElement.clientWidth\r\n    },\r\n    on: function(eventName, handler) {\r\n        var that = this;\r\n        var scrollable = that._getScrollable();\r\n        if (scrollable) {\r\n            scrollable.on(eventName, (function(e) {\r\n                if (that.option(\"rtlEnabled\") && isDefined(e.scrollOffset.left)) {\r\n                    e.scrollOffset.left = that._getMaxLeftOffset(scrollable) - e.scrollOffset.left\r\n                }\r\n                handler(e)\r\n            }))\r\n        }\r\n        return this\r\n    },\r\n    off: function(eventName) {\r\n        var scrollable = this._getScrollable();\r\n        if (scrollable) {\r\n            scrollable.off(eventName)\r\n        }\r\n        return this\r\n    },\r\n    scrollTo: function(pos) {\r\n        var scrollable = this._getScrollable();\r\n        var scrollablePos = pos;\r\n        if (scrollable) {\r\n            if (this.option(\"rtlEnabled\")) {\r\n                if (\"column\" === this._getAreaName()) {\r\n                    scrollablePos = this._getMaxLeftOffset(scrollable) - pos.left\r\n                } else if (\"data\" === this._getAreaName()) {\r\n                    scrollablePos = {\r\n                        left: this._getMaxLeftOffset(scrollable) - pos.left,\r\n                        top: pos.top\r\n                    }\r\n                }\r\n            }\r\n            scrollable.scrollTo(scrollablePos);\r\n            if (this._virtualContent) {\r\n                this._createFakeTable();\r\n                this._moveFakeTable(pos)\r\n            }\r\n        }\r\n    },\r\n    updateScrollable: function() {\r\n        var scrollable = this._getScrollable();\r\n        if (scrollable) {\r\n            return scrollable.update()\r\n        }\r\n    },\r\n    getColumnsCount: function() {\r\n        var columnCount = 0;\r\n        var row = this._getRowElement(0);\r\n        var cells;\r\n        if (row) {\r\n            cells = row.cells;\r\n            for (var i = 0, len = cells.length; i < len; ++i) {\r\n                columnCount += cells[i].colSpan\r\n            }\r\n        }\r\n        return columnCount\r\n    },\r\n    getData: function() {\r\n        var tableElement = this._tableElement;\r\n        return tableElement ? tableElement.data(\"data\") : []\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"module"}