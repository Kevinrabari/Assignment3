{"ast":null,"code":"/**\r\n* DevExpress Dashboard (dashboard-control.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DashboardControl = void 0;\n\nvar analytics_internal_1 = require(\"@devexpress/analytics-core/analytics-internal\");\n\nvar events_strategy_1 = require(\"devextreme/core/events_strategy\");\n\nvar options_1 = require(\"devextreme/core/options\");\n\nvar popup_1 = require(\"devextreme/ui/popup\");\n\nvar $ = require(\"jquery\");\n\nvar ko = require(\"knockout\");\n\nvar _default_1 = require(\"../data/localization/_default\");\n\nvar _jquery_helpers_1 = require(\"../data/_jquery-helpers\");\n\nvar _utils_1 = require(\"../data/_utils\");\n\nvar dashboard_1 = require(\"../model/dashboard\");\n\nvar _knockout_utils_1 = require(\"../model/internal/_knockout-utils\");\n\nvar _obsolete_helper_1 = require(\"../model/internal/_obsolete-helper\");\n\nvar custom_item_1 = require(\"../model/items/custom-item/custom-item\");\n\nvar serializable_model_1 = require(\"../model/serializable-model\");\n\nvar legacy_settings_1 = require(\"../viewer-parts/legacy-settings\");\n\nvar _dx_devextreme_themes_integration_1 = require(\"../viewer-parts/_dx-devextreme-themes-integration\");\n\nvar control_options_1 = require(\"./control-options\");\n\nvar _dashboard_update_hub_1 = require(\"./dashboard-update-hub/_dashboard-update-hub\");\n\nvar _docking_layout_adapter_1 = require(\"./docking-layout/_docking-layout-adapter\");\n\nvar _interfaces_1 = require(\"./internal/_interfaces\");\n\nvar _options_manager_1 = require(\"./internal/_options-manager\");\n\nvar _update_controller_1 = require(\"./internal/_update-controller\");\n\nvar notificator_1 = require(\"./notification-controller/notificator\");\n\nvar remote_service_1 = require(\"./remote-service\");\n\nvar resource_manager_1 = require(\"./resource-manager\");\n\nvar _item_viewer_adapter_factory_1 = require(\"./viewer/adapters/_item-viewer-adapter-factory\");\n\nvar _viewer_api_1 = require(\"./viewer/_viewer-api\");\n\nvar _data_source_browser_1 = require(\"./_data-source-browser\");\n\nvar _helpers_1 = require(\"./_helpers\");\n\nvar _service_client_1 = require(\"./_service-client\");\n\nvar DashboardControl = function () {\n  function DashboardControl(element, options) {\n    var _this = this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    this._repaintRequest = _jquery_helpers_1.createJQueryCallbacks();\n    this._extensions = ko.observableArray();\n    this._serviceClient = ko.observable();\n    this._displayAllData = ko.observable();\n    this._isLoading = ko.observable(false);\n    this._perDashboardDisposables = [];\n    this._layoutInfo = ko.observable(null);\n    this._layoutInfoProviderCollection = [];\n    this._actualLayoutController = ko.pureComputed(function () {\n      return _this._layoutInfo() && _this._layoutInfo().layoutController();\n    });\n    this._emptyControlTemplates = ko.observableArray();\n    this._surfaceLeft = ko.observable(0);\n    this._surfaceTop = ko.observable(0);\n    this.surfaceLeft = ko.observable(0);\n    this.surfaceTop = ko.observable(0);\n    this.isDesignMode = ko.observable(true);\n    this.dashboardContainer = ko.observable();\n    this.dashboard = ko.computed(function () {\n      return _this.dashboardContainer() && _this.dashboardContainer().dashboard || null;\n    });\n    this.customTemplates = ko.observableArray();\n\n    this.getWidgetContainer = function () {\n      if (!_this._widgetContainer) {\n        var wc = _this._element.querySelector('.dx-dashboard-widget-container');\n\n        if (wc) {\n          _this._widgetContainer = wc;\n        }\n      }\n\n      return _this._widgetContainer;\n    };\n\n    this._updateController = new _update_controller_1.UpdateController({\n      'updateItemToolbars': {\n        action: function () {\n          if (_this.dashboard()) {\n            _this._viewerApi.updateItemCaptionToolbar();\n          }\n        },\n        masterActions: ['refreshData', 'reinitializeDashboard', 'loadDashboard']\n      },\n      'updateDashboardToolbar': {\n        action: function () {\n          return _this._reinitializeDashboard();\n        },\n        masterActions: ['reinitializeDashboard', 'loadDashboard']\n      },\n      'refreshData': {\n        action: function () {\n          return _this._reinitializeDashboard();\n        },\n        masterActions: ['reinitializeDashboard', 'loadDashboard']\n      },\n      'reinitializeDashboard': {\n        action: function () {\n          return _this._reinitializeDashboard();\n        },\n        masterActions: ['loadDashboard']\n      },\n      'loadDashboard': {\n        action: function () {\n          if (_this.option('dashboardId')) {\n            _this._loadDashboardCore(_this.option('dashboardId'));\n          } else {\n            _this._unloadDashboardCore();\n          }\n        }\n      },\n      'noop': {\n        action: function () {},\n        masterActions: ['updateItemToolbars', 'updateDashboardToolbar', 'refreshData', 'reinitializeDashboard', 'loadDashboard']\n      }\n    }, function (stateProvider, action) {\n      switch (stateProvider()) {\n        case 'controlInitializing':\n          return 'noop';\n\n        case 'controlInitialized':\n        case 'dashboardLoading':\n        case 'dashboardLoaded':\n        case 'dashboardInitializing':\n          return action === 'loadDashboard' ? action : 'noop';\n\n        case 'dashboardInitialized':\n          return action;\n      }\n    });\n    this._workingModeChangeDeferred = _jquery_helpers_1.createJQueryDeferred();\n\n    this._updateController.switchControlState('controlInitializing');\n\n    this._element = element;\n    this._controlOptions = this._getDefaultOptions();\n    this._defaultControlOptions = this._getDefaultOptions();\n    this._eventsStrategy = events_strategy_1.EventsStrategy.create(this, options.eventsStrategy);\n    this._options = new options_1.Options(this._controlOptions, this._defaultControlOptions, this._getOptionsByReference(), this._getDeprecatedOptions());\n\n    this._options.onChanging(function (name, previousValue, value) {\n      return _this._optionChanging(name, value, previousValue);\n    });\n\n    this._options.onChanged(function (name, value, previousValue) {\n      return _this._notifyOptionChanged(name, value);\n    });\n\n    this._options.onStartChange(function () {\n      return _this.beginUpdate();\n    });\n\n    this._options.onEndChange(function () {\n      return _this.endUpdate();\n    });\n\n    if (options.extensions) {\n      for (var extensionName in options.extensions) {\n        if (control_options_1.extensionNameMap.hasOwnProperty(extensionName)) {\n          var newName = control_options_1.extensionNameMap[extensionName];\n\n          if (newName !== extensionName) {\n            options.extensions[newName] = options.extensions[extensionName];\n            delete options.extensions[extensionName];\n          }\n        }\n      }\n    }\n\n    this.resizeByTimer = ko.observable(this._defaultControlOptions.resizeByTimer);\n    this.option(options);\n    this._endpointCollection = this._unrollEndpointCollection(this.option());\n    this.remoteService = new remote_service_1.AjaxRemoteService(this.option('ajaxRemoteService'));\n    legacy_settings_1.LegacySettings._useCardLegacyLayout = this.option('useCardLegacyLayout');\n    this.surfaceLeft.subscribe(function (value) {\n      _this._surfaceLeft(value);\n\n      _this.repaint();\n    });\n    this.surfaceTop.subscribe(function (value) {\n      _this._surfaceTop(value);\n\n      _this.repaint();\n    });\n    this._dashboardContext = {\n      beforeApplyViewerItemOptions: _jquery_helpers_1.createJQueryCallbacks(),\n      viewerItemCreated: _jquery_helpers_1.createJQueryCallbacks(),\n      viewerItemDispose: _jquery_helpers_1.createJQueryCallbacks(),\n      addContextToolbarItems: _jquery_helpers_1.createJQueryCallbacks(),\n      viewerItemCreator: {},\n      refresh: function (itemName) {\n        return _this.refresh(itemName);\n      },\n      useNeutralFilterMode: function () {\n        return _this.option('useNeutralFilterMode');\n      },\n      isDesignMode: this.isDesignMode,\n      viewerItemsManager: null\n    };\n\n    this._dashboardContext.beforeApplyViewerItemOptions.add(function (item, itemOptions, isCreation) {\n      itemOptions.useNeutralFilterMode = _this.option('useNeutralFilterMode');\n      itemOptions.encodeHtml = _this.encodeHtml;\n    });\n\n    this._externalTemplates = ko.computed(function () {\n      var result = [];\n\n      _this.customTemplates().forEach(function (template) {\n        result.push(template);\n      });\n\n      _this._extensions().forEach(function (extension) {\n        if (extension['template']) {\n          if (typeof extension['template'] === 'string') {\n            result.push({\n              name: extension['template'],\n              data: extension\n            });\n          } else {\n            result.push(extension['template']);\n          }\n        }\n      });\n\n      return result;\n    });\n    this.notificationController = new notificator_1.NotificationController();\n    this.isDesignMode.subscribe(function (isDesignMode) {\n      _this._validateWorkingMode();\n    }, null, 'beforeChange');\n    this.isDesignMode.subscribe(function (isDesignMode) {\n      _this._validateWorkingMode();\n\n      _this._initializeServiceClient(_this.dashboardContainer());\n    });\n    this._allowSwitchToDesigner = this.option('workingMode') !== 'ViewerOnly';\n    var extensionsToRegister = {};\n\n    for (var name_1 in control_options_1.defaultExtensions) {\n      extensionsToRegister[name_1] = control_options_1.defaultExtensions[name_1];\n    }\n\n    if (this.allowSwitchToDesigner) {\n      for (var name_2 in control_options_1.designerExtensions) {\n        extensionsToRegister[name_2] = control_options_1.designerExtensions[name_2];\n      }\n    }\n\n    analytics_internal_1._setShowMessageFunc(function (msg, type, displayTime, debugInfo) {});\n\n    this._dockingLayoutAdapter = new _docking_layout_adapter_1.DockingLayoutAdapter(this);\n\n    this._dockingLayoutAdapter.start();\n\n    this._raiseEvent('initializing', {\n      component: this\n    });\n\n    this._viewerApi = new _viewer_api_1.ViewerApi(this);\n\n    this._viewerApi.start();\n\n    this._registerDefaultExtensions(extensionsToRegister, this.option('extensions'));\n\n    this._registerKeyProcessing();\n\n    this._isLoading.subscribe(function (isLoading) {\n      return _this.notificationController.suspended(isLoading);\n    });\n\n    this._isLoading(true);\n\n    this._updateController.switchControlState('controlInitialized');\n\n    setTimeout(function () {\n      if (!_this.dashboard()) {\n        _this._loadInitialDashboard().done(function () {\n          var initialDashboardState = _this.option('initialDashboardState');\n\n          if (initialDashboardState) {\n            _this.dashboard().stateString = initialDashboardState;\n          }\n        }).always(function () {\n          _this._isLoading(false);\n        });\n      } else {\n        _this._isLoading(false);\n      }\n    }, 1);\n\n    _defineDashboardControlObsoleteMethods(this);\n\n    if (this.option('renderImmediately')) {\n      this.render();\n    }\n  }\n\n  DashboardControl._recursiveAsyncEval = function (sequence, cancellationToken, previousOptions, currentIndex) {\n    if (currentIndex === void 0) {\n      currentIndex = 0;\n    }\n\n    if (!previousOptions) {\n      previousOptions = {\n        surfaceLeft: 0\n      };\n    }\n\n    var def = _jquery_helpers_1.createJQueryDeferred();\n\n    var sequenceActions = sequence[currentIndex];\n\n    if (sequenceActions) {\n      var actions = sequenceActions.map(function (sa) {\n        return sa.cancelableAction;\n      });\n      $.when.apply($, actions.map(function (a) {\n        return a(previousOptions, cancellationToken);\n      })).done(function () {\n        var options = [];\n\n        for (var _i = 0; _i < arguments.length; _i++) {\n          options[_i] = arguments[_i];\n        }\n\n        if (cancellationToken.canceled) def.reject();else {\n          DashboardControl._recursiveAsyncEval(sequence, cancellationToken, _helpers_1.combineOptions(previousOptions, options), currentIndex + 1).done(function (opts) {\n            if (cancellationToken.canceled) def.reject();else def.resolve(opts);\n          }).fail(function () {\n            return def.reject();\n          });\n        }\n      }).fail(function () {\n        return def.reject();\n      });\n    } else {\n      if (cancellationToken.canceled) def.reject();else {\n        if (cancellationToken.canceled) def.reject();else def.resolve(previousOptions);\n      }\n    }\n\n    return def.promise();\n  };\n\n  Object.defineProperty(DashboardControl.prototype, \"_updateHub\", {\n    get: function () {\n      return this._updateHubPrivate;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DashboardControl.prototype, \"encodeHtml\", {\n    get: function () {\n      return this.option('encodeHtml');\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DashboardControl.prototype, \"showConfirmationOnBrowserClosing\", {\n    get: function () {\n      return this.option('showConfirmationOnBrowserClosing');\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DashboardControl.prototype, \"allowSwitchToDesigner\", {\n    get: function () {\n      return this._allowSwitchToDesigner;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DashboardControl.prototype, \"maximizedDashboardItemName\", {\n    get: function () {\n      var fullscreenItemProvider = this._getFullscreenItemProvider();\n\n      return fullscreenItemProvider && fullscreenItemProvider.maximizedItemName || '';\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(DashboardControl.prototype, \"extensions\", {\n    get: function () {\n      return this._extensions();\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DashboardControl.prototype.element = function () {\n    return this._element;\n  };\n\n  DashboardControl.prototype.on = function (eventName, eventHandler) {\n    this._eventsStrategy.on(eventName, eventHandler);\n  };\n\n  DashboardControl.prototype.off = function (eventName, eventHandler) {\n    this._eventsStrategy.off(eventName, eventHandler);\n  };\n\n  DashboardControl.prototype._raiseEvent = function (eventName, eventArgs) {\n    this._eventsStrategy.fireEvent(eventName, [eventArgs]);\n\n    var optionName = _options_manager_1.getOptionNameByEvent(eventName);\n\n    if (optionName) {\n      var func = this.option(optionName);\n\n      if (func) {\n        func.call(this, eventArgs);\n      }\n    }\n  };\n\n  DashboardControl.prototype.option = function () {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return (_a = this._options).option.apply(_a, args);\n  };\n\n  DashboardControl.prototype._silent = function () {\n    var _a;\n\n    var args = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n\n    return (_a = this._options).silent.apply(_a, args);\n  };\n\n  DashboardControl.prototype.resetOption = function (name) {\n    this.beginUpdate();\n\n    this._options.reset(name);\n\n    this.endUpdate();\n  };\n\n  DashboardControl.prototype.beginUpdate = function () {\n    this._updateController.beginUpdate();\n  };\n\n  DashboardControl.prototype.endUpdate = function () {\n    this._updateController.endUpdate();\n  };\n\n  DashboardControl.prototype._getOptionValue = function (name, context) {\n    var value = this.option(name);\n    return value;\n  };\n\n  DashboardControl.prototype._getDefaultOptions = function () {\n    return {\n      limitVisibleDataMode: 'Designer',\n      resizeByTimer: true,\n      ajaxRemoteService: {\n        beforeSend: function () {},\n        complete: function () {},\n        headers: {}\n      },\n      encodeHtml: true,\n      useNeutralFilterMode: true,\n      allowMaximizeItems: true,\n      useCardLegacyLayout: false,\n      showConfirmationOnBrowserClosing: true,\n      workingMode: 'Designer',\n      loadDefaultDashboard: true,\n      dataRequestOptions: {},\n      extensions: {}\n    };\n  };\n\n  DashboardControl.prototype._getOptionsByReference = function () {\n    return {};\n  };\n\n  DashboardControl.prototype._getDeprecatedOptions = function () {\n    return {};\n  };\n\n  DashboardControl.prototype._notifyOptionChanged = function (option, value) {\n    document.createElement;\n    var name = option;\n    var args = {\n      name: name.split(/[.[]/)[0],\n      fullName: name,\n      value: value,\n      component: this\n    };\n\n    this._optionChanged(args);\n\n    this._raiseEvent('optionChanged', args);\n  };\n\n  DashboardControl.prototype._reinitializeDashboard = function () {\n    if (this.dashboard()) {\n      var dashboardState = this.getDashboardState();\n      this.initializeDashboard(this.option('dashboardId'), this.dashboard().getJSON(), dashboardState && JSON.parse(this.getDashboardState()) || '');\n    }\n  };\n\n  DashboardControl.prototype._getCebabCaseExtensionName = function (extensionName) {\n    var index = Object.keys(control_options_1.extensionNameMap).map(function (k) {\n      return control_options_1.extensionNameMap[k];\n    }).indexOf(extensionName);\n    return index === -1 ? extensionName : Object.keys(control_options_1.extensionNameMap)[index];\n  };\n\n  DashboardControl.prototype._getCamelCaseExtensionName = function (extensionName) {\n    return control_options_1.extensionNameMap[extensionName] || extensionName;\n  };\n\n  DashboardControl.prototype._optionChanging = function (name, value, previousValue) {\n    switch (name) {\n      case 'workingMode':\n        if (this._updateController.getControlState() !== 'controlInitializing' && (previousValue === 'ViewerOnly' || value === 'ViewerOnly')) {\n          throw new Error(\"Cannot switch to \" + value + \" from \" + previousValue + \" mode.\");\n        }\n\n        break;\n    }\n  };\n\n  DashboardControl.prototype._optionChanged = function (args) {\n    switch (args.name) {\n      case 'dashboardId':\n        if (this._updateController.getControlState() !== 'dashboardInitializing') this._updateController.addAction('loadDashboard');\n        break;\n\n      case 'workingMode':\n        if (this._updateController.getControlState() === 'controlInitializing') {\n          this.isDesignMode(args.value === 'Designer');\n        } else {\n          if (args.value === 'Designer') {\n            this._switchToDesigner();\n          } else {\n            this._switchToViewer();\n          }\n        }\n\n        break;\n\n      case 'initialDashboardState':\n        break;\n\n      case 'useNeutralFilterMode':\n        this._updateController.addAction('reinitializeDashboard');\n\n        break;\n\n      case 'useCardLegacyLayout':\n        break;\n\n      case 'resizeByTimer':\n        this.resizeByTimer(args.value);\n        break;\n\n      case 'endpoint':\n        break;\n\n      case 'dataRequestOptions':\n        this._updateController.addAction('reinitializeDashboard');\n\n        break;\n\n      case 'encodeHtml':\n        this._updateController.addAction('reinitializeDashboard');\n\n        break;\n\n      case 'ajaxRemoteService':\n        if (this.remoteService && this.remoteService instanceof remote_service_1.AjaxRemoteService) {\n          this.remoteService._applyOptions(this.option('ajaxRemoteService'));\n        }\n\n        break;\n\n      case 'limitVisibleDataMode':\n        this._updateController.addAction('reinitializeDashboard');\n\n        break;\n\n      case 'onInitializing':\n      case 'onOptionChanged':\n        break;\n\n      case 'allowMaximizeItems':\n        if (this._actualLayoutController()) {\n          this._actualLayoutController().allowMaximizeItems = args.value;\n        }\n\n        this._updateController.addAction('updateItemToolbars');\n\n        break;\n\n      case 'extensions':\n        if (this._updateController.getControlState() !== 'controlInitializing') {\n          this._processExtensionsOption(args);\n        }\n\n        break;\n\n      case 'onDashboardInitializing':\n      case 'onDashboardInitialized':\n      case 'onDashboardStateChanged':\n      case 'onItemBeginUpdate':\n      case 'onItemEndUpdate':\n      case 'onDashboardBeginUpdate':\n      case 'onDashboardEndUpdate':\n      case 'showConfirmationOnBrowserClosing':\n      case 'loadDefaultDashboard':\n        break;\n    }\n\n    this._updateController.commitUpdate();\n  };\n\n  DashboardControl.prototype._processExtensionsOption = function (args) {\n    var _a;\n\n    if (args.name === args.fullName && args.value === false) {\n      this._unregisterExtensionCore.apply(this, this._extensions().map(function (extension) {\n        return extension.name;\n      }));\n\n      return;\n    }\n\n    if (args.name === args.fullName && typeof args.value === 'object') {\n      this._processExtensionsOptions(args.value);\n\n      return;\n    } else {\n      var parts = args.fullName.split(/(?:\\[|\\]|\\.)/).filter(function (item) {\n        return !!item.length;\n      });\n      var extensionName = parts[1];\n      var extensionOptionParts = parts.slice(2);\n\n      this._processExtensionsOptions((_a = {}, _a[extensionName] = this._createExtensionOption(extensionOptionParts, args.value), _a));\n    }\n  };\n\n  DashboardControl.prototype._createExtensionOption = function (parts, value) {\n    var _a;\n\n    if (parts.length === 0) return value;\n    return parts.slice(0, parts.length - 1).reverse().reduce(function (acc, cur) {\n      var _a;\n\n      return _a = {}, _a[cur] = acc, _a;\n    }, (_a = {}, _a[parts[parts.length - 1]] = value, _a));\n  };\n\n  DashboardControl.prototype._processExtensionsOptions = function (extensionsOptions) {\n    var _this = this;\n\n    Object.keys(extensionsOptions).forEach(function (key) {\n      var extensionName = key;\n      var extensionOptions = extensionsOptions[extensionName];\n\n      if (extensionOptions === false) {\n        _this._unregisterExtensionCore(extensionName);\n      } else if (typeof extensionOptions === 'object') {\n        var extension = _this.findExtension(extensionName);\n\n        if (!extension) {\n          var extensionsFactory = __assign(__assign({}, control_options_1.defaultExtensions), control_options_1.designerExtensions);\n\n          var extensionCreator = extensionsFactory[_this._getCebabCaseExtensionName(extensionName)];\n\n          _utils_1.type.isFunction(extensionCreator) && _this.registerExtension(extensionCreator(_this, extensionOptions));\n        } else {\n          var optionsManager = extension && extension._optionsManager;\n\n          if (optionsManager) {\n            Object.keys(extensionOptions).forEach(function (optionName) {\n              var extensionArgs = {\n                name: optionName,\n                fullName: optionName,\n                value: extensionOptions[optionName]\n              };\n              var extensionAction = optionsManager.optionChanged(extensionArgs);\n              if (extensionAction) _this._updateController.addAction(extensionAction);\n            });\n          }\n        }\n      }\n    });\n  };\n\n  DashboardControl.prototype._updateLayout = function () {\n    var binders = this._layoutInfoProviderCollection;\n    var binder = binders.filter(function (b) {\n      return b.condition();\n    })[0];\n\n    if (binder && (!this._layoutInfo() || binder.name !== this._layoutInfo().template.name)) {\n      this._layoutInfo({\n        template: {\n          name: binder.name,\n          data: binder.getViewModel()\n        },\n        layoutController: binder.getLayoutController()\n      });\n    }\n  };\n\n  Object.defineProperty(DashboardControl.prototype, \"_colorSchemeCss\", {\n    get: function () {\n      return _dx_devextreme_themes_integration_1.getBaseColorScheme() === 'light' ? 'dx-color-scheme-light' : 'dx-color-scheme-dark';\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  DashboardControl.prototype.repaint = function () {\n    this._repaintRequest.fire();\n  };\n\n  DashboardControl.prototype.render = function () {\n    resource_manager_1.ResourceManager._embedBundledResourcesCore(this._element);\n\n    this._raiseEvent('beforeRender', {\n      component: this\n    });\n\n    var openComment = document.createComment(\" ko template: { name: 'dx-dashboard-control' } \"),\n        closingComment = document.createComment(' /ko ');\n\n    this._element.appendChild(openComment);\n\n    this._element.appendChild(closingComment);\n\n    this._applyBindings(this._element);\n  };\n\n  DashboardControl.prototype.maximizeDashboardItem = function (itemName) {\n    if (this.dashboard()) {\n      var dashboardItem = this.dashboard().findItem(itemName);\n\n      if (dashboardItem) {\n        var fullscreenItemProvider = this._getFullscreenItemProvider();\n\n        if (fullscreenItemProvider) {\n          fullscreenItemProvider.maximizeItem(dashboardItem);\n        }\n      } else {\n        throw Error(\"The item with the '\" + itemName + \"' name does not exist\");\n      }\n    }\n  };\n\n  DashboardControl.prototype.restoreDashboardItem = function () {\n    var fullscreenItemProvider = this._getFullscreenItemProvider();\n\n    fullscreenItemProvider && fullscreenItemProvider.restoreDownItem();\n  };\n\n  DashboardControl.prototype.initializeDashboard = function (id, dashboardJson, initialState) {\n    var _this = this;\n\n    this._updateController.switchControlState('dashboardInitializing');\n\n    if (this.option('dashboardId') !== id) {\n      this.option('dashboardId', id);\n    }\n\n    this._unloadDashboardServices();\n\n    var dashboard = new dashboard_1.Dashboard(dashboardJson);\n\n    if (initialState) {\n      dashboard._state(initialState);\n    }\n\n    var e = {\n      component: this,\n      dashboard: dashboard,\n      dashboardId: id,\n      ready: _jquery_helpers_1.createJQueryDeferred().resolve().promise()\n    };\n\n    this._raiseEvent('dashboardInitializing', e);\n\n    e.ready.done(function () {\n      dashboard.items().forEach(function (item) {\n        return item._useNeutralFilterMode(_this.option('useNeutralFilterMode'));\n      });\n\n      _this._perDashboardDisposables.push(_knockout_utils_1.subscribeArrayChange(dashboard.items, {\n        added: function (newItem) {\n          return newItem._useNeutralFilterMode(_this.option('useNeutralFilterMode'));\n        }\n      }));\n\n      var dashboardContainer = {\n        id: id,\n        dashboard: dashboard\n      };\n\n      _this._initializeServiceClient(dashboardContainer);\n\n      _this._dataSourceBrowser = new _data_source_browser_1.DataSourceBrowser(dashboard.dataSources, _this.isDesignMode, dashboard.parameters, _this._serviceClient, _this._isLoading);\n      _this._dashboardContext.viewerItemsManager = new _item_viewer_adapter_factory_1.ViewerItemAdaptersManager();\n\n      _this._perDashboardDisposables.push(_this._dashboardContext.viewerItemsManager);\n\n      _this._updateHubPrivate = new _dashboard_update_hub_1.DashboardUpdateHub(dashboard, _this.option('dataRequestOptions'), {\n        getItemData: function (item) {\n          return _this._serviceClient().getItemData(item, isModeAllowsToReduceData());\n        },\n        getBatchItemData: function (items) {\n          return _this._serviceClient().getBatchItemData(items, isModeAllowsToReduceData());\n        },\n        getMapShapeFile: function (item) {\n          return _this._serviceClient().getMapShapeFile(item.componentName());\n        }\n      }, function () {\n        return _this._actualLayoutController() && _this._actualLayoutController().visibleItemsProvider || null;\n      });\n\n      _this._updateHubPrivate.dashboardBeginUpdate = function () {\n        return _this._raiseEvent('dashboardBeginUpdate', {\n          component: _this,\n          dashboardId: _this.dashboardContainer().id\n        });\n      };\n\n      _this._updateHubPrivate.dashboardEndUpdate = function () {\n        return _this._raiseEvent('dashboardEndUpdate', {\n          component: _this,\n          dashboardId: _this.dashboardContainer().id\n        });\n      };\n\n      _this._updateHubPrivate.itemBeginUpdate = function (itemName) {\n        return _this._raiseEvent('itemBeginUpdate', {\n          component: _this,\n          dashboardId: _this.dashboardContainer().id,\n          itemName: itemName\n        });\n      };\n\n      _this._updateHubPrivate.itemEndUpdate = function (itemName) {\n        return _this._raiseEvent('itemEndUpdate', {\n          component: _this,\n          dashboardId: _this.dashboardContainer().id,\n          itemName: itemName\n        });\n      };\n\n      _this.dashboardContainer(dashboardContainer);\n\n      _this.notificationController.reset();\n\n      _this._updateController.switchControlState('dashboardInitialized');\n\n      _this._raiseEvent('dashboardInitialized', {\n        component: _this,\n        dashboardId: id,\n        dashboard: dashboard\n      });\n\n      _this._raiseEvent('dashboardStateChanged', {\n        component: _this,\n        dashboard: dashboard,\n        dashboardId: id,\n        stateString: dashboard.stateString\n      });\n\n      var isModeAllowsToReduceData = function () {\n        var limitMode = _this.option('limitVisibleDataMode');\n\n        return limitMode === 'DesignerAndViewer' || _this.isDesignMode() && limitMode === 'Designer';\n      };\n\n      _this._updateHubPrivate.initialize();\n\n      _this._perDashboardDisposables.push(_this.dashboard()._state.subscribe(function (_) {\n        _this._raiseEvent('dashboardStateChanged', {\n          component: _this,\n          dashboard: _this.dashboard(),\n          dashboardId: _this.dashboardContainer().id,\n          stateString: dashboard.stateString\n        });\n      }));\n    }).fail(function () {\n      _this.notificationController.reset();\n    });\n  };\n\n  DashboardControl.prototype.requestDashboardList = function () {\n    var _this = this;\n\n    var urls = this._endpointCollection.dashboardUrls;\n\n    if (urls) {\n      return this.remoteService.getFromServer(urls.GetDashboardsAction, null, {\n        cache: false\n      }).fail(function () {\n        _this.notificationController.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadDashboards'));\n      });\n    }\n\n    return _jquery_helpers_1.createJQueryDeferred().reject().promise();\n  };\n\n  DashboardControl.prototype.loadDashboard = function (dashboardId) {\n    var def = _jquery_helpers_1.createJQueryDeferred();\n\n    if (this._dashboardLoadingDeferred) {\n      this._dashboardLoadingDeferred.reject();\n    }\n\n    this._dashboardLoadingDeferred = def;\n\n    if (this.option('dashboardId') === dashboardId) {\n      this._loadDashboardCore(dashboardId);\n    } else {\n      this.option('dashboardId', dashboardId);\n    }\n\n    return def.promise();\n  };\n\n  DashboardControl.prototype._loadDashboardCore = function (dashboardId) {\n    var _this = this;\n\n    var urls = this._endpointCollection && this._endpointCollection.dashboardUrls || null;\n\n    if (urls) {\n      var prevDashboardState_1 = this._updateController.getControlState();\n\n      this._updateController.switchControlState('dashboardLoading');\n\n      this.notificationController.showState(_default_1.getLocalizationById('DashboardWebStringId.Notification.DashboardLoading'));\n      return this.remoteService.getFromServer(urls.DashboardAction + '/' + encodeURIComponent(dashboardId), null, {\n        cache: false\n      }).done(function (result) {\n        _this._updateController.switchControlState('dashboardLoaded');\n\n        if (_this.option('dashboardId') === dashboardId) {\n          _this.initializeDashboard(dashboardId, result.Dashboard, result.initialState);\n\n          _this._dashboardLoadingDeferred && _this._dashboardLoadingDeferred.resolve();\n        }\n      }).fail(function (val) {\n        _this._updateController.switchControlState(prevDashboardState_1);\n\n        _this._dashboardLoadingDeferred && _this._dashboardLoadingDeferred.reject();\n\n        _this.notificationController.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadDashboard') + dashboardId, val);\n      });\n    }\n\n    return _jquery_helpers_1.createJQueryDeferred().reject().promise();\n  };\n\n  DashboardControl.prototype.unloadDashboard = function () {\n    this.option('dashboardId', null);\n  };\n\n  DashboardControl.prototype._unloadDashboardCore = function () {\n    this._unloadDashboardServices();\n\n    this.dashboardContainer(null);\n  };\n\n  DashboardControl.prototype.switchToViewer = function () {\n    this.option('workingMode', 'Viewer');\n  };\n\n  DashboardControl.prototype._switchToViewer = function () {\n    var _this = this;\n\n    var actions = this.extensions.filter(function (extension) {\n      return !!extension.designerToViewerAction;\n    }).map(function (extension) {\n      return _helpers_1.toCancelableSequenceAction(extension.designerToViewerAction);\n    }).sort(function (a, b) {\n      return a.orderNo - b.orderNo;\n    });\n\n    var groups = _utils_1.groupByProperty(actions, 'orderNo');\n\n    this._workingModeChangeDeferred.reject();\n\n    this._workingModeChangeDeferred = _jquery_helpers_1.createJQueryDeferred();\n    return DashboardControl._recursiveAsyncEval(groups, new _helpers_1.CancellationToken(this._workingModeChangeDeferred), {\n      surfaceLeft: this._surfaceLeft(),\n      surfaceTop: this._surfaceTop()\n    }).then(function (options) {\n      _this.surfaceLeft(options.surfaceLeft);\n\n      _this.surfaceTop(options.surfaceTop);\n\n      _this.isDesignMode(false);\n\n      _this._workingModeChangeDeferred.resolve();\n    }, function () {\n      return _this.switchToDesigner();\n    });\n  };\n\n  DashboardControl.prototype.switchToDesigner = function () {\n    this.option('workingMode', 'Designer');\n  };\n\n  DashboardControl.prototype._switchToDesigner = function () {\n    var _this = this;\n\n    this._validateWorkingMode();\n\n    var actions = this.extensions.filter(function (extension) {\n      return !!extension.viewerToDesignerAction;\n    }).map(function (extension) {\n      return _helpers_1.toCancelableSequenceAction(extension.viewerToDesignerAction);\n    }).sort(function (a, b) {\n      return a.orderNo - b.orderNo;\n    });\n\n    var groups = _utils_1.groupByProperty(actions, 'orderNo');\n\n    this._workingModeChangeDeferred.reject();\n\n    this._workingModeChangeDeferred = _jquery_helpers_1.createJQueryDeferred();\n    return DashboardControl._recursiveAsyncEval(groups, new _helpers_1.CancellationToken(this._workingModeChangeDeferred), {\n      surfaceLeft: this._surfaceLeft(),\n      surfaceTop: this._surfaceTop()\n    }).then(function (options) {\n      _this.surfaceLeft(options.surfaceLeft);\n\n      _this.surfaceTop(options.surfaceTop);\n\n      _this.isDesignMode(true);\n\n      _this._workingModeChangeDeferred.resolve();\n    }, function () {\n      return _this.switchToViewer();\n    });\n  };\n\n  DashboardControl.prototype.reloadData = function () {\n    var _this = this;\n\n    if (this.dashboard()) {\n      this._serviceClient().markDataSourcesForReload().done(function (result) {\n        _this.refresh();\n      });\n    }\n  };\n\n  DashboardControl.prototype.refresh = function (args) {\n    if (this.dashboard()) {\n      var itemNames = [];\n\n      if (!args) {\n        itemNames = this.dashboard()._dataDashboardItems().map(function (item) {\n          return item.componentName();\n        });\n      } else if (typeof args === 'string') {\n        itemNames = [args];\n      } else if (Array.isArray(itemNames)) {\n        itemNames = args;\n      } else {\n        throw Error('Invalid arguments');\n      }\n\n      this._updateHubPrivate.refreshItems(itemNames);\n    }\n  };\n\n  DashboardControl.prototype.getDashboardState = function () {\n    var dashboard = this.dashboard();\n    if (dashboard) return dashboard.stateString;\n    return null;\n  };\n\n  DashboardControl.prototype.setDashboardState = function (dashboardState) {\n    var dashboard = this.dashboard();\n\n    if (dashboard) {\n      if (typeof dashboardState === 'string') {\n        dashboard.stateString = dashboardState;\n      } else {\n        dashboard._state(dashboardState);\n      }\n    }\n  };\n\n  DashboardControl.prototype.getDashboardId = function () {\n    var dashboardContainer = this.dashboardContainer();\n    if (dashboardContainer) return dashboardContainer.id;\n    return null;\n  };\n\n  DashboardControl.prototype.registerIcon = function (icon) {\n    resource_manager_1.ResourceManager.registerIcon(icon);\n  };\n\n  DashboardControl.prototype.registerExtension = function () {\n    var _this = this;\n\n    var extensions = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      extensions[_i] = arguments[_i];\n    }\n\n    extensions.forEach(function (extension) {\n      if (_this._canAddExtension(extension)) _this._registerExtensionCore(extension);\n    });\n  };\n\n  DashboardControl.prototype._registerExtensionCore = function (extension) {\n    var optionsManager = extension._optionsManager;\n\n    if (optionsManager) {\n      if (typeof this._controlOptions.extensions !== 'object') {\n        this._controlOptions.extensions = {};\n      }\n\n      this._controlOptions.extensions[control_options_1.extensionNameMap[extension.name]] = optionsManager.getInitialOptions();\n      this._defaultControlOptions.extensions[control_options_1.extensionNameMap[extension.name]] = optionsManager.getDefaultOptions();\n    } else {\n      this._controlOptions.extensions = this._controlOptions.extensions || {};\n      this._controlOptions.extensions[extension.name] = {};\n    }\n\n    this._addExtension(extension);\n\n    this._startExtension(extension);\n  };\n\n  DashboardControl.prototype.findExtension = function (extensionName) {\n    var cebabName = this._getCebabCaseExtensionName(extensionName);\n\n    return this._extensions().filter(function (ext) {\n      return ext.name === cebabName;\n    })[0];\n  };\n\n  DashboardControl.prototype.unregisterExtension = function () {\n    var _this = this;\n\n    var extensionNames = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      extensionNames[_i] = arguments[_i];\n    }\n\n    extensionNames.forEach(function (name) {\n      var camelName = _this._getCamelCaseExtensionName(name);\n\n      _this.option(\"extensions.\" + camelName, false);\n\n      _this._defaultControlOptions.extensions[camelName] = false;\n    });\n  };\n\n  DashboardControl.prototype._unregisterExtensionCore = function () {\n    var _this = this;\n\n    var extensionNames = [];\n\n    for (var _i = 0; _i < arguments.length; _i++) {\n      extensionNames[_i] = arguments[_i];\n    }\n\n    extensionNames.forEach(function (extensionName) {\n      var extension = _this.findExtension(extensionName);\n\n      if (!!extension) {\n        var customItemExtension = extension;\n\n        if (customItemExtension.createViewerItem) {\n          _this._dashboardContext.viewerItemCreator[extension.name] = undefined;\n        }\n\n        if (customItemExtension.metaData) {\n          delete serializable_model_1.itemTypesMap[extension.name];\n        }\n\n        extension.stop && extension.stop();\n\n        _this._extensions.remove(extension);\n      }\n    });\n  };\n\n  DashboardControl.prototype.subscribeExtensionsChanged = function (handlers) {\n    return _knockout_utils_1.subscribeArrayChange(this._extensions, handlers);\n  };\n\n  DashboardControl.prototype.dispose = function () {\n    this._unloadDashboardCore();\n\n    this._viewerApi.stop();\n\n    this._dockingLayoutAdapter.dispose();\n\n    $(document).off('.dx-dshd');\n    ko.cleanNode(this._element);\n    this._element.innerHTML = '';\n\n    resource_manager_1.ResourceManager._removeEmbeddedResourcesCore(this._element);\n  };\n\n  DashboardControl.prototype._renderDashboardItem = function (element, dashboardItemName, isStandalone) {\n    var _this = this;\n\n    if (isStandalone === void 0) {\n      isStandalone = true;\n    }\n\n    var openComment = document.createComment(\" ko template: { name: 'dx-dashboard-standalone-item' } \"),\n        closingComment = document.createComment(' /ko ');\n    element.appendChild(openComment);\n    element.appendChild(closingComment);\n    var dashboardItem = ko.computed(function () {\n      return _this.dashboard() && _this.dashboard().items().filter(function (i) {\n        return i.componentName.peek() === dashboardItemName;\n      })[0];\n    });\n\n    this._applyBindings(element, {\n      dashboardItem: dashboardItem,\n      context: this._dashboardContext,\n      sizeController: new _interfaces_1.SingleItemSizeController(element, this._repaintRequest),\n      isStandalone: isStandalone\n    });\n  };\n\n  DashboardControl.prototype._getFullscreenItemProvider = function () {\n    return this._actualLayoutController() && this._actualLayoutController().fullscreenItemProvider;\n  };\n\n  DashboardControl.prototype._registerKeyProcessing = function () {\n    var _this = this;\n\n    _staticInitialize();\n\n    var _ignoreKeyProcessing = function () {\n      if (!_this.isDesignMode() || !_this._actualLayoutController()) {\n        return true;\n      }\n\n      var activeElement = $(document.activeElement);\n\n      if (activeElement.is('textarea') || activeElement.is(':input') && ['password', 'text', 'number'].indexOf(activeElement.attr('type')) != -1) {\n        return true;\n      }\n\n      return false;\n    };\n\n    $(document).on('keyup.dx-dshd', function (e) {\n      if (_ignoreKeyProcessing()) {\n        return;\n      }\n\n      if (_this._dockingLayoutAdapter.processKeyEvent && _this._dockingLayoutAdapter.processKeyEvent('keyup', e)) {\n        return false;\n      }\n\n      var i;\n\n      for (i = 0; i < _this._extensions().length; i++) {\n        var extension = _this._extensions()[i];\n\n        if (extension.processKeyEvent && extension.processKeyEvent('keyup', e)) {\n          return false;\n        }\n      }\n    });\n    $(document).on('keydown.dx-dshd', function (e) {\n      if (_ignoreKeyProcessing()) {\n        return;\n      }\n\n      var i;\n\n      for (i = 0; i < _this._extensions().length; i++) {\n        var extension = _this._extensions()[i];\n\n        if (extension.processKeyEvent && extension.processKeyEvent('keydown', e)) {\n          return false;\n        }\n      }\n    });\n  };\n\n  DashboardControl.prototype._registerDefaultExtensions = function (extensions, extensionOptions) {\n    var _this = this;\n\n    if (extensionOptions === void 0) {\n      extensionOptions = {};\n    }\n\n    if (extensionOptions !== false) {\n      for (var extensionName in extensions) {\n        var camelName = this._getCamelCaseExtensionName(extensionName);\n\n        var options = extensionOptions[camelName];\n\n        if (options !== false) {\n          if (!!options && typeof options !== 'object') {\n            throw Error('Extension options ');\n          }\n\n          var extension = extensions[extensionName](this, options);\n          this._canAddExtension(extension) && this._addExtension(extension);\n          var optionsManager = extension._optionsManager;\n          this._controlOptions.extensions[camelName] = _jquery_helpers_1.deepExtend({}, optionsManager && optionsManager.getInitialOptions(), options);\n          this._defaultControlOptions.extensions[camelName] = optionsManager && optionsManager.getDefaultOptions();\n        }\n      }\n\n      if (typeof extensionOptions === 'object') {\n        for (var extensionName in extensionOptions) {\n          var camelName = this._getCamelCaseExtensionName(extensionName);\n\n          var options = extensionOptions[camelName];\n\n          if (typeof options === 'function') {\n            var extensionCreator = options;\n            var extension = extensionCreator(this);\n            this._canAddExtension(extension) && this._addExtension(extension);\n            var optionsManager = extension._optionsManager;\n            this._controlOptions.extensions[camelName] = optionsManager && optionsManager.getInitialOptions();\n            this._defaultControlOptions.extensions[camelName] = optionsManager && optionsManager.getDefaultOptions();\n          }\n        }\n      }\n    }\n\n    this.extensions.forEach(function (extension) {\n      return _this._startExtension(extension);\n    });\n  };\n\n  DashboardControl.prototype._unrollEndpointCollection = function (options) {\n    if (options['endpointCollection']) {\n      return options['endpointCollection'];\n    } else if (options.endpoint) {\n      return {\n        dashboardUrls: {\n          DashboardAction: options.endpoint + '/dashboards',\n          GetDashboardsAction: options.endpoint + '/dashboards'\n        },\n        dataSourceUrls: {\n          GetDataSourcesAction: options.endpoint + '/dataSources'\n        },\n        dataSourceWizardUrls: {\n          DataSourceWizardAction: options.endpoint + '/data/DataSourceWizardAction',\n          GetConnectionStringsAction: options.endpoint + '/data/GetConnectionStringsAction'\n        },\n        dataServiceUrls: {\n          ConvertItemAction: options.endpoint + '/data/ConvertItemAction',\n          DashboardItemGetAction: options.endpoint + '/data/DashboardItemGetAction',\n          DimensionFilterItemsAction: options.endpoint + '/data/DimensionFilterItemsAction',\n          DimensionFilterStringAction: options.endpoint + '/data/DimensionFilterStringAction',\n          DimensionUniqueValuesAction: options.endpoint + '/data/DimensionUniqueValuesAction',\n          FieldListAction: options.endpoint + '/data/FieldListAction',\n          GetColoringSchemeAction: options.endpoint + '/data/GetColoringSchemeAction',\n          GetDashboardPaletteAction: options.endpoint + '/data/GetDashboardPaletteAction',\n          GetMapShapeFileAction: options.endpoint + '/data/GetMapShapeFileAction',\n          GetUnderlyingDataAction: options.endpoint + '/data/GetUnderlyingDataAction',\n          MarkDataSourcesForReloadAction: options.endpoint + '/data/MarkDataSourcesForReloadAction',\n          ParameterValuesAction: options.endpoint + '/data/ParameterValuesAction',\n          PerformExportAction: options.endpoint + '/data/PerformExportAction',\n          DashboardItemBatchGetAction: options.endpoint + '/data/DashboardItemBatchGetAction'\n        }\n      };\n    } else {\n      return {};\n    }\n  };\n\n  DashboardControl.prototype._loadInitialDashboard = function () {\n    var _this = this;\n\n    if (!!this.option('dashboardId')) {\n      return this._loadDashboardCore(this.option('dashboardId'));\n    } else if (!!this.option('initialDashboardId')) {\n      return this.loadDashboard(this.option('initialDashboardId'));\n    } else if (!!this.option('loadDefaultDashboard')) {\n      var res = _jquery_helpers_1.createJQueryDeferred();\n\n      this.requestDashboardList().done(function (items) {\n        if (items[0]) {\n          _this.loadDashboard(items[0].id).done(function () {\n            return res.resolve();\n          }).fail(function () {\n            return res.reject();\n          });\n        } else {\n          res.reject();\n        }\n      }).fail(function () {\n        res.reject();\n      });\n      return res.promise();\n    } else {\n      return _jquery_helpers_1.createJQueryDeferred().resolve().promise();\n    }\n  };\n\n  DashboardControl.prototype._initializeServiceClient = function (dashboardContainer) {\n    var serviceClient = this.isDesignMode() ? !this._validateWorkingMode() && new _service_client_1.DesignerDataServiceClient(dashboardContainer, this.notificationController, this._endpointCollection.dataServiceUrls, this.remoteService) || null : new _service_client_1.ViewerDataServiceClient(dashboardContainer, this.notificationController, this._endpointCollection.dataServiceUrls, this.remoteService);\n\n    this._serviceClient(serviceClient);\n  };\n\n  DashboardControl.prototype._validateWorkingMode = function () {\n    if (!this.allowSwitchToDesigner) {\n      throw Error('Cannot switch to Designer from the ViewerOnly mode.');\n    }\n\n    return false;\n  };\n\n  DashboardControl.prototype._canAddExtension = function (extension) {\n    if (!!this.findExtension(extension.name)) {\n      console.error(\"The extension with the '\" + extension.name + \"' name is already registered.\");\n      return false;\n    }\n\n    return true;\n  };\n\n  DashboardControl.prototype._addExtension = function (extension) {\n    this._extensions.push(extension);\n\n    var customItemExtension = extension;\n\n    if (customItemExtension.createViewerItem) {\n      this._dashboardContext.viewerItemCreator[extension.name] = customItemExtension.createViewerItem;\n    }\n\n    if (customItemExtension.metaData) {\n      serializable_model_1.itemTypesMap[extension.name] = _jquery_helpers_1.deepExtend({\n        type: custom_item_1.CustomItem,\n        customItemType: extension.name\n      }, customItemExtension.metaData);\n    }\n  };\n\n  DashboardControl.prototype._startExtension = function (extension) {\n    extension.start && extension.start();\n  };\n\n  DashboardControl.prototype._unloadDashboardServices = function () {\n    var dashboard = this.dashboard();\n\n    if (dashboard) {\n      dashboard.dispose();\n\n      if (this._updateHubPrivate) {\n        this._updateHubPrivate.dispose();\n\n        this._updateHubPrivate = null;\n      }\n\n      if (this._dataSourceBrowser) {\n        this._dataSourceBrowser.dispose();\n\n        this._dataSourceBrowser = null;\n      }\n    }\n\n    this._perDashboardDisposables.forEach(function (d) {\n      return d.dispose();\n    });\n\n    this._perDashboardDisposables.splice(0, this._perDashboardDisposables.length);\n  };\n\n  DashboardControl.prototype._applyBindings = function (element, additionalProperties) {\n    var _this = this;\n\n    var viewModel = __assign({\n      getWidgetContainer: this.getWidgetContainer,\n      surfaceLeft: this._surfaceLeft,\n      surfaceTop: this._surfaceTop,\n      colorSchemeCss: this._colorSchemeCss,\n      isDashboardLoaded: ko.computed(function () {\n        return !!_this.dashboard();\n      }),\n      layoutTemplate: _knockout_utils_1.safeComputed({\n        info: this._layoutInfo\n      }, function (_a) {\n        var info = _a.info;\n        return info.template;\n      }),\n      externalTemplates: this._externalTemplates,\n      emptyControlTemplates: this._emptyControlTemplates,\n      notificationController: this.notificationController,\n      isLoading: this._isLoading,\n      getLocalizationById: _default_1.getLocalizationById,\n      extend: _jquery_helpers_1.extend,\n      $unwrap: _jquery_helpers_1.$unwrap,\n      $: $,\n      ko: ko\n    }, additionalProperties);\n\n    analytics_internal_1.appendStaticContextToRootViewModel(viewModel);\n    ko.applyBindings(viewModel, element);\n  };\n\n  return DashboardControl;\n}();\n\nexports.DashboardControl = DashboardControl;\nko.bindingHandlers['element-height-change-provider'] = {\n  init: function (el, valueAccessor, allbindings, viewmodel, bindingcontext) {\n    var data = ko.unwrap(valueAccessor());\n\n    var recalculate = function () {\n      setTimeout(function () {\n        data.height(_jquery_helpers_1.getHeight(el));\n      }, 0);\n    };\n\n    data.model.subscribe(function () {\n      recalculate();\n    });\n    recalculate();\n  }\n};\nko.bindingHandlers['xlinkHref'] = {\n  update: function (element, valueAccessor, allBindingsAccessor, viewModel) {\n    element.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + valueAccessor());\n  }\n};\nko.bindingHandlers['dxAttach2Model'] = {\n  init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n    var attachmentName = ko.unwrap(valueAccessor());\n\n    if (['getLookupDefaultValuesSelectBoxOptions', 'getLookupDefaultValueSelectBoxOptions', 'dataSourceBrowser'].indexOf(attachmentName) === -1) {\n      throw 'non supported';\n    }\n\n    var findAttachment = function (name) {\n      var context = bindingContext.$parents.filter(function (item) {\n        return item[name] !== undefined;\n      })[0];\n\n      if (context) {\n        return context[name];\n      }\n\n      return null;\n    },\n        attachment = findAttachment(attachmentName);\n\n    if (attachment) {\n      viewModel[attachmentName] = attachment;\n    }\n  }\n};\n\nfunction _staticInitialize() {\n  popup_1.default.defaultOptions({\n    options: {\n      onInitialized: function (e) {\n        var popup = e.component;\n        popup.registerKeyHandler('escape', function (e) {\n          e.originalEvent.stopPropagation();\n          popup.hide();\n        });\n      }\n    }\n  });\n}\n\nfunction _defineDashboardControlObsoleteMethods(control) {\n  _obsolete_helper_1.defineObsoleteProperty({\n    target: control,\n    memberName: 'toolbox',\n    oldMemberDisplayName: 'DashboardControl.toolbox',\n    newMemberDisplayName: 'ToolboxExtension.toolboxGroups',\n    action: function () {\n      var toolboxExtension = control.findExtension('toolbox');\n\n      if (toolboxExtension) {\n        return toolboxExtension.toolboxGroups;\n      } else {\n        console.error('The ToolboxExtension could not be found.');\n      }\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteProperty({\n    target: control,\n    memberName: 'toolbarItems',\n    oldMemberDisplayName: 'DashboardControl.toolbarItems',\n    newMemberDisplayName: 'ToolboxExtension.toolbarGroups',\n    action: function () {\n      var toolboxExtension = control.findExtension('toolbox');\n\n      if (toolboxExtension) {\n        return toolboxExtension.toolbarGroups;\n      } else {\n        console.error('The ToolboxExtension could not be found.');\n      }\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteProperty({\n    target: control,\n    memberName: 'menuItems',\n    oldMemberDisplayName: 'DashboardControl.menuItems',\n    newMemberDisplayName: 'ToolboxExtension.menuItems',\n    action: function () {\n      var toolboxExtension = control.findExtension('toolbox');\n\n      if (toolboxExtension) {\n        return toolboxExtension.menuItems;\n      } else {\n        console.error('The ToolboxExtension could not be found.');\n      }\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteProperty({\n    target: control,\n    memberName: 'menuVisible',\n    oldMemberDisplayName: 'DashboardControl.menuVisible',\n    newMemberDisplayName: 'ToolboxExtension.menuVisible',\n    action: function () {\n      var toolboxExtension = control.findExtension('toolbox');\n\n      if (toolboxExtension) {\n        return toolboxExtension.menuVisible;\n      } else {\n        console.error('The toolboxExtension could not be found.');\n      }\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteProperty({\n    target: control,\n    memberName: 'selectMenuItem',\n    oldMemberDisplayName: 'DashboardControl.selectMenuItem',\n    newMemberDisplayName: 'ToolboxExtension.selectMenuItem',\n    action: function () {\n      var toolboxExtension = control.findExtension('toolbox');\n\n      if (toolboxExtension) {\n        return toolboxExtension.selectMenuItem;\n      } else {\n        console.error('The toolboxExtension could not be found.');\n      }\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteProperty({\n    target: control,\n    memberName: 'undoEngine',\n    oldMemberDisplayName: 'DashboardControl.undoEngine',\n    newMemberDisplayName: 'UndoRedoExtension.undoEngine',\n    action: function () {\n      var undoEngineExtension = control.findExtension('undo-redo');\n\n      if (undoEngineExtension) {\n        return undoEngineExtension.undoEngine;\n      } else {\n        console.error('The UndoRedoExtension could not be found.');\n      }\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteProperty({\n    target: control,\n    memberName: 'colorSchemeCss',\n    warmMessage: 'The DashboardControl.colorSchemeCss is obsolete. Use the DevExpress.ui.themes.current method instead.',\n    action: function () {\n      return control._colorSchemeCss;\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteMethod({\n    target: control,\n    memberName: 'saveDashboard',\n    oldMemberDisplayName: 'DashboardControl.saveDashboard',\n    newMemberDisplayName: 'SaveDashboardExtension.saveDashboard',\n    action: function () {\n      var saveDashboardExtension = control.findExtension('save-dashboard');\n\n      if (saveDashboardExtension) {\n        return saveDashboardExtension.saveDashboard();\n      } else {\n        console.error('The SaveDashboardExtension could not be found.');\n      }\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteMethod({\n    target: control,\n    memberName: 'ensureDashboardSaved',\n    oldMemberDisplayName: 'DashboardControl.ensureDashboardSaved',\n    newMemberDisplayName: 'SaveDashboardExtension.ensureDashboardSaved',\n    action: function (action) {\n      var saveDashboardExtension = control.findExtension('save-dashboard');\n\n      if (saveDashboardExtension) {\n        return saveDashboardExtension.ensureDashboardSaved(action);\n      } else {\n        console.error('The SaveDashboardExtension could not be found.');\n      }\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteMethod({\n    target: control,\n    memberName: 'clearDesigner',\n    oldMemberDisplayName: 'DashboardControl.clearDesigner',\n    newMemberDisplayName: 'DashboardControl.unloadDashboard',\n    action: function () {\n      return control.unloadDashboard();\n    }\n  });\n\n  _obsolete_helper_1.defineObsoleteMethod({\n    target: control,\n    memberName: 'close',\n    oldMemberDisplayName: 'DashboardControl.close',\n    newMemberDisplayName: 'DashboardControl.unloadDashboard',\n    action: function () {\n      return control.unloadDashboard();\n    }\n  });\n}","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/common/dashboard-control.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","defineProperty","exports","value","DashboardControl","analytics_internal_1","require","events_strategy_1","options_1","popup_1","$","ko","_default_1","_jquery_helpers_1","_utils_1","dashboard_1","_knockout_utils_1","_obsolete_helper_1","custom_item_1","serializable_model_1","legacy_settings_1","_dx_devextreme_themes_integration_1","control_options_1","_dashboard_update_hub_1","_docking_layout_adapter_1","_interfaces_1","_options_manager_1","_update_controller_1","notificator_1","remote_service_1","resource_manager_1","_item_viewer_adapter_factory_1","_viewer_api_1","_data_source_browser_1","_helpers_1","_service_client_1","element","options","_this","_repaintRequest","createJQueryCallbacks","_extensions","observableArray","_serviceClient","observable","_displayAllData","_isLoading","_perDashboardDisposables","_layoutInfo","_layoutInfoProviderCollection","_actualLayoutController","pureComputed","layoutController","_emptyControlTemplates","_surfaceLeft","_surfaceTop","surfaceLeft","surfaceTop","isDesignMode","dashboardContainer","dashboard","computed","customTemplates","getWidgetContainer","_widgetContainer","wc","_element","querySelector","_updateController","UpdateController","action","_viewerApi","updateItemCaptionToolbar","masterActions","_reinitializeDashboard","option","_loadDashboardCore","_unloadDashboardCore","stateProvider","_workingModeChangeDeferred","createJQueryDeferred","switchControlState","_controlOptions","_getDefaultOptions","_defaultControlOptions","_eventsStrategy","EventsStrategy","create","eventsStrategy","_options","Options","_getOptionsByReference","_getDeprecatedOptions","onChanging","name","previousValue","_optionChanging","onChanged","_notifyOptionChanged","onStartChange","beginUpdate","onEndChange","endUpdate","extensions","extensionName","extensionNameMap","newName","resizeByTimer","_endpointCollection","_unrollEndpointCollection","remoteService","AjaxRemoteService","LegacySettings","_useCardLegacyLayout","subscribe","repaint","_dashboardContext","beforeApplyViewerItemOptions","viewerItemCreated","viewerItemDispose","addContextToolbarItems","viewerItemCreator","refresh","itemName","useNeutralFilterMode","viewerItemsManager","add","item","itemOptions","isCreation","encodeHtml","_externalTemplates","result","forEach","template","push","extension","data","notificationController","NotificationController","_validateWorkingMode","_initializeServiceClient","_allowSwitchToDesigner","extensionsToRegister","name_1","defaultExtensions","allowSwitchToDesigner","name_2","designerExtensions","_setShowMessageFunc","msg","type","displayTime","debugInfo","_dockingLayoutAdapter","DockingLayoutAdapter","start","_raiseEvent","component","ViewerApi","_registerDefaultExtensions","_registerKeyProcessing","isLoading","suspended","setTimeout","_loadInitialDashboard","done","initialDashboardState","stateString","always","_defineDashboardControlObsoleteMethods","render","_recursiveAsyncEval","sequence","cancellationToken","previousOptions","currentIndex","def","sequenceActions","actions","map","sa","cancelableAction","when","a","_i","canceled","reject","combineOptions","opts","resolve","fail","promise","get","_updateHubPrivate","enumerable","configurable","fullscreenItemProvider","_getFullscreenItemProvider","maximizedItemName","on","eventName","eventHandler","off","eventArgs","fireEvent","optionName","getOptionNameByEvent","func","_a","args","_silent","silent","resetOption","reset","_getOptionValue","context","limitVisibleDataMode","ajaxRemoteService","beforeSend","complete","headers","allowMaximizeItems","useCardLegacyLayout","showConfirmationOnBrowserClosing","workingMode","loadDefaultDashboard","dataRequestOptions","document","createElement","split","fullName","_optionChanged","dashboardState","getDashboardState","initializeDashboard","getJSON","JSON","parse","_getCebabCaseExtensionName","index","keys","k","indexOf","_getCamelCaseExtensionName","getControlState","Error","addAction","_switchToDesigner","_switchToViewer","_applyOptions","_processExtensionsOption","commitUpdate","_unregisterExtensionCore","_processExtensionsOptions","parts","filter","extensionOptionParts","slice","_createExtensionOption","reverse","reduce","acc","cur","extensionsOptions","key","extensionOptions","findExtension","extensionsFactory","extensionCreator","isFunction","registerExtension","optionsManager","_optionsManager","extensionArgs","extensionAction","optionChanged","_updateLayout","binders","binder","b","condition","getViewModel","getLayoutController","getBaseColorScheme","fire","ResourceManager","_embedBundledResourcesCore","openComment","createComment","closingComment","appendChild","_applyBindings","maximizeDashboardItem","dashboardItem","findItem","maximizeItem","restoreDashboardItem","restoreDownItem","id","dashboardJson","initialState","_unloadDashboardServices","Dashboard","_state","e","dashboardId","ready","items","_useNeutralFilterMode","subscribeArrayChange","added","newItem","_dataSourceBrowser","DataSourceBrowser","dataSources","parameters","ViewerItemAdaptersManager","DashboardUpdateHub","getItemData","isModeAllowsToReduceData","getBatchItemData","getMapShapeFile","componentName","visibleItemsProvider","dashboardBeginUpdate","dashboardEndUpdate","itemBeginUpdate","itemEndUpdate","limitMode","initialize","_","requestDashboardList","urls","dashboardUrls","getFromServer","GetDashboardsAction","cache","showError","getLocalizationById","loadDashboard","_dashboardLoadingDeferred","prevDashboardState_1","showState","DashboardAction","encodeURIComponent","val","unloadDashboard","switchToViewer","designerToViewerAction","toCancelableSequenceAction","sort","orderNo","groups","groupByProperty","CancellationToken","then","switchToDesigner","viewerToDesignerAction","reloadData","markDataSourcesForReload","itemNames","_dataDashboardItems","Array","isArray","refreshItems","setDashboardState","getDashboardId","registerIcon","icon","_canAddExtension","_registerExtensionCore","getInitialOptions","getDefaultOptions","_addExtension","_startExtension","cebabName","ext","unregisterExtension","extensionNames","camelName","customItemExtension","createViewerItem","undefined","metaData","itemTypesMap","stop","remove","subscribeExtensionsChanged","handlers","dispose","cleanNode","innerHTML","_removeEmbeddedResourcesCore","_renderDashboardItem","dashboardItemName","isStandalone","peek","sizeController","SingleItemSizeController","_staticInitialize","_ignoreKeyProcessing","activeElement","is","attr","processKeyEvent","deepExtend","endpoint","dataSourceUrls","GetDataSourcesAction","dataSourceWizardUrls","DataSourceWizardAction","GetConnectionStringsAction","dataServiceUrls","ConvertItemAction","DashboardItemGetAction","DimensionFilterItemsAction","DimensionFilterStringAction","DimensionUniqueValuesAction","FieldListAction","GetColoringSchemeAction","GetDashboardPaletteAction","GetMapShapeFileAction","GetUnderlyingDataAction","MarkDataSourcesForReloadAction","ParameterValuesAction","PerformExportAction","DashboardItemBatchGetAction","res","serviceClient","DesignerDataServiceClient","ViewerDataServiceClient","console","error","CustomItem","customItemType","d","splice","additionalProperties","viewModel","colorSchemeCss","_colorSchemeCss","isDashboardLoaded","layoutTemplate","safeComputed","info","externalTemplates","emptyControlTemplates","extend","$unwrap","appendStaticContextToRootViewModel","applyBindings","bindingHandlers","init","el","valueAccessor","allbindings","viewmodel","bindingcontext","unwrap","recalculate","height","getHeight","model","update","allBindingsAccessor","setAttributeNS","allBindings","bindingContext","attachmentName","findAttachment","$parents","attachment","default","defaultOptions","onInitialized","popup","registerKeyHandler","originalEvent","stopPropagation","hide","control","defineObsoleteProperty","target","memberName","oldMemberDisplayName","newMemberDisplayName","toolboxExtension","toolboxGroups","toolbarGroups","menuItems","menuVisible","selectMenuItem","undoEngineExtension","undoEngine","warmMessage","defineObsoleteMethod","saveDashboardExtension","saveDashboard","ensureDashboardSaved"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (dashboard-control.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DashboardControl = void 0;\nvar analytics_internal_1 = require(\"@devexpress/analytics-core/analytics-internal\");\nvar events_strategy_1 = require(\"devextreme/core/events_strategy\");\nvar options_1 = require(\"devextreme/core/options\");\nvar popup_1 = require(\"devextreme/ui/popup\");\nvar $ = require(\"jquery\");\nvar ko = require(\"knockout\");\nvar _default_1 = require(\"../data/localization/_default\");\nvar _jquery_helpers_1 = require(\"../data/_jquery-helpers\");\nvar _utils_1 = require(\"../data/_utils\");\nvar dashboard_1 = require(\"../model/dashboard\");\nvar _knockout_utils_1 = require(\"../model/internal/_knockout-utils\");\nvar _obsolete_helper_1 = require(\"../model/internal/_obsolete-helper\");\nvar custom_item_1 = require(\"../model/items/custom-item/custom-item\");\nvar serializable_model_1 = require(\"../model/serializable-model\");\nvar legacy_settings_1 = require(\"../viewer-parts/legacy-settings\");\nvar _dx_devextreme_themes_integration_1 = require(\"../viewer-parts/_dx-devextreme-themes-integration\");\nvar control_options_1 = require(\"./control-options\");\nvar _dashboard_update_hub_1 = require(\"./dashboard-update-hub/_dashboard-update-hub\");\nvar _docking_layout_adapter_1 = require(\"./docking-layout/_docking-layout-adapter\");\nvar _interfaces_1 = require(\"./internal/_interfaces\");\nvar _options_manager_1 = require(\"./internal/_options-manager\");\nvar _update_controller_1 = require(\"./internal/_update-controller\");\nvar notificator_1 = require(\"./notification-controller/notificator\");\nvar remote_service_1 = require(\"./remote-service\");\nvar resource_manager_1 = require(\"./resource-manager\");\nvar _item_viewer_adapter_factory_1 = require(\"./viewer/adapters/_item-viewer-adapter-factory\");\nvar _viewer_api_1 = require(\"./viewer/_viewer-api\");\nvar _data_source_browser_1 = require(\"./_data-source-browser\");\nvar _helpers_1 = require(\"./_helpers\");\nvar _service_client_1 = require(\"./_service-client\");\nvar DashboardControl = (function () {\n    function DashboardControl(element, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        this._repaintRequest = _jquery_helpers_1.createJQueryCallbacks();\n        this._extensions = ko.observableArray();\n        this._serviceClient = ko.observable();\n        this._displayAllData = ko.observable();\n        this._isLoading = ko.observable(false);\n        this._perDashboardDisposables = [];\n        this._layoutInfo = ko.observable(null);\n        this._layoutInfoProviderCollection = [];\n        this._actualLayoutController = ko.pureComputed(function () { return _this._layoutInfo() && _this._layoutInfo().layoutController(); });\n        this._emptyControlTemplates = ko.observableArray();\n        this._surfaceLeft = ko.observable(0);\n        this._surfaceTop = ko.observable(0);\n        this.surfaceLeft = ko.observable(0);\n        this.surfaceTop = ko.observable(0);\n        this.isDesignMode = ko.observable(true);\n        this.dashboardContainer = ko.observable();\n        this.dashboard = ko.computed(function () { return _this.dashboardContainer() && _this.dashboardContainer().dashboard || null; });\n        this.customTemplates = ko.observableArray();\n        this.getWidgetContainer = function () {\n            if (!_this._widgetContainer) {\n                var wc = _this._element.querySelector('.dx-dashboard-widget-container');\n                if (wc) {\n                    _this._widgetContainer = wc;\n                }\n            }\n            return _this._widgetContainer;\n        };\n        this._updateController = new _update_controller_1.UpdateController({\n            'updateItemToolbars': {\n                action: function () {\n                    if (_this.dashboard()) {\n                        _this._viewerApi.updateItemCaptionToolbar();\n                    }\n                },\n                masterActions: ['refreshData', 'reinitializeDashboard', 'loadDashboard']\n            },\n            'updateDashboardToolbar': {\n                action: function () { return _this._reinitializeDashboard(); },\n                masterActions: ['reinitializeDashboard', 'loadDashboard']\n            },\n            'refreshData': {\n                action: function () { return _this._reinitializeDashboard(); },\n                masterActions: ['reinitializeDashboard', 'loadDashboard']\n            },\n            'reinitializeDashboard': {\n                action: function () { return _this._reinitializeDashboard(); },\n                masterActions: ['loadDashboard']\n            },\n            'loadDashboard': {\n                action: function () {\n                    if (_this.option('dashboardId')) {\n                        _this._loadDashboardCore(_this.option('dashboardId'));\n                    }\n                    else {\n                        _this._unloadDashboardCore();\n                    }\n                }\n            },\n            'noop': {\n                action: function () { },\n                masterActions: ['updateItemToolbars', 'updateDashboardToolbar', 'refreshData', 'reinitializeDashboard', 'loadDashboard'],\n            }\n        }, function (stateProvider, action) {\n            switch (stateProvider()) {\n                case 'controlInitializing':\n                    return 'noop';\n                case 'controlInitialized':\n                case 'dashboardLoading':\n                case 'dashboardLoaded':\n                case 'dashboardInitializing':\n                    return action === 'loadDashboard' ? action : 'noop';\n                case 'dashboardInitialized':\n                    return action;\n            }\n        });\n        this._workingModeChangeDeferred = _jquery_helpers_1.createJQueryDeferred();\n        this._updateController.switchControlState('controlInitializing');\n        this._element = element;\n        this._controlOptions = this._getDefaultOptions();\n        this._defaultControlOptions = this._getDefaultOptions();\n        this._eventsStrategy = events_strategy_1.EventsStrategy.create(this, options.eventsStrategy);\n        this._options = new options_1.Options(this._controlOptions, this._defaultControlOptions, this._getOptionsByReference(), this._getDeprecatedOptions());\n        this._options.onChanging(function (name, previousValue, value) { return _this._optionChanging(name, value, previousValue); });\n        this._options.onChanged(function (name, value, previousValue) {\n            return _this._notifyOptionChanged(name, value);\n        });\n        this._options.onStartChange(function () { return _this.beginUpdate(); });\n        this._options.onEndChange(function () { return _this.endUpdate(); });\n        if (options.extensions) {\n            for (var extensionName in options.extensions) {\n                if (control_options_1.extensionNameMap.hasOwnProperty(extensionName)) {\n                    var newName = control_options_1.extensionNameMap[extensionName];\n                    if (newName !== extensionName) {\n                        options.extensions[newName] = options.extensions[extensionName];\n                        delete options.extensions[extensionName];\n                    }\n                }\n            }\n        }\n        this.resizeByTimer = ko.observable(this._defaultControlOptions.resizeByTimer);\n        this.option(options);\n        this._endpointCollection = this._unrollEndpointCollection(this.option());\n        this.remoteService = new remote_service_1.AjaxRemoteService(this.option('ajaxRemoteService'));\n        legacy_settings_1.LegacySettings._useCardLegacyLayout = this.option('useCardLegacyLayout');\n        this.surfaceLeft.subscribe(function (value) {\n            _this._surfaceLeft(value);\n            _this.repaint();\n        });\n        this.surfaceTop.subscribe(function (value) {\n            _this._surfaceTop(value);\n            _this.repaint();\n        });\n        this._dashboardContext = {\n            beforeApplyViewerItemOptions: _jquery_helpers_1.createJQueryCallbacks(),\n            viewerItemCreated: _jquery_helpers_1.createJQueryCallbacks(),\n            viewerItemDispose: _jquery_helpers_1.createJQueryCallbacks(),\n            addContextToolbarItems: _jquery_helpers_1.createJQueryCallbacks(),\n            viewerItemCreator: {},\n            refresh: function (itemName) { return _this.refresh(itemName); },\n            useNeutralFilterMode: function () { return _this.option('useNeutralFilterMode'); },\n            isDesignMode: this.isDesignMode,\n            viewerItemsManager: null\n        };\n        this._dashboardContext.beforeApplyViewerItemOptions.add(function (item, itemOptions, isCreation) {\n            itemOptions.useNeutralFilterMode = _this.option('useNeutralFilterMode');\n            itemOptions.encodeHtml = _this.encodeHtml;\n        });\n        this._externalTemplates = ko.computed(function () {\n            var result = [];\n            _this.customTemplates().forEach(function (template) {\n                result.push(template);\n            });\n            _this._extensions().forEach(function (extension) {\n                if (extension['template']) {\n                    if (typeof extension['template'] === 'string') {\n                        result.push({\n                            name: extension['template'],\n                            data: extension\n                        });\n                    }\n                    else {\n                        result.push(extension['template']);\n                    }\n                }\n            });\n            return result;\n        });\n        this.notificationController = new notificator_1.NotificationController();\n        this.isDesignMode.subscribe(function (isDesignMode) {\n            _this._validateWorkingMode();\n        }, null, 'beforeChange');\n        this.isDesignMode.subscribe(function (isDesignMode) {\n            _this._validateWorkingMode();\n            _this._initializeServiceClient(_this.dashboardContainer());\n        });\n        this._allowSwitchToDesigner = this.option('workingMode') !== 'ViewerOnly';\n        var extensionsToRegister = {};\n        for (var name_1 in control_options_1.defaultExtensions) {\n            extensionsToRegister[name_1] = control_options_1.defaultExtensions[name_1];\n        }\n        if (this.allowSwitchToDesigner) {\n            for (var name_2 in control_options_1.designerExtensions) {\n                extensionsToRegister[name_2] = control_options_1.designerExtensions[name_2];\n            }\n        }\n        analytics_internal_1._setShowMessageFunc(function (msg, type, displayTime, debugInfo) { });\n        this._dockingLayoutAdapter = new _docking_layout_adapter_1.DockingLayoutAdapter(this);\n        this._dockingLayoutAdapter.start();\n        this._raiseEvent('initializing', { component: this });\n        this._viewerApi = new _viewer_api_1.ViewerApi(this);\n        this._viewerApi.start();\n        this._registerDefaultExtensions(extensionsToRegister, this.option('extensions'));\n        this._registerKeyProcessing();\n        this._isLoading.subscribe(function (isLoading) { return _this.notificationController.suspended(isLoading); });\n        this._isLoading(true);\n        this._updateController.switchControlState('controlInitialized');\n        setTimeout(function () {\n            if (!_this.dashboard()) {\n                _this._loadInitialDashboard()\n                    .done(function () {\n                    var initialDashboardState = _this.option('initialDashboardState');\n                    if (initialDashboardState) {\n                        _this.dashboard().stateString = initialDashboardState;\n                    }\n                })\n                    .always(function () { _this._isLoading(false); });\n            }\n            else {\n                _this._isLoading(false);\n            }\n        }, 1);\n        _defineDashboardControlObsoleteMethods(this);\n        if (this.option('renderImmediately')) {\n            this.render();\n        }\n    }\n    DashboardControl._recursiveAsyncEval = function (sequence, cancellationToken, previousOptions, currentIndex) {\n        if (currentIndex === void 0) { currentIndex = 0; }\n        if (!previousOptions) {\n            previousOptions = {\n                surfaceLeft: 0\n            };\n        }\n        var def = _jquery_helpers_1.createJQueryDeferred();\n        var sequenceActions = sequence[currentIndex];\n        if (sequenceActions) {\n            var actions = sequenceActions.map(function (sa) { return sa.cancelableAction; });\n            $.when.apply($, actions.map(function (a) { return a(previousOptions, cancellationToken); })).done(function () {\n                var options = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    options[_i] = arguments[_i];\n                }\n                if (cancellationToken.canceled)\n                    def.reject();\n                else {\n                    DashboardControl._recursiveAsyncEval(sequence, cancellationToken, _helpers_1.combineOptions(previousOptions, options), currentIndex + 1)\n                        .done(function (opts) {\n                        if (cancellationToken.canceled)\n                            def.reject();\n                        else\n                            def.resolve(opts);\n                    })\n                        .fail(function () { return def.reject(); });\n                }\n            })\n                .fail(function () { return def.reject(); });\n        }\n        else {\n            if (cancellationToken.canceled)\n                def.reject();\n            else {\n                if (cancellationToken.canceled)\n                    def.reject();\n                else\n                    def.resolve(previousOptions);\n            }\n        }\n        return def.promise();\n    };\n    Object.defineProperty(DashboardControl.prototype, \"_updateHub\", {\n        get: function () {\n            return this._updateHubPrivate;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DashboardControl.prototype, \"encodeHtml\", {\n        get: function () {\n            return this.option('encodeHtml');\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DashboardControl.prototype, \"showConfirmationOnBrowserClosing\", {\n        get: function () { return this.option('showConfirmationOnBrowserClosing'); },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DashboardControl.prototype, \"allowSwitchToDesigner\", {\n        get: function () {\n            return this._allowSwitchToDesigner;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DashboardControl.prototype, \"maximizedDashboardItemName\", {\n        get: function () {\n            var fullscreenItemProvider = this._getFullscreenItemProvider();\n            return fullscreenItemProvider && fullscreenItemProvider.maximizedItemName || '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DashboardControl.prototype, \"extensions\", {\n        get: function () {\n            return this._extensions();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DashboardControl.prototype.element = function () {\n        return this._element;\n    };\n    DashboardControl.prototype.on = function (eventName, eventHandler) {\n        this._eventsStrategy.on(eventName, eventHandler);\n    };\n    DashboardControl.prototype.off = function (eventName, eventHandler) {\n        this._eventsStrategy.off(eventName, eventHandler);\n    };\n    DashboardControl.prototype._raiseEvent = function (eventName, eventArgs) {\n        this._eventsStrategy.fireEvent(eventName, [eventArgs]);\n        var optionName = _options_manager_1.getOptionNameByEvent(eventName);\n        if (optionName) {\n            var func = this.option(optionName);\n            if (func) {\n                func.call(this, eventArgs);\n            }\n        }\n    };\n    DashboardControl.prototype.option = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return (_a = this._options).option.apply(_a, args);\n    };\n    DashboardControl.prototype._silent = function () {\n        var _a;\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        return (_a = this._options).silent.apply(_a, args);\n    };\n    DashboardControl.prototype.resetOption = function (name) {\n        this.beginUpdate();\n        this._options.reset(name);\n        this.endUpdate();\n    };\n    DashboardControl.prototype.beginUpdate = function () {\n        this._updateController.beginUpdate();\n    };\n    DashboardControl.prototype.endUpdate = function () {\n        this._updateController.endUpdate();\n    };\n    DashboardControl.prototype._getOptionValue = function (name, context) {\n        var value = this.option(name);\n        return value;\n    };\n    DashboardControl.prototype._getDefaultOptions = function () {\n        return {\n            limitVisibleDataMode: 'Designer',\n            resizeByTimer: true,\n            ajaxRemoteService: {\n                beforeSend: function () { },\n                complete: function () { },\n                headers: {}\n            },\n            encodeHtml: true,\n            useNeutralFilterMode: true,\n            allowMaximizeItems: true,\n            useCardLegacyLayout: false,\n            showConfirmationOnBrowserClosing: true,\n            workingMode: 'Designer',\n            loadDefaultDashboard: true,\n            dataRequestOptions: {},\n            extensions: {}\n        };\n    };\n    DashboardControl.prototype._getOptionsByReference = function () {\n        return {};\n    };\n    DashboardControl.prototype._getDeprecatedOptions = function () {\n        return {};\n    };\n    DashboardControl.prototype._notifyOptionChanged = function (option, value) {\n        document.createElement;\n        var name = option;\n        var args = {\n            name: name.split(/[.[]/)[0],\n            fullName: name,\n            value: value,\n            component: this\n        };\n        this._optionChanged(args);\n        this._raiseEvent('optionChanged', args);\n    };\n    DashboardControl.prototype._reinitializeDashboard = function () {\n        if (this.dashboard()) {\n            var dashboardState = this.getDashboardState();\n            this.initializeDashboard(this.option('dashboardId'), this.dashboard().getJSON(), dashboardState && JSON.parse(this.getDashboardState()) || '');\n        }\n    };\n    DashboardControl.prototype._getCebabCaseExtensionName = function (extensionName) {\n        var index = Object.keys(control_options_1.extensionNameMap).map(function (k) { return control_options_1.extensionNameMap[k]; }).indexOf(extensionName);\n        return index === -1 ? extensionName : Object.keys(control_options_1.extensionNameMap)[index];\n    };\n    DashboardControl.prototype._getCamelCaseExtensionName = function (extensionName) {\n        return control_options_1.extensionNameMap[extensionName] || extensionName;\n    };\n    DashboardControl.prototype._optionChanging = function (name, value, previousValue) {\n        switch (name) {\n            case 'workingMode':\n                if (this._updateController.getControlState() !== 'controlInitializing' && (previousValue === 'ViewerOnly' || value === 'ViewerOnly')) {\n                    throw new Error(\"Cannot switch to \" + value + \" from \" + previousValue + \" mode.\");\n                }\n                break;\n        }\n    };\n    DashboardControl.prototype._optionChanged = function (args) {\n        switch (args.name) {\n            case 'dashboardId':\n                if (this._updateController.getControlState() !== 'dashboardInitializing')\n                    this._updateController.addAction('loadDashboard');\n                break;\n            case 'workingMode':\n                if (this._updateController.getControlState() === 'controlInitializing') {\n                    this.isDesignMode(args.value === 'Designer');\n                }\n                else {\n                    if (args.value === 'Designer') {\n                        this._switchToDesigner();\n                    }\n                    else {\n                        this._switchToViewer();\n                    }\n                }\n                break;\n            case 'initialDashboardState':\n                break;\n            case 'useNeutralFilterMode':\n                this._updateController.addAction('reinitializeDashboard');\n                break;\n            case 'useCardLegacyLayout':\n                break;\n            case 'resizeByTimer':\n                this.resizeByTimer(args.value);\n                break;\n            case 'endpoint':\n                break;\n            case 'dataRequestOptions':\n                this._updateController.addAction('reinitializeDashboard');\n                break;\n            case 'encodeHtml':\n                this._updateController.addAction('reinitializeDashboard');\n                break;\n            case 'ajaxRemoteService':\n                if (this.remoteService && this.remoteService instanceof remote_service_1.AjaxRemoteService) {\n                    this.remoteService._applyOptions(this.option('ajaxRemoteService'));\n                }\n                break;\n            case 'limitVisibleDataMode':\n                this._updateController.addAction('reinitializeDashboard');\n                break;\n            case 'onInitializing':\n            case 'onOptionChanged':\n                break;\n            case 'allowMaximizeItems':\n                if (this._actualLayoutController()) {\n                    this._actualLayoutController().allowMaximizeItems = args.value;\n                }\n                this._updateController.addAction('updateItemToolbars');\n                break;\n            case 'extensions':\n                if (this._updateController.getControlState() !== 'controlInitializing') {\n                    this._processExtensionsOption(args);\n                }\n                break;\n            case 'onDashboardInitializing':\n            case 'onDashboardInitialized':\n            case 'onDashboardStateChanged':\n            case 'onItemBeginUpdate':\n            case 'onItemEndUpdate':\n            case 'onDashboardBeginUpdate':\n            case 'onDashboardEndUpdate':\n            case 'showConfirmationOnBrowserClosing':\n            case 'loadDefaultDashboard':\n                break;\n        }\n        this._updateController.commitUpdate();\n    };\n    DashboardControl.prototype._processExtensionsOption = function (args) {\n        var _a;\n        if (args.name === args.fullName && args.value === false) {\n            this._unregisterExtensionCore.apply(this, this._extensions().map(function (extension) { return extension.name; }));\n            return;\n        }\n        if (args.name === args.fullName && typeof args.value === 'object') {\n            this._processExtensionsOptions(args.value);\n            return;\n        }\n        else {\n            var parts = args.fullName\n                .split(/(?:\\[|\\]|\\.)/)\n                .filter(function (item) { return !!item.length; });\n            var extensionName = parts[1];\n            var extensionOptionParts = parts.slice(2);\n            this._processExtensionsOptions((_a = {},\n                _a[extensionName] = this._createExtensionOption(extensionOptionParts, args.value),\n                _a));\n        }\n    };\n    DashboardControl.prototype._createExtensionOption = function (parts, value) {\n        var _a;\n        if (parts.length === 0)\n            return value;\n        return parts.slice(0, parts.length - 1).reverse().reduce(function (acc, cur) {\n            var _a;\n            return _a = {}, _a[cur] = acc, _a;\n        }, (_a = {},\n            _a[parts[parts.length - 1]] = value,\n            _a));\n    };\n    DashboardControl.prototype._processExtensionsOptions = function (extensionsOptions) {\n        var _this = this;\n        Object.keys(extensionsOptions).forEach(function (key) {\n            var extensionName = key;\n            var extensionOptions = extensionsOptions[extensionName];\n            if (extensionOptions === false) {\n                _this._unregisterExtensionCore(extensionName);\n            }\n            else if (typeof extensionOptions === 'object') {\n                var extension = _this.findExtension(extensionName);\n                if (!extension) {\n                    var extensionsFactory = __assign(__assign({}, control_options_1.defaultExtensions), control_options_1.designerExtensions);\n                    var extensionCreator = extensionsFactory[_this._getCebabCaseExtensionName(extensionName)];\n                    _utils_1.type.isFunction(extensionCreator) && _this.registerExtension(extensionCreator(_this, extensionOptions));\n                }\n                else {\n                    var optionsManager = extension && extension._optionsManager;\n                    if (optionsManager) {\n                        Object.keys(extensionOptions).forEach(function (optionName) {\n                            var extensionArgs = { name: optionName, fullName: optionName, value: extensionOptions[optionName] };\n                            var extensionAction = optionsManager.optionChanged(extensionArgs);\n                            if (extensionAction)\n                                _this._updateController.addAction(extensionAction);\n                        });\n                    }\n                }\n            }\n        });\n    };\n    DashboardControl.prototype._updateLayout = function () {\n        var binders = this._layoutInfoProviderCollection;\n        var binder = binders.filter(function (b) { return b.condition(); })[0];\n        if (binder && (!this._layoutInfo() || binder.name !== this._layoutInfo().template.name)) {\n            this._layoutInfo({\n                template: {\n                    name: binder.name,\n                    data: binder.getViewModel(),\n                },\n                layoutController: binder.getLayoutController(),\n            });\n        }\n    };\n    Object.defineProperty(DashboardControl.prototype, \"_colorSchemeCss\", {\n        get: function () {\n            return _dx_devextreme_themes_integration_1.getBaseColorScheme() === 'light' ? 'dx-color-scheme-light' : 'dx-color-scheme-dark';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DashboardControl.prototype.repaint = function () {\n        this._repaintRequest.fire();\n    };\n    DashboardControl.prototype.render = function () {\n        resource_manager_1.ResourceManager._embedBundledResourcesCore(this._element);\n        this._raiseEvent('beforeRender', { component: this });\n        var openComment = document.createComment(\" ko template: { name: 'dx-dashboard-control' } \"), closingComment = document.createComment(' /ko ');\n        this._element.appendChild(openComment);\n        this._element.appendChild(closingComment);\n        this._applyBindings(this._element);\n    };\n    DashboardControl.prototype.maximizeDashboardItem = function (itemName) {\n        if (this.dashboard()) {\n            var dashboardItem = this.dashboard().findItem(itemName);\n            if (dashboardItem) {\n                var fullscreenItemProvider = this._getFullscreenItemProvider();\n                if (fullscreenItemProvider) {\n                    fullscreenItemProvider.maximizeItem(dashboardItem);\n                }\n            }\n            else {\n                throw Error(\"The item with the '\" + itemName + \"' name does not exist\");\n            }\n        }\n    };\n    DashboardControl.prototype.restoreDashboardItem = function () {\n        var fullscreenItemProvider = this._getFullscreenItemProvider();\n        fullscreenItemProvider && fullscreenItemProvider.restoreDownItem();\n    };\n    DashboardControl.prototype.initializeDashboard = function (id, dashboardJson, initialState) {\n        var _this = this;\n        this._updateController.switchControlState('dashboardInitializing');\n        if (this.option('dashboardId') !== id) {\n            this.option('dashboardId', id);\n        }\n        this._unloadDashboardServices();\n        var dashboard = new dashboard_1.Dashboard(dashboardJson);\n        if (initialState) {\n            dashboard._state(initialState);\n        }\n        var e = {\n            component: this,\n            dashboard: dashboard,\n            dashboardId: id,\n            ready: _jquery_helpers_1.createJQueryDeferred().resolve().promise()\n        };\n        this._raiseEvent('dashboardInitializing', e);\n        e.ready.done(function () {\n            dashboard.items().forEach(function (item) { return item._useNeutralFilterMode(_this.option('useNeutralFilterMode')); });\n            _this._perDashboardDisposables.push(_knockout_utils_1.subscribeArrayChange(dashboard.items, {\n                added: function (newItem) { return newItem._useNeutralFilterMode(_this.option('useNeutralFilterMode')); }\n            }));\n            var dashboardContainer = { id: id, dashboard: dashboard };\n            _this._initializeServiceClient(dashboardContainer);\n            _this._dataSourceBrowser = new _data_source_browser_1.DataSourceBrowser(dashboard.dataSources, _this.isDesignMode, dashboard.parameters, _this._serviceClient, _this._isLoading);\n            _this._dashboardContext.viewerItemsManager = new _item_viewer_adapter_factory_1.ViewerItemAdaptersManager();\n            _this._perDashboardDisposables.push(_this._dashboardContext.viewerItemsManager);\n            _this._updateHubPrivate = new _dashboard_update_hub_1.DashboardUpdateHub(dashboard, _this.option('dataRequestOptions'), {\n                getItemData: function (item) { return _this._serviceClient().getItemData(item, isModeAllowsToReduceData()); },\n                getBatchItemData: function (items) { return _this._serviceClient().getBatchItemData(items, isModeAllowsToReduceData()); },\n                getMapShapeFile: function (item) { return _this._serviceClient().getMapShapeFile(item.componentName()); }\n            }, function () { return _this._actualLayoutController() && _this._actualLayoutController().visibleItemsProvider || null; });\n            _this._updateHubPrivate.dashboardBeginUpdate = function () { return _this._raiseEvent('dashboardBeginUpdate', {\n                component: _this,\n                dashboardId: _this.dashboardContainer().id\n            }); };\n            _this._updateHubPrivate.dashboardEndUpdate = function () { return _this._raiseEvent('dashboardEndUpdate', {\n                component: _this,\n                dashboardId: _this.dashboardContainer().id\n            }); };\n            _this._updateHubPrivate.itemBeginUpdate = function (itemName) { return _this._raiseEvent('itemBeginUpdate', {\n                component: _this,\n                dashboardId: _this.dashboardContainer().id,\n                itemName: itemName\n            }); };\n            _this._updateHubPrivate.itemEndUpdate = function (itemName) { return _this._raiseEvent('itemEndUpdate', {\n                component: _this,\n                dashboardId: _this.dashboardContainer().id,\n                itemName: itemName\n            }); };\n            _this.dashboardContainer(dashboardContainer);\n            _this.notificationController.reset();\n            _this._updateController.switchControlState('dashboardInitialized');\n            _this._raiseEvent('dashboardInitialized', {\n                component: _this,\n                dashboardId: id,\n                dashboard: dashboard\n            });\n            _this._raiseEvent('dashboardStateChanged', {\n                component: _this,\n                dashboard: dashboard,\n                dashboardId: id,\n                stateString: dashboard.stateString\n            });\n            var isModeAllowsToReduceData = function () {\n                var limitMode = _this.option('limitVisibleDataMode');\n                return limitMode === 'DesignerAndViewer' || (_this.isDesignMode() && limitMode === 'Designer');\n            };\n            _this._updateHubPrivate.initialize();\n            _this._perDashboardDisposables.push(_this.dashboard()._state.subscribe(function (_) {\n                _this._raiseEvent('dashboardStateChanged', {\n                    component: _this,\n                    dashboard: _this.dashboard(),\n                    dashboardId: _this.dashboardContainer().id,\n                    stateString: dashboard.stateString\n                });\n            }));\n        }).fail(function () {\n            _this.notificationController.reset();\n        });\n    };\n    DashboardControl.prototype.requestDashboardList = function () {\n        var _this = this;\n        var urls = this._endpointCollection.dashboardUrls;\n        if (urls) {\n            return this.remoteService.getFromServer(urls.GetDashboardsAction, null, { cache: false })\n                .fail(function () {\n                _this.notificationController.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadDashboards'));\n            });\n        }\n        return _jquery_helpers_1.createJQueryDeferred().reject().promise();\n    };\n    DashboardControl.prototype.loadDashboard = function (dashboardId) {\n        var def = _jquery_helpers_1.createJQueryDeferred();\n        if (this._dashboardLoadingDeferred) {\n            this._dashboardLoadingDeferred.reject();\n        }\n        this._dashboardLoadingDeferred = def;\n        if (this.option('dashboardId') === dashboardId) {\n            this._loadDashboardCore(dashboardId);\n        }\n        else {\n            this.option('dashboardId', dashboardId);\n        }\n        return def.promise();\n    };\n    DashboardControl.prototype._loadDashboardCore = function (dashboardId) {\n        var _this = this;\n        var urls = this._endpointCollection && this._endpointCollection.dashboardUrls || null;\n        if (urls) {\n            var prevDashboardState_1 = this._updateController.getControlState();\n            this._updateController.switchControlState('dashboardLoading');\n            this.notificationController.showState(_default_1.getLocalizationById('DashboardWebStringId.Notification.DashboardLoading'));\n            return this.remoteService.getFromServer(urls.DashboardAction + '/' + encodeURIComponent(dashboardId), null, { cache: false })\n                .done(function (result) {\n                _this._updateController.switchControlState('dashboardLoaded');\n                if (_this.option('dashboardId') === dashboardId) {\n                    _this.initializeDashboard(dashboardId, result.Dashboard, result.initialState);\n                    _this._dashboardLoadingDeferred && _this._dashboardLoadingDeferred.resolve();\n                }\n            }).fail(function (val) {\n                _this._updateController.switchControlState(prevDashboardState_1);\n                _this._dashboardLoadingDeferred && _this._dashboardLoadingDeferred.reject();\n                _this.notificationController.showError(_default_1.getLocalizationById('DashboardWebStringId.Notification.AttemptToLoadDashboard') + dashboardId, val);\n            });\n        }\n        return _jquery_helpers_1.createJQueryDeferred().reject().promise();\n    };\n    DashboardControl.prototype.unloadDashboard = function () {\n        this.option('dashboardId', null);\n    };\n    DashboardControl.prototype._unloadDashboardCore = function () {\n        this._unloadDashboardServices();\n        this.dashboardContainer(null);\n    };\n    DashboardControl.prototype.switchToViewer = function () {\n        this.option('workingMode', 'Viewer');\n    };\n    DashboardControl.prototype._switchToViewer = function () {\n        var _this = this;\n        var actions = this.extensions\n            .filter(function (extension) { return !!extension.designerToViewerAction; })\n            .map(function (extension) { return _helpers_1.toCancelableSequenceAction(extension.designerToViewerAction); })\n            .sort(function (a, b) { return a.orderNo - b.orderNo; });\n        var groups = _utils_1.groupByProperty(actions, 'orderNo');\n        this._workingModeChangeDeferred.reject();\n        this._workingModeChangeDeferred = _jquery_helpers_1.createJQueryDeferred();\n        return DashboardControl._recursiveAsyncEval(groups, new _helpers_1.CancellationToken(this._workingModeChangeDeferred), { surfaceLeft: this._surfaceLeft(), surfaceTop: this._surfaceTop() })\n            .then(function (options) {\n            _this.surfaceLeft(options.surfaceLeft);\n            _this.surfaceTop(options.surfaceTop);\n            _this.isDesignMode(false);\n            _this._workingModeChangeDeferred.resolve();\n        }, function () { return _this.switchToDesigner(); });\n    };\n    DashboardControl.prototype.switchToDesigner = function () {\n        this.option('workingMode', 'Designer');\n    };\n    DashboardControl.prototype._switchToDesigner = function () {\n        var _this = this;\n        this._validateWorkingMode();\n        var actions = this.extensions\n            .filter(function (extension) { return !!extension.viewerToDesignerAction; })\n            .map(function (extension) { return _helpers_1.toCancelableSequenceAction(extension.viewerToDesignerAction); })\n            .sort(function (a, b) { return a.orderNo - b.orderNo; });\n        var groups = _utils_1.groupByProperty(actions, 'orderNo');\n        this._workingModeChangeDeferred.reject();\n        this._workingModeChangeDeferred = _jquery_helpers_1.createJQueryDeferred();\n        return DashboardControl._recursiveAsyncEval(groups, new _helpers_1.CancellationToken(this._workingModeChangeDeferred), { surfaceLeft: this._surfaceLeft(), surfaceTop: this._surfaceTop() })\n            .then(function (options) {\n            _this.surfaceLeft(options.surfaceLeft);\n            _this.surfaceTop(options.surfaceTop);\n            _this.isDesignMode(true);\n            _this._workingModeChangeDeferred.resolve();\n        }, function () { return _this.switchToViewer(); });\n    };\n    DashboardControl.prototype.reloadData = function () {\n        var _this = this;\n        if (this.dashboard()) {\n            this._serviceClient().markDataSourcesForReload().done(function (result) {\n                _this.refresh();\n            });\n        }\n    };\n    DashboardControl.prototype.refresh = function (args) {\n        if (this.dashboard()) {\n            var itemNames = [];\n            if (!args) {\n                itemNames = this.dashboard()._dataDashboardItems().map(function (item) { return item.componentName(); });\n            }\n            else if (typeof args === 'string') {\n                itemNames = [args];\n            }\n            else if (Array.isArray(itemNames)) {\n                itemNames = args;\n            }\n            else {\n                throw Error('Invalid arguments');\n            }\n            this._updateHubPrivate.refreshItems(itemNames);\n        }\n    };\n    DashboardControl.prototype.getDashboardState = function () {\n        var dashboard = this.dashboard();\n        if (dashboard)\n            return dashboard.stateString;\n        return null;\n    };\n    DashboardControl.prototype.setDashboardState = function (dashboardState) {\n        var dashboard = this.dashboard();\n        if (dashboard) {\n            if (typeof dashboardState === 'string') {\n                dashboard.stateString = dashboardState;\n            }\n            else {\n                dashboard._state(dashboardState);\n            }\n        }\n    };\n    DashboardControl.prototype.getDashboardId = function () {\n        var dashboardContainer = this.dashboardContainer();\n        if (dashboardContainer)\n            return dashboardContainer.id;\n        return null;\n    };\n    DashboardControl.prototype.registerIcon = function (icon) {\n        resource_manager_1.ResourceManager.registerIcon(icon);\n    };\n    DashboardControl.prototype.registerExtension = function () {\n        var _this = this;\n        var extensions = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            extensions[_i] = arguments[_i];\n        }\n        extensions.forEach(function (extension) {\n            if (_this._canAddExtension(extension))\n                _this._registerExtensionCore(extension);\n        });\n    };\n    DashboardControl.prototype._registerExtensionCore = function (extension) {\n        var optionsManager = extension._optionsManager;\n        if (optionsManager) {\n            if (typeof this._controlOptions.extensions !== 'object') {\n                this._controlOptions.extensions = {};\n            }\n            this._controlOptions.extensions[control_options_1.extensionNameMap[extension.name]] = optionsManager.getInitialOptions();\n            this._defaultControlOptions.extensions[control_options_1.extensionNameMap[extension.name]] = optionsManager.getDefaultOptions();\n        }\n        else {\n            this._controlOptions.extensions = this._controlOptions.extensions || {};\n            this._controlOptions.extensions[extension.name] = {};\n        }\n        this._addExtension(extension);\n        this._startExtension(extension);\n    };\n    DashboardControl.prototype.findExtension = function (extensionName) {\n        var cebabName = this._getCebabCaseExtensionName(extensionName);\n        return this._extensions().filter(function (ext) { return ext.name === cebabName; })[0];\n    };\n    DashboardControl.prototype.unregisterExtension = function () {\n        var _this = this;\n        var extensionNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            extensionNames[_i] = arguments[_i];\n        }\n        extensionNames.forEach(function (name) {\n            var camelName = _this._getCamelCaseExtensionName(name);\n            _this.option(\"extensions.\" + camelName, false);\n            _this._defaultControlOptions.extensions[camelName] = false;\n        });\n    };\n    DashboardControl.prototype._unregisterExtensionCore = function () {\n        var _this = this;\n        var extensionNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            extensionNames[_i] = arguments[_i];\n        }\n        extensionNames.forEach(function (extensionName) {\n            var extension = _this.findExtension(extensionName);\n            if (!!extension) {\n                var customItemExtension = extension;\n                if (customItemExtension.createViewerItem) {\n                    _this._dashboardContext.viewerItemCreator[extension.name] = undefined;\n                }\n                if (customItemExtension.metaData) {\n                    delete serializable_model_1.itemTypesMap[extension.name];\n                }\n                extension.stop && extension.stop();\n                _this._extensions.remove(extension);\n            }\n        });\n    };\n    DashboardControl.prototype.subscribeExtensionsChanged = function (handlers) {\n        return _knockout_utils_1.subscribeArrayChange(this._extensions, handlers);\n    };\n    DashboardControl.prototype.dispose = function () {\n        this._unloadDashboardCore();\n        this._viewerApi.stop();\n        this._dockingLayoutAdapter.dispose();\n        $(document).off('.dx-dshd');\n        ko.cleanNode(this._element);\n        this._element.innerHTML = '';\n        resource_manager_1.ResourceManager._removeEmbeddedResourcesCore(this._element);\n    };\n    DashboardControl.prototype._renderDashboardItem = function (element, dashboardItemName, isStandalone) {\n        var _this = this;\n        if (isStandalone === void 0) { isStandalone = true; }\n        var openComment = document.createComment(\" ko template: { name: 'dx-dashboard-standalone-item' } \"), closingComment = document.createComment(' /ko ');\n        element.appendChild(openComment);\n        element.appendChild(closingComment);\n        var dashboardItem = ko.computed(function () { return _this.dashboard() && _this.dashboard().items().filter(function (i) { return i.componentName.peek() === dashboardItemName; })[0]; });\n        this._applyBindings(element, {\n            dashboardItem: dashboardItem,\n            context: this._dashboardContext,\n            sizeController: new _interfaces_1.SingleItemSizeController(element, this._repaintRequest),\n            isStandalone: isStandalone\n        });\n    };\n    DashboardControl.prototype._getFullscreenItemProvider = function () {\n        return this._actualLayoutController() && this._actualLayoutController().fullscreenItemProvider;\n    };\n    DashboardControl.prototype._registerKeyProcessing = function () {\n        var _this = this;\n        _staticInitialize();\n        var _ignoreKeyProcessing = function () {\n            if (!_this.isDesignMode() || !_this._actualLayoutController()) {\n                return true;\n            }\n            var activeElement = $(document.activeElement);\n            if (activeElement.is('textarea') || activeElement.is(':input') && (['password', 'text', 'number'].indexOf(activeElement.attr('type')) != -1)) {\n                return true;\n            }\n            return false;\n        };\n        $(document).on('keyup.dx-dshd', function (e) {\n            if (_ignoreKeyProcessing()) {\n                return;\n            }\n            if (_this._dockingLayoutAdapter.processKeyEvent && _this._dockingLayoutAdapter.processKeyEvent('keyup', e)) {\n                return false;\n            }\n            var i;\n            for (i = 0; i < _this._extensions().length; i++) {\n                var extension = _this._extensions()[i];\n                if (extension.processKeyEvent && extension.processKeyEvent('keyup', e)) {\n                    return false;\n                }\n            }\n        });\n        $(document).on('keydown.dx-dshd', function (e) {\n            if (_ignoreKeyProcessing()) {\n                return;\n            }\n            var i;\n            for (i = 0; i < _this._extensions().length; i++) {\n                var extension = _this._extensions()[i];\n                if (extension.processKeyEvent && extension.processKeyEvent('keydown', e)) {\n                    return false;\n                }\n            }\n        });\n    };\n    DashboardControl.prototype._registerDefaultExtensions = function (extensions, extensionOptions) {\n        var _this = this;\n        if (extensionOptions === void 0) { extensionOptions = {}; }\n        if (extensionOptions !== false) {\n            for (var extensionName in extensions) {\n                var camelName = this._getCamelCaseExtensionName(extensionName);\n                var options = extensionOptions[camelName];\n                if (options !== false) {\n                    if (!!options && typeof options !== 'object') {\n                        throw Error('Extension options ');\n                    }\n                    var extension = extensions[extensionName](this, options);\n                    this._canAddExtension(extension) && this._addExtension(extension);\n                    var optionsManager = extension._optionsManager;\n                    this._controlOptions.extensions[camelName] = _jquery_helpers_1.deepExtend({}, optionsManager && optionsManager.getInitialOptions(), options);\n                    this._defaultControlOptions.extensions[camelName] = optionsManager && optionsManager.getDefaultOptions();\n                }\n            }\n            if (typeof extensionOptions === 'object') {\n                for (var extensionName in extensionOptions) {\n                    var camelName = this._getCamelCaseExtensionName(extensionName);\n                    var options = extensionOptions[camelName];\n                    if (typeof options === 'function') {\n                        var extensionCreator = options;\n                        var extension = extensionCreator(this);\n                        this._canAddExtension(extension) && this._addExtension(extension);\n                        var optionsManager = extension._optionsManager;\n                        this._controlOptions.extensions[camelName] = optionsManager && optionsManager.getInitialOptions();\n                        this._defaultControlOptions.extensions[camelName] = optionsManager && optionsManager.getDefaultOptions();\n                    }\n                }\n            }\n        }\n        this.extensions.forEach(function (extension) { return _this._startExtension(extension); });\n    };\n    DashboardControl.prototype._unrollEndpointCollection = function (options) {\n        if (options['endpointCollection']) {\n            return options['endpointCollection'];\n        }\n        else if (options.endpoint) {\n            return {\n                dashboardUrls: {\n                    DashboardAction: options.endpoint + '/dashboards',\n                    GetDashboardsAction: options.endpoint + '/dashboards'\n                },\n                dataSourceUrls: {\n                    GetDataSourcesAction: options.endpoint + '/dataSources'\n                },\n                dataSourceWizardUrls: {\n                    DataSourceWizardAction: options.endpoint + '/data/DataSourceWizardAction',\n                    GetConnectionStringsAction: options.endpoint + '/data/GetConnectionStringsAction'\n                },\n                dataServiceUrls: {\n                    ConvertItemAction: options.endpoint + '/data/ConvertItemAction',\n                    DashboardItemGetAction: options.endpoint + '/data/DashboardItemGetAction',\n                    DimensionFilterItemsAction: options.endpoint + '/data/DimensionFilterItemsAction',\n                    DimensionFilterStringAction: options.endpoint + '/data/DimensionFilterStringAction',\n                    DimensionUniqueValuesAction: options.endpoint + '/data/DimensionUniqueValuesAction',\n                    FieldListAction: options.endpoint + '/data/FieldListAction',\n                    GetColoringSchemeAction: options.endpoint + '/data/GetColoringSchemeAction',\n                    GetDashboardPaletteAction: options.endpoint + '/data/GetDashboardPaletteAction',\n                    GetMapShapeFileAction: options.endpoint + '/data/GetMapShapeFileAction',\n                    GetUnderlyingDataAction: options.endpoint + '/data/GetUnderlyingDataAction',\n                    MarkDataSourcesForReloadAction: options.endpoint + '/data/MarkDataSourcesForReloadAction',\n                    ParameterValuesAction: options.endpoint + '/data/ParameterValuesAction',\n                    PerformExportAction: options.endpoint + '/data/PerformExportAction',\n                    DashboardItemBatchGetAction: options.endpoint + '/data/DashboardItemBatchGetAction'\n                }\n            };\n        }\n        else {\n            return {};\n        }\n    };\n    DashboardControl.prototype._loadInitialDashboard = function () {\n        var _this = this;\n        if (!!this.option('dashboardId')) {\n            return this._loadDashboardCore(this.option('dashboardId'));\n        }\n        else if (!!this.option('initialDashboardId')) {\n            return this.loadDashboard(this.option('initialDashboardId'));\n        }\n        else if (!!this.option('loadDefaultDashboard')) {\n            var res = _jquery_helpers_1.createJQueryDeferred();\n            this.requestDashboardList()\n                .done(function (items) {\n                if (items[0]) {\n                    _this.loadDashboard(items[0].id)\n                        .done(function () { return res.resolve(); })\n                        .fail(function () { return res.reject(); });\n                }\n                else {\n                    res.reject();\n                }\n            })\n                .fail(function () {\n                res.reject();\n            });\n            return res.promise();\n        }\n        else {\n            return _jquery_helpers_1.createJQueryDeferred().resolve().promise();\n        }\n    };\n    DashboardControl.prototype._initializeServiceClient = function (dashboardContainer) {\n        var serviceClient = this.isDesignMode() ?\n            !this._validateWorkingMode() && new _service_client_1.DesignerDataServiceClient(dashboardContainer, this.notificationController, this._endpointCollection.dataServiceUrls, this.remoteService) || null :\n            new _service_client_1.ViewerDataServiceClient(dashboardContainer, this.notificationController, this._endpointCollection.dataServiceUrls, this.remoteService);\n        this._serviceClient(serviceClient);\n    };\n    DashboardControl.prototype._validateWorkingMode = function () {\n        if (!this.allowSwitchToDesigner) {\n            throw Error('Cannot switch to Designer from the ViewerOnly mode.');\n        }\n        return false;\n    };\n    DashboardControl.prototype._canAddExtension = function (extension) {\n        if (!!this.findExtension(extension.name)) {\n            console.error(\"The extension with the '\" + extension.name + \"' name is already registered.\");\n            return false;\n        }\n        return true;\n    };\n    DashboardControl.prototype._addExtension = function (extension) {\n        this._extensions.push(extension);\n        var customItemExtension = extension;\n        if (customItemExtension.createViewerItem) {\n            this._dashboardContext.viewerItemCreator[extension.name] = customItemExtension.createViewerItem;\n        }\n        if (customItemExtension.metaData) {\n            serializable_model_1.itemTypesMap[extension.name] = _jquery_helpers_1.deepExtend({\n                type: custom_item_1.CustomItem,\n                customItemType: extension.name,\n            }, customItemExtension.metaData);\n        }\n    };\n    DashboardControl.prototype._startExtension = function (extension) {\n        extension.start && extension.start();\n    };\n    DashboardControl.prototype._unloadDashboardServices = function () {\n        var dashboard = this.dashboard();\n        if (dashboard) {\n            dashboard.dispose();\n            if (this._updateHubPrivate) {\n                this._updateHubPrivate.dispose();\n                this._updateHubPrivate = null;\n            }\n            if (this._dataSourceBrowser) {\n                this._dataSourceBrowser.dispose();\n                this._dataSourceBrowser = null;\n            }\n        }\n        this._perDashboardDisposables.forEach(function (d) { return d.dispose(); });\n        this._perDashboardDisposables.splice(0, this._perDashboardDisposables.length);\n    };\n    DashboardControl.prototype._applyBindings = function (element, additionalProperties) {\n        var _this = this;\n        var viewModel = __assign({ getWidgetContainer: this.getWidgetContainer, surfaceLeft: this._surfaceLeft, surfaceTop: this._surfaceTop, colorSchemeCss: this._colorSchemeCss, isDashboardLoaded: ko.computed(function () { return !!_this.dashboard(); }), layoutTemplate: _knockout_utils_1.safeComputed({ info: this._layoutInfo }, function (_a) {\n                var info = _a.info;\n                return info.template;\n            }), externalTemplates: this._externalTemplates, emptyControlTemplates: this._emptyControlTemplates, notificationController: this.notificationController, isLoading: this._isLoading, getLocalizationById: _default_1.getLocalizationById, extend: _jquery_helpers_1.extend, $unwrap: _jquery_helpers_1.$unwrap, $: $, ko: ko }, additionalProperties);\n        analytics_internal_1.appendStaticContextToRootViewModel(viewModel);\n        ko.applyBindings(viewModel, element);\n    };\n    return DashboardControl;\n}());\nexports.DashboardControl = DashboardControl;\nko.bindingHandlers['element-height-change-provider'] = {\n    init: function (el, valueAccessor, allbindings, viewmodel, bindingcontext) {\n        var data = ko.unwrap(valueAccessor());\n        var recalculate = function () {\n            setTimeout(function () {\n                data.height(_jquery_helpers_1.getHeight(el));\n            }, 0);\n        };\n        data.model.subscribe(function () {\n            recalculate();\n        });\n        recalculate();\n    }\n};\nko.bindingHandlers['xlinkHref'] = {\n    update: function (element, valueAccessor, allBindingsAccessor, viewModel) {\n        element.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + valueAccessor());\n    }\n};\nko.bindingHandlers['dxAttach2Model'] = {\n    init: function (element, valueAccessor, allBindings, viewModel, bindingContext) {\n        var attachmentName = ko.unwrap(valueAccessor());\n        if (['getLookupDefaultValuesSelectBoxOptions', 'getLookupDefaultValueSelectBoxOptions', 'dataSourceBrowser'].indexOf(attachmentName) === -1) {\n            throw 'non supported';\n        }\n        var findAttachment = function (name) {\n            var context = bindingContext.$parents.filter(function (item) { return item[name] !== undefined; })[0];\n            if (context) {\n                return context[name];\n            }\n            return null;\n        }, attachment = findAttachment(attachmentName);\n        if (attachment) {\n            viewModel[attachmentName] = attachment;\n        }\n    }\n};\nfunction _staticInitialize() {\n    popup_1.default.defaultOptions({\n        options: {\n            onInitialized: function (e) {\n                var popup = e.component;\n                popup.registerKeyHandler('escape', function (e) {\n                    e.originalEvent.stopPropagation();\n                    popup.hide();\n                });\n            }\n        }\n    });\n}\nfunction _defineDashboardControlObsoleteMethods(control) {\n    _obsolete_helper_1.defineObsoleteProperty({\n        target: control,\n        memberName: 'toolbox',\n        oldMemberDisplayName: 'DashboardControl.toolbox',\n        newMemberDisplayName: 'ToolboxExtension.toolboxGroups',\n        action: function () {\n            var toolboxExtension = control.findExtension('toolbox');\n            if (toolboxExtension) {\n                return toolboxExtension.toolboxGroups;\n            }\n            else {\n                console.error('The ToolboxExtension could not be found.');\n            }\n        }\n    });\n    _obsolete_helper_1.defineObsoleteProperty({\n        target: control,\n        memberName: 'toolbarItems',\n        oldMemberDisplayName: 'DashboardControl.toolbarItems',\n        newMemberDisplayName: 'ToolboxExtension.toolbarGroups',\n        action: function () {\n            var toolboxExtension = control.findExtension('toolbox');\n            if (toolboxExtension) {\n                return toolboxExtension.toolbarGroups;\n            }\n            else {\n                console.error('The ToolboxExtension could not be found.');\n            }\n        }\n    });\n    _obsolete_helper_1.defineObsoleteProperty({\n        target: control,\n        memberName: 'menuItems',\n        oldMemberDisplayName: 'DashboardControl.menuItems',\n        newMemberDisplayName: 'ToolboxExtension.menuItems',\n        action: function () {\n            var toolboxExtension = control.findExtension('toolbox');\n            if (toolboxExtension) {\n                return toolboxExtension.menuItems;\n            }\n            else {\n                console.error('The ToolboxExtension could not be found.');\n            }\n        }\n    });\n    _obsolete_helper_1.defineObsoleteProperty({\n        target: control,\n        memberName: 'menuVisible',\n        oldMemberDisplayName: 'DashboardControl.menuVisible',\n        newMemberDisplayName: 'ToolboxExtension.menuVisible',\n        action: function () {\n            var toolboxExtension = control.findExtension('toolbox');\n            if (toolboxExtension) {\n                return toolboxExtension.menuVisible;\n            }\n            else {\n                console.error('The toolboxExtension could not be found.');\n            }\n        }\n    });\n    _obsolete_helper_1.defineObsoleteProperty({\n        target: control,\n        memberName: 'selectMenuItem',\n        oldMemberDisplayName: 'DashboardControl.selectMenuItem',\n        newMemberDisplayName: 'ToolboxExtension.selectMenuItem',\n        action: function () {\n            var toolboxExtension = control.findExtension('toolbox');\n            if (toolboxExtension) {\n                return toolboxExtension.selectMenuItem;\n            }\n            else {\n                console.error('The toolboxExtension could not be found.');\n            }\n        }\n    });\n    _obsolete_helper_1.defineObsoleteProperty({\n        target: control,\n        memberName: 'undoEngine',\n        oldMemberDisplayName: 'DashboardControl.undoEngine',\n        newMemberDisplayName: 'UndoRedoExtension.undoEngine',\n        action: function () {\n            var undoEngineExtension = control.findExtension('undo-redo');\n            if (undoEngineExtension) {\n                return undoEngineExtension.undoEngine;\n            }\n            else {\n                console.error('The UndoRedoExtension could not be found.');\n            }\n        }\n    });\n    _obsolete_helper_1.defineObsoleteProperty({\n        target: control,\n        memberName: 'colorSchemeCss',\n        warmMessage: 'The DashboardControl.colorSchemeCss is obsolete. Use the DevExpress.ui.themes.current method instead.',\n        action: function () { return control._colorSchemeCss; }\n    });\n    _obsolete_helper_1.defineObsoleteMethod({\n        target: control,\n        memberName: 'saveDashboard',\n        oldMemberDisplayName: 'DashboardControl.saveDashboard',\n        newMemberDisplayName: 'SaveDashboardExtension.saveDashboard',\n        action: function () {\n            var saveDashboardExtension = control.findExtension('save-dashboard');\n            if (saveDashboardExtension) {\n                return saveDashboardExtension.saveDashboard();\n            }\n            else {\n                console.error('The SaveDashboardExtension could not be found.');\n            }\n        }\n    });\n    _obsolete_helper_1.defineObsoleteMethod({\n        target: control,\n        memberName: 'ensureDashboardSaved',\n        oldMemberDisplayName: 'DashboardControl.ensureDashboardSaved',\n        newMemberDisplayName: 'SaveDashboardExtension.ensureDashboardSaved',\n        action: function (action) {\n            var saveDashboardExtension = control.findExtension('save-dashboard');\n            if (saveDashboardExtension) {\n                return saveDashboardExtension.ensureDashboardSaved(action);\n            }\n            else {\n                console.error('The SaveDashboardExtension could not be found.');\n            }\n        }\n    });\n    _obsolete_helper_1.defineObsoleteMethod({\n        target: control,\n        memberName: 'clearDesigner',\n        oldMemberDisplayName: 'DashboardControl.clearDesigner',\n        newMemberDisplayName: 'DashboardControl.unloadDashboard',\n        action: function () { return control.unloadDashboard(); }\n    });\n    _obsolete_helper_1.defineObsoleteMethod({\n        target: control,\n        memberName: 'close',\n        oldMemberDisplayName: 'DashboardControl.close',\n        newMemberDisplayName: 'DashboardControl.unloadDashboard',\n        action: function () { return control.unloadDashboard(); }\n    });\n}\n"]},"metadata":{},"sourceType":"script"}