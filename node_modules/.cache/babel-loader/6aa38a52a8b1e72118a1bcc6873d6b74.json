{"ast":null,"code":"/**\r\n* DevExpress Dashboard (_properties-controller.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PropertiesController = void 0;\n\nvar ko = require(\"knockout\");\n\nvar _accordion_tab_1 = require(\"./_accordion-tab\");\n\nvar PropertiesController = function () {\n  function PropertiesController() {\n    var _this = this;\n\n    this._disposables = [];\n    this.mainModel = ko.observable();\n    this.secondaryModel = ko.observable();\n    this.currentTab = ko.observable('');\n    this.accordionDataSource = ko.observable([]);\n    this.secondaryAccordionDataSource = ko.observable([]);\n    this.computator = ko.computed(function () {\n      var newTabs = [];\n      var oldTabs = _this.accordionDataSource;\n\n      if (_this.secondaryModel() && _this.secondaryModel().data) {\n        newTabs = newTabs.concat(ko.unwrap(_this.secondaryModel().data.propertiesTabs));\n        oldTabs = _this.secondaryAccordionDataSource;\n      } else if (_this.mainModel() && _this.mainModel().data) {\n        newTabs = newTabs.concat(ko.unwrap(_this.mainModel().data.propertiesTabs));\n      }\n\n      newTabs.forEach(function (tab, index) {\n        if (!tab.orderNo) tab.orderNo = 100 + index;\n      });\n      newTabs = newTabs.sort(function (a, b) {\n        return a.orderNo - b.orderNo;\n      });\n\n      if (newTabs.length === oldTabs().length && newTabs.every(function (t) {\n        return t instanceof _accordion_tab_1.AccordionTab;\n      }) && oldTabs().every(function (t) {\n        return t instanceof _accordion_tab_1.AccordionTab;\n      })) {\n        var thesame = true;\n\n        for (var i = 0; i < newTabs.length; i++) {\n          thesame = thesame && oldTabs()[i].name === newTabs[i].name;\n        }\n\n        if (thesame) {\n          for (var i = 0; i < newTabs.length; i++) {\n            oldTabs()[i].grabData(newTabs[i]);\n          }\n        } else {\n          var tabsToDispose = oldTabs();\n          oldTabs(newTabs);\n          tabsToDispose.filter(function (tab) {\n            return !newTabs.some(function (newTab) {\n              return newTab === tab;\n            });\n          }).forEach(function (tab) {\n            return tab && tab.dispose();\n          });\n        }\n      } else {\n        var tabsToDispose = oldTabs();\n        oldTabs(newTabs);\n        tabsToDispose.filter(function (tab) {\n          return !newTabs.some(function (newTab) {\n            return newTab === tab;\n          });\n        }).forEach(function (tab) {\n          return tab && tab.dispose();\n        });\n      }\n    });\n    this.selectedIndex = ko.computed({\n      read: function () {\n        var newTabs = _this.accordionDataSource();\n\n        var theSameTab = newTabs.filter(function (tab) {\n          return tab.category === _this.currentTab() && tab.visible();\n        })[0];\n\n        if (!theSameTab) {\n          theSameTab = newTabs.filter(function (tab) {\n            return !tab.headerTemplate && tab.visible();\n          })[0];\n          theSameTab = theSameTab || newTabs[0];\n        }\n\n        return newTabs.indexOf(theSameTab);\n      },\n      write: function (index) {\n        var newSelectedItem = _this.accordionDataSource()[index];\n\n        if (!!newSelectedItem) {\n          _this.currentTab(newSelectedItem.category);\n        }\n\n        _this.secondaryModel(undefined);\n      }\n    }).extend({\n      notify: 'always',\n      deferred: true\n    });\n    this.secondarySelectedIndex = ko.observable(0);\n\n    this.processDataItemClick = function (data) {\n      var model = data.item;\n\n      if (!_this.mainModel() || !_this.mainModel().data || ko.unwrap(_this.mainModel().data.model) !== model) {\n        data.click(model);\n      } else {\n        _this.mainModel(null);\n      }\n    };\n\n    this._disposables.push(this.mainModel.subscribe(function () {\n      return _this.secondaryModel(null);\n    }, this, 'beforeChange'));\n\n    this._disposables.push(this.mainModel.subscribe(function () {\n      var newValue = _this.mainModel.peek();\n\n      if (newValue && newValue.data && newValue.containingCollection) {\n        _this._disposables.push(newValue.containingCollection.subscribe(function (changes) {\n          changes.forEach(function (arrayChange) {\n            var change = arrayChange;\n\n            if (change.status === 'deleted' && _this.mainModel() && ko.unwrap(_this.mainModel().data.model) === change.value) {\n              _this.mainModel(null);\n            }\n          });\n        }, null, 'arrayChange'));\n      }\n\n      _this.secondaryModel(null);\n    }));\n\n    this._disposables.push(this.secondaryModel.subscribe(function () {\n      return _this.secondarySelectedIndex(0);\n    }, this, 'beforeChange'));\n\n    this._disposables.push(this.secondaryModel.subscribe(function () {\n      var newValue = _this.secondaryModel.peek();\n\n      if (newValue && newValue.data && newValue.containingCollection) {\n        _this._disposables.push(newValue.containingCollection.subscribe(function (changes) {\n          changes.forEach(function (arrayChange) {\n            var change = arrayChange;\n\n            if (change.status === 'deleted' && _this.secondaryModel() && ko.unwrap(_this.secondaryModel().data.model) === change.value) {\n              _this.secondaryModel(null);\n            }\n          });\n        }, null, 'arrayChange'));\n      }\n    }));\n\n    this._disposables.push(this.computator);\n  }\n\n  PropertiesController.prototype.dispose = function () {\n    this.accordionDataSource().forEach(function (tab) {\n      return tab && tab.dispose();\n    });\n\n    this._disposables.forEach(function (d) {\n      d.dispose();\n    });\n\n    this.selectedIndex.dispose();\n  };\n\n  return PropertiesController;\n}();\n\nexports.PropertiesController = PropertiesController;","map":{"version":3,"sources":["/Users/krunalpatel/Downloads/React-Firebase-Auth-master 3/node_modules/devexpress-dashboard/designer/properties-controller/_properties-controller.js"],"names":["Object","defineProperty","exports","value","PropertiesController","ko","require","_accordion_tab_1","_this","_disposables","mainModel","observable","secondaryModel","currentTab","accordionDataSource","secondaryAccordionDataSource","computator","computed","newTabs","oldTabs","data","concat","unwrap","propertiesTabs","forEach","tab","index","orderNo","sort","a","b","length","every","t","AccordionTab","thesame","i","name","grabData","tabsToDispose","filter","some","newTab","dispose","selectedIndex","read","theSameTab","category","visible","headerTemplate","indexOf","write","newSelectedItem","undefined","extend","notify","deferred","secondarySelectedIndex","processDataItemClick","model","item","click","push","subscribe","newValue","peek","containingCollection","changes","arrayChange","change","status","prototype","d"],"mappings":"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","sourcesContent":["/**\r\n* DevExpress Dashboard (_properties-controller.js)\r\n* Version:  22.1.3\r\n* Build date: Jun 13, 2022\r\n* Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n* License: https://www.devexpress.com/Support/EULAs/universal.xml\r\n*/\r\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PropertiesController = void 0;\nvar ko = require(\"knockout\");\nvar _accordion_tab_1 = require(\"./_accordion-tab\");\nvar PropertiesController = (function () {\n    function PropertiesController() {\n        var _this = this;\n        this._disposables = [];\n        this.mainModel = ko.observable();\n        this.secondaryModel = ko.observable();\n        this.currentTab = ko.observable('');\n        this.accordionDataSource = ko.observable([]);\n        this.secondaryAccordionDataSource = ko.observable([]);\n        this.computator = ko.computed(function () {\n            var newTabs = [];\n            var oldTabs = _this.accordionDataSource;\n            if (_this.secondaryModel() && _this.secondaryModel().data) {\n                newTabs = newTabs.concat(ko.unwrap(_this.secondaryModel().data.propertiesTabs));\n                oldTabs = _this.secondaryAccordionDataSource;\n            }\n            else if (_this.mainModel() && _this.mainModel().data) {\n                newTabs = newTabs.concat(ko.unwrap(_this.mainModel().data.propertiesTabs));\n            }\n            newTabs.forEach(function (tab, index) { if (!tab.orderNo)\n                tab.orderNo = 100 + index; });\n            newTabs = newTabs\n                .sort(function (a, b) { return (a.orderNo) - (b.orderNo); });\n            if ((newTabs.length === oldTabs().length)\n                && newTabs.every(function (t) { return t instanceof _accordion_tab_1.AccordionTab; })\n                && oldTabs().every(function (t) { return t instanceof _accordion_tab_1.AccordionTab; })) {\n                var thesame = true;\n                for (var i = 0; i < newTabs.length; i++) {\n                    thesame = thesame && oldTabs()[i].name === newTabs[i].name;\n                }\n                if (thesame) {\n                    for (var i = 0; i < newTabs.length; i++) {\n                        oldTabs()[i].grabData(newTabs[i]);\n                    }\n                }\n                else {\n                    var tabsToDispose = oldTabs();\n                    oldTabs(newTabs);\n                    tabsToDispose.filter(function (tab) { return !newTabs.some(function (newTab) { return newTab === tab; }); }).forEach(function (tab) { return tab && tab.dispose(); });\n                }\n            }\n            else {\n                var tabsToDispose = oldTabs();\n                oldTabs(newTabs);\n                tabsToDispose.filter(function (tab) { return !newTabs.some(function (newTab) { return newTab === tab; }); }).forEach(function (tab) { return tab && tab.dispose(); });\n            }\n        });\n        this.selectedIndex = ko.computed({\n            read: function () {\n                var newTabs = _this.accordionDataSource();\n                var theSameTab = newTabs.filter(function (tab) { return (tab.category === _this.currentTab()) && tab.visible(); })[0];\n                if (!theSameTab) {\n                    theSameTab = newTabs.filter(function (tab) { return !tab.headerTemplate && tab.visible(); })[0];\n                    theSameTab = theSameTab || newTabs[0];\n                }\n                return newTabs.indexOf(theSameTab);\n            },\n            write: function (index) {\n                var newSelectedItem = _this.accordionDataSource()[index];\n                if (!!newSelectedItem) {\n                    _this.currentTab(newSelectedItem.category);\n                }\n                _this.secondaryModel(undefined);\n            }\n        }).extend({ notify: 'always', deferred: true });\n        this.secondarySelectedIndex = ko.observable(0);\n        this.processDataItemClick = function (data) {\n            var model = data.item;\n            if (!_this.mainModel() || !_this.mainModel().data || ko.unwrap(_this.mainModel().data.model) !== model) {\n                data.click(model);\n            }\n            else {\n                _this.mainModel(null);\n            }\n        };\n        this._disposables.push(this.mainModel.subscribe(function () { return _this.secondaryModel(null); }, this, 'beforeChange'));\n        this._disposables.push(this.mainModel.subscribe(function () {\n            var newValue = _this.mainModel.peek();\n            if (newValue && newValue.data && newValue.containingCollection) {\n                _this._disposables.push(newValue.containingCollection.subscribe(function (changes) {\n                    changes.forEach(function (arrayChange) {\n                        var change = arrayChange;\n                        if (change.status === 'deleted'\n                            && _this.mainModel()\n                            && ko.unwrap(_this.mainModel().data.model) === change.value) {\n                            _this.mainModel(null);\n                        }\n                    });\n                }, null, 'arrayChange'));\n            }\n            _this.secondaryModel(null);\n        }));\n        this._disposables.push(this.secondaryModel.subscribe(function () { return _this.secondarySelectedIndex(0); }, this, 'beforeChange'));\n        this._disposables.push(this.secondaryModel.subscribe(function () {\n            var newValue = _this.secondaryModel.peek();\n            if (newValue && newValue.data && newValue.containingCollection) {\n                _this._disposables.push(newValue.containingCollection.subscribe(function (changes) {\n                    changes.forEach(function (arrayChange) {\n                        var change = arrayChange;\n                        if (change.status === 'deleted'\n                            && _this.secondaryModel()\n                            && ko.unwrap(_this.secondaryModel().data.model) === change.value) {\n                            _this.secondaryModel(null);\n                        }\n                    });\n                }, null, 'arrayChange'));\n            }\n        }));\n        this._disposables.push(this.computator);\n    }\n    PropertiesController.prototype.dispose = function () {\n        this.accordionDataSource().forEach(function (tab) { return tab && tab.dispose(); });\n        this._disposables.forEach(function (d) {\n            d.dispose();\n        });\n        this.selectedIndex.dispose();\n    };\n    return PropertiesController;\n}());\nexports.PropertiesController = PropertiesController;\n"]},"metadata":{},"sourceType":"script"}